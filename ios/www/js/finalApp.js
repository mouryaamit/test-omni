(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var $ = require('../lib/jquery');
    var Backbone = require('../lib/backbone');
    var Wreqr = require('../lib/backbone.wreqr.js');
    var AppRouter = require('./app_router');
    var AppViewCollection = require('./app_view_collection');
    var AppLayoutController = require('./app_layout_controller');
    var dConfig = require('../utils/default_config');
    var gConfig = require('../utils/global_config');
    var Models;
//--------------------------------------------------------------------------

    module.exports = function(){

        var AppActivity = new Backbone.Wreqr.EventAggregator();

        AppActivity.on("appStart", function(){
            gConfig.nextStepAllow = "";
            Models = require('../models/models');
            AppRouter.navigate("#login", dConfig.nonRouteConfig);
        });
        //====================================================
        // Login Screen Activity
        AppActivity.on("login", function(){
            Models = require('../models/models');
            AppRouter.navigate("#login", dConfig.nonRouteConfig);
        });
        // User ID Pass Rules
        AppActivity.on("userIdPassRules", function(){
            var model = Models.getUserIdPassRulesModel();
            model.processRequest();
        });
        // First Time Login
        AppActivity.on("firstTimeLogin", function(){
            gConfig.nextStepAllow = "firstTimeLogin";
            $("input, button, select, a").prop("disabled",false);   //?
            AppRouter.navigate("#first-login", dConfig.nonRouteConfig);
        });
        // MFA
        AppActivity.on("mfa", function(){
            gConfig.nextStepAllow = "mfa";
            $("input, button, select, a").prop("disabled",false);   //?
            AppRouter.navigate("#mfa", dConfig.nonRouteConfig);
        });

        // Do Nothing
        AppActivity.on("doNothing", function(){});


        // Update Customer Accounts
        AppActivity.on("updateCustomerAccs", function(){
            var updateCustModel = Models.getUpdateCustomerEnquiryModel({
                'customerId'        : dConfig.customerId
            });
            updateCustModel.processRequest();
        });

        //====================================================

        // Forgot Password
        AppActivity.on("forgotPassword", function(){
            AppRouter.navigate("#forgot-password", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // Acc Overview Activity
        AppActivity.on("nextAccOverview", function(){
            var custEnqModel = Models.getCustomerEnquiryModel({
                'customerId'        : dConfig.customerId
            });
            custEnqModel.processRequest();
        });
        // Acc Overview Activity
        AppActivity.on("accOverview", function(){
            gConfig.nextStepAllow = "accOverview";
            AppRouter.navigate("#acc-overview", dConfig.nonRouteConfig);
        });
        // Account Details Activity
        AppActivity.on("accDetails", function(){
            AppRouter.navigate("#acc-details", dConfig.nonRouteConfig);
        });
        // Account Details Activity
        AppActivity.on("statements", function(){
            AppRouter.navigate("#statements", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // Funds Transfer
        AppActivity.on("fundsTransfer", function(){
            AppRouter.navigate("#funds-transfer", dConfig.nonRouteConfig);
        });
        // Review Funds Transfer
        AppActivity.on("reviewFundsTransfer", function(){
            AppRouter.navigate("#review-funds-transfer", dConfig.nonRouteConfig);
        });
        // Pending Transfers
        AppActivity.on("pendingTransfer", function(){
            AppRouter.navigate("#pending-transfers", dConfig.nonRouteConfig);
        });
        // Edit Funds Transfer
        AppActivity.on("editFundsTransfer", function(){
            AppRouter.navigate("#edit-funds-transfer", dConfig.nonRouteConfig);
        });
        // Review Edit Funds Transfer
        AppActivity.on("reviewEditFundsTransfer", function(){
            AppRouter.navigate("#review-edit-funds-transfer", dConfig.nonRouteConfig);
        });
        //--------------------------------------------------------------------
        // ********      A C H ***********
        //--------------------------------------------------------------------
        // Ach Batch Summary List
        AppActivity.on("achBatchSummary", function(){
            AppRouter.navigate("#ach-batch-summary", dConfig.nonRouteConfig);
        });
        // Create New Ach Batch
        AppActivity.on("createNewAchBatch", function(){
            AppRouter.navigate("#create-new-ach-batch", dConfig.nonRouteConfig);
        });
        // Edit Ach Batch
        AppActivity.on("editAchBatch", function(){
            AppRouter.navigate("#edit-ach-batch", dConfig.nonRouteConfig);
        });
        // ACH Recipients List
        AppActivity.on("achRecipients", function(){
            AppRouter.navigate("#ach-recipients", dConfig.nonRouteConfig);
        });
        // Add New ACH Recipient
        AppActivity.on("addNewAchRecipient", function(){
            AppRouter.navigate("#add-new-ach-recipient", dConfig.nonRouteConfig);
        });
        // Edit Ach Recipient
        AppActivity.on("editAchRecipient", function(){
            AppRouter.navigate("#edit-ach-recipient", dConfig.nonRouteConfig);
        });
        // ACH Batch Authorization
        AppActivity.on("achBatchAuthorization", function(){
            AppRouter.navigate("#ach-batch-auth", dConfig.nonRouteConfig);
        });
        // ACH File Import
        AppActivity.on("achFileImport", function(){
            AppRouter.navigate("#ach-file-import", dConfig.nonRouteConfig);
        });
        // ACH File Import Authorization
        AppActivity.on("achFileImportAuth", function(){
            AppRouter.navigate("#ach-file-import-auth", dConfig.nonRouteConfig);
        });
        // ACH File Batch Authorization
        AppActivity.on("fileBatchAuth", function(){
            AppRouter.navigate("#file-batch-auth", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // ********   Wire Transfer   ***********
        //--------------------------------------------------------------------
        // Beneficiary Registration
        AppActivity.on("registerBeneficiary", function(){
            AppRouter.navigate("#register-beneficiary", dConfig.nonRouteConfig);
        });
        // Beneficiary Registration
        AppActivity.on("confirmBeneficiaryRegistration", function(){
            AppRouter.navigate("#confirm-register-beneficiary", dConfig.nonRouteConfig);
        });
        // List Registered Beneficiary
        AppActivity.on("listRegisteredBeneficiary", function(){
            AppRouter.navigate("#list-registered-beneficiary", dConfig.nonRouteConfig);
        });
        // Edit Registered Beneficiary
        AppActivity.on("editRegisteredBeneficiary", function(){
            AppRouter.navigate("#edit-registered-beneficiary", dConfig.nonRouteConfig);
        });
        // Wire Transfer Request
        AppActivity.on("wireTransferRequest", function(){
            AppRouter.navigate("#wire-transfer-request", dConfig.nonRouteConfig);
        });
        // Wire Transfer Request Success
        AppActivity.on("wireTransferRequestSuccess", function(){
            AppRouter.navigate("#wire-transfer-request-success", dConfig.nonRouteConfig);
        });
        // Wire Transfer Authorization
        AppActivity.on("wireTransferAuth", function(){
            AppRouter.navigate("#wire-transfer-auth", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // User Management
        //--------------------------------------------------------------------
        AppActivity.on("users", function(){
            AppRouter.navigate("#users", dConfig.nonRouteConfig);
        });
        AppActivity.on("createNewUsers", function(){
            AppRouter.navigate("#create-new-user", dConfig.nonRouteConfig);
        });
        AppActivity.on("editUser", function(){
            AppRouter.navigate("#edit-user", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // ********     Service Requests
        //--------------------------------------------------------------------
        // Change Password
        AppActivity.on("changePassword", function(){
            gConfig.nextStepAllow = "changePassword";
            AppRouter.navigate("#change-password", dConfig.nonRouteConfig);
        });
        AppActivity.on("orderChecks", function(){
            AppRouter.navigate("#order-checks", dConfig.nonRouteConfig);
        });
        AppActivity.on("stopPayment", function(){
            AppRouter.navigate("#stop-payment", dConfig.nonRouteConfig);
        });
        AppActivity.on("stopPaymentList", function(){
            AppRouter.navigate("#stop-payment-list", dConfig.nonRouteConfig);
        });
        AppActivity.on("viewAlerts", function(){
            AppRouter.navigate("#view-alerts", dConfig.nonRouteConfig);
        });
        AppActivity.on("editAlert", function(){
            AppRouter.navigate("#edit-alerts", dConfig.nonRouteConfig);
        });
        AppActivity.on("viewReminders", function(){
            AppRouter.navigate("#view-reminders", dConfig.nonRouteConfig);
        });
        AppActivity.on("editReminder", function(){
            AppRouter.navigate("#edit-reminders", dConfig.nonRouteConfig);
        });
        // E-Mails
        AppActivity.on("inbox", function(){
            AppRouter.navigate("#inbox", dConfig.routeConfig);
        });
        AppActivity.on("viewMail", function(){
            AppRouter.navigate("#view-email", dConfig.routeConfig);
        });

        //--------------------------------------------------------------------
        // ********     Calculators
        //--------------------------------------------------------------------
        // Change Password
        AppActivity.on("savingsCalculator", function(){
            AppRouter.navigate("#savings-calculator", dConfig.nonRouteConfig);
        });
        AppActivity.on("laonCalculator", function(){
            AppRouter.navigate("#loan-calculator", dConfig.nonRouteConfig);
        });
        AppActivity.on("bondCalculator", function(){
            AppRouter.navigate("#bond-calculator", dConfig.nonRouteConfig);
        });

        //--------------------------------------------------------------------
        // LOGOUT
        AppActivity.on("logout", function(){
            var Utils = require("../utils/utils");
            Utils.logout();
        });


        //============== App Layout Changed ==================================
        AppActivity.on("appShapeChanged", function(){
            AppLayoutController.viewLayout.trigger(AppViewCollection.current_trigger);
        });

        return AppActivity;
    }();


})();


},{"../lib/backbone":17,"../lib/backbone.wreqr.js":19,"../lib/jquery":57,"../models/models":66,"../utils/default_config":68,"../utils/global_config":69,"../utils/utils":74,"./app_layout_controller":6,"./app_router":10,"./app_view_collection":11}],2:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        /*if(MobileUtils.isMobileDevice()){
            urlLinkPre = "https://testomni.vsoft.co.in";
        }else{
            urlLinkPre = BankConfig.bankServerUrl;
        }*/

        var rootUrl = BrandConfig.bankServerUrl;

        var appApiUrl = {

            //----- Login Procedure

            'csrfInit'              : ''+rootUrl+'init',
            'languageList'          : ''+rootUrl+'list/language',
            //----- Login Procedure
            'login'                 : ''+rootUrl+'login',
            'logout'                : ''+rootUrl+'logout',
            'userIdPassRules'       : ''+rootUrl+'show/policy',

            'firstLoginChange'      : ''+rootUrl+'first/change',
            'mfaSecurityQ'          : ''+rootUrl+'mfa/question',
            'mfaAnswer'             : ''+rootUrl+'verify/mfa',

            //-----------
            'listSecurityQ'         : ''+rootUrl+'list/security/question',
            'selectedSecurityQ'     : ''+rootUrl+'user/all/security/question',
            'validateUserId'        : ''+rootUrl+'user/security/question',
            'validateSecurityQ'     : ''+rootUrl+'verify/security/question',

            //********  Service Requests **********
            'changePassword'        : ''+rootUrl+'change/password',
            'changeSecurityQ'       : ''+rootUrl+'change/security/question',
            'changePersonalDetails' : ''+rootUrl+'change/personal/info',
            'orderChecks'           : ''+rootUrl+'order/check',
            'stopPayment'           : ''+rootUrl+'stop/payment',
            'stopPaymentList'       : ''+rootUrl+'list/stop/payment',
            'sessionsReport'        : ''+rootUrl+'session/report',
            'sessionsReportDownload': ''+rootUrl+'session/report/download',
            'addAlert'              : ''+rootUrl+'add/alert',
            'editAlert'             : ''+rootUrl+'edit/alert',
            'alertsList'            : ''+rootUrl+'list/alert',
            'deleteAlert'           : ''+rootUrl+'delete/alert',
            'addReminder'              : ''+rootUrl+'add/reminder',
            'editReminder'             : ''+rootUrl+'edit/reminder',
            'remindersList'            : ''+rootUrl+'list/reminder',
            'deleteReminder'           : ''+rootUrl+'delete/reminder',
            //----   E Mails ---
            'sendMail'                  : ''+rootUrl+'send/mail',
            'replyMail'                 : ''+rootUrl+'reply/message',
            'inboxMsgs'                 : ''+rootUrl+'mail/inbox',
            'mailRead'                  : ''+rootUrl+'read/message',
            'sentMsgs'                  : ''+rootUrl+'mail/sent',
            'trashMsgs'                 : ''+rootUrl+'mail/trash',
            'deleteMsg'                 : ''+rootUrl+'trash/message',
            'deleteTrashMsg'            : ''+rootUrl+'delete/trash',

        //********  Transaction History **********
            'customerEnquiry'       : ''+rootUrl+'customer/inquiry',
            'accountEnquiry'        : ''+rootUrl+'account/inquiry',
            'transactionEnquiry'    : ''+rootUrl+'transaction/inquiry',
            'transactionEnquiryDownload' : ''+rootUrl+'transaction/inquiry/download',

        //********  Funds Transfer **********
            'fundsTransfer'         : ''+rootUrl+'funds/transfer',
            'pendingTransfer'       : ''+rootUrl+'pending/transfer',
            'deletePendingTransfer' : ''+rootUrl+'delete/funds/transfer',
            'editFundsTransfer'     : ''+rootUrl+'edit/funds/transfer',

            'payVeris'              : ''+rootUrl+'payveris/session',

        //********  ACH Transfer **********
            'listAllAchBatch'           : ''+rootUrl+'list/batch',
            'listPendingAchBatch'       : ''+rootUrl+'list/pending/batch',
            'listEditableAchBatch'      : ''+rootUrl+'list/editable/batch',
            'createAchBatch'            : ''+rootUrl+'create/batch',
            'editAchBatch'              : ''+rootUrl+'update/batch',
            'deleteAchBatch'            : ''+rootUrl+'remove/batch',

            'listAchBatchRecipients'    : ''+rootUrl+'batch/recipient',
            'createAchBatchRecipient'   : ''+rootUrl+'create/recipient',
            'editAchRecipient'          : ''+rootUrl+'update/recipient',
            'deleteAchBatchRecipient'   : ''+rootUrl+'remove/recipient',

            'routingNo'                 : ''+rootUrl+'routing/number',

            'approveAchBatch'           : ''+rootUrl+'approve/batch',
            'declineAchBatch'           : ''+rootUrl+'decline/batch',

            'includeRecipient'          : ''+rootUrl+'include/recipient',
            'excludeRecipient'          : ''+rootUrl+'exclude/recipient',

            'achFileImportAuth'         : ''+rootUrl+'ach/list',
            'processAchFileImportAuth'  : ''+rootUrl+'ach/batch/process',
            'deleteAchFileImportAuth'   : ''+rootUrl+'ach/batch/remove',
            'listAchFileBatch'          : ''+rootUrl+'file/batch',

        //********  Wire Transfer **********
            'registerBeneficiary'       : ''+rootUrl+'add/beneficiary',
            'editRegisteredBeneficiary' : ''+rootUrl+'edit/beneficiary',
            'listRegisteredBeneficiaries': ''+rootUrl+'list/beneficiary',
            'deleteBeneficiary'         : ''+rootUrl+'delete/beneficiary',
            'wireTransferRequest'       : ''+rootUrl+'add/wire/transfer',
            'wireTransferReqList'       : ''+rootUrl+'list/wire/transfer',
            'processWireTransfer'       : ''+rootUrl+'authorize/wire/transfer',
            'deleteWireTransfer'        : ''+rootUrl+'delete/wire/transfer',

        //********  User Management **********
            'listUsers'                 : ''+rootUrl+'supervisor/list/user',
            'userNameAvail'             : ''+rootUrl+'check/availability',
            'createNewUser'             : ''+rootUrl+'supervisor/add/user',
            'resetUser'                 : ''+rootUrl+'supervisor/unlock/user',
            'deleteUser'                : ''+rootUrl+'supervisor/delete/user',

            'editAccessToAcc'           : ''+rootUrl+'supervisor/edit/account/access',
            'editAccessToPages'         : ''+rootUrl+'supervisor/edit/user/views',
            'editAccessToTransLimits'   : ''+rootUrl+'supervisor/edit/limits',
            'editAccessToSecQ'          : ''+rootUrl+'supervisor/change/question',

        //******** Calculators **********
            'bondCalc'                  : ''+rootUrl+'bond/calculate',

        //******** Statements  **********
            'statements'                  : ''+rootUrl+'statement/download',

        //******** Statements  **********
            'checkImage'                  : ''+rootUrl+'check/image',
            'statementFile'               : ''+rootUrl+'statement/file',

        //******** Keep Alive  **********
            'keepAlive'                  : ''+rootUrl+'keep/alive',

        //******** Page Hits  **********
            'pageHits'                      : ''+rootUrl+'page/hit',


        //-----   ADD User  -------------------------------------
            'addUser'                   : ''+rootUrl+'add/user'
        };

        return appApiUrl;

    }();

})();
},{}],3:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var AppViewCollection = require('./app_view_collection');
//--------------------------------------------------------------------------
    //  Views
    var HeaderView = require('../../views/header/header_view');
    var FooterView = require('../../views/footer/footer_view');
    var SidebarMenuView = require('../../views/sidebar_menu/sidebar_menu_view');
//--------------------------------------------------------------------------

    module.exports = function(){

        var AppComponent = {};

        AppComponent.Header = function(){

            var headerView = (HeaderView)();
            AppViewCollection.header_view = headerView;

            return headerView;
        };

        AppComponent.Footer = function(){

            var footerView = (FooterView)();
            AppViewCollection.footer_view = footerView;

            return footerView;
        };

        AppComponent.SideBar = function(){
            var sidebarMenuView = (SidebarMenuView)();
            AppViewCollection.sidebar_menu_view = sidebarMenuView;

            return sidebarMenuView;
        };

        return AppComponent;

    }();




})();


},{"../../views/footer/footer_view":107,"../../views/header/header_view":109,"../../views/sidebar_menu/sidebar_menu_view":138,"./app_view_collection":11}],4:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        //----------------- Library Files ---------------------------------------------------------
        var Enquire = require("../lib/enquire");
        //--------------------------------------------------------------------------


        var deviceOrientation = {

            init: function(){
                var AppActivity = require('./app_activity');
                //var MobileLayout = require("./app_layouts/mobile_layout");
                //var TabletLayout = require("./app_layouts/tablet_layout");
                //var DesktopLayout = require("./app_layouts/desktop_layout");
                var LgDeskLayout = require("./app_layouts/lg_desk_layout");
                var that = this;

                /*Enquire.register("screen and (max-width: 768px)", {

                    // OPTIONAL
                    // If supplied, triggered when a media query matches.
                    match : function() {
//                        console.log("Mobile Layout Matched");
//                        that.LayoutSet = MobileLayout();
//                        AppActivity.trigger("appShapeChanged");
                    },

                    // OPTIONAL
                    // If supplied, triggered when the media query transitions
                    // *from a matched state to an unmatched state*.
                    unmatch : function() {

                    },

                    // OPTIONAL
                    // If supplied, triggered once, when the handler is registered.
                    setup : function() {
                        that.LayoutSet = MobileLayout();
                        console.log(" Mobile Layout Setup");

                    },

                    // OPTIONAL, defaults to false
                    // If set to true, defers execution of the setup function
                    // until the first time the media query is matched
                    deferSetup : false,

                    // OPTIONAL
                    // If supplied, triggered when handler is unregistered.
                    // Place cleanup code here
                    destroy : function() {
                        console.log("Destroy");
                    }

                });
                Enquire.register("screen and (min-width:768px)", {

                    // OPTIONAL
                    // If supplied, triggered when a media query matches.
                    match : function() {
//                        console.log("Tablet Matched");
//                        that.LayoutSet = TabletLayout();
//                        AppActivity.trigger("appShapeChanged");
                    },

                    // OPTIONAL
                    // If supplied, triggered when the media query transitions
                    // *from a matched state to an unmatched state*.
                    unmatch : function() {

                    },

                    // OPTIONAL
                    // If supplied, triggered once, when the handler is registered.
                    setup : function() {
                        that.LayoutSet = TabletLayout();
                        console.log("Tablet Setup");

                    },

                    // OPTIONAL, defaults to false
                    // If set to true, defers execution of the setup function
                    // until the first time the media query is matched
                    deferSetup : false,

                    // OPTIONAL
                    // If supplied, triggered when handler is unregistered.
                    // Place cleanup code here
                    destroy : function() {
                        console.log("Destroy");
                    }

                });
                Enquire.register("screen and (min-width:992px)", {

                    // OPTIONAL
                    // If supplied, triggered when a media query matches.
                    match : function() {
//                        console.log("Desktop Matched");
//                        that.LayoutSet = DesktopLayout();
//                        AppActivity.trigger("appShapeChanged");
                    },

                    // OPTIONAL
                    // If supplied, triggered when the media query transitions
                    // *from a matched state to an unmatched state*.
                    unmatch : function() {

                    },

                    // OPTIONAL
                    // If supplied, triggered once, when the handler is registered.
                    setup : function() {
                        that.LayoutSet = DesktopLayout();
                        console.log("Desktop Setup");
                    },

                    // OPTIONAL, defaults to false
                    // If set to true, defers execution of the setup function
                    // until the first time the media query is matched
                    deferSetup : false,

                    // OPTIONAL
                    // If supplied, triggered when handler is unregistered.
                    // Place cleanup code here
                    destroy : function() {
                        console.log("Destroy");
                    }

                });*/
                Enquire.register("screen and (min-width:1200px)", {

                    // OPTIONAL
                    // If supplied, triggered when a media query matches.
                    match : function() {
//                        console.log("LG Desktop Matched");
//                        that.LayoutSet = LgDeskLayout();
//                        AppActivity.trigger("appShapeChanged");
                    },

                    // OPTIONAL
                    // If supplied, triggered when the media query transitions
                    // *from a matched state to an unmatched state*.
                    unmatch : function() {

                    },

                    // OPTIONAL
                    // If supplied, triggered once, when the handler is registered.
                    setup : function() {
                        console.log("Lg Desk Setup");
                        that.LayoutSet = LgDeskLayout();
                    },

                    // OPTIONAL, defaults to false
                    // If set to true, defers execution of the setup function
                    // until the first time the media query is matched
                    deferSetup : false,

                    // OPTIONAL
                    // If supplied, triggered when handler is unregistered.
                    // Place cleanup code here
                    destroy : function() {
                        console.log("Destroy");
                    }

                });
            },

            getDeviceLayout: function(){
                return this.LayoutSet;
            }


        };

        return deviceOrientation;

    }();


})();


},{"../lib/enquire":26,"./app_activity":1,"./app_layouts/lg_desk_layout":8}],5:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var $ = require('../lib/jquery');
    var Backbone = require('../lib/backbone');
    var Wreqr = require('../lib/backbone.wreqr.js');
    var dConfig = require('../utils/default_config');
    var gConfig = require('../utils/global_config');
//--------------------------------------------------------------------------

    module.exports = function(){

        var AppIWatchActivity = new Backbone.Wreqr.EventAggregator();

        AppIWatchActivity.on("init", function(){

        });
        AppIWatchActivity.on("sendDataToIWatch", function(data){
            console.log(data);
            window.iWatchData = data;
            if(typeof applewatch != "undefined")
                applewatch.sendMessage(data , "sendToWatchData", function(){console.log("data sent success");}, function(){console.log("data send failed");});
        });




        return AppIWatchActivity;
    }();


})();


},{"../lib/backbone":17,"../lib/backbone.wreqr.js":19,"../lib/jquery":57,"../utils/default_config":68,"../utils/global_config":69}],6:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var Backbone = require('../lib/backbone');
    var Wreqr = require('../lib/backbone.wreqr.js');
    var AppDeviceSetup = require('./app_device_setup');


    module.exports = function(){

        var deviceController = {};

//******************  Layout Trigger Event *******************

        deviceController.viewLayout = new Backbone.Wreqr.EventAggregator();

        deviceController.viewLayout.on("login", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.loginLayout();
        });
        deviceController.viewLayout.on("firstLogin", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.firstLoginLayout();
        });
        deviceController.viewLayout.on("mfa", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.mfaLayout();
        });

        //--------------
        deviceController.viewLayout.on("forgotPassword", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.forgotPasswordLayout();
        });

        //--------------------------------------------------------------------
        //   Service Requests
        //--------------------------------------------------------------------
        deviceController.viewLayout.on("changePassword", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.changePasswordLayout();
        });
        deviceController.viewLayout.on("changeSecurityQ", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.changeSecurityQLayout();
        });
        deviceController.viewLayout.on("changeDetails", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.changeDetailsLayout();
        });
        deviceController.viewLayout.on("orderChecks", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.orderChecksLayout();
        });
        deviceController.viewLayout.on("stopPayment", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.stopPaymentLayout();
        });
        deviceController.viewLayout.on("stopPaymentList", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.stopPaymentListLayout();
        });
        deviceController.viewLayout.on("sessionsReport", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.sessionsReportLayout();
        });
        deviceController.viewLayout.on("setupAlerts", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.setupAlertsLayout();
        });
        deviceController.viewLayout.on("viewAlerts", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.viewAlertsLayout();
        });
        deviceController.viewLayout.on("editAlerts", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editAlertsLayout();
        });
        deviceController.viewLayout.on("setupReminders", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.setupRemindersLayout();
        });
        deviceController.viewLayout.on("viewReminders", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.viewRemindersLayout();
        });
        deviceController.viewLayout.on("editReminders", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editRemindersLayout();
        });
        // ----------  E - Mails
        deviceController.viewLayout.on("sendEmail", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.sendEmailLayout();
        });
        deviceController.viewLayout.on("viewEmail", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.viewEmailLayout();
        });
        deviceController.viewLayout.on("inbox", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.inboxLayout();
        });
        deviceController.viewLayout.on("sent", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.sentLayout();
        });
        deviceController.viewLayout.on("trash", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.trashLayout();
        });

        //--------------------------------------------------------------------
        deviceController.viewLayout.on("accOverview", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.accOverviewLayout();
        });

        deviceController.viewLayout.on("accDetails", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.accDetailsViewLayout();
        });

        deviceController.viewLayout.on("statements", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.statementsViewLayout();
        });
        //--------------------------------------------------------------------
        //   Funds Transfers
        //--------------------------------------------------------------------
        deviceController.viewLayout.on("fundsTransfer", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.fundsTransferViewLayout();
        });

        deviceController.viewLayout.on("reviewFundsTransfer", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.reviewFundsTransferViewLayout();
        });

        deviceController.viewLayout.on("pendingTransfers", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.pendingTransfersViewLayout();
        });
        deviceController.viewLayout.on("editFundsTransfer", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editFundsTransferViewLayout();
        });
        deviceController.viewLayout.on("reviewEditFundsTransfer", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.reviewEditFundsTransferViewLayout();
        });
        deviceController.viewLayout.on("billPay", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.billPayViewLayout();
        });
        //--------------------------------------------------------------------
        //   ACH Transfers
        //--------------------------------------------------------------------
        deviceController.viewLayout.on("achBatchSummary", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achBatchSummaryViewLayout();
        });

        deviceController.viewLayout.on("createNewAchBatch", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.createNewAchBatchViewLayout();
        });

        deviceController.viewLayout.on("editAchBatch", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editAchBatchViewLayout();
        });

        deviceController.viewLayout.on("achRecipients", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achRecipientsViewLayout();
        });

        deviceController.viewLayout.on("addNewAchRecipient", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.addNewAchRecipientViewLayout();
        });

        deviceController.viewLayout.on("editAchRecipient", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editAchRecipientViewLayout();
        });

        deviceController.viewLayout.on("achBatchAuth", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achBatchAuthViewLayout();
        });

        deviceController.viewLayout.on("achFileImport", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achFileImportViewLayout();
        });

        deviceController.viewLayout.on("achFileImportAuth", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achFileImportAuthViewLayout();
        });

        deviceController.viewLayout.on("achFileBatchAuth", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.achFileBatchAuthViewLayout();
        });

        //--------------------------------------------------------------------
        //   Wire Transfers
        //--------------------------------------------------------------------
        deviceController.viewLayout.on("beneficiaryReg", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.beneficiaryRegViewLayout();
        });

        deviceController.viewLayout.on("confirmBeneficiaryReg", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.confirmBeneficiaryRegViewLayout();
        });

        deviceController.viewLayout.on("listBeneficiaryReg", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.listRegBeneficiaryViewLayout();
        });

        deviceController.viewLayout.on("editRegisteredBeneficiary", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editRegisteredBeneficiaryViewLayout();
        });

        deviceController.viewLayout.on("wireTransferRequest", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.wireTransferRequestViewLayout();
        });

        deviceController.viewLayout.on("wireTransferRequestSuccess", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.wireTransferRequestSuccessViewLayout();
        });

        deviceController.viewLayout.on("wireTransferAuth", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.wireTransferAuthViewLayout();
        });

        //--------------------------------------------------------------------
        //  Calculators
        //--------------------------------------------------------------------

        deviceController.viewLayout.on("savingsCalculator", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.savingsCalcViewLayout();
        });
        deviceController.viewLayout.on("loanCalculator", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.loanCalcViewLayout();
        });
        deviceController.viewLayout.on("bondCalculator", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.bondCalcViewLayout();
        });

        //--------------------------------------------------------------------
        //  User Management
        //--------------------------------------------------------------------

        deviceController.viewLayout.on("users", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.usersViewLayout();
        });
        deviceController.viewLayout.on("createNewUser", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.createNewUserViewLayout();
        });
        deviceController.viewLayout.on("editUser", function(){
            var layoutSet = AppDeviceSetup.getDeviceLayout();
            layoutSet.editUserViewLayout();
        });



        //--------------------------------------------------------------------


        return deviceController;

    }();


})();


},{"../lib/backbone":17,"../lib/backbone.wreqr.js":19,"./app_device_setup":4}],7:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var Backbone = require('../lib/backbone');
    var Marionette = require('../lib/backbone.marionette.js');
//--------------------------------------------------------------------------

    var regionManager = new Marionette.RegionManager();

    module.exports.appRegion = regionManager.addRegions({

        //---------------- App Regions
        AppContentRegion : "#appContent"

    });

    var MobileLayout = Backbone.Marionette.LayoutView.extend({
        template: "#mobileTemplate",

        regions: {
            header: "#mHeader",
            sidebar: "#mSidebar",
            content: "#mContent",
            footer: "#mFooter"
        }
    });

    var TabletLayout = Backbone.Marionette.LayoutView.extend({
        template: "#tabletTemplate",

        regions: {
            header: "#tHeader",
            sidebar: "#tSidebar",
            content: "#tContent",
            footer: "#tFooter",
            tContentOne : "#tContentOne",
            tContentTwo : "#tContentTwo"
        }
    });

    var DesktopLayout = Backbone.Marionette.LayoutView.extend({
        template: "#desktopTemplate",

        regions: {
            header      : "#dHeader",
            sidebar      : "#dSidebar",
            content     : "#dContent",
            contentOne  : "#dContentOne",
            contentTwo  : "#dContentTwo",
            contentThree  : "#dContentThree",
            footer      : "#dFooter"
        }
    });

    var LargeDesktopLayout = Backbone.Marionette.LayoutView.extend({
        template: "#largeDesktopTemplate",

        regions: {
            header      : "#lDHeader",
            sidebar     : "#lDSidebar",
            content     : "#lDContent",
            contentOne  : "#lDContentOne",
            contentTwo  : "#lDContentTwo",
            contentThree: "#lDContentThree",
            footer      : "#lDFooter"
        }
    });

    module.exports.mobileLayout = function(){
        return (new MobileLayout());
    };

    module.exports.tabletLayout = function(){
        return (new TabletLayout());
    };

    module.exports.desktopLayout = function(){
        return (new DesktopLayout());
    };

    module.exports.largeDesktopLayout = function(){
        return (new LargeDesktopLayout());
    };

})();


},{"../lib/backbone":17,"../lib/backbone.marionette.js":18}],8:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        //----------------- Library Files ---------------------------------------------------------
        var LayoutRegion = require("../app_layout_region");
        var Marionette = require('../../lib/backbone.marionette.js');
        var AppViewCollection = require('../app_view_collection');
        var AppComponent = require('../app_component');
        var AppViewInitializer = require('../app_view_initializer');

        var AppContentRegn = LayoutRegion.appRegion.AppContentRegion;


        var LargeDesktopLayoutController = Marionette.Controller.extend({

            initialize: function(){
                var largeDesktopLayout = LayoutRegion.largeDesktopLayout();
                AppContentRegn.reset();
                AppContentRegn.show(largeDesktopLayout);
//                largeDesktopLayout.header.reset();
                largeDesktopLayout.header.show(AppComponent.Header());
                largeDesktopLayout.footer.show(AppComponent.Footer());
                largeDesktopLayout.sidebar.show(AppComponent.SideBar());

                this.contentRegion = largeDesktopLayout.content;
                this.contentOneRegion = largeDesktopLayout.contentOne;
                this.contentTwoRegion = largeDesktopLayout.contentTwo;
                this.contentThreeRegion = largeDesktopLayout.contentThree;
            },

            loginLayout: function(){
                var loginView = AppViewInitializer.loginView();
                AppViewCollection.current_view = loginView;
                this.contentRegion.show(loginView);
            },
            firstLoginLayout: function(){
                var view = AppViewInitializer.firstLoginView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            mfaLayout: function(){
                var view = AppViewInitializer.mfaView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            //---------------
            forgotPasswordLayout: function(){
                var view = AppViewInitializer.forgotPasswordView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            //--------------------------------------------------------------------
            //      Service Requests
            //--------------------------------------------------------------------
            changePasswordLayout: function(){
                var view = AppViewInitializer.changePasswordView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            changeSecurityQLayout: function(){
                var view = AppViewInitializer.changeSecurityQView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            changeDetailsLayout: function(){
                var view = AppViewInitializer.changeDetailsView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            orderChecksLayout: function(){
                var view = AppViewInitializer.orderChecksView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            stopPaymentLayout: function(){
                var view = AppViewInitializer.stopPaymentView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            stopPaymentListLayout: function(){
                var view = AppViewInitializer.stopPaymentListView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            sessionsReportLayout: function(){
                var view = AppViewInitializer.sessionsReportView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            setupAlertsLayout: function(){
                var view = AppViewInitializer.setupAlertsView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            viewAlertsLayout: function(){
                var view = AppViewInitializer.viewAlertsView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            editAlertsLayout: function(){
                var view = AppViewInitializer.editAlertsView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            setupRemindersLayout: function(){
                var view = AppViewInitializer.setupRemindersView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            viewRemindersLayout: function(){
                var view = AppViewInitializer.viewRemindersView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            editRemindersLayout: function(){
                var view = AppViewInitializer.editRemindersView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            // ----------  E - Mails
            sendEmailLayout: function(){
                var view = AppViewInitializer.sendEmailView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            viewEmailLayout: function(){
                var view = AppViewInitializer.viewEmailView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            inboxLayout: function(){
                var view = AppViewInitializer.inboxView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            sentLayout: function(){
                var view = AppViewInitializer.sentView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            trashLayout: function(){
                var view = AppViewInitializer.trashView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            //--------------------------------------------------------------------
            accOverviewLayout: function(){
                var accOverviewView = AppViewInitializer.accOverviewView();
                AppViewCollection.current_view = accOverviewView;
                this.contentRegion.show(accOverviewView);
            },

            accDetailsViewLayout: function(){
                var accDetailsView = AppViewInitializer.accDetailsView();
                AppViewCollection.current_view = accDetailsView;
                this.contentRegion.show(accDetailsView);
            },

            statementsViewLayout: function(){
                var statementsView = AppViewInitializer.statementsView();
                AppViewCollection.current_view = statementsView;
                this.contentRegion.show(statementsView);
            },
            //--------------------------------------------------------------------
            fundsTransferViewLayout: function(){
                var fundsTransferView = AppViewInitializer.fundsTransferView();
                AppViewCollection.current_view = fundsTransferView;
                this.contentRegion.show(fundsTransferView);
            },

            reviewFundsTransferViewLayout: function(){
                var view = AppViewInitializer.reviewFundsTransferView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            pendingTransfersViewLayout: function(){
                var pendingTransfersView = AppViewInitializer.pendingTransfersView();
                AppViewCollection.current_view = pendingTransfersView;
                this.contentRegion.show(pendingTransfersView);
            },
            editFundsTransferViewLayout: function(){
                var view = AppViewInitializer.editFundsTransferView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            reviewEditFundsTransferViewLayout: function(){
                var view = AppViewInitializer.reviewEditFundsTransferView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            billPayViewLayout: function(){
                var view = AppViewInitializer.billPayView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            //--------------------------------------------------------------------
            //   ACH Transfers
            //--------------------------------------------------------------------
            achBatchSummaryViewLayout: function(){
                var view = AppViewInitializer.achBatchSummaryView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            createNewAchBatchViewLayout: function(){
                var view = AppViewInitializer.createNewAchBatchView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            editAchBatchViewLayout: function(){
                var view = AppViewInitializer.editAchBatchView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            achRecipientsViewLayout: function(){
                var view = AppViewInitializer.achRecipientsView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            addNewAchRecipientViewLayout: function(){
                var view = AppViewInitializer.addNewAchRecipientView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            editAchRecipientViewLayout: function(){
                var view = AppViewInitializer.editAchRecipientView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            achBatchAuthViewLayout: function(){
                var view = AppViewInitializer.achBatchAuthView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            achFileImportViewLayout: function(){
                var view = AppViewInitializer.achFileImportView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            achFileImportAuthViewLayout: function(){
                var view = AppViewInitializer.achFileImportAuthView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            achFileBatchAuthViewLayout: function(){
                var view = AppViewInitializer.achFileBatchAuthView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            //--------------------------------------------------------------------
            //   Wire Transfers
            //--------------------------------------------------------------------
            beneficiaryRegViewLayout: function(){
                var view = AppViewInitializer.beneficiaryRegistrationView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            confirmBeneficiaryRegViewLayout: function(){
                var view = AppViewInitializer.confirmBeneficiaryRegistrationView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            listRegBeneficiaryViewLayout: function(){
                var view = AppViewInitializer.listBeneficiaryRegisteredView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            editRegisteredBeneficiaryViewLayout: function(){
                var view = AppViewInitializer.editRegisteredBeneficiaryView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            wireTransferRequestViewLayout: function(){
                var view = AppViewInitializer.wireTransferRequestView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            wireTransferRequestSuccessViewLayout: function(){
                var view = AppViewInitializer.wireTransferRequestSuccessView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            wireTransferAuthViewLayout: function(){
                var view = AppViewInitializer.wireTransferAuthView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            //--------------------------------------------------------------------
            //   Calculators
            //--------------------------------------------------------------------
            savingsCalcViewLayout: function(){
                var view = AppViewInitializer.savingsCalcView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            loanCalcViewLayout: function(){
                var view = AppViewInitializer.loanCalcView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },
            bondCalcViewLayout: function(){
                var view = AppViewInitializer.bondCalcView();
                AppViewCollection.current_view = view;
                this.contentRegion.show(view);
            },

            //-----------------
            //------ User Management ----
            usersViewLayout: function(){
                var view = AppViewInitializer.usersView();
                this.contentRegion.show(view);
                AppViewCollection.current_view = view;
            },
            createNewUserViewLayout: function(){
                var view = AppViewInitializer.createNewUserView();
                this.contentRegion.show(view);
                AppViewCollection.current_view = view;
            },
            editUserViewLayout: function(){
                var view = AppViewInitializer.editUserView();
                this.contentRegion.show(view);
                AppViewCollection.current_view = view;
            }


            //-----------------

            //---------------------------------------------------------------------

        });

        var getLayout = function(){
            return new LargeDesktopLayoutController();
        };

        return getLayout;

    }();
})();

},{"../../lib/backbone.marionette.js":18,"../app_component":3,"../app_layout_region":7,"../app_view_collection":11,"../app_view_initializer":12}],9:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var Moment = require('../lib/moment');
        var AppActivity = require('../app/app_activity');
        var AppIWatchActivity = require('../app/app_iwatch_activity');
        var AppViewCollection = require('../app/app_view_collection');
        var NotyMsg = require('../utils/noty_msg');

        var gConfig = require('../utils/global_config');
        var dConfig = require('../utils/default_config');
        var Utils = require('../utils/utils');
        var Models;

        var AppNextStep = {

            login: function (response) {
                Models = require('../models/models');
                /*var userColl = [
                 {
                 username: 'vsoft',
                 password: 'password!23',
                 customerId: '1404909699768'
                 },
                 {
                 username: 'vsoft1',
                 password: 'password!23',
                 customerId: '1419746845800'
                 },
                 {
                 username: 'vsoft2',
                 password: 'password!23',
                 customerId: '1419749124278'
                 },
                 {
                 username: 'vsoft3',
                 password: 'password!23',
                 customerId: '1419746442156'
                 },
                 {
                 username: 'vsoft4',
                 password: 'password!23',
                 customerId: '1419759696291'
                 },
                 {
                 username: 'vsoft5',
                 password: 'password!23',
                 customerId: '1419761665365'
                 },
                 {
                 username: 'vsoft6',
                 password: 'password!23',
                 customerId: '1419762325374'
                 },
                 {
                 username: 'vsoft7',
                 password: 'password!23',
                 customerId: '1419753991503'
                 }
                 ];*/
                dConfig.AppInState = true;
                Utils.sessionTime = response.responseData.sessionValidity;
                Utils.countDownTimer = response.responseData.alertBefore;
                Utils.sessionCheck.startSession();
                dConfig.customerId = response.responseData.customerId;
                dConfig.customerName = response.responseData.customerName;
                dConfig.userId = response.responseData.userName;
                dConfig.lastLogin = response.responseData.lastLogin;
                dConfig.serverUserId = response.responseData.userId;
                dConfig.isSupervisor = response.responseData.isSupervisor;
                dConfig.limitsAvailable = response.responseData.limitsAvailable;
                dConfig.privileges = response.responseData.privileges;
                dConfig.nextStep = response.responseData.nextStep;
                dConfig.disableUserId = response.responseData.disableUserId;

                $("#accountsSideDrop").collapse('show');

                $("#langSelect").html(window.langString);

                AppActivity.trigger("userIdPassRules");
            },
            languageList: function(response){
                window.languageList = response.responseData.languageSelected;
                var langStr = "";
                for(var i = 0;i < window.languageList.length; i++){
                    langStr = langStr + "<option value='"+window.languageList[i]+"'>"+window.languageList[i]+"</option>";
                }
                window.langString = langStr;
            },
            userIdPassRules: function(response){
                gConfig.userInfo.UserIdPassRules = response.responseData;
                AppActivity.trigger(dConfig.nextStep);
            },

            firstLoginChange: function(response){
                NotyMsg.successMsg(response.responseData.message);
                $("input").val("");
                AppActivity.trigger("login");
            },
            mfaSecurityQ: function(response){
                AppViewCollection.mfa_view.renderSecurityQ(response.responseData);
            },
            mfaAnswer: function(response){
                $("input").val("");
                AppActivity.trigger(response.responseData.nextStep);
            },

            customerEnquiry: function (response) {
                var resData = response.responseData;
                var dt = Moment().format("MM/DD/YYYY");
                var tm = Moment().format("HH:mm:ss");
                dConfig.accUpdateDate = Moment().format("DD MMM YYYY");
                dConfig.userInfo = resData;
                dConfig.customerAccounts = resData.customerAccounts;
                dConfig.transferAccounts = resData.customerTransferAccounts;
                dConfig.customerType = resData.customerType;
                dConfig.depositAccounts = [];
                dConfig.saveCheckAccounts = [];
                dConfig.loanAccounts = [];
                dConfig.saveCheckLoanAccounts = [];
                dConfig.saveCheckTransferAccounts = [];
                dConfig.saveCheckLoanTransferAccounts = [];
                var accs = resData.customerAccounts;
                for(var i = 0; i < accs.length; i++){
                    accs[i].date = dt;
                    accs[i].time = tm;

                    if(accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING" || accs[i].accountType == "CD"){
                        dConfig.depositAccounts.push(accs[i]);
                    }
                    if (accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING") {
                        dConfig.saveCheckAccounts.push(accs[i]);
                    }
                    if(accs[i].accountType == "REAL_ESTATE_LOAN" || accs[i].accountType == "INSTALLMENT_LOAN" || accs[i].accountType == "COMMERCIAL_LOAN" || accs[i].accountType == "CONSTRUCTION_LOAN" || accs[i].accountType == "USER_DEFINED_LOAN"){
                        dConfig.loanAccounts.push(accs[i]);
                    }
                    if(accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING" || accs[i].accountType == "REAL_ESTATE_LOAN" || accs[i].accountType == "INSTALLMENT_LOAN" || accs[i].accountType == "COMMERCIAL_LOAN" || accs[i].accountType == "CONSTRUCTION_LOAN" || accs[i].accountType == "USER_DEFINED_LOAN"){
                        dConfig.saveCheckLoanAccounts.push(accs[i]);
                    }
                }
                dConfig.customerAccounts = accs;
                var transferAccs = resData.customerTransferAccounts;
                for(var j = 0; j < transferAccs.length; j++){
                    transferAccs[j].date = dt;
                    transferAccs[j].time = tm;
                    if (transferAccs[j].accountType == "SAVINGS" || transferAccs[j].accountType == "CHECKING") {
                        dConfig.saveCheckTransferAccounts.push(transferAccs[j]);
                    }
                    if(transferAccs[j].accountType == "SAVINGS" || transferAccs[j].accountType == "CHECKING" || transferAccs[j].accountType == "REAL_ESTATE_LOAN" || transferAccs[j].accountType == "INSTALLMENT_LOAN" || transferAccs[j].accountType == "COMMERCIAL_LOAN" || transferAccs[j].accountType == "CONSTRUCTION_LOAN" || transferAccs[j].accountType == "USER_DEFINED_LOAN"){
                        dConfig.saveCheckLoanTransferAccounts.push(transferAccs[j]);
                    }
                }
                $("input, button, select, a").prop("disabled",false);

                this.SendDataForIWatch(accs);
                AppActivity.trigger("accOverview");
                AppViewCollection.header_view.showMenuAfterLogin();
            },
            SendDataForIWatch: function(accounts){
                var watchData = [];
                for(var i = 0; i < accounts.length; i++){
                    var amt;
                    if(accounts[i].accountType == "REAL_ESTATE_LOAN" || accounts[i].accountType == "INSTALLMENT_LOAN" || accounts[i].accountType == "COMMERCIAL_LOAN" || accounts[i].accountType == "CONSTRUCTION_LOAN" || accounts[i].accountType == "USER_DEFINED_LOAN"){
                        amt = Utils.formatAmount(accounts[i].amountPayoff.amount);
                    }else{
                        amt = Utils.formatAmount(((accounts[i].availableBalance.debitOrCredit == 0)? "-":"")+""+accounts[i].availableBalance.amount);
                    }
                    var acc = {
                        "productName" : accounts[i].productName,
                        "accountType" : accounts[i].accountType,
                        "accountNo" : Utils.maskAccount(accounts[i].accountNo),
                        "availableBalance" : amt
                    };
                    watchData.push(acc);
                }
                AppIWatchActivity.trigger("sendDataToIWatch", watchData);
            },
            updateCustomerEnquiry: function (response) {
                var resData = response.responseData;
                var dt = Moment().format("MM/DD/YYYY");
                var tm = Moment().format("HH:mm:ss");
                dConfig.accUpdateDate = Moment().format("DD MMM YYYY");
                dConfig.userInfo = resData;
                dConfig.customerAccounts = resData.customerAccounts;
                dConfig.transferAccounts = resData.customerTransferAccounts;
                dConfig.customerType = resData.customerType;
                dConfig.depositAccounts = [];
                dConfig.saveCheckAccounts = [];
                dConfig.loanAccounts = [];
                dConfig.saveCheckLoanAccounts = [];
                dConfig.saveCheckTransferAccounts = [];
                dConfig.saveCheckLoanTransferAccounts = [];
                var accs = resData.customerAccounts;
                for(var i = 0; i < accs.length; i++){
                    accs[i].date = dt;
                    accs[i].time = tm;

                    if(accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING" || accs[i].accountType == "CD"){
                        dConfig.depositAccounts.push(accs[i]);
                    }
                    if (accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING") {
                        dConfig.saveCheckAccounts.push(accs[i]);
                    }
                    if(accs[i].accountType == "REAL_ESTATE_LOAN" || accs[i].accountType == "INSTALLMENT_LOAN" || accs[i].accountType == "COMMERCIAL_LOAN" || accs[i].accountType == "CONSTRUCTION_LOAN" || accs[i].accountType == "USER_DEFINED_LOAN"){
                        dConfig.loanAccounts.push(accs[i]);
                    }
                    if(accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING" || accs[i].accountType == "REAL_ESTATE_LOAN" || accs[i].accountType == "INSTALLMENT_LOAN" || accs[i].accountType == "COMMERCIAL_LOAN" || accs[i].accountType == "CONSTRUCTION_LOAN" || accs[i].accountType == "USER_DEFINED_LOAN"){
                        dConfig.saveCheckLoanAccounts.push(accs[i]);
                    }
                }
                dConfig.customerAccounts = accs;
                var transferAccs = resData.customerTransferAccounts;
                for(var j = 0; j < transferAccs.length; j++){
                    transferAccs[j].date = dt;
                    transferAccs[j].time = tm;
                    if (transferAccs[j].accountType == "SAVINGS" || transferAccs[j].accountType == "CHECKING") {
                        dConfig.saveCheckTransferAccounts.push(transferAccs[j]);
                    }
                    if(transferAccs[j].accountType == "SAVINGS" || transferAccs[j].accountType == "CHECKING" || transferAccs[j].accountType == "REAL_ESTATE_LOAN" || transferAccs[j].accountType == "INSTALLMENT_LOAN" || transferAccs[j].accountType == "COMMERCIAL_LOAN" || transferAccs[j].accountType == "CONSTRUCTION_LOAN" || transferAccs[j].accountType == "USER_DEFINED_LOAN"){
                        dConfig.saveCheckLoanTransferAccounts.push(transferAccs[j]);
                    }
                }

                this.SendDataForIWatch(accs);
                gConfig.userInfo.nextAction();
            },


            securityQReceived: function(response){
                AppViewCollection.current_view.renderSecurityQuestions(response.responseData);
            },
            selectedSecurityQ: function(response){
                AppViewCollection.current_view.renderSecurityQA(response.responseData);
            },

            validateUserId: function(response){
                AppViewCollection.forgot_password_view.validateUserIdSuccess(response.responseData);
            },
            validateSecurityQ: function(response){
                AppViewCollection.forgot_password_view.validateSecurityQSuccess(response.responseData);
            },
            //===========
            changePassword: function(response){
                NotyMsg.successMsg(response.responseData.message);
                Utils.logout();
            },
            changeSecurityQ: function(response){
                NotyMsg.successMsg(response.responseData.message);
            },
            changePersonalDetails: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger(response.responseData.nextStep);
            },
            orderChecks: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.order_checks_view.resetForm();
            },
            stopPayment: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("stopPaymentList");
            },
            stopPaymentList: function(response){
                AppViewCollection.stop_payment_list_view.renderStopPaymentList(response.responseData);
            },
            sessionsReport: function(response){
                AppViewCollection.sessions_report_view.showResults(response.responseData);
            },
            addAlert: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("viewAlerts");
            },
            editAlert: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("viewAlerts");
            },
            alertsList: function(response){
                AppViewCollection.view_alerts_view.renderAlertsTable(response.responseData);
            },
            deleteAlert: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.view_alerts_view.getAlertsList();
            },
            addReminder: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("viewReminders");
            },
            editReminder: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("viewReminders");
            },
            remindersList: function(response){
                AppViewCollection.view_reminders_view.renderRemindersTable(response.responseData);
            },
            deleteReminder: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.view_reminders_view.getRemindersList();
            },
            //===========
            accountEnquiry: function(response){
                var accData = response.responseData.accountSummaryData, ownerName;
                if(accData.primaryAccountOwner.customer.customerType == "Commercial"){
                    ownerName = accData.primaryAccountOwner.customer.organizationName;
                }else{
                    ownerName = accData.primaryAccountOwner.customer.fullName;
                }
                if(accData.accountCategory == "LOAN"){
                    var loanOverViewData = {
                        'accType'       : accData.accountType,
                        'prodName'      : accData.productTypeName,
                        'owner'         : ownerName,
                        'branch'        : accData.branch.name,
                        'nextDueDate'   : accData.dateNextPayment.date,
                        'curBalance'    : Utils.formatAmount(accData.principleBalance.amount),
                        'loanAmt'       : Utils.formatAmount(accData.loanAmount.amount),
                        'payAmt'        : Utils.formatAmount(accData.amountNextPayment.amount)
                    };
                    var loanDetailData = {
                        'borrowerName'      : ownerName,
                        'annualPercYield'   : accData.annualPercentage,
                        'intRate'           : accData.interestRate,
                        'intPaidYTD'        : Utils.formatAmount(accData.ytdInterest.amount),
                        'intPaidLastYear'   : Utils.formatAmount(accData.previousYtdInterestPaid.amount),
                        'tenure'            : accData.term
                    };
                    AppViewCollection.acc_details_and_history_view.renderLoanAccOverDetails(loanOverViewData);
                    AppViewCollection.acc_details_and_history_view.renderLoanAccDetails(loanDetailData);

                }else if(accData.accountCategory == "DEPOSIT" && accData.accountType == "CD"){
                    var cdOverViewData = {
                        'accType'       : accData.accountType,
                        'prodName'      : accData.productTypeName,
                        'owner'         : ownerName,
                        'branch'        : accData.branch.name,
                        'maturityDate'   : accData.maturityDate.date,
                        'availBalance'    : Utils.formatAmount(accData.availableBalance.amount),
                        'depositAmt'       : Utils.formatAmount(accData.principleBalance.amount),
                        'maturityAmt'        : Utils.formatAmount(accData.amountPayoff.amount)
                    };
                    var cdDetailData = {
                        'annualPercYield'   : accData.annualPercentage,
                        'intRate'           : accData.interestRate,
                        'intPaidYTD'        : Utils.formatAmount(accData.ytdInterest.amount),
                        'intPaidLastYear'   : Utils.formatAmount(accData.previousYtdInterestPaid.amount),
                        'tenure'            : accData.term
                    };
                    AppViewCollection.acc_details_and_history_view.renderCDAccOverDetails(cdOverViewData);
                    AppViewCollection.acc_details_and_history_view.renderCDAccDetails(cdDetailData);

                }else{
                    var depOverViewData = {
                        'accType'       : accData.accountType,
                        'prodName'      : accData.productTypeName,
                        'owner'         : ownerName,
                        'branch'        : accData.branch.name,
                        'availBalance'  : Utils.formatAmount(accData.availableBalance.amount),
                        'ledgBalance'   : Utils.formatAmount(accData.ledgerBalance.amount)
                    };
                    var depDetailData = {
                        'annualPercYield'   : accData.annualPercentage,
                        'intRate'           : accData.interestRate,
                        'intPaidLastYear'   : Utils.formatAmount(accData.previousYtdInterestPaid.amount),
                        'stateDate'         : accData.statementDate.date
                    };
                    AppViewCollection.acc_details_and_history_view.renderDepositAccOverDetails(depOverViewData);
                    AppViewCollection.acc_details_and_history_view.renderDepositAccDetails(depDetailData);

                }
            },

            transactionEnquiry: function(response){
                var responseData = response.responseData.transactionsData,
                    tableData = [];
                for(var i = 0; i < responseData.length; i++){
                    var checkNo = responseData[i].checkNumber;
                    var checkView = "";
                    if(checkNo.length > 0){
                        checkView = "<span class='showCheck pointerCursor text-info' data-checkno='"+responseData[i].checkNumber+"' " +
                            " data-date='"+responseData[i].postedDate.date+"' >View</span>";
                    }else{
                        checkView = "";
                    }

                    tableData.push({
                        '0': "",
                        '1': responseData[i].postedDate.date,
                        '2': responseData[i].description,
                        '3': responseData[i].checkNumber+" "+ checkView +"",
                        '4': "<span class='greenT'>"+((parseInt(responseData[i].currentAmount) > 0)? Utils.formatAmount(responseData[i].currentAmount) : "")+"</span>",
                        '5': "<span>"+((parseInt(responseData[i].currentAmount) < 0)? Utils.formatAmount(Math.abs(responseData[i].currentAmount)) : "")+"</span>",
                        '6': Utils.formatAmount(responseData[i].stmtRunningBal),
                        '7': " - "
                    });
                }
                AppViewCollection.acc_details_and_history_view.renderAccHistory(tableData);
            },

            fundsTransfer: function(response){

                gConfig.userInfo.ReviewFunds = {};
                NotyMsg.successMsg(response.responseData.message);

                window.setTimeout(function(){
                    gConfig.userInfo.nextAction = function(){
                        AppActivity.trigger("fundsTransfer");
                    };
                    AppActivity.trigger("updateCustomerAccs");
                }, 4000);

            },
            pendingTransfer: function(response){
                AppViewCollection.funds_transfer_view.renderPendingTransfer(response.responseData);
            },
            deletePendingTransfer: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.funds_transfer_view.getPendingTransfers();
            },
            editFundsTransfer: function(response){
                gConfig.userInfo.editPendingTransferData = {};
                gConfig.userInfo.ReviewFunds = {};
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("pendingTransfer");
            },

            payVeris: function(response){
                gConfig.userInfo.payVeris = true;
                /*Utils.sessionCheck.stopSession();
                var model = Models.getKeepAliveModel();
                $(window).focus(function() {
                    if(gConfig.userInfo.payVeris) {
                        model.processRequest();
                    }
                });*/
                AppViewCollection.bill_pay_view.renderIFrame(response.responseData);
            },
            keepAlive: function(response){
                $(window).focus("");
                gConfig.userInfo.payVeris = false;
                Utils.sessionCheck.startSession();

            },

            //*****   ACH Transfers  ********
            allAchBatchSummary: function(response){
                AppViewCollection.current_view.renderAllACHBatchSummaryData(response.responseData);
            },
            achBatchSummary: function(response){
                AppViewCollection.current_view.renderACHBatchSummaryData(response.responseData);
            },
            editableAchBatchSummary: function(response){
                AppViewCollection.current_view.renderACHBatchSummaryData(response.responseData);
            },
            achCreateBatch: function(response){
                NotyMsg.successMsg(response.responseData.message);
                $(".clearFields").val("");
                AppActivity.trigger("achBatchSummary");
            },
            editAchBatch: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("achBatchSummary");
            },
            deleteAchBatch: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_batch_summary_view.getAllACHBatchSummaryData();
            },

            listAchBatchRecipients: function(response){
                AppViewCollection.ach_recipients_view.renderRecipientsList(response.responseData);
            },
            createAchBatchRecipients: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("achRecipients");
            },
            editAchRecipient: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("achRecipients");
            },

            deleteAchRecipient: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_recipients_view.refreshRecipients();
            },

            approveAchBatch: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_batch_auth_view.getACHBatchAuthData();
            },
            declineAchBatch: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_batch_auth_view.getACHBatchAuthData();
            },

            routingNo: function(response){
                AppViewCollection.current_view.renderRoutingNo(response.responseData);
            },
            includeRecipient: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_recipients_view.refreshRecipients();
            },
            excludeRecipient: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.ach_recipients_view.refreshRecipients();
            },

            achFileImportAuth: function(response){
                AppViewCollection.ach_file_import_auth_view.renderAuthList(response.responseData);
            },
            processAchFileImportAuth: function(response){
                AppViewCollection.ach_file_batch_auth_view.getFileBatches();
                NotyMsg.successMsg(response.responseData.message);
            },
            deleteAchFileImportAuth: function(response){
                AppViewCollection.ach_file_batch_auth_view.getFileBatches();
                NotyMsg.successMsg(response.responseData.message);
            },
            listFileBatches: function(response){
                dConfig.userInfo.fileBatchSumData = response.responseData;
                AppViewCollection.ach_file_batch_auth_view.renderAccounts();
            },

            //***************************************************************************
            //  Wire Transfer
            // ***************************************************************************
            registerBeneficiary: function(response){
                NotyMsg.successMsg(response.responseData.message);
                gConfig.userInfo.editBeneficiaryRegData = {};
                dConfig.userInfo.beneficiaryRegData = {};
                gConfig.userInfo.specialInstCounter = 0;
                gConfig.userInfo.bankSpecialInstCounter = 0;
                AppActivity.trigger("listRegisteredBeneficiary");
            },
            editRegisteredBeneficiary: function(response){
                NotyMsg.successMsg(response.responseData.message);
                gConfig.userInfo.editRegisteredBenData = {};
                AppActivity.trigger("listRegisteredBeneficiary");
            },
            listRegisteredBeneficiaries: function(response){
                AppViewCollection.current_view.renderBeneficiariesData(response.responseData);
            },
            deleteBeneficiary: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.list_beneficiary_reg_view.getBeneficiaryList();
            },

            wireTransferRequest: function(response){
                $("input").val("");
                dConfig.userInfo.wireTransferReqData.message = response.responseData.message;
                dConfig.userInfo.wireTransferReqData.date = Moment(response.responseData.wireTransfer.createdOn).format("MM/DD/YYYY");
                dConfig.userInfo.wireTransferReqData.time = Moment(response.responseData.wireTransfer.createdOn).format("h:mm a");
                AppActivity.trigger("wireTransferRequestSuccess");
            },
            wireTransferReqList: function(response){
                AppViewCollection.wire_transfer_auth_view.renderWireTransferList(response.responseData);
            },
            processWireTransfer: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.wire_transfer_auth_view.getWireTransferRequestList();
            },
            deleteWireTransfer: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.wire_transfer_auth_view.getWireTransferRequestList();
            },


            // ***************************************************************************
            //  USER MANAGEMENT
            listUsers: function(response){
                AppViewCollection.current_view.renderUsers(response.responseData);
            },
            userNameAvail: function(response){
                AppViewCollection.create_new_user_view.showUserNameAvailMsg(response.responseData);
            },
            createNewUser: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppActivity.trigger("users");
            },
            resetUser: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.users_view.getUserList();
            },
            deleteUser: function(response){
                NotyMsg.successMsg(response.responseData.message);
                AppViewCollection.users_view.getUserList();
            },

            editAccessToAcc: function(response){
                NotyMsg.successMsg(response.responseData.message);
            },
            editAccessToPages: function(response){
                NotyMsg.successMsg(response.responseData.message);
            },
            editAccessToTransLimits: function(response){
                NotyMsg.successMsg(response.responseData.message);
            },
            editAccessToSecQ: function(response){
                NotyMsg.successMsg(response.responseData.message);
            },
            //***************************************************************************
            // Calculators
            bondCalc: function(response){
                AppViewCollection.bond_calc_view.showResults(response.responseData);
            },

            //************  E Mails ********
            sendMail: function (response) {
                NotyMsg.successMsg(response.responseData.message);
                $("input").val("");
                $("textarea").val("");
                AppViewCollection.send_email_view.clearAllFiles();
            },
            replyMail: function (response) {
                NotyMsg.successMsg(response.responseData.message);
                $("input").val("");
                $("textarea").val("");
                AppActivity.trigger("inbox");
            },
            inboxMsgs: function (response) {
                AppViewCollection.inbox_view.renderInboxMsgs(response.responseData);
            },
            mailRead: function (response) {
                AppActivity.trigger("viewMail");
            },
            sentMsgs: function (response) {
                AppViewCollection.sent_view.renderSentMsgs(response.responseData);
            },
            trashMsgs: function (response) {
                AppViewCollection.trash_view.renderTrashMsgs(response.responseData);
            },
            deleteMsg: function (response) {
                AppViewCollection.current_view.getMsgs();
            },
            deleteTrashMsg: function (response) {
                AppViewCollection.trash_view.getMsgs();
            },

            //************ Statements  *************
            statements: function(response){
                AppViewCollection.statements_view.renderStatements(response.responseData);
            },
            statementFile: function(response){
                window.open("/"+response.responseData.filePath+"", "_blank");
            },

            //************ Check Images  *************
            checkImage: function(response){
                AppViewCollection.acc_details_and_history_view.renderCheckImgs(response.responseData);
            },

            //************ Check Images  *************
            pageHits: function(response){
                console.log(response);
            },

            //***************************************************************************
            //***************************************************************************


            addUser: function(response){
                NotyMsg.successMsg(response.responseData.message);
                $("input").val();
            },


            //********  Logout
            logout: function(response){
                AppActivity.trigger("login");
            }


        };

        return AppNextStep;

    }();

})();
},{"../app/app_activity":1,"../app/app_iwatch_activity":5,"../app/app_view_collection":11,"../lib/jquery":57,"../lib/moment":60,"../models/models":66,"../utils/default_config":68,"../utils/global_config":69,"../utils/noty_msg":71,"../utils/utils":74}],10:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var Backbone = require('../lib/backbone');
        var Marionette =require('../lib/backbone.marionette.js');
        var AppViewCollection = require('./app_view_collection');
        var AppLayoutController = require('./app_layout_controller');
        var ViewAccess = require('../utils/view_access');
        var Utils = require('../utils/utils');
        var NotyMsg = require('../utils/noty_msg');
        var dConfig = require('../utils/default_config');
        var gConfig = require('../utils/global_config');

        var AppController = {

            loginRoute: function(){
                AppLayoutController.viewLayout.trigger("login");
                AppViewCollection.current_trigger = "login";
            },
            firstLoginRoute: function(){
                AppLayoutController.viewLayout.trigger("firstLogin");
                AppViewCollection.current_trigger = "firstLogin";
            },
            mfaRoute: function(){
                AppLayoutController.viewLayout.trigger("mfa");
                AppViewCollection.current_trigger = "mfa";
            },

            //-----------
            forgotPasswordRoute: function(){
                AppLayoutController.viewLayout.trigger("forgotPassword");
                AppViewCollection.current_trigger = "forgotPassword";
            },


            // ----------------   Accounts  ********************************************
            accOverviewRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#accOverviewSideItem");
                    AppViewCollection.current_trigger = "accOverview";
                    AppLayoutController.viewLayout.trigger("accOverview");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Accounts Overview', 'Accounts');
            },
            accDetailsRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#accDetailsSideItem");
                    AppViewCollection.current_trigger = "accDetails";
                    AppLayoutController.viewLayout.trigger("accDetails");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Details/History', 'Accounts');
            },
            statementsRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#statementsSideItem");
                    AppViewCollection.current_trigger = "statements";
                    AppLayoutController.viewLayout.trigger("statements");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Statements', 'Accounts');
            },

            // ----------------   Payments  ********************************************
            fundsTransferRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#fundsTransferSideItem");
                    AppViewCollection.current_trigger = "fundsTransfer";
                    AppLayoutController.viewLayout.trigger("fundsTransfer");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Transfer Money', 'Payments');
            },
            reviewFundsTransferRoute:function(){
                if(dConfig.AppInState) {
                    AppViewCollection.current_trigger = "reviewFundsTransfer";
                    AppLayoutController.viewLayout.trigger("reviewFundsTransfer");
                }else{
                    Utils.logout();
                }
            },
            pendingTransfersRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#pendingTransfersSideItem");
                    AppViewCollection.current_trigger = "pendingTransfers";
                    AppLayoutController.viewLayout.trigger("pendingTransfers");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Pending Transfers', 'Payments');
            },
            editFundsTransferRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#pendingTransfersSideItem");
                    AppViewCollection.current_trigger = "editFundsTransfer";
                    AppLayoutController.viewLayout.trigger("editFundsTransfer");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Transfer Money', 'Payments');
            },
            reviewEditFundsTransferRoute:function(){
                if(dConfig.AppInState) {
                    AppViewCollection.current_trigger = "reviewEditFundsTransfer";
                    AppLayoutController.viewLayout.trigger("reviewEditFundsTransfer");
                }else{
                    Utils.logout();
                }
            },
            billPayRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#billPaySideItem");
                    AppViewCollection.current_trigger = "billPay";
                    AppLayoutController.viewLayout.trigger("billPay");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Pay Bills', 'Payments');
            },
            //------------- Payment Wire Transfers
            payRegisterBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#payBeneficiaryRegSideItem");
                    AppViewCollection.current_trigger = "beneficiaryReg";
                    AppLayoutController.viewLayout.trigger("beneficiaryReg");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Register Beneficiaries', 'Wire Transfer');
            },
            payListRegisteredBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#payRegdBeneficiariesSideItem");
                    AppViewCollection.current_trigger = "listBeneficiaryReg";
                    AppLayoutController.viewLayout.trigger("listBeneficiaryReg");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Beneficiaries List', 'Wire Transfer');
            },
            payWireTransferRequestRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#payWireTransReqSideItem");
                    AppViewCollection.current_trigger = "wireTransferRequest";
                    AppLayoutController.viewLayout.trigger("wireTransferRequest");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Wire Transfer Request', 'Wire Transfer');
            },
            payWireTransferAuthorizationRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#payWireTransAuthSideItem");
                    AppViewCollection.current_trigger = "wireTransferAuth";
                    AppLayoutController.viewLayout.trigger("wireTransferAuth");
                }else{
                    Utils.logout();
                }
                this.addPageHit('WireTransfer Authorization', 'Wire Transfer');
            },

            // ----------------   Business Services  ********************************************
            //-------------   ACH Transfers
            achBatchSummaryRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#achBatchSummarySideItem");
                    AppViewCollection.current_trigger = "achBatchSummary";
                    AppLayoutController.viewLayout.trigger("achBatchSummary");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH Summary', 'ACH Transfer');
            },
            createNewAchBatchRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#createNewAchBatchSideItem");
                    AppViewCollection.current_trigger = "createNewAchBatch";
                    AppLayoutController.viewLayout.trigger("createNewAchBatch");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Create New ACH Batch', 'ACH Transfer');
            },
            editAchBatchRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#createNewAchBatchSideItem");
                    AppViewCollection.current_trigger = "editAchBatch";
                    AppLayoutController.viewLayout.trigger("editAchBatch");
                }else{
                    Utils.logout();
                }
            },
            achRecipientsRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#achRecipientsSideItem");
                    AppViewCollection.current_trigger = "achRecipients";
                    AppLayoutController.viewLayout.trigger("achRecipients");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH Recipients', 'ACH Transfer');
            },
            addNewAchRecipientRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#addNewAchRecipientSideItem");
                    AppViewCollection.current_trigger = "addNewAchRecipient";
                    AppLayoutController.viewLayout.trigger("addNewAchRecipient");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Create New ACH Recipient', 'ACH Transfer');
            },
            editAchRecipientRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#addNewAchRecipientSideItem");
                    AppViewCollection.current_trigger = "editAchRecipient";
                    AppLayoutController.viewLayout.trigger("editAchRecipient");
                }else{
                    Utils.logout();
                }
            },
            achBatchAuthRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#achBatchAuthSideItem");
                    AppViewCollection.current_trigger = "achBatchAuth";
                    AppLayoutController.viewLayout.trigger("achBatchAuth");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH Batch Authorization', 'ACH Transfer');
            },
            achFileImportRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#achFileImportSideItem");
                    AppViewCollection.current_trigger = "achFileImport";
                    AppLayoutController.viewLayout.trigger("achFileImport");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH File Import', 'ACH Transfer');
            },
            achFileImportAuthRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#achFileImportAuthSideItem");
                    AppViewCollection.current_trigger = "achFileImportAuth";
                    AppLayoutController.viewLayout.trigger("achFileImportAuth");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH Import Authorization', 'ACH Transfer');
            },
            fileBatchAuthRoute:function(){
                if(dConfig.AppInState){
                    this.updateMenu("#achFileImportAuthSideItem");
                    AppViewCollection.current_trigger = "achFileBatchAuth";
                    AppLayoutController.viewLayout.trigger("achFileBatchAuth");
                }else{
                    Utils.logout();
                }
                this.addPageHit('ACH Import Authorization', 'ACH Transfer');
            },
            //------------- Wire Transfers
            registerBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#beneficiaryRegSideItem");
                    AppViewCollection.current_trigger = "beneficiaryReg";
                    AppLayoutController.viewLayout.trigger("beneficiaryReg");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Register Beneficiaries', 'Wire Transfer');
            },
            confirmRegisterBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    AppViewCollection.current_trigger = "confirmBeneficiaryReg";
                    AppLayoutController.viewLayout.trigger("confirmBeneficiaryReg");
                }else{
                    Utils.logout();
                }
            },
            listRegisteredBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#regdBeneficiariesSideItem");
                    AppViewCollection.current_trigger = "listBeneficiaryReg";
                    AppLayoutController.viewLayout.trigger("listBeneficiaryReg");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Beneficiaries List', 'Wire Transfer');
            },
            editRegisteredBeneficiaryRoute: function(){
                if(dConfig.AppInState){
                    AppViewCollection.current_trigger = "editRegisteredBeneficiary";
                    AppLayoutController.viewLayout.trigger("editRegisteredBeneficiary");
                }else{
                    Utils.logout();
                }
            },
            wireTransferRequestRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#wireTransReqSideItem");
                    AppViewCollection.current_trigger = "wireTransferRequest";
                    AppLayoutController.viewLayout.trigger("wireTransferRequest");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Wire Transfer Request', 'Wire Transfer');
            },
            wireTransferRequestSuccessRoute: function(){
                if(dConfig.AppInState){
                    AppViewCollection.current_trigger = "wireTransferRequestSuccess";
                    AppLayoutController.viewLayout.trigger("wireTransferRequestSuccess");
                }else{
                    Utils.logout();
                }
            },
            wireTransferAuthorizationRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#wireTransAuthSideItem");
                    AppViewCollection.current_trigger = "wireTransferAuth";
                    AppLayoutController.viewLayout.trigger("wireTransferAuth");
                }else{
                    Utils.logout();
                }
                this.addPageHit('WireTransfer Authorization', 'Wire Transfer');
            },
            //-----------------------
            positivePayRoute:function(){
                /*if(dConfig.AppInState) {
                    this.updateMenu("#positivePaySideItem");
                    AppViewCollection.current_trigger = "positivePay";
                    AppLayoutController.viewLayout.trigger("positivePay");
                }else{
                    Utils.logout();
                }*/
            },
            businessBillPayRoute:function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#businessBillPaySideItem");
                    AppViewCollection.current_trigger = "billPay";
                    AppLayoutController.viewLayout.trigger("billPay");
                }else{
                    Utils.logout();
                }
            },

            // ----------------   Other Services  ********************************************
            orderChecksRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#orderChecksSideItem");
                    AppViewCollection.current_trigger = "orderChecks";
                    AppLayoutController.viewLayout.trigger("orderChecks");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Order Checks', 'Other Services');
            },
            stopPaymentRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#stopPaymentSideItem");
                    AppViewCollection.current_trigger = "stopPayment";
                    AppLayoutController.viewLayout.trigger("stopPayment");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Stop Payment', 'Other Services');
            },
            stopPaymentListRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#stopPaymentListSideItem");
                    AppViewCollection.current_trigger = "stopPaymentList";
                    AppLayoutController.viewLayout.trigger("stopPaymentList");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Stop Payment List', 'Other Services');
            },

            // ----------------   My Profile Management  ********************************************
            changePasswordRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#changePasswordSideItem");
                    AppViewCollection.current_trigger = "changePassword";
                    AppLayoutController.viewLayout.trigger("changePassword");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Change Password', 'My Profile Management');
            },
            changeSecurityQRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#changeSecurityQSideItem");
                    AppViewCollection.current_trigger = "changeSecurityQ";
                    AppLayoutController.viewLayout.trigger("changeSecurityQ");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Change Security Question', 'My Profile Management');
            },
            changePersonalDetailsRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#changeDetailsSideItem");
                    AppViewCollection.current_trigger = "changeDetails";
                    AppLayoutController.viewLayout.trigger("changeDetails");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Change Personal Info', 'My Profile Management');
            },
            //  Alerts
            setupAlertsRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#setupAlertsSideItem");
                    AppViewCollection.current_trigger = "setupAlerts";
                    AppLayoutController.viewLayout.trigger("setupAlerts");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Alerts', 'My Profile Management');
            },
            viewAlertsRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#viewAlertsSideItem");
                    AppViewCollection.current_trigger = "viewAlerts";
                    AppLayoutController.viewLayout.trigger("viewAlerts");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Alerts', 'My Profile Management');
            },
            editAlertsRoute: function(){
                if(dConfig.AppInState) {
                    AppViewCollection.current_trigger = "editAlerts";
                    AppLayoutController.viewLayout.trigger("editAlerts");
                }else{
                    Utils.logout();
                }
            },
            //  Reminders
            setupRemindersRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#setupRemindersSideItem");
                    AppViewCollection.current_trigger = "setupReminders";
                    AppLayoutController.viewLayout.trigger("setupReminders");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Reminder', 'My Profile Management');
            },
            viewRemindersRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#viewRemindersSideItem");
                    AppViewCollection.current_trigger = "viewReminders";
                    AppLayoutController.viewLayout.trigger("viewReminders");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Reminder', 'My Profile Management');
            },
            editRemindersRoute: function(){
                if(dConfig.AppInState) {
                    AppViewCollection.current_trigger = "editReminders";
                    AppLayoutController.viewLayout.trigger("editReminders");
                }else{
                    Utils.logout();
                }
            },

            // ----------------  Administrative Tools  ********************************************
            //------------   User Management
            usersRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#usersSideItem");
                    AppViewCollection.current_trigger = "users";
                    AppLayoutController.viewLayout.trigger("users");
                }else{
                    Utils.logout();
                }
                this.addPageHit('User Management', 'Administrative Tools');
            },
            createNewUserRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#createNewUserSideItem");
                    AppViewCollection.current_trigger = "createNewUser";
                    AppLayoutController.viewLayout.trigger("createNewUser");
                }else{
                    Utils.logout();
                }
                this.addPageHit('User Management', 'Administrative Tools');
            },
            editUserRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#usersSideItem");
                    AppViewCollection.current_trigger = "editUser";
                    AppLayoutController.viewLayout.trigger("editUser");
                }else{
                    Utils.logout();
                }
            },
            // Session Reports
            sessionsReportRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#sessionsReportSideItem");
                    AppViewCollection.current_trigger = "sessionsReport";
                    AppLayoutController.viewLayout.trigger("sessionsReport");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Session Report', 'Administrative Tools');
            },
            // E Mails
            sendEmailRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#sendEmailSideItem");
                    AppViewCollection.current_trigger = "sendEmail";
                    AppLayoutController.viewLayout.trigger("sendEmail");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Email', 'Administrative Tools');
            },
            viewEmailRoute: function(){
                if(dConfig.AppInState) {
                    AppViewCollection.current_trigger = "viewEmail";
                    AppLayoutController.viewLayout.trigger("viewEmail");
                }else{
                    Utils.logout();
                }
            },
            inboxRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#inboxSideItem");
                    AppViewCollection.current_trigger = "inbox";
                    AppLayoutController.viewLayout.trigger("inbox");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Email', 'Administrative Tools');
            },
            sentRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#sentSideItem");
                    AppViewCollection.current_trigger = "sent";
                    AppLayoutController.viewLayout.trigger("sent");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Email', 'Administrative Tools');
            },
            trashRoute: function(){
                if(dConfig.AppInState) {
                    this.updateMenu("#trashSideItem");
                    AppViewCollection.current_trigger = "trash";
                    AppLayoutController.viewLayout.trigger("trash");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Email', 'Administrative Tools');
            },


            // ----------------   Calculators  ********************************************
            savingsCalculatorRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#savingsCalcSideItem");
                    AppViewCollection.current_trigger = "savingsCalculator";
                    AppLayoutController.viewLayout.trigger("savingsCalculator");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Calculators', 'Calculators');
            },
            loanCalculatorRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#loanCalcSideItem");
                    AppViewCollection.current_trigger = "loanCalculator";
                    AppLayoutController.viewLayout.trigger("loanCalculator");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Calculators', 'Calculators');
            },
            bondCalculatorRoute: function(){
                if(dConfig.AppInState){
                    this.updateMenu("#bondCalcSideItem");
                    AppViewCollection.current_trigger = "bondCalculator";
                    AppLayoutController.viewLayout.trigger("bondCalculator");
                }else{
                    Utils.logout();
                }
                this.addPageHit('Calculators', 'Calculators');
            },

            //--------------------------------------------------------------------
            //--------------------------------------------------------------------

            doNothing: function(){},
            updateMenu: function(elem){
                $(".sideMenuItems").removeClass("active");
                $(elem).addClass("active");
            },
            addPageHit: function(pageName, section){
                if(dConfig.AppInState) {
                    var Models = require('../models/models');
                    var model = Models.getAddPageHitModel({
                        "section": section,
                        "pageName": pageName
                    });
                    model.processRequest();
                }
            }
        };

        var AppRouter = Backbone.Marionette.AppRouter.extend({

            controller: AppController,

            appRoutes: {
                "home"                          : "doNothing",

                "login"                         : "loginRoute",
                "first-login"                   : "firstLoginRoute",
                "mfa"                           : "mfaRoute",

                //  Pre login routes
                "forgot-password"               : "forgotPasswordRoute",


                //    Accounts  ********************************************
                "acc-overview"                  : "accOverviewRoute",
                "acc-details"                   : "accDetailsRoute",
                "statements"                    : "statementsRoute",

                //    Payments  ********************************************
                "funds-transfer"                : "fundsTransferRoute",
                "review-funds-transfer"         : "reviewFundsTransferRoute",
                "pending-transfers"             : "pendingTransfersRoute",
                "edit-funds-transfer"           : "editFundsTransferRoute",
                "review-edit-funds-transfer"    : "reviewEditFundsTransferRoute",
                "bill-pay"                      : "billPayRoute",
                // Payment Wire Transfers
                "pay-register-beneficiary"          : "payRegisterBeneficiaryRoute",
                "pay-list-registered-beneficiary"   : "payListRegisteredBeneficiaryRoute",
                "pay-wire-transfer-request"         : "payWireTransferRequestRoute",
                "pay-wire-transfer-auth"            : "payWireTransferAuthorizationRoute",

                //    Business Services  ********************************************
                // ACH Transfers
                "ach-batch-summary"             : "achBatchSummaryRoute",
                "create-new-ach-batch"          : "createNewAchBatchRoute",
                "edit-ach-batch"                : "editAchBatchRoute",
                "ach-recipients"                : "achRecipientsRoute",
                "add-new-ach-recipient"         : "addNewAchRecipientRoute",
                "edit-ach-recipient"            : "editAchRecipientRoute",
                "ach-batch-auth"                : "achBatchAuthRoute",
                "ach-file-import"               : "achFileImportRoute",
                "ach-file-import-auth"          : "achFileImportAuthRoute",
                "file-batch-auth"               : "fileBatchAuthRoute",
                // Wire Transfers
                "register-beneficiary"          : "registerBeneficiaryRoute",
                "list-registered-beneficiary"   : "listRegisteredBeneficiaryRoute",
                "wire-transfer-request"         : "wireTransferRequestRoute",
                "wire-transfer-auth"            : "wireTransferAuthorizationRoute",

                "confirm-register-beneficiary"  : "confirmRegisterBeneficiaryRoute",
                "edit-registered-beneficiary"   : "editRegisteredBeneficiaryRoute",
                "wire-transfer-request-success" : "wireTransferRequestSuccessRoute",
                //--------
                "positive-pay"                  : "positivePayRoute",
                "business-bill-pay"             : "businessBillPayRoute",

                //    Other Services  ********************************************
                "order-checks"                  : "orderChecksRoute",
                "stop-payment"                  : "stopPaymentRoute",
                "stop-payment-list"             : "stopPaymentListRoute",

                //    My Profile Management  ********************************************
                "change-password"               : "changePasswordRoute",
                "change-security-q"             : "changeSecurityQRoute",
                "change-personal-details"       : "changePersonalDetailsRoute",
                // Alerts
                "setup-alerts"                  : "setupAlertsRoute",
                "view-alerts"                   : "viewAlertsRoute",
                "edit-alerts"                   : "editAlertsRoute",
                // Reminders
                "setup-reminders"               : "setupRemindersRoute",
                "view-reminders"                : "viewRemindersRoute",
                "edit-reminders"                : "editRemindersRoute",

                //    Administrative Tools  ********************************************
                // User MANAGEMENT
                "users"                         : "usersRoute",
                "create-new-user"               : "createNewUserRoute",
                "edit-user"                     : "editUserRoute",
                // Seesion Report
                "sessions-report"               : "sessionsReportRoute",
                // E-Mails
                "send-email"                    : "sendEmailRoute",
                "view-email"                    : "viewEmailRoute",
                "inbox"                         : "inboxRoute",
                "sent"                          : "sentRoute",
                "trash"                         : "trashRoute",

                //    Calculators  ********************************************
                "savings-calculator"            : "savingsCalculatorRoute",
                "loan-calculator"               : "loanCalculatorRoute",
                "bond-calculator"               : "bondCalculatorRoute"




            },

            initialize: function(){
                console.log("APP ROUTER INITIALIZED");
            },

            onRoute: function(routeFuncName, route){
                console.log(routeFuncName);
                console.log(route);

                NotyMsg.clearMsgs();

                if(dConfig.AppInState){
                    if(dConfig.nextStep != gConfig.nextStepAllow) {
                        ViewAccess.Route(route);
                    }else{
                        gConfig.nextStepAllow = "";
                    }
                }

                window.history.replaceState({}, "", "#home");
                if(window.innerHeight < 768){
                    $("html, body").animate({
                        scrollTop: $("html").offset().top-70
                    }, 500);
                }

            }

        });

        return (new AppRouter);

    }();

})();
},{"../lib/backbone":17,"../lib/backbone.marionette.js":18,"../lib/jquery":57,"../models/models":66,"../utils/default_config":68,"../utils/global_config":69,"../utils/noty_msg":71,"../utils/utils":74,"../utils/view_access":76,"./app_layout_controller":6,"./app_view_collection":11}],11:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var viewCollection = {

            "current_trigger"                       : "",
            "current_route"                       : "",
            "header_view"                       : "",
            "footer_view"                       : "",

            "current_view"                      : "",

            "login_view"                        : ""



        };

        return viewCollection;
    }();

})();
},{}],12:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var AppViewCollection = require('./app_view_collection');
        var gConfig = require("../utils/global_config");

        //-------  View elements
        var LoginView = require('../../views/login/login_view');
        var FirstLoginView = require('../../views/first_time_login/first_time_login');
        var MFAView = require('../../views/mfa/mfa_view');
        //------------
        var ForgotPasswordView = require('../../views/forgot_password/forgot_password');
        //=====  Services
        var ChangePasswordView = require('../../views/services/change_password/change_password');
        var ChangeSecurityQView = require('../../views/services/security_questions/security_questions');
        var ChangeDetailsView = require('../../views/services/change_personal_details/change_personal_details');
        var OrderChecksView = require('../../views/services/order_checks/order_checks');
        var StopPaymentView = require('../../views/services/stop_payment/stop_payment');
        var StopPaymentListView = require('../../views/services/stop_payment_list/stop_payment_list');
        var SessionsReportView = require('../../views/services/sessions_report/sessions_report');
        var SetupAlertsView = require('../../views/services/alerts/setup_alerts/setup_alerts');
        var ViewAlertsView = require('../../views/services/alerts/view_alerts/view_alerts');
        var EditAlertsView = require('../../views/services/alerts/edit_alerts/edit_alerts');
        var SetupRemindersView = require('../../views/services/reminders/setup_reminders/setup_reminders');
        var ViewRemindersView = require('../../views/services/reminders/view_reminders/view_reminders');
        var EditRemindersView = require('../../views/services/reminders/edit_reminders/edit_reminders');
        // ----------  E - Mails
        var SendEmailView = require('../../views/services/emails/send_email/send_email');
        var ViewEmailView = require('../../views/services/emails/view_email/view_email');
        var EmailChainView = require('../../views/services/emails/view_email/email_chain/email_chain');
        var InboxView = require('../../views/services/emails/inbox/inbox');
        var SentView = require('../../views/services/emails/sent/sent');
        var TrashView = require('../../views/services/emails/trash/trash');
        //=====
        var AccOverviewView = require('../../views/accounts/overview/acc_overview');
        var StatementsView = require('../../views/accounts/statements/statements');
        //---- Acc Details and history with child views
        var AccDetailsView = require('../../views/accounts/details_and_history/details_and_history');
        var AccOverviewDetailsDepositView = require('../../views/accounts/details_and_history/acc_overview_details/deposit/deposit');
        var AccDetailsDepositView = require('../../views/accounts/details_and_history/acc_details/deposit/deposit');
        var AccOverviewDetailsLoanView = require('../../views/accounts/details_and_history/acc_overview_details/loan/loan');
        var AccDetailsLoanView = require('../../views/accounts/details_and_history/acc_details/loan/loan');
        var AccOverviewDetailsCDView = require('../../views/accounts/details_and_history/acc_overview_details/cd/cd');
        var AccDetailsCDView = require('../../views/accounts/details_and_history/acc_details/cd/cd');
        // END
        //----  Funds Transfer and Pending Transfer
        var FundsTransferView = require("../../views/payments/funds_transfer/funds_transfer_view");
        var ReviewFundsTransferView = require("../../views/payments/funds_transfer/review/review_funds_transfer");
        var PendingTransfersView = require("../../views/payments/pending_transfers/pending_transfers_view");
        var PendingTablesView = require("../../views/payments/pending_transfers/table_view/table_view");
        var EditFundsTransferView = require("../../views/payments/edit_funds_transfer/edit_funds_transfer_view");
        var ReviewEditFundsTransferView = require("../../views/payments/edit_funds_transfer/review/review_funds_transfer");
        var BillPayView = require("../../views/payments/bill_pay/bill_pay_view");
        //----  ACH Transfers
        var AchBatchSummaryView = require("../../views/cash_management/ach_transfer/ach_batch_summary_view/ach_batch_summary_view");
        var CreateNewAchBatchView = require("../../views/cash_management/ach_transfer/create_new_ach_batch/create_new_ach_batch_view");
        var EditAchBatchView = require("../../views/cash_management/ach_transfer/edit_ach_batch/edit_ach_batch_view");
        var AchRecipientsView = require("../../views/cash_management/ach_transfer/ach_recipients/ach_recipients_view");
        var AddNewAchRecipientView = require("../../views/cash_management/ach_transfer/add_new_ach_recipient/add_new_ach_recipient_view");
        var EditAchRecipientView = require("../../views/cash_management/ach_transfer/edit_ach_recipient/edit_ach_recipient_view");
        var AchBatchAuthView = require("../../views/cash_management/ach_transfer/ach_batch_authorization/ach_batch_authorization_view");
        var AchFileImportView = require("../../views/cash_management/ach_transfer/ach_file_import/ach_file_import_view");
        var AchFileImportAuthView = require("../../views/cash_management/ach_transfer/ach_file_import_auth/ach_file_import_auth_view");
        var AchFileBatchAuthView = require("../../views/cash_management/ach_transfer/ach_file_import_auth/batch_auth/batch_auth");
        //------
        //----  Wire Transfers ==============
        var BeneficiaryRegistrationView = require("../../views/cash_management/wire_transfer/beneficiary_registration/beneficiary_registration_view");
        var ConfirmBeneficiaryRegistrationView = require("../../views/cash_management/wire_transfer/beneficiary_registration/confirm_registration/confirm_registration");
        var ListBeneficiaryRegisteredView = require("../../views/cash_management/wire_transfer/list_beneficiary_registered/list_beneficiary_registered_view");
        var EditRegisteredBeneficiaryView = require("../../views/cash_management/wire_transfer/edit_beneficiary_registration/edit_beneficiary_registration_view");
        var WireTransferRequestView = require("../../views/cash_management/wire_transfer/wire_transfer_request/wire_transfer_request_view");
        var WireTransferRequestSuccessView = require("../../views/cash_management/wire_transfer/wire_transfer_request/wire_trans_req_success/wire_transfer_req_success_view");
        var WireTransferAuthView = require("../../views/cash_management/wire_transfer/wire_transfer_auth/wire_transfer_auth_view");
        //------
        //----  Calculators ==============
        var SavingsCalcView = require("../../views/calculators/savings/savings");
        var LoanCalcView = require("../../views/calculators/loan/loan");
        var BondCalcView = require("../../views/calculators/bond/bond");
        //------
        //    User Management
        //------
        var UsersView = require("../../views/user_management/users/user_view");
        var CreateNewUserView = require("../../views/user_management/create_new_user/create_new_user_view");
        var EditUserView = require("../../views/user_management/edit_user/edit_user_view");


        //-------- View Model instance
        var ViewModelInstance = require('./app_view_instance');

        var ViewInitializer = {

            loginView: function(){
                var loginView = (LoginView)(ViewModelInstance.model.loginModel);
                AppViewCollection.login_view = loginView;
                return loginView;
            },
            firstLoginView: function(){
                var view = (FirstLoginView)();
                AppViewCollection.first_login_view = view;
                return view;
            },
            mfaView: function(){
                var view = (MFAView)();
                AppViewCollection.mfa_view = view;
                return view;
            },

            //--------------
            forgotPasswordView: function(){
                var view = (ForgotPasswordView)();
                AppViewCollection.forgot_password_view = view;
                return view;
            },
            //================================
            //   Service Requests **************
            //================================
            changePasswordView:function(){
                var view = (ChangePasswordView)();
                AppViewCollection.change_password_view = view;
                return view;
            },
            changeSecurityQView:function(){
                var view = (ChangeSecurityQView)();
                AppViewCollection.change_security_q_view = view;
                return view;
            },
            changeDetailsView:function(){
                var view = (ChangeDetailsView)();
                AppViewCollection.change_details_view = view;
                return view;
            },
            orderChecksView:function(){
                var view = (OrderChecksView)();
                AppViewCollection.order_checks_view = view;
                return view;
            },
            stopPaymentView:function(){
                var view = (StopPaymentView)();
                AppViewCollection.stop_payment_view = view;
                return view;
            },
            stopPaymentListView:function(){
                var view = (StopPaymentListView)();
                AppViewCollection.stop_payment_list_view = view;
                return view;
            },
            sessionsReportView:function(){
                var view = (SessionsReportView)();
                AppViewCollection.sessions_report_view = view;
                return view;
            },
            setupAlertsView:function(){
                var view = (SetupAlertsView)();
                AppViewCollection.setup_alerts_view = view;
                return view;
            },
            viewAlertsView:function(){
                var view = (ViewAlertsView)();
                AppViewCollection.view_alerts_view = view;
                return view;
            },
            editAlertsView:function(){
                var view = (EditAlertsView)();
                AppViewCollection.edit_alerts_view = view;
                return view;
            },
            setupRemindersView:function(){
                var view = (SetupRemindersView)();
                AppViewCollection.setup_reminders_view = view;
                return view;
            },
            viewRemindersView:function(){
                var view = (ViewRemindersView)();
                AppViewCollection.view_reminders_view = view;
                return view;
            },
            editRemindersView:function(){
                var view = (EditRemindersView)();
                AppViewCollection.edit_reminders_view = view;
                return view;
            },
            // ----------  E - Mails
            sendEmailView: function(){
                var view = (SendEmailView)();
                AppViewCollection.send_email_view = view;
                return view;
            },
            viewEmailView: function(){
                var view = (ViewEmailView)();
                AppViewCollection.view_email_view = view;
                return view;
            },
            emailChainView: function(model){
                var view = (EmailChainView)(model);
                AppViewCollection.email_chain_view = view;
                return view;
            },
            inboxView: function(){
                var view = (InboxView)();
                AppViewCollection.inbox_view = view;
                return view;
            },
            sentView: function(){
                var view = (SentView)();
                AppViewCollection.sent_view = view;
                return view;
            },
            trashView: function(){
                var view = (TrashView)();
                AppViewCollection.trash_view = view;
                return view;
            },

            //============
            accOverviewView: function(){
                var accOverviewView = (AccOverviewView)(ViewModelInstance.model.accOverviewModel);
                AppViewCollection.acc_overview_view = accOverviewView;
                return accOverviewView;
            },
            accDetailsView: function(){
                var accDetailsView = (AccDetailsView)(ViewModelInstance.model.accDetailsModel);
                AppViewCollection.acc_details_and_history_view = accDetailsView;
                return accDetailsView;
            },
            statementsView: function(){
                var view = (StatementsView)();
                AppViewCollection.statements_view = view;
                return view;
            },

        //    Acc Details and History CHILD Views
            accOverviewDetailsDepositView: function(data){
                var view = (AccOverviewDetailsDepositView)(data);
                AppViewCollection.acc_over_details_deposit_view = view;
                return view;
            },
            accDetailsDepositView: function(data){
                var view = (AccDetailsDepositView)(data);
                AppViewCollection.acc_details_deposit_view = view;
                return view;
            },
            accOverviewDetailsLoanView: function(data){
                var view = (AccOverviewDetailsLoanView)(data);
                AppViewCollection.acc_over_details_loan_view = view;
                return view;
            },
            accDetailsLoanView: function(data){
                var view = (AccDetailsLoanView)(data);
                AppViewCollection.acc_details_loan_view = view;
                return view;
            },
            accOverviewDetailsCDView: function(data){
                var view = (AccOverviewDetailsCDView)(data);
                AppViewCollection.acc_over_details_cd_view = view;
                return view;
            },
            accDetailsCDView: function(data){
                var view = (AccDetailsCDView)(data);
                AppViewCollection.acc_details_cd_view = view;
                return view;
            },

            //================================
            //    Funds Transfers and Pending Transfers ***************
            //================================

            fundsTransferView: function(){
                gConfig.userInfo.EditFunds = (typeof gConfig.userInfo.EditFunds != "undefined")? gConfig.userInfo.EditFunds : {};
                var view = (FundsTransferView)(gConfig.userInfo.EditFunds);
                AppViewCollection.funds_transfer_view = view;
                return view;
            },
            reviewFundsTransferView: function(){
                var view = (ReviewFundsTransferView)(gConfig.userInfo.ReviewFunds);
                AppViewCollection.review_funds_transfer_view = view;
                return view;
            },
            pendingTransfersView: function(){
                var view = (PendingTransfersView)();
                AppViewCollection.pending_transfers_view = view;
                return view;
            },
            pendingTablesView: function(model){
                var view = (PendingTablesView)(model);
                AppViewCollection.pending_tables_view = view;
                return view;
            },
            editFundsTransferView: function(){
                var view = (EditFundsTransferView)();
                AppViewCollection.edit_funds_transfer_view = view;
                return view;
            },
            reviewEditFundsTransferView: function(){
                var view = (ReviewEditFundsTransferView)();
                AppViewCollection.review_edit_funds_transfer_view = view;
                return view;
            },
            billPayView: function(){
                var view = (BillPayView)();
                AppViewCollection.bill_pay_view = view;
                return view;
            },

            //================================
            //   ACH Transfers ***************
            //================================
            achBatchSummaryView: function(){
                var view = (AchBatchSummaryView)();
                AppViewCollection.ach_batch_summary_view = view;
                return view;
            },
            createNewAchBatchView: function(){
                var view = (CreateNewAchBatchView)();
                AppViewCollection.create_new_ach_batch_view = view;
                return view;
            },
            editAchBatchView: function(){
                var view = (EditAchBatchView)();
                AppViewCollection.edit_ach_batch_view = view;
                return view;
            },
            achRecipientsView: function(){
                var view = (AchRecipientsView)();
                AppViewCollection.ach_recipients_view = view;
                return view;
            },
            addNewAchRecipientView: function(){
                var view = (AddNewAchRecipientView)();
                AppViewCollection.add_new_ach_recipient_view = view;
                return view;
            },
            editAchRecipientView: function(){
                var view = (EditAchRecipientView)();
                AppViewCollection.edit_ach_recipient_view = view;
                return view;
            },
            achBatchAuthView: function(){
                var view = (AchBatchAuthView)();
                AppViewCollection.ach_batch_auth_view = view;
                return view;
            },
            achFileImportView: function(){
                var view = (AchFileImportView)();
                AppViewCollection.ach_file_import_view = view;
                return view;
            },
            achFileImportAuthView: function(){
                var view = (AchFileImportAuthView)();
                AppViewCollection.ach_file_import_auth_view = view;
                return view;
            },
            achFileBatchAuthView: function(){
                var view = (AchFileBatchAuthView)();
                AppViewCollection.ach_file_batch_auth_view = view;
                return view;
            },
            //================================
            //   Wire Transfers **************
            //================================
            beneficiaryRegistrationView: function(){
                var view = (BeneficiaryRegistrationView)();
                AppViewCollection.beneficiary_reg_view = view;
                return view;
            },
            confirmBeneficiaryRegistrationView: function(){
                var view = (ConfirmBeneficiaryRegistrationView)();
                AppViewCollection.confirm_beneficiary_reg_view = view;
                return view;
            },
            listBeneficiaryRegisteredView: function(){
                var view = (ListBeneficiaryRegisteredView)();
                AppViewCollection.list_beneficiary_reg_view = view;
                return view;
            },
            editRegisteredBeneficiaryView: function(){
                var view = (EditRegisteredBeneficiaryView)();
                AppViewCollection.edit_registered_beneficiary_view = view;
                return view;
            },
            wireTransferRequestView: function(){
                var view = (WireTransferRequestView)();
                AppViewCollection.wire_transfer_request_view = view;
                return view;
            },
            wireTransferRequestSuccessView: function(){
                var view = (WireTransferRequestSuccessView)();
                AppViewCollection.wire_transfer_request_success_view = view;
                return view;
            },
            wireTransferAuthView: function(){
                var view = (WireTransferAuthView)();
                AppViewCollection.wire_transfer_auth_view = view;
                return view;
            },
            //================================
            //   Calculators **************
            //================================
            savingsCalcView: function(){
                var view = (SavingsCalcView)();
                AppViewCollection.savings_calc_view = view;
                return view;
            },
            loanCalcView: function(){
                var view = (LoanCalcView)();
                AppViewCollection.loan_calc_view = view;
                return view;
            },
            bondCalcView: function(){
                var view = (BondCalcView)();
                AppViewCollection.bond_calc_view = view;
                return view;
            },

        //--------------------------------------------------------
        //    User Management
        //--------------------------------------------------------
            usersView: function(){
                var view = (UsersView)();
                AppViewCollection.users_view = view;
                return view;
            },
            createNewUserView: function(){
                var view = (CreateNewUserView)();
                AppViewCollection.create_new_user_view = view;
                return view;
            },
            editUserView: function(){
                var view = (EditUserView)();
                AppViewCollection.edit_user_view = view;
                return view;
            }

        //    --------

        //    --------------------------------------------------------
        //    --------------------------------------------------------

        };

        return ViewInitializer;
    }();

})();
},{"../../views/accounts/details_and_history/acc_details/cd/cd":77,"../../views/accounts/details_and_history/acc_details/deposit/deposit":78,"../../views/accounts/details_and_history/acc_details/loan/loan":79,"../../views/accounts/details_and_history/acc_overview_details/cd/cd":80,"../../views/accounts/details_and_history/acc_overview_details/deposit/deposit":81,"../../views/accounts/details_and_history/acc_overview_details/loan/loan":82,"../../views/accounts/details_and_history/details_and_history":83,"../../views/accounts/overview/acc_overview":84,"../../views/accounts/statements/statements":85,"../../views/calculators/bond/bond":86,"../../views/calculators/loan/loan":87,"../../views/calculators/savings/savings":88,"../../views/cash_management/ach_transfer/ach_batch_authorization/ach_batch_authorization_view":89,"../../views/cash_management/ach_transfer/ach_batch_summary_view/ach_batch_summary_view":90,"../../views/cash_management/ach_transfer/ach_file_import/ach_file_import_view":91,"../../views/cash_management/ach_transfer/ach_file_import_auth/ach_file_import_auth_view":92,"../../views/cash_management/ach_transfer/ach_file_import_auth/batch_auth/batch_auth":93,"../../views/cash_management/ach_transfer/ach_recipients/ach_recipients_view":94,"../../views/cash_management/ach_transfer/add_new_ach_recipient/add_new_ach_recipient_view":95,"../../views/cash_management/ach_transfer/create_new_ach_batch/create_new_ach_batch_view":96,"../../views/cash_management/ach_transfer/edit_ach_batch/edit_ach_batch_view":97,"../../views/cash_management/ach_transfer/edit_ach_recipient/edit_ach_recipient_view":98,"../../views/cash_management/wire_transfer/beneficiary_registration/beneficiary_registration_view":99,"../../views/cash_management/wire_transfer/beneficiary_registration/confirm_registration/confirm_registration":100,"../../views/cash_management/wire_transfer/edit_beneficiary_registration/edit_beneficiary_registration_view":101,"../../views/cash_management/wire_transfer/list_beneficiary_registered/list_beneficiary_registered_view":102,"../../views/cash_management/wire_transfer/wire_transfer_auth/wire_transfer_auth_view":103,"../../views/cash_management/wire_transfer/wire_transfer_request/wire_trans_req_success/wire_transfer_req_success_view":104,"../../views/cash_management/wire_transfer/wire_transfer_request/wire_transfer_request_view":105,"../../views/first_time_login/first_time_login":106,"../../views/forgot_password/forgot_password":108,"../../views/login/login_view":110,"../../views/mfa/mfa_view":111,"../../views/payments/bill_pay/bill_pay_view":112,"../../views/payments/edit_funds_transfer/edit_funds_transfer_view":113,"../../views/payments/edit_funds_transfer/review/review_funds_transfer":114,"../../views/payments/funds_transfer/funds_transfer_view":115,"../../views/payments/funds_transfer/review/review_funds_transfer":116,"../../views/payments/pending_transfers/pending_transfers_view":117,"../../views/payments/pending_transfers/table_view/table_view":118,"../../views/services/alerts/edit_alerts/edit_alerts":119,"../../views/services/alerts/setup_alerts/setup_alerts":120,"../../views/services/alerts/view_alerts/view_alerts":121,"../../views/services/change_password/change_password":122,"../../views/services/change_personal_details/change_personal_details":123,"../../views/services/emails/inbox/inbox":124,"../../views/services/emails/send_email/send_email":125,"../../views/services/emails/sent/sent":126,"../../views/services/emails/trash/trash":127,"../../views/services/emails/view_email/email_chain/email_chain":128,"../../views/services/emails/view_email/view_email":129,"../../views/services/order_checks/order_checks":130,"../../views/services/reminders/edit_reminders/edit_reminders":131,"../../views/services/reminders/setup_reminders/setup_reminders":132,"../../views/services/reminders/view_reminders/view_reminders":133,"../../views/services/security_questions/security_questions":134,"../../views/services/sessions_report/sessions_report":135,"../../views/services/stop_payment/stop_payment":136,"../../views/services/stop_payment_list/stop_payment_list":137,"../../views/user_management/create_new_user/create_new_user_view":139,"../../views/user_management/edit_user/edit_user_view":140,"../../views/user_management/users/user_view":141,"../utils/global_config":69,"./app_view_collection":11,"./app_view_instance":13}],13:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------

//--------------------------------------------------------------------------

    module.exports = function(){

        var ViewModelInstance = {};

        ViewModelInstance.model = {

            loginModel              : {},
            homeModel               : {},
            accOverviewModel        : {},
            accDetailsModel         : {}

        };

        return ViewModelInstance;

    }();


})();


},{}],14:[function(require,module,exports){
(function(){
    "use strict";

//----------------- Library Files ---------------------------------------------------------
    var Pace = require('../lib/pace');
    Pace.start();
    var $ = require('../lib/jquery');
    var FastClick = require('../lib/fastclick');
    var Backbone = require('../lib/backbone');
    var Marionette =require('../lib/backbone.marionette.js');
    require('../lib/bootstrap');
    require('../lib/bootstrap-select');
    var dt = require('../lib/jquery.dataTables.js');
    require('../lib/dataTables.responsive.js');
    require('../lib/dataTables.bootstrap.js');
    require('../lib/bootstrap_datetimepicker.js');
    require('../lib/form_validation/formValidation');
    require('../lib/form_validation/bootstrap_framework');
    require('../lib/form_validation/formValidatorPlugins');
    require('../lib/bootstrap3_typeahead.js');
    require('../lib/jquery_form.js');
    var Utils = require('../utils/utils');
    var Languages = require('../utils/languages');
    var dConfig = require('../utils/default_config');
    var gConfig = require('../utils/global_config');
    var Models = require('../models/models');
    var AppBehaviour = require('../utils/behaviours');

//----------------------------------------------------------------------------------------
    var tpl = require('../utils/tpl_loader');
    var AppActivity = require('./app_activity');
//----------------------------------------------------------------------------------------
    var DeviceSetup = require('./app_device_setup');

//----------------------------------------------------------------------------------------

    var App = new Backbone.Marionette.Application();

    var startApplication = function(){
        DeviceSetup.init();
        Backbone.history.start();
        AppActivity.trigger("appStart");
        //AppActivity.trigger("accOverview");
        setTimeout(function() {
            navigator.splashscreen.hide();
        }, 2000);
        FastClick(document.body, {});
    };

    App.addInitializer(function(){

        tpl.loadTemplates(startApplication);

    });

    App.on("start", function(options){
        Utils.sessionCheck.initSession();
        //Languages.getLanguages();
        AppBehaviour.initialize();
        setTimeout(function() {
            navigator.splashscreen.hide();
        }, 2000);
    });

    App.on("before:start", function(options){
        window.langSelected = "EN";
        Models.init();
        Utils.initPace();
        Utils.initDateTimePickerBackdrop();
        setTimeout(function() {
            navigator.splashscreen.hide();
        }, 2000);
    });

    App.start();
    (function startMobileApp() {
        document.addEventListener("backbutton", onBackKeyDown, false);
        setTimeout(function() {
            navigator.splashscreen.hide();
        }, 2000);
    })();
    function onBackKeyDown() {
       if(window.location.hash == "#login" || !dConfig.AppInState){
            navigator.app.exitApp();
            return false;
       }
    }

})();


},{"../lib/backbone":17,"../lib/backbone.marionette.js":18,"../lib/bootstrap":21,"../lib/bootstrap-select":20,"../lib/bootstrap3_typeahead.js":22,"../lib/bootstrap_datetimepicker.js":23,"../lib/dataTables.bootstrap.js":24,"../lib/dataTables.responsive.js":25,"../lib/fastclick":27,"../lib/form_validation/bootstrap_framework":28,"../lib/form_validation/formValidation":29,"../lib/form_validation/formValidatorPlugins":30,"../lib/jquery":57,"../lib/jquery.dataTables.js":56,"../lib/jquery_form.js":59,"../lib/pace":61,"../models/models":66,"../utils/behaviours":67,"../utils/default_config":68,"../utils/global_config":69,"../utils/languages":70,"../utils/tpl_loader":72,"../utils/utils":74,"./app_activity":1,"./app_device_setup":4}],15:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function() {

        var ENGLISH = {

            'HeaderView': {
                "headerLogoText" : "ANYWHERE BANKING",
                "welcomeText" : "Welcome",
                "lastLoginText" : "Last Login"
            },
            'FooterView': {
                "footerText" : "Iris Omni Banking 2015 &copy; VSoft All Rights Reserved"
            },
            'loginView': {
                'loginHeader': "Login",
                'userIdLabelText': "User ID",
                'userIdPlaceholder': "User ID",
                'passwordLabelText': "Password",
                'passwordPlaceholder': "Password",
                'loginButtonText': "Login",
                'forgotPassLinkText': "Forgot Password?"
            },
            'FirstTimeLoginView': {
                "viewHeaderText" : "Change User ID and Password",
                "viewHeaderInfoText" : "Please change your user id and password before you login. This is important for your Account security.<br> All fields are mandatory unless otherwise noted.",
                "newUserIdText" : "New User ID",
                "newPassText" : "New Password",
                "securityQHeaderText" : "Please select the security questions and answers",
                "q1LabelText" : "Question 1",
                "q2LabelText" : "Question 2",
                "q3LabelText" : "Question 3",
                "defaultSelectQText1" : "Select Question 1",
                "defaultSelectQText2" : "Select Question 2",
                "defaultSelectQText3" : "Select Question 3",
                "a1LabelText" : "Answer 1",
                "a2LabelText" : "Answer 2",
                "a3LabelText" : "Answer 3",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'MFAView': {
                "breadCrumbText" : "Security Question",
                "viewHeaderText" : "Answer Security Question",
                "viewHeaderInfoText" : "Please answer the security question to proceed further.",
                "securityQLabelText" : "Security Question",
                "answerLabelText" : "Answer",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },

            //-------
            'ForgotPasswordView': {
                'viewHeaderText': "Forgot Password",
                'userIdLabelText': "User ID",
                "q1LabelText" : "Question 1",
                "q2LabelText" : "Question 2",
                "answerLabelText" : "Answer",
                'loginLinkText': "Login",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },

            'accountsOverviewView' : {
                "breadCrumb1" : "Accounts",
                "breadCrumb2" : "Overview",
                "savingsCardText" : "Savings",
                "checkingsCardText" : "Checkings",
                "cdCardText" : "Certificates Of Deposit",
                "iraCardText" : "IRA",
                "loansCardText" : "Loans",
                "assetsText" : "Assets",
                "liabilitiesText" : "Liabilities",
                "depositsTableHeaderText" : "Deposits",
                "loansTableHeaderText" : "Loans",
                "accNoText" : "Account Number",
                "prodNameText" : "Product Name",
                "ownNameText" : "Owner Name",
                "branchNameText" : "Branch Name",
                "depTableAvailBalText" : "Available Balance",
                "depTableBalAsText" : "Balance as on",
                "loanTableCurBalText" : "Current Balance",
                "loanTablePayOffText" : "Pay off"
            },
            'StatementsView' : {
                "breadCrumb1" : "Accounts",
                "breadCrumb2" : "Statements",
                'viewHeaderText': "Statements",
                "accNoText" : "Account Number",
                "selectAccText" : "Select Account",
                "fromText" : "From",
                "toText" : "To",
                "findText" : "Find",
                "periodText" : "Period",
                "selectPeriodText" : "Select Period",
                "period1Text" : "Last Year",
                "period2Text" : "Last 2 Years",
                "tableHeaderText" : "Statements for"
            },
            // Detail and History View with CHILD views
            'detailsAndHistoryView':{
                "breadCrumb1" : "Accounts",
                "breadCrumb2" : "Details and History",
                "selectAccText" : "Select Account",
                "tab1Text" : "Transaction History",
                "tab2Text" : "Account Details",
                "fromText" : "From",
                "toText" : "To",
                "findText" : "Find",
                "advFiltersText" : "Advance Filters",
                "amtText" : "Amount",
                "checkText" : "Check",
                "downloadText" : "Download",
                "download1Text" : "Comma Separated",
                "download2Text" : "Tab Separated",
                "download3Text" : "Fixed Length",
                "download4Text" : "Quicken (R)",
                "download5Text" : "QuickBooks (R)",
                "tableHead1Text" : "Posted",
                "tableHead2Text" : "Description",
                "tableHead3Text" : "Check",
                "tableHead4Text" : "Credit",
                "tableHead5Text" : "Debit",
                "tableHead6Text" : "Balance",
                "tableHead7Text" : "Reference",
                "checkImgHeaderText" : "Check Images",
                "frontText" : "Front",
                "backText" : "Back",
                "closeText" : "Close"
            },
            'AccOverviewDetailsDepositView' : {
                "overview1Text" : "Account Type",
                "overview2Text" : "Owner",
                "overview3Text" : "Branch",
                "overview4Text" : "Product Name",
                "overview5Text" : "Available Balance"
            },
            'AccDetailsDepositView'     : {
                "detail1Text" : "Annual Percentage Yield",
                "detail2Text" : "Interest Rate",
                "detail3Text" : "Interest Paid Last Year",
                "detail4Text" : "Last Statement Date"
            },
            'AccOverviewDetailsLoanView'     : {
                "overview1Text" : "Account Type",
                "overview2Text" : "Owner",
                "overview3Text" : "Branch",
                "overview4Text" : "Next Due Date",
                "overview5Text" : "Product Name",
                "overview6Text" : "Current Balance",
                "overview7Text" : "Loan Amount",
                "overview8Text" : "Payment Amount"
            },
            'AccDetailsLoanView'     : {
                "detail1Text" : "Borrower Name",
                "detail2Text" : "Annual Percentage Yield",
                "detail3Text" : "Interest Rate",
                "detail4Text" : "Interest Paid YTD",
                "detail5Text" : "Interest Paid Last Year",
                "detail6Text" : "Tenure"
            },
            'AccDetailsCDView'     : {
                "detail1Text" : "Annual Percentage Yield",
                "detail2Text" : "Interest Rate",
                "detail3Text" : "Interest Paid YTD",
                "detail4Text" : "Interest Paid Last Year",
                "detail5Text" : "Tenure"
            },
            'AccOverviewDetailsCDView'     : {
                "overview1Text" : "Account Type",
                "overview2Text" : "Owner",
                "overview3Text" : "Branch",
                "overview4Text" : "Maturity Date",
                "overview5Text" : "Product Name",
                "overview6Text" : "Available Balance",
                "overview7Text" : "Deposit Amount",
                "overview8Text" : "Maturity Amount"
            },
            // Funds and Pending Transfers
            'FundsTransferView' : {
                "breadCrumb1" : "Payments",
                "breadCrumb2" : "Transfer Money",
                "viewHeaderText" : "Transfer Money",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "fromText" : "From",
                "selectAccText" : "Select Account",
                "availBalText" : "Available balance",
                "asOnText" : "as on",
                "atText" : "at",
                "toText" : "To",
                "loanPayTypeText" : "Loan Payment Type",
                "loanPayType1" : "Regular",
                "loanPayType2" : "Curtailment",
                "loanPayType3" : "Loan Payoff",
                "loanPayType4" : "Interest",
                "loanPayType5" : "Late Charge",
                "loanPayType6" : "Escrow",
                "amtText" : "Amount",
                "payOnText" : "Pay On",
                "payOnInfoText" : "If the payment date is a weekend or holiday then fund transfer would be effected on the next working day.",
                "payScheduleText" : "Pay Schedule",
                "paySchedule1" : "One Time",
                "paySchedule2" : "Recurring",
                "frequencyText" : "Frequency",
                "frequency1" : "Daily",
                "frequency2" : "Weekly",
                "frequency3" : "Monthly",
                "frequency4" : "Quarterly",
                "frequency5" : "Semi Annually",
                "frequency6" : "Annually",
                "expDateText" : "Expiration Date",
                "optionalText" : "Optional",
                "remarksText" : "Remarks",
                "charsLeftText" : "characters left",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'ReviewFundsTransferView' : {
                "breadCrumb1" : "Payments",
                "breadCrumb2" : "Transfer Money",
                "breadCrumb3" : "Review Transfer Money",
                "viewHeaderText" : "Transfer Money",
                "viewHeaderInfoText" : "Review and confirm the transfer details before submitting for process.",
                "fromText" : "From",
                "availBalText" : "Available balance",
                "asOnText" : "as on",
                "atText" : "at",
                "toText" : "To",
                "loanPayTypeText" : "Loan Payment Type",
                "amtText" : "Amount",
                "payOnText" : "Pay On",
                "payScheduleText" : "Pay Schedule",
                "frequencyText" : "Frequency",
                "expDateText" : "Expiration Date",
                "remarksText" : "Remarks",
                "confirmButtonText" : "Confirm",
                "editButtonText" : "Edit"
            },
            'PendingTransfersView' : {},
            'PendingTablesView' : {},
            'EditFundsTransferView' : {},
            'ReviewEditFundsTransferView' : {},
            'BillPayView' : {},
            // ACH Transfers
            'AchBatchSummaryView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH Batch Summary",
                "viewHeaderText" : "ACH Batch Summary",
                "deleteText" : "Delete",
                "createNewBatchText" : "Create New Batch",
                "sortByText" : "Sort By",
                "sort1Text" : "Batch Name",
                "sort2Text" : "Last Processed",
                "sort3Text" : "Date Next Scheduled",
                "confirmText" : "Confirm",
                "deleteMsgText" : "Are you sure you want to delete the selected Batches?",
                "yesText" : "Yes",
                "noText" : "No",

                "compNameText" : "Company Name",
                "accText" : "Account",
                "idText" : "ID",
                "lastProcessedText" : "Last Processed",
                "dateNextScheduledText" : "Date Next Scheduled",
                "itemsText" : "Item(s)",
                "debitsText" : "Debits",
                "creditsText" : "Credits",
                "scheduleText" : "Schedule",
                "frequencyText" : "Frequency",
                "expDateText" : "Expiration Date",
                "statusText" : "Status"
            },
            'AchRecipientsView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH Recipients",
                "viewHeaderText" : "ACH Recipients",
                "achBatchText" : "ACH Batch",
                "selectBatchText" : "Select Batch",
                "includedInBatchText" : "Included in Batch",
                "includeText" : "Include",
                "excludeText" : "Exclude",
                "deleteText" : "Delete",
                "addNewRecipientLinkText" : "Add New Recipient",
                "tableHead1Text" : "Name",
                "tableHead2Text" : "Account Number",
                "tableHead3Text" : "Transaction Code",
                "tableHead4Text" : "Routing Number",
                "tableHead5Text" : "Expiration Date",
                "tableHead6Text" : "Amount",
                "tableHead7Text" : "Addenda",
                "confirmText" : "Confirm",
                "deleteMsgText" : "Are you sure you want to delete the selected Recipients?",
                "yesText" : "Yes",
                "noText" : "No"
            },
            'CreateNewAchBatchView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "Create New ACH Batch",
                "viewHeaderText" : "New ACH Batch",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "ACH Batch Summary",

                "selectAccText" : "Select Account",
                "optionalText" : "Optional",
                "label1Text" : "Batch Name",
                "label2Text" : "SEC Class Code",
                "label3Text" : "Account",
                "label4Text" : "Company Name",
                "label5Text" : "Company Discretionary Data",
                "label6Text" : "Company Identification",
                "label7Text" : "Batch Description",
                "label8Text" : "Date Scheduled",

                "scheduleText" : "Schedule",
                "schedule1Text" : "One Time",
                "schedule2Text" : "Recurring",
                "frequencyText" : "Frequency",
                "frequency1" : "Daily",
                "frequency2" : "Weekly",
                "frequency3" : "Monthly",
                "frequency4" : "Quarterly",
                "frequency5" : "Semi Annually",
                "frequency6" : "Annually",
                "expDateText" : "Expiration Date",
                "dateScheduleText" : "Date Schedule Process",
                "dateSchedule1Text" : "Prior to weekend/holiday",
                "dateSchedule2Text" : "After weekend/holiday",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'EditAchBatchView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "Edit ACH Batch",
                "viewHeaderText" : "Edit ACH Batch",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "ACH Batch Summary",

                "selectAccText" : "Select Account",
                "optionalText" : "Optional",
                "label1Text" : "Batch Name",
                "label2Text" : "SEC Class Code",
                "label3Text" : "Account",
                "label4Text" : "Company Name",
                "label5Text" : "Company Discretionary Data",
                "label6Text" : "Company Identification",
                "label7Text" : "Batch Description",
                "label8Text" : "Date Scheduled",

                "scheduleText" : "Schedule",
                "schedule1Text" : "One Time",
                "schedule2Text" : "Recurring",
                "frequencyText" : "Frequency",
                "frequency1" : "Daily",
                "frequency2" : "Weekly",
                "frequency3" : "Monthly",
                "frequency4" : "Quarterly",
                "frequency5" : "Semi Annually",
                "frequency6" : "Annually",
                "expDateText" : "Expiration Date",
                "dateScheduleText" : "Date Schedule Process",
                "dateSchedule1Text" : "Prior to weekend/holiday",
                "dateSchedule2Text" : "After weekend/holiday",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'AddNewAchRecipientView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "Add New ACH Recipients",
                "viewHeaderText" : "New ACH Recipient",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "ACH Recipients",
                "achBatchText" : "ACH Batch",
                "selectBatchText" : "Select Batch",
                "recipientNameText" : "Recipient Name",
                "identificationText" : "Identification",
                "accNoText" : "Account Number",
                "amtText" : "Amount",
                "routNoText" : "Routing Number",
                "transCodeText" : "Transaction Code",
                "selectTransCodeText" : "Select Transaction Code",
                "transCode1Text" : "Checking account credit",
                "transCode2Text" : "Checking account debit",
                "transCode3Text" : "Saving account credit",
                "transCode4Text" : "Saving account debit",
                "transCode5Text" : "Loan account credit",
                "transCode6Text" : "Loan account debit (only reversals)",
                "expDateText" : "Expiration Date",
                "optionalText" : "Optional",
                "adendaText" : "Addenda",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel",
                "searchButtonText" : "Search",

                "bankNameText" : "Bank Name",
                "stateTeritText" : "State/Territory",
                "selectStateText" : "Select State",
                "cityText" : "City",
                "addressText" : "Address",
                "zipCodeText" : "Zip Code",
                "routingNoText" : "Routing No."
            },
            'EditAchRecipientView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "Edit New ACH Recipients",
                "viewHeaderText" : "Edit ACH Recipient",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "ACH Recipients",
                "achBatchText" : "ACH Batch",
                "selectBatchText" : "Select Batch",
                "recipientNameText" : "Recipient Name",
                "identificationText" : "Identification",
                "accNoText" : "Account Number",
                "amtText" : "Amount",
                "routNoText" : "Routing Number",
                "transCodeText" : "Transaction Code",
                "selectTransCodeText" : "Select Transaction Code",
                "transCode1Text" : "Checking account credit",
                "transCode2Text" : "Checking account debit",
                "transCode3Text" : "Saving account credit",
                "transCode4Text" : "Saving account debit",
                "transCode5Text" : "Loan account credit",
                "transCode6Text" : "Loan account debit (only reversals)",
                "expDateText" : "Expiration Date",
                "optionalText" : "Optional",
                "adendaText" : "Addenda",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel",
                "searchButtonText" : "Search",

                "bankNameText" : "Bank Name",
                "stateTeritText" : "State/Territory",
                "selectStateText" : "Select State",
                "cityText" : "City",
                "addressText" : "Address",
                "zipCodeText" : "Zip Code",
                "routingNoText" : "Routing No."
            },
            'AchBatchAuthorizationView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH Batch Authorization",
                "viewHeaderText" : "ACH Batch Authorization",
                "approveText" : "Approve",
                "declineText" : "Decline",
                "sortByText" : "Sort By",
                "sort1Text" : "Batch Name",
                "sort2Text" : "Last Processed",
                "sort3Text" : "Effective Date",
                "sort4Text" : "Date Next Scheduled",
                "confirmText" : "Confirm",
                "approveMsgText" : "Are you sure you want to approve the following ACH Record(s)?",
                "declineMsgText" : "Are you sure you want to decline the following ACH Record(s)?",
                "yesText" : "Yes",
                "noText" : "No",

                "compNameText" : "Company Name",
                "accText" : "Account",
                "idText" : "ID",
                "lastProcessedText" : "Last Processed",
                "effectiveDateText" : "Effective Date",
                "dateNextScheduledText" : "Date Next Scheduled",
                "itemsText" : "Item(s)",
                "debitsText" : "Debits",
                "creditsText" : "Credits",
                "scheduleText" : "Schedule",
                "frequencyText" : "Frequency",
                "expDateText" : "Expiration Date",
                "statusText" : "Status"
            },
            'AchFileImportView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH File Import",
                "viewHeaderText" : "ACH File Import",
                "viewHeaderInfoText" : "Standard NACHA File formats supported.",
                "selectFileText" : "Select File",
                "browseText" : "Browse",
                "importText" : "Import"
            },
            'AchFileImportAuthView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH File Import Authorization",
                "viewHeaderText" : "ACH File Import Authorization",
                "tableHead1Text" : "File",
                "tableHead2Text" : "Effective Date",
                "tableHead3Text" : "Imported by",
                "tableHead4Text" : "Imported On"
            },
            'FileBatchAuthView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "ACH Transfer",
                "breadCrumb3" : "ACH File Import Authorization",

                "achImportAuthLinkText" : "ACH Import Authorization",
                "processText" : "Process",
                "deleteText" : "Delete",
                "sortByText" : "Sort By",
                "sort1Text" : "Batch Name",
                "sort2Text" : "Effective Date",
                "confirmText" : "Confirm",
                "processMsgText" : "Are you sure you want to process the following ACH Record(s)?",
                "deleteMsgText" : "Are you sure you want to delete the following ACH Record(s)?",
                "yesText" : "Yes",
                "noText" : "No",

                "secClassText" : "SEC Class Code",
                "accText" : "Account",
                "effectiveDateText" : "Effective Date",
                "itemsText" : "Item(s)",
                "buildSumText" : "Build Summary",
                "debitsText" : "Debits",
                "creditsText" : "Credits"
            },

            // Wire Transfers
            'BeneficiaryRegistrationView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Beneficiary Registration",
                "viewHeaderText" : "Beneficiary Registration",
                "viewHeaderInfoText" : "Wires: Transactions are processed monday through friday, excluding holidays. Transactions received on weekends will be processed on next business day.<br>All fields are mandatory unless otherwise noted.",

                "selectStateText" : "Select State",
                "ifApplicableText" : "If Applicable",
                "addInstText" : "Add Instructions",
                "splInstText" : "Special Instruction",

                "labelHeader1Text" : "Recipient Details",
                "labelHeader2Text" : "Recipient Bank Information",
                "labelHeader3Text" : "Intermediary Bank",
                "label1Text" : "Name",
                "label2Text" : "Address Line 1",
                "label3Text" : "Address Line 2",
                "label4Text" : "City",
                "label5Text" : "State",
                "label6Text" : "Zip",
                "label7Text" : "Country",

                "label9Text" : "Account",
                "label10Text" : "Bank Name",
                "label11Text" : "Bank Routing Number",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel",
                "searchButtonText" : "Search",

                "routNoText" : "Routing Number",
                "bankNameText" : "Bank Name",
                "stateTeritText" : "State/Territory",
                "cityText" : "City",
                "addressText" : "Address",
                "zipCodeText" : "Zip Code",
                "routingNoText" : "Routing No."
            },
            'ConfirmBeneficiaryRegistrationView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Beneficiary Registration",
                "viewHeaderText" : "Beneficiary Registration",
                "viewHeaderInfoText" : "Wires: Transactions are processed monday through friday, excluding holidays. Transactions received on weekends will be processed on next business day.",

                "splInstText" : "Special Instruction",

                "labelHeader1Text" : "Beneficiary Information",
                "labelHeader2Text" : "Beneficiary Bank Information",
                "labelHeader3Text" : "Intermediary Bank Information",
                "label1Text" : "Name",
                "label2Text" : "Address Line 1",
                "label3Text" : "Address Line 2",
                "label4Text" : "City",
                "label5Text" : "State",
                "label6Text" : "Zip",
                "label7Text" : "Country",

                "label9Text" : "Account",
                "label10Text" : "Bank Name",
                "label11Text" : "Bank Routing Number",

                "confirmButtonText" : "Confirm",
                "editButtonText" : "Edit"
            },
            'ListBeneficiaryRegisteredView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Registered Beneficiaries",
                "viewHeaderText" : "Registered Beneficiaries",
                "linkText" : "Registered Beneficiaries",
                "deleteText" : "Delete",
                "tableHead1Text" : "Name",
                "tableHead2Text" : "Account No.",
                "tableHead3Text" : "Bank Name",
                "tableHead4Text" : "Bank Routing No.",
                "confirmText" : "Confirm",
                "deleteMsgText" : "Are you sure you want to delete the selected Beneficiary?",
                "yesText" : "Yes",
                "noText" : "No"
            },
            'EditBeneficiaryRegistrationView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Beneficiary Registration",
                "breadCrumb4" : "Edit Beneficiary",
                "viewHeaderText" : "Edit Beneficiary",
                "viewHeaderInfoText" : "Wires: Transactions are processed monday through friday, excluding holidays. Transactions received on weekends will be processed on next business day.<br>All fields are mandatory unless otherwise noted.",

                "selectStateText" : "Select State",
                "ifApplicableText" : "If Applicable",
                "addInstText" : "Add Instructions",
                "splInstText" : "Special Instruction",

                "labelHeader1Text" : "Recipient Details",
                "labelHeader2Text" : "Recipient Bank Information",
                "labelHeader3Text" : "Intermediary Bank",
                "label1Text" : "Name",
                "label2Text" : "Address Line 1",
                "label3Text" : "Address Line 2",
                "label4Text" : "City",
                "label5Text" : "State",
                "label6Text" : "Zip",
                "label7Text" : "Country",

                "label9Text" : "Account",
                "label10Text" : "Bank Name",
                "label11Text" : "Bank Routing Number",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel",
                "searchButtonText" : "Search",

                "routNoText" : "Routing Number",
                "bankNameText" : "Bank Name",
                "stateTeritText" : "State/Territory",
                "cityText" : "City",
                "addressText" : "Address",
                "zipCodeText" : "Zip Code",
                "routingNoText" : "Routing No."
            },
            'WireTransferRequestView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Wire Transfer Request",
                "viewHeaderText" : "Wire Transfer Request",
                "viewHeaderInfoText" : "Wires: Transactions are processed monday through friday, excluding holidays. Transactions received on weekends will be processed on next business day.<br>All fields are mandatory unless otherwise noted.",

                "selectAccText" : "Select Account",
                "selectBenText" : "Select Beneficiary",
                "availBalText" : "Available balance",
                "asOnText" : "as on",
                "atText" : "at",
                "labelHeader1Text" : "From",
                "labelHeader2Text" : "To",
                "labelHeader3Text" : "Schedule",
                "label1Text" : "Account",
                "label2Text" : "Amount",
                "label3Text" : "Beneficiary Name",
                "label4Text" : "Date",
                "label5Text" : "Bank Name",
                "label6Text" : "Bank Routing No.",

                "frequencyText" : "Frequency",
                "frequency1" : "Daily",
                "frequency2" : "Weekly",
                "frequency3" : "Monthly",
                "frequency4" : "Quarterly",
                "frequency5" : "Semi Annually",
                "frequency6" : "Annually",
                "expDateText" : "Expiration Date",
                "optionalText" : "Optional",
                "payScheduleText" : "Pay Schedule",
                "paySchedule1" : "One Time",
                "paySchedule2" : "Recurring",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'WireTransferReqSuccessView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Wire Transfer Request",
                "viewHeaderText" : "Wire Transfer Request",

                "availBalText" : "Available balance",
                "asOnText" : "as on",
                "atText" : "at",
                "label1Text" : "Date",
                "label2Text" : "Time",
                "label3Text" : "From Account",
                "label4Text" : "Amount",
                "label5Text" : "Beneficiary Name",
                "label6Text" : "Account",
                "label7Text" : "Bank Name",
                "label8Text" : "Routing No.",
                "label9Text" : "Schedule Date",
                "label10Text" : "Schedule Type",
                "label11Text" : "Frequency",
                "label12Text" : "Expiration Date",
                "newWireTransferText" : "Make Another Wire Transfer"
            },
            'WireTransferAuthView' : {
                "breadCrumb1" : "Business services",
                "breadCrumb2" : "Wire Transfer",
                "breadCrumb3" : "Wire Transfer Authorization",
                "viewHeaderText" : "Wire Transfer Authorization",
                "viewHeaderInfoText" : "Wires: Transactions are processed monday through friday, excluding holidays.<br>Transactions received on weekends will be processed on next business day.<br>Transfer received after cut off time will be considered for next working day.",

                "label1Text" : "From",
                "label2Text" : "Account",
                "label3Text" : "Amount",
                "label4Text" : "Request Date",
                "label5Text" : "User Name",
                "label6Text" : "Recipient",
                "label7Text" : "Bank Name",
                "label8Text" : "Routing Number",
                "label9Text" : "Schedule",
                "label10Text" : "Type",
                "label11Text" : "Date",
                "label12Text" : "Frequency",
                "label13Text" : "Expiration Date",

                "deleteText" : "Delete",
                "processText" : "Process",
                "confirmText" : "Confirm",
                "deleteMsgText" : "Are you sure you want to delete the selected Wire Transfer Request?",
                "yesText" : "Yes",
                "noText" : "No"
            },

            // Services
            'ChangePasswordView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Change Password",
                "viewHeaderText" : "Change Password",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "label1Text" : "Old Password",
                "label2Text" : "New Password",
                "label3Text" : "Confirm New Password",
                "submitButtonText" : "Submit",
                "clearButtonText" : "Clear"
            },
            'SecurityQuestionsView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Security Questions",
                "viewHeaderText" : "Security Questions",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",

                "selectQText" : "Select Question",
                "caseSensitiveText" : "Case sensitive",
                "label1Text" : "Question",
                "label2Text" : "Answer",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'ChangePersonalDetailsView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Change Personal Information",
                "viewHeaderText" : "Change Personal Information",
                "viewHeaderInfoText" : "If you change the User ID, it will take effect immediately.<br>All fields are mandatory unless otherwise noted.",

                "selectStateText" : "Select State",
                "label1Text" : "User ID",
                "label2Text" : "Address Line One",
                "label3Text" : "Address Line Two",
                "label4Text" : "City",
                "label5Text" : "State",
                "label6Text" : "Zip Code",
                "label7Text" : "Country",
                "label8Text" : "Home Phone",
                "label9Text" : "Work Phone",
                "label10Text" : "Cell Phone",
                "label11Text" : "Email ID",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'OrderChecksView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Order Checks",
                "viewHeaderText" : "Order Checks",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",

                "selectAccText" : "Select Account",
                "selectText" : "Select",
                "optionalText" : "Optional",

                "label1Text" : "Account",
                "label2Text" : "Starting Check No.",
                "label3Text" : "No. of Boxes",
                "label4Text" : "Design",
                "label5Text" : "Style",
                "label6Text" : "Comments",
                "option1Text" : "Wallet",
                "option2Text" : "Duplicate",
                "option3Text" : "Univ. Notre Dame Duplicate",
                "option4Text" : "Univ. of Tennessee",
                "option5Text" : "Univ. of Wis Duplicate",
                "option6Text" : "Untamed Spirit",
                "option7Text" : "Victorian Rose",
                "option8Text" : "Vintage Passage",
                "option9Text" : "Wildlife",
                "option10Text" : "Wyland",
                "option11Text" : "Personal Deposit slip",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'StopPaymentView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Stop Payment",
                "breadCrumb3" : "New Request",
                "viewHeaderText" : "New Request",
                "viewHeaderInfoText1" : "To be effective, a stop payment order should precisely identify the number, amount, date, payment method (check or ACH) and payee of the item to be stopped. Stop payment orders are effective for 6 months after date accepted and will automatically expire after that period. The Stop Payment request must be received in time to give us a reasonable chance to act on it.",
                "viewHeaderInfoText2" : "Please be aware that you cannot place a stop payment on a debit card transaction.",
                "viewHeaderInfoText3" : "There is a fee of $30.00 for each stop payment.",
                "viewHeaderInfoText4" : "All fields are mandatory unless otherwise noted.",

                "accText" : "Account",
                "selectAccText" : "Select Account",

                "tab1Text" : "Check",
                "tab2Text" : "ACH",
                "tab3Text" : "Single",
                "tab4Text" : "Multiple",
                "optionalText" : "Optional",

                "checkNoText" : "Check Number",
                "amtText" : "Amount",
                "reasonText" : "Reason",
                "commentsPayText" : "Comments/Payable To",
                "fromText" : "From",
                "toText" : "To",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'StopPaymentListView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Stop Payment",
                "breadCrumb3" : "Stop Payments List",
                "viewHeaderText" : "Stop Payments List",
                "linkText" : "New Request",

                "tableHeaderText1" : "Checks",
                "tableHeaderText2" : "ACH",

                "tableHead1Text" : "Expiration Date",
                "tableHead2Text" : "Account",
                "tableHead3Text" : "Starting Check No.",
                "tableHead4Text" : "Ending Check No.",
                "tableHead5Text" : "Starting Amount",
                "tableHead6Text" : "Ending Amount",
                "tableHead7Text" : "Reason"
            },
            'SessionsReportView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Sessions Report",
                "viewHeaderText" : "Sessions Report",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",

                "selectUserText" : "Select User",
                "label1Text" : "User",
                "label2Text" : "From",
                "label3Text" : "To",
                "label4Text" : "Session For",
                "option1Text" : "Select All",
                "option2Text" : "Alert",
                "option3Text" : "Change Information",
                "option4Text" : "Logout",
                "option5Text" : "Reset Password",
                "option6Text" : "Order Checks",
                "option7Text" : "Emails",
                "option8Text" : "Account History",
                "option9Text" : "Login",
                "option10Text" : "Security Maintenance",
                "option11Text" : "Stop Payment",
                "option12Text" : "Transfer",
                "option13Text" : "Reminder",
                "option14Text" : "Change Password",
                "option15Text" : "Statement",
                "viewButtonText" : "View",
                "downloadButtonText" : "Download",
                "downOption1" : "Comma Separated",
                "downOption2" : "Tab Separated",
                "downOption3" : "PDF",

                "noRecordsText" : "No records found from",
                "toText" : "to",
                "resultsText" : "Results",
                "tableHead1Text" : "Date",
                "tableHead2Text" : "Time",
                "tableHead3Text" : "User",
                "tableHead4Text" : "Subject",
                "tableHead5Text" : "Amount"

            },
            'SetupAlertsView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Alerts",
                "breadCrumb3" : "Setup Alerts",
                "viewHeaderText" : "Setup Alerts",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "View Alerts",

                "selectAccText" : "Select Account",
                "selectModText" : "Select Module",
                "selectText" : "Select",
                "optionalText" : "Optional",

                "label1Text" : "Account",
                "label2Text" : "Send Me an Alert",
                "label3Text" : "Amount",
                "label4Text" : "Check Number",
                "label5Text" : "Do Not Send Alert Times",
                "label6Text" : "Send Alerts Via",
                "label7Text" : "Module",

                "modOption1Text" : "Accounts",
                "modOption2Text" : "User",
                "modOption3Text" : "ACH",
                "modOption4Text" : "Wire Transfer",

                "alertOption1Text" : "When my balance is greater than",
                "alertOption2Text" : "When my balance is less than",
                "alertOption3Text" : "For all withdrawal amounts greater than",
                "alertOption4Text" : "For all deposit amounts greater than",
                "alertOption5Text" : "When these check numbers are cleared",
                "alertOption6Text" : "To re-order checks when this check number has cleared",
                "alertOption7Text" : "When transfer occurs to/from my account",
                "alertOption8Text" : "When a recurring transfer was not processed",
                "alertOption9Text" : "When my statement is available",

                "alertOption10Text" : "When an ACH batch is processed",
                "alertOption11Text" : "When an ACH import file is submitted for processing",
                "alertOption12Text" : "When an ACH import file is processed",
                "alertOption13Text" : "When an ACH batch was not processed",
                "alertOption14Text" : "When an ACH batch is processed by my financial institution",
                "alertOption15Text" : "When an ACH batch is removed by my financial institution",

                "alertOption16Text" : "When my login has been reset",
                "alertOption17Text" : "When my login attempts exceed the limit",

                "alertOption18Text" : "When a wire transfer is submitted for processing",


                "fromText" : "From",
                "toText" : "To",
                "emailText" : "E-Mail",
                "phoneText" : "Phone",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'ViewAlertsView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Alerts",
                "breadCrumb3" : "View Alerts",
                "viewHeaderText" : "View Alerts",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",

                "deleteText" : "Delete",
                "linkText" : "Setup Alerts",

                "tableHead1Text" : "Module",
                "tableHead2Text" : "Alert",
                "tableHead3Text" : "Last Alert Seen"
            },
            'EditAlertsView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Alerts",
                "breadCrumb3" : "Edit Alerts",
                "viewHeaderText" : "Edit Alerts",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "View Alerts",

                "selectAccText" : "Select Account",
                "selectModText" : "Select Module",
                "selectText" : "Select",
                "optionalText" : "Optional",

                "label1Text" : "Account",
                "label2Text" : "Send Me an Alert",
                "label3Text" : "Amount",
                "label4Text" : "Check Number",
                "label5Text" : "Do Not Send Alert Times",
                "label6Text" : "Send Alerts Via",
                "label7Text" : "Module",

                "modOption1Text" : "Accounts",
                "modOption2Text" : "User",
                "modOption3Text" : "ACH",
                "modOption4Text" : "Wire Transfer",

                "alertOption1Text" : "When my balance is greater than",
                "alertOption2Text" : "When my balance is less than",
                "alertOption3Text" : "For all withdrawal amounts greater than",
                "alertOption4Text" : "For all deposit amounts greater than",
                "alertOption5Text" : "When these check numbers are cleared",
                "alertOption6Text" : "To re-order checks when this check number has cleared",
                "alertOption7Text" : "When transfer occurs to/from my account",
                "alertOption8Text" : "When a recurring transfer was not processed",
                "alertOption9Text" : "When my statement is available",

                "alertOption10Text" : "When an ACH batch is processed",
                "alertOption11Text" : "When an ACH import file is submitted for processing",
                "alertOption12Text" : "When an ACH import file is processed",
                "alertOption13Text" : "When an ACH batch was not processed",
                "alertOption14Text" : "When an ACH batch is processed by my financial institution",
                "alertOption15Text" : "When an ACH batch is removed by my financial institution",

                "alertOption16Text" : "When my login has been reset",
                "alertOption17Text" : "When my login attempts exceed the limit",

                "alertOption18Text" : "When a wire transfer is submitted for processing",


                "fromText" : "From",
                "toText" : "To",
                "emailText" : "E-Mail",
                "phoneText" : "Phone",
                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'SetupRemindersView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Reminders",
                "breadCrumb3" : "Setup Reminders",
                "viewHeaderText" : "Setup Reminders",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "Scheduled Reminders",

                "label1Text" : "Date",
                "label2Text" : "Reminder",
                "label3Text" : "Schedule",

                "charsLeftText" : "characters left",
                "selectScheduleText" : "Select Schedule",
                "option1Text" : "Once",
                "option2Text" : "Daily",
                "option3Text" : "Weekly",
                "option4Text" : "Bi-Weekly",
                "option5Text" : "Monthly",
                "option6Text" : "Quarterly",
                "option7Text" : "Semi Annually",
                "option8Text" : "Annually",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            'ViewRemindersView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Reminders",
                "breadCrumb3" : "Schedule Reminders",
                "viewHeaderText" : "Schedule Reminders",
                "linkText" : "Add Reminders",

                "deleteButtonText" : "Delete",
                "tableHead1Text" : "Date",
                "tableHead2Text" : "Reminder",
                "tableHead3Text" : "Schedule"
            },
            'EditRemindersView' : {
                "breadCrumb1" : "Services",
                "breadCrumb2" : "Reminders",
                "breadCrumb3" : "Edit Reminders",
                "viewHeaderText" : "Edit Reminders",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "Scheduled Reminders",


                "label1Text" : "Date",
                "label2Text" : "Reminder",
                "label3Text" : "Schedule",

                "charsLeftText" : "characters left",
                "selectScheduleText" : "Select Schedule",
                "option1Text" : "Once",
                "option2Text" : "Daily",
                "option3Text" : "Weekly",
                "option4Text" : "Bi-Weekly",
                "option5Text" : "Monthly",
                "option6Text" : "Quarterly",
                "option7Text" : "Semi Annually",
                "option8Text" : "Annually",

                "submitButtonText" : "Submit",
                "cancelButtonText" : "Cancel"
            },
            // Emails
            'SendEmailView' : {
                "breadCrumb1" : "Services Options",
                "breadCrumb2" : "E-Mails",
                "breadCrumb3" : "Send E-Mail",
                "viewHeaderText" : "Send E-Mail",
                "viewHeaderInfoText" : "All fields are mandatory unless otherwise noted.",
                "linkText" : "Inbox",

                "label1Text" : "Subject",
                "label2Text" : "Type Message",
                "label3Text" : "Add Files",
                "label4Text" : "Remove All",
                "label5Text" : "File Name",
                "label6Text" : "Size",

                "sendButtonText" : "Send",
                "discardButtonText" : "Discard"
            },
            'ViewEmailView' : {
                "breadCrumb1" : "Services Options",
                "breadCrumb2" : "E-Mails",
                "breadCrumb3" : "View E-Mail",
                "viewHeaderText" : "Subject",

                "label1Text" : "Reply",
                "label2Text" : "Add Files",
                "label3Text" : "Remove All",
                "label4Text" : "File Name",
                "label5Text" : "Size",

                "sendButtonText" : "Send",
                "discardButtonText" : "Discard"
            },
            'EmailChainView' : {
                "attachmentText" : "Attachment"
            },
            'InboxView' : {
                "breadCrumb1" : "Services Options",
                "breadCrumb2" : "E-Mails",
                "breadCrumb3" : "Inbox",
                "viewHeaderText" : "Inbox",
                "deleteText" : "Delete",
                "linkText" : "Send E-Mail"
            },
            'SentView' : {
                "breadCrumb1" : "Services Options",
                "breadCrumb2" : "E-Mails",
                "breadCrumb3" : "Sent",
                "viewHeaderText" : "Sent",
                "deleteText" : "Delete",
                "linkText" : "Send E-Mail"
            },
            'TrashView' : {
                "breadCrumb1" : "Services Options",
                "breadCrumb2" : "E-Mails",
                "breadCrumb3" : "Trash",
                "viewHeaderText" : "Trash",
                "deleteText" : "Delete",
                "emptyTrashText" : "Empty Trash"
            },

            // Calculators
            'BondCalculatorView' : {
                "breadCrumb1" : "Calculators",
                "breadCrumb2" : "Bond Calculators",
                "viewHeaderText" : "Bond Calculators",
                "viewHeaderInfoText1" : "This Bond calculator is used to calculate savings bond scenarios.<br>This calculator is offered as a convenience, please remember it is controlled by a third party and should be used for estimation only.<br>The bank is not liable for accuracy of these calculators.",
                "viewHeaderInfoText2" : "All fields are mandatory unless otherwise noted.",
                "inputsText" : "Inputs",
                "seriesText" : "Series",
                "selectSeriesText" : "Select Series",
                "series1" : "E",
                "series2" : "EE",
                "series3" : "I",
                "series4" : "S",
                "denominationText" : "Denomination",
                "selectDenominationText" : "Select Denomination",
                "issuedMonthText" : "Issued Month",
                "selectMonthText" : "Select Month",
                "month1" : "January",
                "month2" : "February",
                "month3" : "March",
                "month4" : "April",
                "month5" : "May",
                "month6" : "June",
                "month7" : "July",
                "month8" : "August",
                "month9" : "September",
                "month10" : "October",
                "month11" : "November",
                "month12" : "December",
                "yearText" : "Year",
                "calculateText" : "Calculate",
                "resetText" : "Reset",
                "resultsText" : "Results",
                "instParaText" : 'To view results, please enter inputs and click on "Calculate".',
                "valueText" : "Value",
                "interestText" : "Interest",
                "issuedMonthYearText" : "Issued Month/Year",
                "denomination" : "Denomination",
                "warningMsg1" : "For E Series Bonds Issued Date should be between May 1941 and June 1980",
                "warningMsg2" : "For EE Series Bonds Issued Date cannot be less than July 1980",
                "warningMsg3" : "For I Series Bonds Issued Date cannot be less than September 1998",
                "warningMsg4" : "For S Series Bonds Issued Date should be between May 1967 and October 1970",
                "warningMsg5" : "Issued Month and Year cannot be more than or equal to current date",
                "warningMsg6" : "No bond was issued in the period of",
                "warningMsg7" : "Minimum holding period"
            },
            'LoanCalculatorView' : {
                "breadCrumb1" : "Calculators",
                "breadCrumb2" : "Loan Calculators",
                "viewHeaderText" : "Loan Calculators",
                "viewHeaderInfoText1" : "This Loan calculator is used to calculate loan and payment scenarios.<br>This calculator is offered as a convenience, please remember it is controlled by a third party and should be used for estimation only.<br>The bank is not liable for accuracy of these calculators.",
                "viewHeaderInfoText2" : "All fields are mandatory unless otherwise noted.",
                "inputsText" : "Inputs",
                "loanAmtText" : "Loan Amount",
                "intRateText" : "Interest Rate",
                "noOfMonthsText" : "Number of Months",
                "showScheduleText" : "Show Schedule",
                "calculateText" : "Calculate",
                "resetText" : "Reset",
                "resultsText" : "Results",
                "instParaText" : 'To view results, please enter inputs and click on "Calculate".',
                "totalIntText" : "Total Interest",
                "totalPays" : "Total of Payments",
                "payAmtText" : "Payment Amount",
                "maturityDateText" : "Maturity Date",
                "viewScheduleText" : "View Schedule",
                "scheduleText" : "Schedule",
                "payNoText" : "Payment No.",
                "monthYearText" : "Month / Year",
                "principalText" : "Principal",
                "interestText" : "Interest",
                "balanceText" : "Balance",
                "totalIntPaidText" : "Total Interest Paid",
                "intPaidYTDText" : "Interest Paid YTD"
            },
            'SavingsCalculatorView' : {
                "breadCrumb1" : "Calculators",
                "breadCrumb2" : "Savings Calculators",
                "viewHeaderText" : "Savings Calculators",
                "viewHeaderInfoText1" : "This Savings calculator is used to calculate saving scenarios.<br>This calculator is offered as a convenience, please remember it is controlled by a third party and should be used for estimation only.<br>The bank is not liable for accuracy of these calculators.",
                "viewHeaderInfoText2" : "All fields are mandatory unless otherwise noted.",
                "inputsText" : "Inputs",
                "openingBalText" : "Opening Balance",
                "monthlyDepText" : "Monthly Deposit",
                "periodText" : "Period",
                "inMonthsText" : "In Months",
                "annInterestText" : "Annual Interest",
                "compMonthlyText" : "Compounded Monthly",
                "showScheduleText" : "Show Schedule",
                "calculateText" : "Calculate",
                "resetText" : "Reset",
                "resultsText" : "Results",
                "instParaText" : 'To view results, please enter inputs and click on "Calculate".',
                "principalText" : "Principal",
                "intEarnedText" : "Interest Earned",
                "totalText" : "Total",
                "noOfDepText" : "Number of Deposits",
                "lastDepText" : "Last Deposit",
                "viewScheduleText" : "View Schedule",
                "scheduleText" : "Schedule",
                "depNoText" : "Deposit No.",
                "monthYearText" : "Month / Year",
                "depositsText" : "Deposits",
                "interestText" : "Interest",
                "totalDepText" : "Total Deposit",
                "totalIntText" : "Total Interest",
                "balanceText" : "Balance",
                "intPaidYTDText" : "Interest Paid YTD"
            },


            //--------------------------------------------------
            //----- User Management ----- ***********
            'UsersView' : {
                "breadCrumb1" : "User Management",
                "breadCrumb2" : "Users",
                "viewHeaderText" : "Users",
                "linkText" : "Create New User",

                "tableHead1Text" : "User ID",
                "tableHead2Text" : "Name",
                "tableHead3Text" : "Security Status",
                "tableHead4Text" : "User Access Actions",

                "confirmText" : "Confirm",
                "deleteMsgText" : "Are you sure you want to delete the following user?",
                "yesText" : "Yes",
                "noText" : "No"
            },
            'CreateNewUserView' : {
                "breadCrumb1" : "User Management",
                "breadCrumb2" : "Create New User",
                "viewHeaderText" : "Create New Users",

                "label1Text" : "User ID",
                "label2Text" : "Check Availability",
                "label3Text" : "Customer Name",
                "label4Text" : "Email ID",
                "label5Text" : "Mobile No.",

                "tableHeaderText1" : "Access to Accounts",
                "tableHeaderText2" : "Access to Pages",
                "tableHeaderText3" : "Transaction Limits",

                "tableHead1Text" : "Access",
                "tableHead2Text" : "Transfer Access",
                "tableHead3Text" : "Account",
                "tableHead4Text" : "Product Name",
                "tableHead5Text" : "Owner",

                "option1Text" : "Accounts",
                "option2Text" : "Accounts Overview",
                "option3Text" : "Details / History",
                "option4Text" : "Statement",

                "option5Text" : "Payments and Transfers",
                "option6Text" : "Transfer Money",
                "option7Text" : "Pay Bills",

                "option8Text" : "Wire Transfer",
                "option9Text" : "Beneficiary Registration",
                "option10Text" : "Registered Beneficiaries",
                "option11Text" : "Wire Transfer Request",
                "option12Text" : "Wire Transfer Authorization",

                "option13Text" : "Business Services",
                "option14Text" : "Positive Pay",
                "option15Text" : "Bill Pay",

                "option16Text" : "ACH Transfer",
                "option17Text" : "ACH Batch Summary",
                "option18Text" : "Create New Batch",
                "option19Text" : "ACH Recipients",
                "option42Text" : "Add New Recipients",
                "option20Text" : "ACH Batch Authorization",
                "option21Text" : "ACH File Import",
                "option22Text" : "ACH Import Authorization",

                "option23Text" : "Other Services",
                "option24Text" : "Order Checks",
                "option25Text" : "Stop Payment",

                "option26Text" : "Profile Management",
                "option27Text" : "Change Personal Information",
                "option28Text" : "Change Security Questions",
                "option29Text" : "Change Password",
                "option30Text" : "Reminders",
                "option31Text" : "Alerts",

                "option32Text" : "Administrative Tools",
                "option33Text" : "Session Report",
                "option34Text" : "Emails",
                "option35Text" : "User Management",
                "option36Text" : "Users",
                "option37Text" : "Create New User",

                "option38Text" : "Calculators",
                "option39Text" : "Loan",
                "option40Text" : "Savings",
                "option41Text" : "Bonds",

                "limitsHeader1Text" : "Transfer Money",
                "limitsHeader2Text" : "Wire Transfer",
                "limitsHeader3Text" : "ACH Transfer",

                "limitsLabel1Text" : "Transfer Limit Per Transaction",
                "limitsLabel2Text" : "Transfer Limit Per Day",
                "limitsLabel3Text" : "Wire Transfer Limit Per Transaction",
                "limitsLabel4Text" : "Wire Transfer Limit Per Day",
                "limitsLabel5Text" : "ACH Debit Limit Per Transaction",
                "limitsLabel6Text" : "ACH Debit Limit Per Day",
                "limitsLabel7Text" : "ACH Credit Limit Per Transaction",
                "limitsLabel8Text" : "ACH Credit Limit Per Day",

                "limitsOption1Text" : "Restrict Wire Recipient Edit",
                "limitsOption2Text" : "Restrict Effective Date Field Edit in ACH Process",

                "selectQuestionText" : "Select Security Question",
                "questionText" : "Question",
                "answerText" : "Answer",

                "saveButtonText" : "Save",
                "cancelButtonText" : "Cancel"
            },
            'EditUserView' : {
                "breadCrumb1" : "User Management",
                "breadCrumb2" : "Users",
                "breadCrumb3" : "Edit User",
                "viewHeaderText" : "Edit User",

                "label1Text" : "User ID",

                "tableHeaderText1" : "Access to Accounts",
                "tableHeaderText2" : "Access to Pages",
                "tableHeaderText3" : "Transaction Limits",
                "tableHeaderText4" : "Security Questions",

                "tableHead1Text" : "Access",
                "tableHead2Text" : "Transfer Access",
                "tableHead3Text" : "Account",
                "tableHead4Text" : "Product Name",
                "tableHead5Text" : "Owner",

                "option1Text" : "Accounts",
                "option2Text" : "Accounts Overview",
                "option3Text" : "Details / History",
                "option4Text" : "Statement",

                "option5Text" : "Payments and Transfers",
                "option6Text" : "Transfer Money",
                "option7Text" : "Pay Bills",

                "option8Text" : "Wire Transfer",
                "option9Text" : "Beneficiary Registration",
                "option10Text" : "Registered Beneficiaries",
                "option11Text" : "Wire Transfer Request",
                "option12Text" : "Wire Transfer Authorization",

                "option13Text" : "Business Services",
                "option14Text" : "Positive Pay",
                "option15Text" : "Bill Pay",

                "option16Text" : "ACH Transfer",
                "option17Text" : "ACH Batch Summary",
                "option18Text" : "Create New Batch",
                "option19Text" : "ACH Recipients",
                "option42Text" : "Add New Recipients",
                "option20Text" : "ACH Batch Authorization",
                "option21Text" : "ACH File Import",
                "option22Text" : "ACH Import Authorization",

                "option23Text" : "Other Services",
                "option24Text" : "Order Checks",
                "option25Text" : "Stop Payment",

                "option26Text" : "Profile Management",
                "option27Text" : "Change Personal Information",
                "option28Text" : "Change Security Questions",
                "option29Text" : "Change Password",
                "option30Text" : "Reminders",
                "option31Text" : "Alerts",

                "option32Text" : "Administrative Tools",
                "option33Text" : "Session Report",
                "option34Text" : "Emails",
                "option35Text" : "User Management",
                "option36Text" : "Users",
                "option37Text" : "Create New User",

                "option38Text" : "Calculators",
                "option39Text" : "Loan",
                "option40Text" : "Savings",
                "option41Text" : "Bonds",

                "saveButtonText" : "Save",
                "cancelButtonText" : "Cancel"
            }

        };

        if(window.langSelected == "EN"){
            return ENGLISH;
        }else if(window.langSelected == "FR"){
            return ENGLISH;
        }else if(window.langSelected == "DE"){
            return ENGLISH;
        }else if(window.langSelected == "IT"){
            return ENGLISH;
        }else if(window.langSelected == "ES"){
            return ENGLISH;
        }else{
            return ENGLISH;
        }

    }();
})();
},{}],16:[function(require,module,exports){
// Backbone.BabySitter
// -------------------
// v0.1.5
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.babysitter

(function(root, factory) {

    if (typeof define === 'function' && define.amd) {
        define(['backbone', 'underscore'], function(Backbone, _) {
            return factory(Backbone, _);
        });
    } else if (typeof exports !== 'undefined') {
        var Backbone = require('./backbone');
        var _ = require('./underscore');
        module.exports = factory(Backbone, _);
    } else {
        factory(root.Backbone, root._);
    }

}(this, function(Backbone, _) {
    'use strict';

    var previousChildViewContainer = Backbone.ChildViewContainer;

    // BabySitter.ChildViewContainer
    // -----------------------------
    //
    // Provide a container to store, retrieve and
    // shut down child views.

    Backbone.ChildViewContainer = (function (Backbone, _) {

        // Container Constructor
        // ---------------------

        var Container = function(views){
            this._views = {};
            this._indexByModel = {};
            this._indexByCustom = {};
            this._updateLength();

            _.each(views, this.add, this);
        };

        // Container Methods
        // -----------------

        _.extend(Container.prototype, {

            // Add a view to this container. Stores the view
            // by `cid` and makes it searchable by the model
            // cid (and model itself). Optionally specify
            // a custom key to store an retrieve the view.
            add: function(view, customIndex){
                var viewCid = view.cid;

                // store the view
                this._views[viewCid] = view;

                // index it by model
                if (view.model){
                    this._indexByModel[view.model.cid] = viewCid;
                }

                // index by custom
                if (customIndex){
                    this._indexByCustom[customIndex] = viewCid;
                }

                this._updateLength();
                return this;
            },

            // Find a view by the model that was attached to
            // it. Uses the model's `cid` to find it.
            findByModel: function(model){
                return this.findByModelCid(model.cid);
            },

            // Find a view by the `cid` of the model that was attached to
            // it. Uses the model's `cid` to find the view `cid` and
            // retrieve the view using it.
            findByModelCid: function(modelCid){
                var viewCid = this._indexByModel[modelCid];
                return this.findByCid(viewCid);
            },

            // Find a view by a custom indexer.
            findByCustom: function(index){
                var viewCid = this._indexByCustom[index];
                return this.findByCid(viewCid);
            },

            // Find by index. This is not guaranteed to be a
            // stable index.
            findByIndex: function(index){
                return _.values(this._views)[index];
            },

            // retrieve a view by its `cid` directly
            findByCid: function(cid){
                return this._views[cid];
            },

            // Remove a view
            remove: function(view){
                var viewCid = view.cid;

                // delete model index
                if (view.model){
                    delete this._indexByModel[view.model.cid];
                }

                // delete custom index
                _.any(this._indexByCustom, function(cid, key) {
                    if (cid === viewCid) {
                        delete this._indexByCustom[key];
                        return true;
                    }
                }, this);

                // remove the view from the container
                delete this._views[viewCid];

                // update the length
                this._updateLength();
                return this;
            },

            // Call a method on every view in the container,
            // passing parameters to the call method one at a
            // time, like `function.call`.
            call: function(method){
                this.apply(method, _.tail(arguments));
            },

            // Apply a method on every view in the container,
            // passing parameters to the call method one at a
            // time, like `function.apply`.
            apply: function(method, args){
                _.each(this._views, function(view){
                    if (_.isFunction(view[method])){
                        view[method].apply(view, args || []);
                    }
                });
            },

            // Update the `.length` attribute on this container
            _updateLength: function(){
                this.length = _.size(this._views);
            }
        });

        // Borrowing this code from Backbone.Collection:
        // http://backbonejs.org/docs/backbone.html#section-106
        //
        // Mix in methods from Underscore, for iteration, and other
        // collection related features.
        var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',
            'select', 'reject', 'every', 'all', 'some', 'any', 'include',
            'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',
            'last', 'without', 'isEmpty', 'pluck'];

        _.each(methods, function(method) {
            Container.prototype[method] = function() {
                var views = _.values(this._views);
                var args = [views].concat(_.toArray(arguments));
                return _[method].apply(_, args);
            };
        });

        // return the public API
        return Container;
    })(Backbone, _);


    Backbone.ChildViewContainer.VERSION = '0.1.5';

    Backbone.ChildViewContainer.noConflict = function () {
        Backbone.ChildViewContainer = previousChildViewContainer;
        return this;
    };

    return Backbone.ChildViewContainer;

}));
},{"./backbone":17,"./underscore":64}],17:[function(require,module,exports){
//     Backbone.js 1.1.2

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

(function(root, factory) {

    // Set up Backbone appropriately for the environment. Start with AMD.
    if (typeof define === 'function' && define.amd) {
        define(['underscore', 'jquery', 'exports'], function(_, $, exports) {
            // Export global even in AMD case in case this script is loaded with
            // others that may still expect a global Backbone.
            root.Backbone = factory(root, exports, _, $);
        });

        // Next for Node.js or CommonJS. jQuery may not be needed as a module.
    } else if (typeof exports !== 'undefined') {
        var _ = require('./underscore');
        factory(root, exports, _);

        // Finally, as a browser global.
    } else {
        root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));
    }

}(this, function(root, Backbone, _, $) {

    // Initial Setup
    // -------------

    // Save the previous value of the `Backbone` variable, so that it can be
    // restored later on, if `noConflict` is used.
    var previousBackbone = root.Backbone;

    // Create local references to array methods we'll want to use later.
    var array = [];
    var push = array.push;
    var slice = array.slice;
    var splice = array.splice;

    // Current version of the library. Keep in sync with `package.json`.
    Backbone.VERSION = '1.1.2';

    // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns
    // the `$` variable.
    Backbone.$ = require('./jquery');

    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable
    // to its previous owner. Returns a reference to this Backbone object.
    Backbone.noConflict = function() {
        root.Backbone = previousBackbone;
        return this;
    };

    // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option
    // will fake `"PATCH"`, `"PUT"` and `"DELETE"` requests via the `_method` parameter and
    // set a `X-Http-Method-Override` header.
    Backbone.emulateHTTP = false;

    // Turn on `emulateJSON` to support legacy servers that can't deal with direct
    // `application/json` requests ... will encode the body as
    // `application/x-www-form-urlencoded` instead and will send the model in a
    // form param named `model`.
    Backbone.emulateJSON = false;

    // Backbone.Events
    // ---------------

    // A module that can be mixed in to *any object* in order to provide it with
    // custom events. You may bind with `on` or remove with `off` callback
    // functions to an event; `trigger`-ing an event fires all callbacks in
    // succession.
    //
    //     var object = {};
    //     _.extend(object, Backbone.Events);
    //     object.on('expand', function(){ alert('expanded'); });
    //     object.trigger('expand');
    //
    var Events = Backbone.Events = {

        // Bind an event to a `callback` function. Passing `"all"` will bind
        // the callback to all events fired.
        on: function(name, callback, context) {
            if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;
            this._events || (this._events = {});
            var events = this._events[name] || (this._events[name] = []);
            events.push({callback: callback, context: context, ctx: context || this});
            return this;
        },

        // Bind an event to only be triggered a single time. After the first time
        // the callback is invoked, it will be removed.
        once: function(name, callback, context) {
            if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;
            var self = this;
            var once = _.once(function() {
                self.off(name, once);
                callback.apply(this, arguments);
            });
            once._callback = callback;
            return this.on(name, once, context);
        },

        // Remove one or many callbacks. If `context` is null, removes all
        // callbacks with that function. If `callback` is null, removes all
        // callbacks for the event. If `name` is null, removes all bound
        // callbacks for all events.
        off: function(name, callback, context) {
            var retain, ev, events, names, i, l, j, k;
            if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;
            if (!name && !callback && !context) {
                this._events = void 0;
                return this;
            }
            names = name ? [name] : _.keys(this._events);
            for (i = 0, l = names.length; i < l; i++) {
                name = names[i];
                if (events = this._events[name]) {
                    this._events[name] = retain = [];
                    if (callback || context) {
                        for (j = 0, k = events.length; j < k; j++) {
                            ev = events[j];
                            if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||
                                (context && context !== ev.context)) {
                                retain.push(ev);
                            }
                        }
                    }
                    if (!retain.length) delete this._events[name];
                }
            }

            return this;
        },

        // Trigger one or many events, firing all bound callbacks. Callbacks are
        // passed the same arguments as `trigger` is, apart from the event name
        // (unless you're listening on `"all"`, which will cause your callback to
        // receive the true name of the event as the first argument).
        trigger: function(name) {
            if (!this._events) return this;
            var args = slice.call(arguments, 1);
            if (!eventsApi(this, 'trigger', name, args)) return this;
            var events = this._events[name];
            var allEvents = this._events.all;
            if (events) triggerEvents(events, args);
            if (allEvents) triggerEvents(allEvents, arguments);
            return this;
        },

        // Tell this object to stop listening to either specific events ... or
        // to every object it's currently listening to.
        stopListening: function(obj, name, callback) {
            var listeningTo = this._listeningTo;
            if (!listeningTo) return this;
            var remove = !name && !callback;
            if (!callback && typeof name === 'object') callback = this;
            if (obj) (listeningTo = {})[obj._listenId] = obj;
            for (var id in listeningTo) {
                obj = listeningTo[id];
                obj.off(name, callback, this);
                if (remove || _.isEmpty(obj._events)) delete this._listeningTo[id];
            }
            return this;
        }

    };

    // Regular expression used to split event strings.
    var eventSplitter = /\s+/;

    // Implement fancy features of the Events API such as multiple event
    // names `"change blur"` and jQuery-style event maps `{change: action}`
    // in terms of the existing API.
    var eventsApi = function(obj, action, name, rest) {
        if (!name) return true;

        // Handle event maps.
        if (typeof name === 'object') {
            for (var key in name) {
                obj[action].apply(obj, [key, name[key]].concat(rest));
            }
            return false;
        }

        // Handle space separated event names.
        if (eventSplitter.test(name)) {
            var names = name.split(eventSplitter);
            for (var i = 0, l = names.length; i < l; i++) {
                obj[action].apply(obj, [names[i]].concat(rest));
            }
            return false;
        }

        return true;
    };

    // A difficult-to-believe, but optimized internal dispatch function for
    // triggering events. Tries to keep the usual cases speedy (most internal
    // Backbone events have 3 arguments).
    var triggerEvents = function(events, args) {
        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];
        switch (args.length) {
            case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;
            case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;
            case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;
            case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;
            default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;
        }
    };

    var listenMethods = {listenTo: 'on', listenToOnce: 'once'};

    // Inversion-of-control versions of `on` and `once`. Tell *this* object to
    // listen to an event in another object ... keeping track of what it's
    // listening to.
    _.each(listenMethods, function(implementation, method) {
        Events[method] = function(obj, name, callback) {
            var listeningTo = this._listeningTo || (this._listeningTo = {});
            var id = obj._listenId || (obj._listenId = _.uniqueId('l'));
            listeningTo[id] = obj;
            if (!callback && typeof name === 'object') callback = this;
            obj[implementation](name, callback, this);
            return this;
        };
    });

    // Aliases for backwards compatibility.
    Events.bind   = Events.on;
    Events.unbind = Events.off;

    // Allow the `Backbone` object to serve as a global event bus, for folks who
    // want global "pubsub" in a convenient place.
    _.extend(Backbone, Events);

    // Backbone.Model
    // --------------

    // Backbone **Models** are the basic data object in the framework --
    // frequently representing a row in a table in a database on your server.
    // A discrete chunk of data and a bunch of useful, related methods for
    // performing computations and transformations on that data.

    // Create a new model with the specified attributes. A client id (`cid`)
    // is automatically generated and assigned for you.
    var Model = Backbone.Model = function(attributes, options) {
        var attrs = attributes || {};
        options || (options = {});
        this.cid = _.uniqueId('c');
        this.attributes = {};
        if (options.collection) this.collection = options.collection;
        if (options.parse) attrs = this.parse(attrs, options) || {};
        attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
        this.set(attrs, options);
        this.changed = {};
        this.initialize.apply(this, arguments);
    };

    // Attach all inheritable methods to the Model prototype.
    _.extend(Model.prototype, Events, {

        // A hash of attributes whose current and previous value differ.
        changed: null,

        // The value returned during the last failed validation.
        validationError: null,

        // The default name for the JSON `id` attribute is `"id"`. MongoDB and
        // CouchDB users may want to set this to `"_id"`.
        idAttribute: 'id',

        // Initialize is an empty function by default. Override it with your own
        // initialization logic.
        initialize: function(){},

        // Return a copy of the model's `attributes` object.
        toJSON: function(options) {
            return _.clone(this.attributes);
        },

        // Proxy `Backbone.sync` by default -- but override this if you need
        // custom syncing semantics for *this* particular model.
        sync: function() {
            return Backbone.sync.apply(this, arguments);
        },

        // Get the value of an attribute.
        get: function(attr) {
            return this.attributes[attr];
        },

        // Get the HTML-escaped value of an attribute.
        escape: function(attr) {
            return _.escape(this.get(attr));
        },

        // Returns `true` if the attribute contains a value that is not null
        // or undefined.
        has: function(attr) {
            return this.get(attr) != null;
        },

        // Set a hash of model attributes on the object, firing `"change"`. This is
        // the core primitive operation of a model, updating the data and notifying
        // anyone who needs to know about the change in state. The heart of the beast.
        set: function(key, val, options) {
            var attr, attrs, unset, changes, silent, changing, prev, current;
            if (key == null) return this;

            // Handle both `"key", value` and `{key: value}` -style arguments.
            if (typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }

            options || (options = {});

            // Run validation.
            if (!this._validate(attrs, options)) return false;

            // Extract attributes and options.
            unset           = options.unset;
            silent          = options.silent;
            changes         = [];
            changing        = this._changing;
            this._changing  = true;

            if (!changing) {
                this._previousAttributes = _.clone(this.attributes);
                this.changed = {};
            }
            current = this.attributes, prev = this._previousAttributes;

            // Check for changes of `id`.
            if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];

            // For each `set` attribute, update or delete the current value.
            for (attr in attrs) {
                val = attrs[attr];
                if (!_.isEqual(current[attr], val)) changes.push(attr);
                if (!_.isEqual(prev[attr], val)) {
                    this.changed[attr] = val;
                } else {
                    delete this.changed[attr];
                }
                unset ? delete current[attr] : current[attr] = val;
            }

            // Trigger all relevant attribute changes.
            if (!silent) {
                if (changes.length) this._pending = options;
                for (var i = 0, l = changes.length; i < l; i++) {
                    this.trigger('change:' + changes[i], this, current[changes[i]], options);
                }
            }

            // You might be wondering why there's a `while` loop here. Changes can
            // be recursively nested within `"change"` events.
            if (changing) return this;
            if (!silent) {
                while (this._pending) {
                    options = this._pending;
                    this._pending = false;
                    this.trigger('change', this, options);
                }
            }
            this._pending = false;
            this._changing = false;
            return this;
        },

        // Remove an attribute from the model, firing `"change"`. `unset` is a noop
        // if the attribute doesn't exist.
        unset: function(attr, options) {
            return this.set(attr, void 0, _.extend({}, options, {unset: true}));
        },

        // Clear all attributes on the model, firing `"change"`.
        clear: function(options) {
            var attrs = {};
            for (var key in this.attributes) attrs[key] = void 0;
            return this.set(attrs, _.extend({}, options, {unset: true}));
        },

        // Determine if the model has changed since the last `"change"` event.
        // If you specify an attribute name, determine if that attribute has changed.
        hasChanged: function(attr) {
            if (attr == null) return !_.isEmpty(this.changed);
            return _.has(this.changed, attr);
        },

        // Return an object containing all the attributes that have changed, or
        // false if there are no changed attributes. Useful for determining what
        // parts of a view need to be updated and/or what attributes need to be
        // persisted to the server. Unset attributes will be set to undefined.
        // You can also pass an attributes object to diff against the model,
        // determining if there *would be* a change.
        changedAttributes: function(diff) {
            if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;
            var val, changed = false;
            var old = this._changing ? this._previousAttributes : this.attributes;
            for (var attr in diff) {
                if (_.isEqual(old[attr], (val = diff[attr]))) continue;
                (changed || (changed = {}))[attr] = val;
            }
            return changed;
        },

        // Get the previous value of an attribute, recorded at the time the last
        // `"change"` event was fired.
        previous: function(attr) {
            if (attr == null || !this._previousAttributes) return null;
            return this._previousAttributes[attr];
        },

        // Get all of the attributes of the model at the time of the previous
        // `"change"` event.
        previousAttributes: function() {
            return _.clone(this._previousAttributes);
        },

        // Fetch the model from the server. If the server's representation of the
        // model differs from its current attributes, they will be overridden,
        // triggering a `"change"` event.
        fetch: function(options) {
            options = options ? _.clone(options) : {};
            if (options.parse === void 0) options.parse = true;
            var model = this;
            var success = options.success;
            options.success = function(resp) {
                if (!model.set(model.parse(resp, options), options)) return false;
                if (success) success(model, resp, options);
                model.trigger('sync', model, resp, options);
            };
            wrapError(this, options);
            return this.sync('read', this, options);
        },

        // Set a hash of model attributes, and sync the model to the server.
        // If the server returns an attributes hash that differs, the model's
        // state will be `set` again.
        save: function(key, val, options) {
            var attrs, method, xhr, attributes = this.attributes;

            // Handle both `"key", value` and `{key: value}` -style arguments.
            if (key == null || typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }

            options = _.extend({validate: true}, options);

            // If we're not waiting and attributes exist, save acts as
            // `set(attr).save(null, opts)` with validation. Otherwise, check if
            // the model will be valid when the attributes, if any, are set.
            if (attrs && !options.wait) {
                if (!this.set(attrs, options)) return false;
            } else {
                if (!this._validate(attrs, options)) return false;
            }

            // Set temporary attributes if `{wait: true}`.
            if (attrs && options.wait) {
                this.attributes = _.extend({}, attributes, attrs);
            }

            // After a successful server-side save, the client is (optionally)
            // updated with the server-side state.
            if (options.parse === void 0) options.parse = true;
            var model = this;
            var success = options.success;
            options.success = function(resp) {
                // Ensure attributes are restored during synchronous saves.
                model.attributes = attributes;
                var serverAttrs = model.parse(resp, options);
                if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);
                if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {
                    return false;
                }
                if (success) success(model, resp, options);
                model.trigger('sync', model, resp, options);
            };
            wrapError(this, options);

            method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');
            if (method === 'patch') options.attrs = attrs;
            xhr = this.sync(method, this, options);

            // Restore attributes.
            if (attrs && options.wait) this.attributes = attributes;

            return xhr;
        },

        // Destroy this model on the server if it was already persisted.
        // Optimistically removes the model from its collection, if it has one.
        // If `wait: true` is passed, waits for the server to respond before removal.
        destroy: function(options) {
            options = options ? _.clone(options) : {};
            var model = this;
            var success = options.success;

            var destroy = function() {
                model.trigger('destroy', model, model.collection, options);
            };

            options.success = function(resp) {
                if (options.wait || model.isNew()) destroy();
                if (success) success(model, resp, options);
                if (!model.isNew()) model.trigger('sync', model, resp, options);
            };

            if (this.isNew()) {
                options.success();
                return false;
            }
            wrapError(this, options);

            var xhr = this.sync('delete', this, options);
            if (!options.wait) destroy();
            return xhr;
        },

        // Default URL for the model's representation on the server -- if you're
        // using Backbone's restful methods, override this to change the endpoint
        // that will be called.
        url: function() {
            var base =
                _.result(this, 'urlRoot') ||
                _.result(this.collection, 'url') ||
                urlError();
            if (this.isNew()) return base;
            return base.replace(/([^\/])$/, '$1/') + encodeURIComponent(this.id);
        },

        // **parse** converts a response into the hash of attributes to be `set` on
        // the model. The default implementation is just to pass the response along.
        parse: function(resp, options) {
            return resp;
        },

        // Create a new model with identical attributes to this one.
        clone: function() {
            return new this.constructor(this.attributes);
        },

        // A model is new if it has never been saved to the server, and lacks an id.
        isNew: function() {
            return !this.has(this.idAttribute);
        },

        // Check if the model is currently in a valid state.
        isValid: function(options) {
            return this._validate({}, _.extend(options || {}, { validate: true }));
        },

        // Run validation against the next complete set of model attributes,
        // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
        _validate: function(attrs, options) {
            if (!options.validate || !this.validate) return true;
            attrs = _.extend({}, this.attributes, attrs);
            var error = this.validationError = this.validate(attrs, options) || null;
            if (!error) return true;
            this.trigger('invalid', this, error, _.extend(options, {validationError: error}));
            return false;
        }

    });

    // Underscore methods that we want to implement on the Model.
    var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit'];

    // Mix in each Underscore method as a proxy to `Model#attributes`.
    _.each(modelMethods, function(method) {
        Model.prototype[method] = function() {
            var args = slice.call(arguments);
            args.unshift(this.attributes);
            return _[method].apply(_, args);
        };
    });

    // Backbone.Collection
    // -------------------

    // If models tend to represent a single row of data, a Backbone Collection is
    // more analagous to a table full of data ... or a small slice or page of that
    // table, or a collection of rows that belong together for a particular reason
    // -- all of the messages in this particular folder, all of the documents
    // belonging to this particular author, and so on. Collections maintain
    // indexes of their models, both in order, and for lookup by `id`.

    // Create a new **Collection**, perhaps to contain a specific type of `model`.
    // If a `comparator` is specified, the Collection will maintain
    // its models in sort order, as they're added and removed.
    var Collection = Backbone.Collection = function(models, options) {
        options || (options = {});
        if (options.model) this.model = options.model;
        if (options.comparator !== void 0) this.comparator = options.comparator;
        this._reset();
        this.initialize.apply(this, arguments);
        if (models) this.reset(models, _.extend({silent: true}, options));
    };

    // Default options for `Collection#set`.
    var setOptions = {add: true, remove: true, merge: true};
    var addOptions = {add: true, remove: false};

    // Define the Collection's inheritable methods.
    _.extend(Collection.prototype, Events, {

        // The default model for a collection is just a **Backbone.Model**.
        // This should be overridden in most cases.
        model: Model,

        // Initialize is an empty function by default. Override it with your own
        // initialization logic.
        initialize: function(){},

        // The JSON representation of a Collection is an array of the
        // models' attributes.
        toJSON: function(options) {
            return this.map(function(model){ return model.toJSON(options); });
        },

        // Proxy `Backbone.sync` by default.
        sync: function() {
            return Backbone.sync.apply(this, arguments);
        },

        // Add a model, or list of models to the set.
        add: function(models, options) {
            return this.set(models, _.extend({merge: false}, options, addOptions));
        },

        // Remove a model, or a list of models from the set.
        remove: function(models, options) {
            var singular = !_.isArray(models);
            models = singular ? [models] : _.clone(models);
            options || (options = {});
            var i, l, index, model;
            for (i = 0, l = models.length; i < l; i++) {
                model = models[i] = this.get(models[i]);
                if (!model) continue;
                delete this._byId[model.id];
                delete this._byId[model.cid];
                index = this.indexOf(model);
                this.models.splice(index, 1);
                this.length--;
                if (!options.silent) {
                    options.index = index;
                    model.trigger('remove', model, this, options);
                }
                this._removeReference(model, options);
            }
            return singular ? models[0] : models;
        },

        // Update a collection by `set`-ing a new list of models, adding new ones,
        // removing models that are no longer present, and merging models that
        // already exist in the collection, as necessary. Similar to **Model#set**,
        // the core operation for updating the data contained by the collection.
        set: function(models, options) {
            options = _.defaults({}, options, setOptions);
            if (options.parse) models = this.parse(models, options);
            var singular = !_.isArray(models);
            models = singular ? (models ? [models] : []) : _.clone(models);
            var i, l, id, model, attrs, existing, sort;
            var at = options.at;
            var targetModel = this.model;
            var sortable = this.comparator && (at == null) && options.sort !== false;
            var sortAttr = _.isString(this.comparator) ? this.comparator : null;
            var toAdd = [], toRemove = [], modelMap = {};
            var add = options.add, merge = options.merge, remove = options.remove;
            var order = !sortable && add && remove ? [] : false;

            // Turn bare objects into model references, and prevent invalid models
            // from being added.
            for (i = 0, l = models.length; i < l; i++) {
                attrs = models[i] || {};
                if (attrs instanceof Model) {
                    id = model = attrs;
                } else {
                    id = attrs[targetModel.prototype.idAttribute || 'id'];
                }

                // If a duplicate is found, prevent it from being added and
                // optionally merge it into the existing model.
                if (existing = this.get(id)) {
                    if (remove) modelMap[existing.cid] = true;
                    if (merge) {
                        attrs = attrs === model ? model.attributes : attrs;
                        if (options.parse) attrs = existing.parse(attrs, options);
                        existing.set(attrs, options);
                        if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;
                    }
                    models[i] = existing;

                    // If this is a new, valid model, push it to the `toAdd` list.
                } else if (add) {
                    model = models[i] = this._prepareModel(attrs, options);
                    if (!model) continue;
                    toAdd.push(model);
                    this._addReference(model, options);
                }

                // Do not add multiple models with the same `id`.
                model = existing || model;
                if (order && (model.isNew() || !modelMap[model.id])) order.push(model);
                modelMap[model.id] = true;
            }

            // Remove nonexistent models if appropriate.
            if (remove) {
                for (i = 0, l = this.length; i < l; ++i) {
                    if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);
                }
                if (toRemove.length) this.remove(toRemove, options);
            }

            // See if sorting is needed, update `length` and splice in new models.
            if (toAdd.length || (order && order.length)) {
                if (sortable) sort = true;
                this.length += toAdd.length;
                if (at != null) {
                    for (i = 0, l = toAdd.length; i < l; i++) {
                        this.models.splice(at + i, 0, toAdd[i]);
                    }
                } else {
                    if (order) this.models.length = 0;
                    var orderedModels = order || toAdd;
                    for (i = 0, l = orderedModels.length; i < l; i++) {
                        this.models.push(orderedModels[i]);
                    }
                }
            }

            // Silently sort the collection if appropriate.
            if (sort) this.sort({silent: true});

            // Unless silenced, it's time to fire all appropriate add/sort events.
            if (!options.silent) {
                for (i = 0, l = toAdd.length; i < l; i++) {
                    (model = toAdd[i]).trigger('add', model, this, options);
                }
                if (sort || (order && order.length)) this.trigger('sort', this, options);
            }

            // Return the added (or merged) model (or models).
            return singular ? models[0] : models;
        },

        // When you have more items than you want to add or remove individually,
        // you can reset the entire set with a new list of models, without firing
        // any granular `add` or `remove` events. Fires `reset` when finished.
        // Useful for bulk operations and optimizations.
        reset: function(models, options) {
            options || (options = {});
            for (var i = 0, l = this.models.length; i < l; i++) {
                this._removeReference(this.models[i], options);
            }
            options.previousModels = this.models;
            this._reset();
            models = this.add(models, _.extend({silent: true}, options));
            if (!options.silent) this.trigger('reset', this, options);
            return models;
        },

        // Add a model to the end of the collection.
        push: function(model, options) {
            return this.add(model, _.extend({at: this.length}, options));
        },

        // Remove a model from the end of the collection.
        pop: function(options) {
            var model = this.at(this.length - 1);
            this.remove(model, options);
            return model;
        },

        // Add a model to the beginning of the collection.
        unshift: function(model, options) {
            return this.add(model, _.extend({at: 0}, options));
        },

        // Remove a model from the beginning of the collection.
        shift: function(options) {
            var model = this.at(0);
            this.remove(model, options);
            return model;
        },

        // Slice out a sub-array of models from the collection.
        slice: function() {
            return slice.apply(this.models, arguments);
        },

        // Get a model from the set by id.
        get: function(obj) {
            if (obj == null) return void 0;
            return this._byId[obj] || this._byId[obj.id] || this._byId[obj.cid];
        },

        // Get the model at the given index.
        at: function(index) {
            return this.models[index];
        },

        // Return models with matching attributes. Useful for simple cases of
        // `filter`.
        where: function(attrs, first) {
            if (_.isEmpty(attrs)) return first ? void 0 : [];
            return this[first ? 'find' : 'filter'](function(model) {
                for (var key in attrs) {
                    if (attrs[key] !== model.get(key)) return false;
                }
                return true;
            });
        },

        // Return the first model with matching attributes. Useful for simple cases
        // of `find`.
        findWhere: function(attrs) {
            return this.where(attrs, true);
        },

        // Force the collection to re-sort itself. You don't need to call this under
        // normal circumstances, as the set will maintain sort order as each item
        // is added.
        sort: function(options) {
            if (!this.comparator) throw new Error('Cannot sort a set without a comparator');
            options || (options = {});

            // Run sort based on type of `comparator`.
            if (_.isString(this.comparator) || this.comparator.length === 1) {
                this.models = this.sortBy(this.comparator, this);
            } else {
                this.models.sort(_.bind(this.comparator, this));
            }

            if (!options.silent) this.trigger('sort', this, options);
            return this;
        },

        // Pluck an attribute from each model in the collection.
        pluck: function(attr) {
            return _.invoke(this.models, 'get', attr);
        },

        // Fetch the default set of models for this collection, resetting the
        // collection when they arrive. If `reset: true` is passed, the response
        // data will be passed through the `reset` method instead of `set`.
        fetch: function(options) {
            options = options ? _.clone(options) : {};
            if (options.parse === void 0) options.parse = true;
            var success = options.success;
            var collection = this;
            options.success = function(resp) {
                var method = options.reset ? 'reset' : 'set';
                collection[method](resp, options);
                if (success) success(collection, resp, options);
                collection.trigger('sync', collection, resp, options);
            };
            wrapError(this, options);
            return this.sync('read', this, options);
        },

        // Create a new instance of a model in this collection. Add the model to the
        // collection immediately, unless `wait: true` is passed, in which case we
        // wait for the server to agree.
        create: function(model, options) {
            options = options ? _.clone(options) : {};
            if (!(model = this._prepareModel(model, options))) return false;
            if (!options.wait) this.add(model, options);
            var collection = this;
            var success = options.success;
            options.success = function(model, resp) {
                if (options.wait) collection.add(model, options);
                if (success) success(model, resp, options);
            };
            model.save(null, options);
            return model;
        },

        // **parse** converts a response into a list of models to be added to the
        // collection. The default implementation is just to pass it through.
        parse: function(resp, options) {
            return resp;
        },

        // Create a new collection with an identical list of models as this one.
        clone: function() {
            return new this.constructor(this.models);
        },

        // Private method to reset all internal state. Called when the collection
        // is first initialized or reset.
        _reset: function() {
            this.length = 0;
            this.models = [];
            this._byId  = {};
        },

        // Prepare a hash of attributes (or other model) to be added to this
        // collection.
        _prepareModel: function(attrs, options) {
            if (attrs instanceof Model) return attrs;
            options = options ? _.clone(options) : {};
            options.collection = this;
            var model = new this.model(attrs, options);
            if (!model.validationError) return model;
            this.trigger('invalid', this, model.validationError, options);
            return false;
        },

        // Internal method to create a model's ties to a collection.
        _addReference: function(model, options) {
            this._byId[model.cid] = model;
            if (model.id != null) this._byId[model.id] = model;
            if (!model.collection) model.collection = this;
            model.on('all', this._onModelEvent, this);
        },

        // Internal method to sever a model's ties to a collection.
        _removeReference: function(model, options) {
            if (this === model.collection) delete model.collection;
            model.off('all', this._onModelEvent, this);
        },

        // Internal method called every time a model in the set fires an event.
        // Sets need to update their indexes when models change ids. All other
        // events simply proxy through. "add" and "remove" events that originate
        // in other collections are ignored.
        _onModelEvent: function(event, model, collection, options) {
            if ((event === 'add' || event === 'remove') && collection !== this) return;
            if (event === 'destroy') this.remove(model, options);
            if (model && event === 'change:' + model.idAttribute) {
                delete this._byId[model.previous(model.idAttribute)];
                if (model.id != null) this._byId[model.id] = model;
            }
            this.trigger.apply(this, arguments);
        }

    });

    // Underscore methods that we want to implement on the Collection.
    // 90% of the core usefulness of Backbone Collections is actually implemented
    // right here:
    var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',
        'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',
        'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',
        'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',
        'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',
        'lastIndexOf', 'isEmpty', 'chain', 'sample'];

    // Mix in each Underscore method as a proxy to `Collection#models`.
    _.each(methods, function(method) {
        Collection.prototype[method] = function() {
            var args = slice.call(arguments);
            args.unshift(this.models);
            return _[method].apply(_, args);
        };
    });

    // Underscore methods that take a property name as an argument.
    var attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];

    // Use attributes instead of properties.
    _.each(attributeMethods, function(method) {
        Collection.prototype[method] = function(value, context) {
            var iterator = _.isFunction(value) ? value : function(model) {
                return model.get(value);
            };
            return _[method](this.models, iterator, context);
        };
    });

    // Backbone.View
    // -------------

    // Backbone Views are almost more convention than they are actual code. A View
    // is simply a JavaScript object that represents a logical chunk of UI in the
    // DOM. This might be a single item, an entire list, a sidebar or panel, or
    // even the surrounding frame which wraps your whole app. Defining a chunk of
    // UI as a **View** allows you to define your DOM events declaratively, without
    // having to worry about render order ... and makes it easy for the view to
    // react to specific changes in the state of your models.

    // Creating a Backbone.View creates its initial element outside of the DOM,
    // if an existing element is not provided...
    var View = Backbone.View = function(options) {
        this.cid = _.uniqueId('view');
        options || (options = {});
        _.extend(this, _.pick(options, viewOptions));
        this._ensureElement();
        this.initialize.apply(this, arguments);
        this.delegateEvents();
    };

    // Cached regex to split keys for `delegate`.
    var delegateEventSplitter = /^(\S+)\s*(.*)$/;

    // List of view options to be merged as properties.
    var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];

    // Set up all inheritable **Backbone.View** properties and methods.
    _.extend(View.prototype, Events, {

        // The default `tagName` of a View's element is `"div"`.
        tagName: 'div',

        // jQuery delegate for element lookup, scoped to DOM elements within the
        // current view. This should be preferred to global lookups where possible.
        $: function(selector) {
            return this.$el.find(selector);
        },

        // Initialize is an empty function by default. Override it with your own
        // initialization logic.
        initialize: function(){},

        // **render** is the core function that your view should override, in order
        // to populate its element (`this.el`), with the appropriate HTML. The
        // convention is for **render** to always return `this`.
        render: function() {
            return this;
        },

        // Remove this view by taking the element out of the DOM, and removing any
        // applicable Backbone.Events listeners.
        remove: function() {
            this.$el.remove();
            this.stopListening();
            return this;
        },

        // Change the view's element (`this.el` property), including event
        // re-delegation.
        setElement: function(element, delegate) {
            if (this.$el) this.undelegateEvents();
            this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);
            this.el = this.$el[0];
            if (delegate !== false) this.delegateEvents();
            return this;
        },

        // Set callbacks, where `this.events` is a hash of
        //
        // *{"event selector": "callback"}*
        //
        //     {
        //       'mousedown .title':  'edit',
        //       'click .button':     'save',
        //       'click .open':       function(e) { ... }
        //     }
        //
        // pairs. Callbacks will be bound to the view, with `this` set properly.
        // Uses event delegation for efficiency.
        // Omitting the selector binds the event to `this.el`.
        // This only works for delegate-able events: not `focus`, `blur`, and
        // not `change`, `submit`, and `reset` in Internet Explorer.
        delegateEvents: function(events) {
            if (!(events || (events = _.result(this, 'events')))) return this;
            this.undelegateEvents();
            for (var key in events) {
                var method = events[key];
                if (!_.isFunction(method)) method = this[events[key]];
                if (!method) continue;

                var match = key.match(delegateEventSplitter);
                var eventName = match[1], selector = match[2];
                method = _.bind(method, this);
                eventName += '.delegateEvents' + this.cid;
                if (selector === '') {
                    this.$el.on(eventName, method);
                } else {
                    this.$el.on(eventName, selector, method);
                }
            }
            return this;
        },

        // Clears all callbacks previously bound to the view with `delegateEvents`.
        // You usually don't need to use this, but may wish to if you have multiple
        // Backbone views attached to the same DOM element.
        undelegateEvents: function() {
            this.$el.off('.delegateEvents' + this.cid);
            return this;
        },

        // Ensure that the View has a DOM element to render into.
        // If `this.el` is a string, pass it through `$()`, take the first
        // matching element, and re-assign it to `el`. Otherwise, create
        // an element from the `id`, `className` and `tagName` properties.
        _ensureElement: function() {
            if (!this.el) {
                var attrs = _.extend({}, _.result(this, 'attributes'));
                if (this.id) attrs.id = _.result(this, 'id');
                if (this.className) attrs['class'] = _.result(this, 'className');
                var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);
                this.setElement($el, false);
            } else {
                this.setElement(_.result(this, 'el'), false);
            }
        }

    });

    // Backbone.sync
    // -------------

    // Override this function to change the manner in which Backbone persists
    // models to the server. You will be passed the type of request, and the
    // model in question. By default, makes a RESTful Ajax request
    // to the model's `url()`. Some possible customizations could be:
    //
    // * Use `setTimeout` to batch rapid-fire updates into a single request.
    // * Send up the models as XML instead of JSON.
    // * Persist models via WebSockets instead of Ajax.
    //
    // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests
    // as `POST`, with a `_method` parameter containing the true HTTP method,
    // as well as all requests with the body as `application/x-www-form-urlencoded`
    // instead of `application/json` with the model in a param named `model`.
    // Useful when interfacing with server-side languages like **PHP** that make
    // it difficult to read the body of `PUT` requests.
    Backbone.sync = function(method, model, options) {
        var type = methodMap[method];

        // Default options, unless specified.
        _.defaults(options || (options = {}), {
            emulateHTTP: Backbone.emulateHTTP,
            emulateJSON: Backbone.emulateJSON
        });

        // Default JSON-request options.
        var params = {type: type, dataType: 'json'};

        // Ensure that we have a URL.
        if (!options.url) {
            params.url = _.result(model, 'url') || urlError();
        }

        // Ensure that we have the appropriate request data.
        if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
            params.contentType = 'application/json';
            params.data = JSON.stringify(options.attrs || model.toJSON(options));
        }

        // For older servers, emulate JSON by encoding the request into an HTML-form.
        if (options.emulateJSON) {
            params.contentType = 'application/x-www-form-urlencoded';
            params.data = params.data ? {model: params.data} : {};
        }

        // For older servers, emulate HTTP by mimicking the HTTP method with `_method`
        // And an `X-HTTP-Method-Override` header.
        if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {
            params.type = 'POST';
            if (options.emulateJSON) params.data._method = type;
            var beforeSend = options.beforeSend;
            options.beforeSend = function(xhr) {
                xhr.setRequestHeader('X-HTTP-Method-Override', type);
                if (beforeSend) return beforeSend.apply(this, arguments);
            };
        }

        // Don't process data on a non-GET request.
        if (params.type !== 'GET' && !options.emulateJSON) {
            params.processData = false;
        }

        // If we're sending a `PATCH` request, and we're in an old Internet Explorer
        // that still has ActiveX enabled by default, override jQuery to use that
        // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.
        if (params.type === 'PATCH' && noXhrPatch) {
            params.xhr = function() {
                return new ActiveXObject("Microsoft.XMLHTTP");
            };
        }

        // Make the request, allowing the user to override any Ajax options.
        var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
        model.trigger('request', model, xhr, options);
        return xhr;
    };

    var noXhrPatch =
        typeof window !== 'undefined' && !!window.ActiveXObject &&
        !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);

    // Map from CRUD to HTTP for our default `Backbone.sync` implementation.
    var methodMap = {
        'create': 'POST',
        'update': 'PUT',
        'patch':  'PATCH',
        'delete': 'DELETE',
        'read':   'GET'
    };

    // Set the default implementation of `Backbone.ajax` to proxy through to `$`.
    // Override this if you'd like to use a different library.
    Backbone.ajax = function() {
        return Backbone.$.ajax.apply(Backbone.$, arguments);
    };

    // Backbone.Router
    // ---------------

    // Routers map faux-URLs to actions, and fire events when routes are
    // matched. Creating a new one sets its `routes` hash, if not set statically.
    var Router = Backbone.Router = function(options) {
        options || (options = {});
        if (options.routes) this.routes = options.routes;
        this._bindRoutes();
        this.initialize.apply(this, arguments);
    };

    // Cached regular expressions for matching named param parts and splatted
    // parts of route strings.
    var optionalParam = /\((.*?)\)/g;
    var namedParam    = /(\(\?)?:\w+/g;
    var splatParam    = /\*\w+/g;
    var escapeRegExp  = /[\-{}\[\]+?.,\\\^$|#\s]/g;

    // Set up all inheritable **Backbone.Router** properties and methods.
    _.extend(Router.prototype, Events, {

        // Initialize is an empty function by default. Override it with your own
        // initialization logic.
        initialize: function(){},

        // Manually bind a single named route to a callback. For example:
        //
        //     this.route('search/:query/p:num', 'search', function(query, num) {
        //       ...
        //     });
        //
        route: function(route, name, callback) {
            if (!_.isRegExp(route)) route = this._routeToRegExp(route);
            if (_.isFunction(name)) {
                callback = name;
                name = '';
            }
            if (!callback) callback = this[name];
            var router = this;
            Backbone.history.route(route, function(fragment) {
                var args = router._extractParameters(route, fragment);
                router.execute(callback, args);
                router.trigger.apply(router, ['route:' + name].concat(args));
                router.trigger('route', name, args);
                Backbone.history.trigger('route', router, name, args);
            });
            return this;
        },

        // Execute a route handler with the provided parameters.  This is an
        // excellent place to do pre-route setup or post-route cleanup.
        execute: function(callback, args) {
            if (callback) callback.apply(this, args);
        },

        // Simple proxy to `Backbone.history` to save a fragment into the history.
        navigate: function(fragment, options) {
            Backbone.history.navigate(fragment, options);
            return this;
        },

        // Bind all defined routes to `Backbone.history`. We have to reverse the
        // order of the routes here to support behavior where the most general
        // routes can be defined at the bottom of the route map.
        _bindRoutes: function() {
            if (!this.routes) return;
            this.routes = _.result(this, 'routes');
            var route, routes = _.keys(this.routes);
            while ((route = routes.pop()) != null) {
                this.route(route, this.routes[route]);
            }
        },

        // Convert a route string into a regular expression, suitable for matching
        // against the current location hash.
        _routeToRegExp: function(route) {
            route = route.replace(escapeRegExp, '\\$&')
                .replace(optionalParam, '(?:$1)?')
                .replace(namedParam, function(match, optional) {
                    return optional ? match : '([^/?]+)';
                })
                .replace(splatParam, '([^?]*?)');
            return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
        },

        // Given a route, and a URL fragment that it matches, return the array of
        // extracted decoded parameters. Empty or unmatched parameters will be
        // treated as `null` to normalize cross-browser behavior.
        _extractParameters: function(route, fragment) {
            var params = route.exec(fragment).slice(1);
            return _.map(params, function(param, i) {
                // Don't decode the search params.
                if (i === params.length - 1) return param || null;
                return param ? decodeURIComponent(param) : null;
            });
        }

    });

    // Backbone.History
    // ----------------

    // Handles cross-browser history management, based on either
    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or
    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)
    // and URL fragments. If the browser supports neither (old IE, natch),
    // falls back to polling.
    var History = Backbone.History = function() {
        this.handlers = [];
        _.bindAll(this, 'checkUrl');

        // Ensure that `History` can be used outside of the browser.
        if (typeof window !== 'undefined') {
            this.location = window.location;
            this.history = window.history;
        }
    };

    // Cached regex for stripping a leading hash/slash and trailing space.
    var routeStripper = /^[#\/]|\s+$/g;

    // Cached regex for stripping leading and trailing slashes.
    var rootStripper = /^\/+|\/+$/g;

    // Cached regex for detecting MSIE.
    var isExplorer = /msie [\w.]+/;

    // Cached regex for removing a trailing slash.
    var trailingSlash = /\/$/;

    // Cached regex for stripping urls of hash.
    var pathStripper = /#.*$/;

    // Has the history handling already been started?
    History.started = false;

    // Set up all inheritable **Backbone.History** properties and methods.
    _.extend(History.prototype, Events, {

        // The default interval to poll for hash changes, if necessary, is
        // twenty times a second.
        interval: 50,

        // Are we at the app root?
        atRoot: function() {
            return this.location.pathname.replace(/[^\/]$/, '$&/') === this.root;
        },

        // Gets the true hash value. Cannot use location.hash directly due to bug
        // in Firefox where location.hash will always be decoded.
        getHash: function(window) {
            var match = (window || this).location.href.match(/#(.*)$/);
            return match ? match[1] : '';
        },

        // Get the cross-browser normalized URL fragment, either from the URL,
        // the hash, or the override.
        getFragment: function(fragment, forcePushState) {
            if (fragment == null) {
                if (this._hasPushState || !this._wantsHashChange || forcePushState) {
                    fragment = decodeURI(this.location.pathname + this.location.search);
                    var root = this.root.replace(trailingSlash, '');
                    if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);
                } else {
                    fragment = this.getHash();
                }
            }
            return fragment.replace(routeStripper, '');
        },

        // Start the hash change handling, returning `true` if the current URL matches
        // an existing route, and `false` otherwise.
        start: function(options) {
            if (History.started) throw new Error("Backbone.history has already been started");
            History.started = true;

            // Figure out the initial configuration. Do we need an iframe?
            // Is pushState desired ... is it available?
            this.options          = _.extend({root: '/'}, this.options, options);
            this.root             = this.options.root;
            this._wantsHashChange = this.options.hashChange !== false;
            this._wantsPushState  = !!this.options.pushState;
            this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);
            var fragment          = this.getFragment();
            var docMode           = document.documentMode;
            var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));

            // Normalize root to always include a leading and trailing slash.
            this.root = ('/' + this.root + '/').replace(rootStripper, '/');

            if (oldIE && this._wantsHashChange) {
                var frame = Backbone.$('<iframe src="javascript:0" tabindex="-1">');
                this.iframe = frame.hide().appendTo('body')[0].contentWindow;
                this.navigate(fragment);
            }

            // Depending on whether we're using pushState or hashes, and whether
            // 'onhashchange' is supported, determine how we check the URL state.
            if (this._hasPushState) {
                Backbone.$(window).on('popstate', this.checkUrl);
            } else if (this._wantsHashChange && ('onhashchange' in window) && !oldIE) {
                Backbone.$(window).on('hashchange', this.checkUrl);
            } else if (this._wantsHashChange) {
                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
            }

            // Determine if we need to change the base url, for a pushState link
            // opened by a non-pushState browser.
            this.fragment = fragment;
            var loc = this.location;

            // Transition from hashChange to pushState or vice versa if both are
            // requested.
            if (this._wantsHashChange && this._wantsPushState) {

                // If we've started off with a route from a `pushState`-enabled
                // browser, but we're currently in a browser that doesn't support it...
                if (!this._hasPushState && !this.atRoot()) {
                    this.fragment = this.getFragment(null, true);
                    this.location.replace(this.root + '#' + this.fragment);
                    // Return immediately as browser will do redirect to new url
                    return true;

                    // Or if we've started out with a hash-based route, but we're currently
                    // in a browser where it could be `pushState`-based instead...
                } else if (this._hasPushState && this.atRoot() && loc.hash) {
                    this.fragment = this.getHash().replace(routeStripper, '');
                    this.history.replaceState({}, document.title, this.root + this.fragment);
                }

            }

            if (!this.options.silent) return this.loadUrl();
        },

        // Disable Backbone.history, perhaps temporarily. Not useful in a real app,
        // but possibly useful for unit testing Routers.
        stop: function() {
            Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);
            if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);
            History.started = false;
        },

        // Add a route to be tested when the fragment changes. Routes added later
        // may override previous routes.
        route: function(route, callback) {
            this.handlers.unshift({route: route, callback: callback});
        },

        // Checks the current URL to see if it has changed, and if it has,
        // calls `loadUrl`, normalizing across the hidden iframe.
        checkUrl: function(e) {
            var current = this.getFragment();
            if (current === this.fragment && this.iframe) {
                current = this.getFragment(this.getHash(this.iframe));
            }
            if (current === this.fragment) return false;
            if (this.iframe) this.navigate(current);
            this.loadUrl();
        },

        // Attempt to load the current URL fragment. If a route succeeds with a
        // match, returns `true`. If no defined routes matches the fragment,
        // returns `false`.
        loadUrl: function(fragment) {
            fragment = this.fragment = this.getFragment(fragment);
            return _.any(this.handlers, function(handler) {
                if (handler.route.test(fragment)) {
                    handler.callback(fragment);
                    return true;
                }
            });
        },

        // Save a fragment into the hash history, or replace the URL state if the
        // 'replace' option is passed. You are responsible for properly URL-encoding
        // the fragment in advance.
        //
        // The options object can contain `trigger: true` if you wish to have the
        // route callback be fired (not usually desirable), or `replace: true`, if
        // you wish to modify the current URL without adding an entry to the history.
        navigate: function(fragment, options) {
            if (!History.started) return false;
            if (!options || options === true) options = {trigger: !!options};

            var url = this.root + (fragment = this.getFragment(fragment || ''));

            // Strip the hash for matching.
            fragment = fragment.replace(pathStripper, '');

            if (this.fragment === fragment) return;
            this.fragment = fragment;

            // Don't include a trailing slash on the root.
            if (fragment === '' && url !== '/') url = url.slice(0, -1);

            // If pushState is available, we use it to set the fragment as a real URL.
            if (this._hasPushState) {
                this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);

                // If hash changes haven't been explicitly disabled, update the hash
                // fragment to store history.
            } else if (this._wantsHashChange) {
                this._updateHash(this.location, fragment, options.replace);
                if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {
                    // Opening and closing the iframe tricks IE7 and earlier to push a
                    // history entry on hash-tag change.  When replace is true, we don't
                    // want this.
                    if(!options.replace) this.iframe.document.open().close();
                    this._updateHash(this.iframe.location, fragment, options.replace);
                }

                // If you've told us that you explicitly don't want fallback hashchange-
                // based history, then `navigate` becomes a page refresh.
            } else {
                return this.location.assign(url);
            }
            if (options.trigger) return this.loadUrl(fragment);
        },

        // Update the hash location, either replacing the current entry, or adding
        // a new one to the browser history.
        _updateHash: function(location, fragment, replace) {
            if (replace) {
                var href = location.href.replace(/(javascript:|#).*$/, '');
                location.replace(href + '#' + fragment);
            } else {
                // Some browsers require that `hash` contains a leading #.
                location.hash = '#' + fragment;
            }
        }

    });

    // Create the default Backbone.history.
    Backbone.history = new History;

    // Helpers
    // -------

    // Helper function to correctly set up the prototype chain, for subclasses.
    // Similar to `goog.inherits`, but uses a hash of prototype properties and
    // class properties to be extended.
    var extend = function(protoProps, staticProps) {
        var parent = this;
        var child;

        // The constructor function for the new subclass is either defined by you
        // (the "constructor" property in your `extend` definition), or defaulted
        // by us to simply call the parent's constructor.
        if (protoProps && _.has(protoProps, 'constructor')) {
            child = protoProps.constructor;
        } else {
            child = function(){ return parent.apply(this, arguments); };
        }

        // Add static properties to the constructor function, if supplied.
        _.extend(child, parent, staticProps);

        // Set the prototype chain to inherit from `parent`, without calling
        // `parent`'s constructor function.
        var Surrogate = function(){ this.constructor = child; };
        Surrogate.prototype = parent.prototype;
        child.prototype = new Surrogate;

        // Add prototype properties (instance properties) to the subclass,
        // if supplied.
        if (protoProps) _.extend(child.prototype, protoProps);

        // Set a convenience property in case the parent's prototype is needed
        // later.
        child.__super__ = parent.prototype;

        return child;
    };

    // Set up inheritance for the model, collection, router, view and history.
    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;

    // Throw an error when a URL is needed, and none is supplied.
    var urlError = function() {
        throw new Error('A "url" property or function must be specified');
    };

    // Wrap an optional error callback with a fallback error event.
    var wrapError = function(model, options) {
        var error = options.error;
        options.error = function(resp) {
            if (error) error(model, resp, options);
            model.trigger('error', model, resp, options);
        };
    };

    return Backbone;

}));
},{"./jquery":57,"./underscore":64}],18:[function(require,module,exports){
(function(root,factory){if(typeof define==='function'&&define.amd){define(['backbone','underscore','backbone.wreqr','backbone.babysitter'],function(Backbone,_){return(root.Marionette=root.Mn=factory(root,Backbone,_));});}else if(typeof exports!=='undefined'){var Backbone=require('./backbone');var _=require('./underscore');var Wreqr=require('./backbone.wreqr.js');var BabySitter=require('./backbone.babysitter.js');module.exports=factory(root,Backbone,_);}else{root.Marionette=root.Mn=factory(root,root.Backbone,root._);}}(this,function(root,Backbone,_){'use strict';var previousMarionette=root.Marionette;var previousMn=root.Mn;var Marionette=Backbone.Marionette={};Marionette.VERSION='2.3.0';Marionette.noConflict=function(){root.Marionette=previousMarionette;root.Mn=previousMn;return this;};Marionette.Deferred=Backbone.$.Deferred;Marionette.extend=Backbone.Model.extend;Marionette.isNodeAttached=function(el){return Backbone.$.contains(document.documentElement,el);};Marionette.getOption=function(target,optionName){if(!target||!optionName){return;}
    if(target.options&&(target.options[optionName]!==undefined)){return target.options[optionName];}else{return target[optionName];}};Marionette.proxyGetOption=function(optionName){return Marionette.getOption(this,optionName);};Marionette.normalizeMethods=function(hash){return _.reduce(hash,function(normalizedHash,method,name){if(!_.isFunction(method)){method=this[method];}
    if(method){normalizedHash[name]=method;}
    return normalizedHash;},{},this);};Marionette.normalizeUIString=function(uiString,ui){return uiString.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(r){return ui[r.slice(4)];});};Marionette.normalizeUIKeys=function(hash,ui){return _.reduce(hash,function(memo,val,key){var normalizedKey=Marionette.normalizeUIString(key,ui);memo[normalizedKey]=val;return memo;},{});};Marionette.normalizeUIValues=function(hash,ui){_.each(hash,function(val,key){if(_.isString(val)){hash[key]=Marionette.normalizeUIString(val,ui);}});return hash;};Marionette.actAsCollection=function(object,listProperty){var methods=['forEach','each','map','find','detect','filter','select','reject','every','all','some','any','include','contains','invoke','toArray','first','initial','rest','last','without','isEmpty','pluck'];_.each(methods,function(method){object[method]=function(){var list=_.values(_.result(this,listProperty));var args=[list].concat(_.toArray(arguments));return _[method].apply(_,args);};});};var deprecate=Marionette.deprecate=function(message,test){if(_.isObject(message)){message=(message.prev+' is going to be removed in the future. '+'Please use '+ message.next+' instead.'+
(message.url?' See: '+ message.url:''));}
    if((test===undefined||!test)&&!deprecate._cache[message]){deprecate._warn('Deprecation warning: '+ message);deprecate._cache[message]=true;}};deprecate._warn=typeof console!=='undefined'&&(console.warn||console.log)||function(){};deprecate._cache={};Marionette._triggerMethod=(function(){var splitter=/(^|:)(\w)/gi;function getEventName(match,prefix,eventName){return eventName.toUpperCase();}
    return function(context,event,args){var noEventArg=arguments.length<3;if(noEventArg){args=event;event=args[0];}
        var methodName='on'+ event.replace(splitter,getEventName);var method=context[methodName];var result;if(_.isFunction(method)){result=method.apply(context,noEventArg?_.rest(args):args);}
        if(_.isFunction(context.trigger)){if(noEventArg+ args.length>1){context.trigger.apply(context,noEventArg?args:[event].concat(_.rest(args,0)));}else{context.trigger(event);}}
        return result;};})();Marionette.triggerMethod=function(event){return Marionette._triggerMethod(this,arguments);};Marionette.triggerMethodOn=function(context){var fnc=_.isFunction(context.triggerMethod)?context.triggerMethod:Marionette.triggerMethod;return fnc.apply(context,_.rest(arguments));};Marionette.MonitorDOMRefresh=function(view){function handleShow(){view._isShown=true;triggerDOMRefresh();}
    function handleRender(){view._isRendered=true;triggerDOMRefresh();}
    function triggerDOMRefresh(){if(view._isShown&&view._isRendered&&Marionette.isNodeAttached(view.el)){if(_.isFunction(view.triggerMethod)){view.triggerMethod('dom:refresh');}}}
    view.on({show:handleShow,render:handleRender});};(function(Marionette){'use strict';function bindFromStrings(target,entity,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];if(!method){throw new Marionette.Error('Method "'+ methodName+'" was configured as an event handler, but does not exist.');}
    target.listenTo(entity,evt,method);});}
    function bindToFunction(target,entity,evt,method){target.listenTo(entity,evt,method);}
    function unbindFromStrings(target,entity,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];target.stopListening(entity,evt,method);});}
    function unbindToFunction(target,entity,evt,method){target.stopListening(entity,evt,method);}
    function iterateEvents(target,entity,bindings,functionCallback,stringCallback){if(!entity||!bindings){return;}
        if(!_.isFunction(bindings)&&!_.isObject(bindings)){throw new Marionette.Error({message:'Bindings must be an object or function.',url:'marionette.functions.html#marionettebindentityevents'});}
        if(_.isFunction(bindings)){bindings=bindings.call(target);}
        _.each(bindings,function(methods,evt){if(_.isFunction(methods)){functionCallback(target,entity,evt,methods);}else{stringCallback(target,entity,evt,methods);}});}
    Marionette.bindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,bindToFunction,bindFromStrings);};Marionette.unbindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,unbindToFunction,unbindFromStrings);};Marionette.proxyBindEntityEvents=function(entity,bindings){return Marionette.bindEntityEvents(this,entity,bindings);};Marionette.proxyUnbindEntityEvents=function(entity,bindings){return Marionette.unbindEntityEvents(this,entity,bindings);};})(Marionette);var errorProps=['description','fileName','lineNumber','name','message','number'];Marionette.Error=Marionette.extend.call(Error,{urlRoot:'http://marionettejs.com/docs/v'+ Marionette.VERSION+'/',constructor:function(message,options){if(_.isObject(message)){options=message;message=options.message;}else if(!options){options={};}
    var error=Error.call(this,message);_.extend(this,_.pick(error,errorProps),_.pick(options,errorProps));this.captureStackTrace();if(options.url){this.url=this.urlRoot+ options.url;}},captureStackTrace:function(){if(Error.captureStackTrace){Error.captureStackTrace(this,Marionette.Error);}},toString:function(){return this.name+': '+ this.message+(this.url?' See: '+ this.url:'');}});Marionette.Error.extend=Marionette.extend;Marionette.Callbacks=function(){this._deferred=Marionette.Deferred();this._callbacks=[];};_.extend(Marionette.Callbacks.prototype,{add:function(callback,contextOverride){var promise=_.result(this._deferred,'promise');this._callbacks.push({cb:callback,ctx:contextOverride});promise.then(function(args){if(contextOverride){args.context=contextOverride;}
    callback.call(args.context,args.options);});},run:function(options,context){this._deferred.resolve({options:options,context:context});},reset:function(){var callbacks=this._callbacks;this._deferred=Marionette.Deferred();this._callbacks=[];_.each(callbacks,function(cb){this.add(cb.cb,cb.ctx);},this);}});Marionette.Controller=function(options){this.options=options||{};if(_.isFunction(this.initialize)){this.initialize(this.options);}};Marionette.Controller.extend=Marionette.extend;_.extend(Marionette.Controller.prototype,Backbone.Events,{destroy:function(){Marionette._triggerMethod(this,'before:destroy',arguments);Marionette._triggerMethod(this,'destroy',arguments);this.stopListening();this.off();return this;},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption});Marionette.Object=function(options){this.options=_.extend({},_.result(this,'options'),options);this.initialize.apply(this,arguments);};Marionette.Object.extend=Marionette.extend;_.extend(Marionette.Object.prototype,Backbone.Events,{initialize:function(){},destroy:function(){this.triggerMethod('before:destroy');this.triggerMethod('destroy');this.stopListening();},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents});Marionette.Region=Marionette.Object.extend({constructor:function(options){this.options=options||{};this.el=this.getOption('el');this.el=this.el instanceof Backbone.$?this.el[0]:this.el;if(!this.el){throw new Marionette.Error({name:'NoElError',message:'An "el" must be specified for a region.'});}
    this.$el=this.getEl(this.el);Marionette.Object.call(this,options);},show:function(view,options){if(!this._ensureElement()){return;}
    this._ensureViewIsIntact(view);var showOptions=options||{};var isDifferentView=view!==this.currentView;var preventDestroy=!!showOptions.preventDestroy;var forceShow=!!showOptions.forceShow;var isChangingView=!!this.currentView;var _shouldDestroyView=isDifferentView&&!preventDestroy;var _shouldShowView=isDifferentView||forceShow;if(isChangingView){this.triggerMethod('before:swapOut',this.currentView,this,options);}
    if(this.currentView){delete this.currentView._parent;}
    if(_shouldDestroyView){this.empty();}else if(isChangingView&&_shouldShowView){this.currentView.off('destroy',this.empty,this);}
    if(_shouldShowView){view.once('destroy',this.empty,this);view.render();view._parent=this;if(isChangingView){this.triggerMethod('before:swap',view,this,options);}
        this.triggerMethod('before:show',view,this,options);Marionette.triggerMethodOn(view,'before:show',view,this,options);if(isChangingView){this.triggerMethod('swapOut',this.currentView,this,options);}
        var attachedRegion=Marionette.isNodeAttached(this.el);var displayedViews=[];var triggerBeforeAttach=showOptions.triggerBeforeAttach||this.triggerBeforeAttach;var triggerAttach=showOptions.triggerAttach||this.triggerAttach;if(attachedRegion&&triggerBeforeAttach){displayedViews=this._displayedViews(view);this._triggerAttach(displayedViews,'before:');}
        this.attachHtml(view);this.currentView=view;if(attachedRegion&&triggerAttach){displayedViews=this._displayedViews(view);this._triggerAttach(displayedViews);}
        if(isChangingView){this.triggerMethod('swap',view,this,options);}
        this.triggerMethod('show',view,this,options);Marionette.triggerMethodOn(view,'show',view,this,options);return this;}
    return this;},triggerBeforeAttach:true,triggerAttach:true,_triggerAttach:function(views,prefix){var eventName=(prefix||'')+'attach';_.each(views,function(view){Marionette.triggerMethodOn(view,eventName,view,this);},this);},_displayedViews:function(view){return _.union([view],_.result(view,'_getNestedViews')||[]);},_ensureElement:function(){if(!_.isObject(this.el)){this.$el=this.getEl(this.el);this.el=this.$el[0];}
    if(!this.$el||this.$el.length===0){if(this.getOption('allowMissingEl')){return false;}else{throw new Marionette.Error('An "el" '+ this.$el.selector+' must exist in DOM');}}
    return true;},_ensureViewIsIntact:function(view){if(!view){throw new Marionette.Error({name:'ViewNotValid',message:'The view passed is undefined and therefore invalid. You must pass a view instance to show.'});}
    if(view.isDestroyed){throw new Marionette.Error({name:'ViewDestroyedError',message:'View (cid: "'+ view.cid+'") has already been destroyed and cannot be used.'});}},getEl:function(el){return Backbone.$(el);},attachHtml:function(view){this.$el.html('');this.el.appendChild(view.el);},empty:function(){var view=this.currentView;if(!view){return;}
    view.off('destroy',this.empty,this);this.triggerMethod('before:empty',view);this._destroyView();this.triggerMethod('empty',view);delete this.currentView;return this;},_destroyView:function(){var view=this.currentView;if(view.destroy&&!view.isDestroyed){view.destroy();}else if(view.remove){view.remove();view.isDestroyed=true;}},attachView:function(view){this.currentView=view;return this;},hasView:function(){return!!this.currentView;},reset:function(){this.empty();if(this.$el){this.el=this.$el.selector;}
    delete this.$el;return this;}},{buildRegion:function(regionConfig,DefaultRegionClass){if(_.isString(regionConfig)){return this._buildRegionFromSelector(regionConfig,DefaultRegionClass);}
    if(regionConfig.selector||regionConfig.el||regionConfig.regionClass){return this._buildRegionFromObject(regionConfig,DefaultRegionClass);}
    if(_.isFunction(regionConfig)){return this._buildRegionFromRegionClass(regionConfig);}
    throw new Marionette.Error({message:'Improper region configuration type.',url:'marionette.region.html#region-configuration-types'});},_buildRegionFromSelector:function(selector,DefaultRegionClass){return new DefaultRegionClass({el:selector});},_buildRegionFromObject:function(regionConfig,DefaultRegionClass){var RegionClass=regionConfig.regionClass||DefaultRegionClass;var options=_.omit(regionConfig,'selector','regionClass');if(regionConfig.selector&&!options.el){options.el=regionConfig.selector;}
    var region=new RegionClass(options);if(regionConfig.parentEl){region.getEl=function(el){if(_.isObject(el)){return Backbone.$(el);}
        var parentEl=regionConfig.parentEl;if(_.isFunction(parentEl)){parentEl=parentEl();}
        return parentEl.find(el);};}
    return region;},_buildRegionFromRegionClass:function(RegionClass){return new RegionClass();}});Marionette.RegionManager=Marionette.Controller.extend({constructor:function(options){this._regions={};Marionette.Controller.call(this,options);this.addRegions(this.getOption('regions'));},addRegions:function(regionDefinitions,defaults){if(_.isFunction(regionDefinitions)){regionDefinitions=regionDefinitions.apply(this,arguments);}
    var regions={};_.each(regionDefinitions,function(definition,name){if(_.isString(definition)){definition={selector:definition};}
        if(definition.selector){definition=_.defaults({},definition,defaults);}
        var region=this.addRegion(name,definition);regions[name]=region;},this);return regions;},addRegion:function(name,definition){var region;if(definition instanceof Marionette.Region){region=definition;}else{region=Marionette.Region.buildRegion(definition,Marionette.Region);}
    this.triggerMethod('before:add:region',name,region);region._parent=this;this._store(name,region);this.triggerMethod('add:region',name,region);return region;},get:function(name){return this._regions[name];},getRegions:function(){return _.clone(this._regions);},removeRegion:function(name){var region=this._regions[name];this._remove(name,region);return region;},removeRegions:function(){var regions=this.getRegions();_.each(this._regions,function(region,name){this._remove(name,region);},this);return regions;},emptyRegions:function(){var regions=this.getRegions();_.invoke(regions,'empty');return regions;},destroy:function(){this.removeRegions();return Marionette.Controller.prototype.destroy.apply(this,arguments);},_store:function(name,region){this._regions[name]=region;this._setLength();},_remove:function(name,region){this.triggerMethod('before:remove:region',name,region);region.empty();region.stopListening();delete region._parent;delete this._regions[name];this._setLength();this.triggerMethod('remove:region',name,region);},_setLength:function(){this.length=_.size(this._regions);}});Marionette.actAsCollection(Marionette.RegionManager.prototype,'_regions');Marionette.TemplateCache=function(templateId){this.templateId=templateId;};_.extend(Marionette.TemplateCache,{templateCaches:{},get:function(templateId){var cachedTemplate=this.templateCaches[templateId];if(!cachedTemplate){cachedTemplate=new Marionette.TemplateCache(templateId);this.templateCaches[templateId]=cachedTemplate;}
    return cachedTemplate.load();},clear:function(){var i;var args=_.toArray(arguments);var length=args.length;if(length>0){for(i=0;i<length;i++){delete this.templateCaches[args[i]];}}else{this.templateCaches={};}}});_.extend(Marionette.TemplateCache.prototype,{load:function(){if(this.compiledTemplate){return this.compiledTemplate;}
    var template=this.loadTemplate(this.templateId);this.compiledTemplate=this.compileTemplate(template);return this.compiledTemplate;},loadTemplate:function(templateId){var template=Backbone.$(templateId).html();if(!template||template.length===0){throw new Marionette.Error({name:'NoTemplateError',message:'Could not find template: "'+ templateId+'"'});}
    return template;},compileTemplate:function(rawTemplate){return _.template(rawTemplate);}});Marionette.Renderer={render:function(template,data){if(!template){throw new Marionette.Error({name:'TemplateNotFoundError',message:'Cannot render the template since its false, null or undefined.'});}
    var templateFunc;if(typeof template==='function'){templateFunc=template;}else{templateFunc=Marionette.TemplateCache.get(template);}
    return templateFunc(data);}};Marionette.View=Backbone.View.extend({constructor:function(options){_.bindAll(this,'render');options=_.isFunction(options)?options.call(this):options;this.options=_.extend({},_.result(this,'options'),options);this._behaviors=Marionette.Behaviors(this);Backbone.View.apply(this,arguments);Marionette.MonitorDOMRefresh(this);this.on('show',this.onShowCalled);},getTemplate:function(){return this.getOption('template');},serializeModel:function(model){return model.toJSON.apply(model,_.rest(arguments));},mixinTemplateHelpers:function(target){target=target||{};var templateHelpers=this.getOption('templateHelpers');if(_.isFunction(templateHelpers)){templateHelpers=templateHelpers.call(this);}
    return _.extend(target,templateHelpers);},normalizeUIKeys:function(hash){var uiBindings=_.result(this,'_uiBindings');return Marionette.normalizeUIKeys(hash,uiBindings||_.result(this,'ui'));},normalizeUIValues:function(hash){var ui=_.result(this,'ui');var uiBindings=_.result(this,'_uiBindings');return Marionette.normalizeUIValues(hash,uiBindings||ui);},configureTriggers:function(){if(!this.triggers){return;}
    var triggers=this.normalizeUIKeys(_.result(this,'triggers'));return _.reduce(triggers,function(events,value,key){events[key]=this._buildViewTrigger(value);return events;},{},this);},delegateEvents:function(events){this._delegateDOMEvents(events);this.bindEntityEvents(this.model,this.getOption('modelEvents'));this.bindEntityEvents(this.collection,this.getOption('collectionEvents'));_.each(this._behaviors,function(behavior){behavior.bindEntityEvents(this.model,behavior.getOption('modelEvents'));behavior.bindEntityEvents(this.collection,behavior.getOption('collectionEvents'));},this);return this;},_delegateDOMEvents:function(eventsArg){var events=eventsArg||this.events;if(_.isFunction(events)){events=events.call(this);}
    events=this.normalizeUIKeys(events);if(_.isUndefined(eventsArg)){this.events=events;}
    var combinedEvents={};var behaviorEvents=_.result(this,'behaviorEvents')||{};var triggers=this.configureTriggers();var behaviorTriggers=_.result(this,'behaviorTriggers')||{};_.extend(combinedEvents,behaviorEvents,events,triggers,behaviorTriggers);Backbone.View.prototype.delegateEvents.call(this,combinedEvents);},undelegateEvents:function(){Backbone.View.prototype.undelegateEvents.apply(this,arguments);this.unbindEntityEvents(this.model,this.getOption('modelEvents'));this.unbindEntityEvents(this.collection,this.getOption('collectionEvents'));_.each(this._behaviors,function(behavior){behavior.unbindEntityEvents(this.model,behavior.getOption('modelEvents'));behavior.unbindEntityEvents(this.collection,behavior.getOption('collectionEvents'));},this);return this;},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){throw new Marionette.Error({name:'ViewDestroyedError',message:'View (cid: "'+ this.cid+'") has already been destroyed and cannot be used.'});}},destroy:function(){if(this.isDestroyed){return;}
    var args=_.toArray(arguments);this.triggerMethod.apply(this,['before:destroy'].concat(args));this.isDestroyed=true;this.triggerMethod.apply(this,['destroy'].concat(args));this.unbindUIElements();this.remove();_.invoke(this._behaviors,'destroy',args);return this;},bindUIElements:function(){this._bindUIElements();_.invoke(this._behaviors,this._bindUIElements);},_bindUIElements:function(){if(!this.ui){return;}
    if(!this._uiBindings){this._uiBindings=this.ui;}
    var bindings=_.result(this,'_uiBindings');this.ui={};_.each(_.keys(bindings),function(key){var selector=bindings[key];this.ui[key]=this.$(selector);},this);},unbindUIElements:function(){this._unbindUIElements();_.invoke(this._behaviors,this._unbindUIElements);},_unbindUIElements:function(){if(!this.ui||!this._uiBindings){return;}
    _.each(this.ui,function($el,name){delete this.ui[name];},this);this.ui=this._uiBindings;delete this._uiBindings;},_buildViewTrigger:function(triggerDef){var hasOptions=_.isObject(triggerDef);var options=_.defaults({},(hasOptions?triggerDef:{}),{preventDefault:true,stopPropagation:true});var eventName=hasOptions?options.event:triggerDef;return function(e){if(e){if(e.preventDefault&&options.preventDefault){e.preventDefault();}
    if(e.stopPropagation&&options.stopPropagation){e.stopPropagation();}}
    var args={view:this,model:this.model,collection:this.collection};this.triggerMethod(eventName,args);};},setElement:function(){var ret=Backbone.View.prototype.setElement.apply(this,arguments);_.invoke(this._behaviors,'proxyViewProperties',this);return ret;},triggerMethod:function(){var triggerMethod=Marionette._triggerMethod;var ret=triggerMethod(this,arguments);var behaviors=this._behaviors;for(var i=0,length=behaviors&&behaviors.length;i<length;i++){triggerMethod(behaviors[i],arguments);}
    return ret;},_getImmediateChildren:function(){return[];},_getNestedViews:function(){var children=this._getImmediateChildren();if(!children.length){return children;}
    return _.reduce(children,function(memo,view){if(!view._getNestedViews){return memo;}
        return memo.concat(view._getNestedViews());},children);},normalizeMethods:Marionette.normalizeMethods,getOption:Marionette.proxyGetOption,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents});Marionette.ItemView=Marionette.View.extend({constructor:function(){Marionette.View.apply(this,arguments);},serializeData:function(){if(!this.model&&!this.collection){return{};}
    var args=[this.model||this.collection];if(arguments.length){args.push.apply(args,arguments);}
    if(this.model){return this.serializeModel.apply(this,args);}else{return{items:this.serializeCollection.apply(this,args)};}},serializeCollection:function(collection){return collection.toJSON.apply(collection,_.rest(arguments));},render:function(){this._ensureViewIsIntact();this.triggerMethod('before:render',this);this._renderTemplate();this.bindUIElements();this.triggerMethod('render',this);return this;},_renderTemplate:function(){var template=this.getTemplate();if(template===false){return;}
    if(!template){throw new Marionette.Error({name:'UndefinedTemplateError',message:'Cannot render the template since it is null or undefined.'});}
    var data=this.serializeData();data=this.mixinTemplateHelpers(data);var html=Marionette.Renderer.render(template,data,this);this.attachElContent(html);return this;},attachElContent:function(html){this.$el.html(html);return this;}});Marionette.CollectionView=Marionette.View.extend({childViewEventPrefix:'childview',constructor:function(options){var initOptions=options||{};if(_.isUndefined(this.sort)){this.sort=_.isUndefined(initOptions.sort)?true:initOptions.sort;}
    this.once('render',this._initialEvents);this._initChildViewStorage();Marionette.View.apply(this,arguments);this.initRenderBuffer();},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[];},startBuffering:function(){this.initRenderBuffer();this.isBuffering=true;},endBuffering:function(){this.isBuffering=false;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer();},_triggerBeforeShowBufferedChildren:function(){if(this._isShown){_.each(this._bufferedChildren,_.partial(this._triggerMethodOnChild,'before:show'));}},_triggerShowBufferedChildren:function(){if(this._isShown){_.each(this._bufferedChildren,_.partial(this._triggerMethodOnChild,'show'));this._bufferedChildren=[];}},_triggerMethodOnChild:function(event,childView){Marionette.triggerMethodOn(childView,event);},_initialEvents:function(){if(this.collection){this.listenTo(this.collection,'add',this._onCollectionAdd);this.listenTo(this.collection,'remove',this._onCollectionRemove);this.listenTo(this.collection,'reset',this.render);if(this.sort){this.listenTo(this.collection,'sort',this._sortViews);}}},_onCollectionAdd:function(child){this.destroyEmptyView();var ChildView=this.getChildView(child);var index=this.collection.indexOf(child);this.addChild(child,ChildView,index);},_onCollectionRemove:function(model){var view=this.children.findByModel(model);this.removeChildView(view);this.checkEmpty();},onShowCalled:function(){this.children.each(_.partial(this._triggerMethodOnChild,'show'));},render:function(){this._ensureViewIsIntact();this.triggerMethod('before:render',this);this._renderChildren();this.triggerMethod('render',this);return this;},resortView:function(){this.render();},_sortViews:function(){var orderChanged=this.collection.find(function(item,index){var view=this.children.findByModel(item);return!view||view._index!==index;},this);if(orderChanged){this.resortView();}},_emptyViewIndex:-1,_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();if(this.isEmpty(this.collection)){this.showEmptyView();}else{this.triggerMethod('before:render:collection',this);this.startBuffering();this.showCollection();this.endBuffering();this.triggerMethod('render:collection',this);}},showCollection:function(){var ChildView;this.collection.each(function(child,index){ChildView=this.getChildView(child);this.addChild(child,ChildView,index);},this);},showEmptyView:function(){var EmptyView=this.getEmptyView();if(EmptyView&&!this._showingEmptyView){this.triggerMethod('before:render:empty');this._showingEmptyView=true;var model=new Backbone.Model();this.addEmptyView(model,EmptyView);this.triggerMethod('render:empty');}},destroyEmptyView:function(){if(this._showingEmptyView){this.triggerMethod('before:remove:empty');this.destroyChildren();delete this._showingEmptyView;this.triggerMethod('remove:empty');}},getEmptyView:function(){return this.getOption('emptyView');},addEmptyView:function(child,EmptyView){var emptyViewOptions=this.getOption('emptyViewOptions')||this.getOption('childViewOptions');if(_.isFunction(emptyViewOptions)){emptyViewOptions=emptyViewOptions.call(this,child,this._emptyViewIndex);}
    var view=this.buildChildView(child,EmptyView,emptyViewOptions);view._parent=this;this.proxyChildEvents(view);if(this._isShown){Marionette.triggerMethodOn(view,'before:show');}
    this.children.add(view);this.renderChildView(view,this._emptyViewIndex);if(this._isShown){Marionette.triggerMethodOn(view,'show');}},getChildView:function(child){var childView=this.getOption('childView');if(!childView){throw new Marionette.Error({name:'NoChildViewError',message:'A "childView" must be specified'});}
    return childView;},addChild:function(child,ChildView,index){var childViewOptions=this.getOption('childViewOptions');if(_.isFunction(childViewOptions)){childViewOptions=childViewOptions.call(this,child,index);}
    var view=this.buildChildView(child,ChildView,childViewOptions);this._updateIndices(view,true,index);this._addChildView(view,index);view._parent=this;return view;},_updateIndices:function(view,increment,index){if(!this.sort){return;}
    if(increment){view._index=index;this.children.each(function(laterView){if(laterView._index>=view._index){laterView._index++;}});}
    else{this.children.each(function(laterView){if(laterView._index>=view._index){laterView._index--;}});}},_addChildView:function(view,index){this.proxyChildEvents(view);this.triggerMethod('before:add:child',view);this.children.add(view);this.renderChildView(view,index);if(this._isShown&&!this.isBuffering){Marionette.triggerMethodOn(view,'show');}
    this.triggerMethod('add:child',view);},renderChildView:function(view,index){view.render();this.attachHtml(this,view,index);return view;},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions);return new ChildViewClass(options);},removeChildView:function(view){if(view){this.triggerMethod('before:remove:child',view);if(view.destroy){view.destroy();}
else if(view.remove){view.remove();}
    delete view._parent;this.stopListening(view);this.children.remove(view);this.triggerMethod('remove:child',view);this._updateIndices(view,false);}
    return view;},isEmpty:function(){return!this.collection||this.collection.length===0;},checkEmpty:function(){if(this.isEmpty(this.collection)){this.showEmptyView();}},attachBuffer:function(collectionView,buffer){collectionView.$el.append(buffer);},attachHtml:function(collectionView,childView,index){if(collectionView.isBuffering){collectionView.elBuffer.appendChild(childView.el);collectionView._bufferedChildren.push(childView);}
else{if(!collectionView._insertBefore(childView,index)){collectionView._insertAfter(childView);}}},_insertBefore:function(childView,index){var currentView;var findPosition=this.sort&&(index<this.children.length- 1);if(findPosition){currentView=this.children.find(function(view){return view._index===index+ 1;});}
    if(currentView){currentView.$el.before(childView.el);return true;}
    return false;},_insertAfter:function(childView){this.$el.append(childView.el);},_initChildViewStorage:function(){this.children=new Backbone.ChildViewContainer();},destroy:function(){if(this.isDestroyed){return;}
    this.triggerMethod('before:destroy:collection');this.destroyChildren();this.triggerMethod('destroy:collection');return Marionette.View.prototype.destroy.apply(this,arguments);},destroyChildren:function(){var childViews=this.children.map(_.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return childViews;},proxyChildEvents:function(view){var prefix=this.getOption('childViewEventPrefix');this.listenTo(view,'all',function(){var args=_.toArray(arguments);var rootEvent=args[0];var childEvents=this.normalizeMethods(_.result(this,'childEvents'));args[0]=prefix+':'+ rootEvent;args.splice(1,0,view);if(typeof childEvents!=='undefined'&&_.isFunction(childEvents[rootEvent])){childEvents[rootEvent].apply(this,args.slice(1));}
    this.triggerMethod.apply(this,args);},this);},_getImmediateChildren:function(){return _.values(this.children._views);}});Marionette.CompositeView=Marionette.CollectionView.extend({constructor:function(){Marionette.CollectionView.apply(this,arguments);},_initialEvents:function(){if(this.collection){this.listenTo(this.collection,'add',this._onCollectionAdd);this.listenTo(this.collection,'remove',this._onCollectionRemove);this.listenTo(this.collection,'reset',this._renderChildren);if(this.sort){this.listenTo(this.collection,'sort',this._sortViews);}}},getChildView:function(child){var childView=this.getOption('childView')||this.constructor;return childView;},serializeData:function(){var data={};if(this.model){data=_.partial(this.serializeModel,this.model).apply(this,arguments);}
    return data;},render:function(){this._ensureViewIsIntact();this.isRendered=true;this.resetChildViewContainer();this.triggerMethod('before:render',this);this._renderTemplate();this._renderChildren();this.triggerMethod('render',this);return this;},_renderChildren:function(){if(this.isRendered){Marionette.CollectionView.prototype._renderChildren.call(this);}},_renderTemplate:function(){var data={};data=this.serializeData();data=this.mixinTemplateHelpers(data);this.triggerMethod('before:render:template');var template=this.getTemplate();var html=Marionette.Renderer.render(template,data,this);this.attachElContent(html);this.bindUIElements();this.triggerMethod('render:template');},attachElContent:function(html){this.$el.html(html);return this;},attachBuffer:function(compositeView,buffer){var $container=this.getChildViewContainer(compositeView);$container.append(buffer);},_insertAfter:function(childView){var $container=this.getChildViewContainer(this,childView);$container.append(childView.el);},getChildViewContainer:function(containerView,childView){if('$childViewContainer'in containerView){return containerView.$childViewContainer;}
    var container;var childViewContainer=Marionette.getOption(containerView,'childViewContainer');if(childViewContainer){var selector=_.isFunction(childViewContainer)?childViewContainer.call(containerView):childViewContainer;if(selector.charAt(0)==='@'&&containerView.ui){container=containerView.ui[selector.substr(4)];}else{container=containerView.$(selector);}
        if(container.length<=0){throw new Marionette.Error({name:'ChildViewContainerMissingError',message:'The specified "childViewContainer" was not found: '+ containerView.childViewContainer});}}else{container=containerView.$el;}
    containerView.$childViewContainer=container;return container;},resetChildViewContainer:function(){if(this.$childViewContainer){delete this.$childViewContainer;}}});Marionette.LayoutView=Marionette.ItemView.extend({regionClass:Marionette.Region,constructor:function(options){options=options||{};this._firstRender=true;this._initializeRegions(options);Marionette.ItemView.call(this,options);},render:function(){this._ensureViewIsIntact();if(this._firstRender){this._firstRender=false;}else{this._reInitializeRegions();}
    return Marionette.ItemView.prototype.render.apply(this,arguments);},destroy:function(){if(this.isDestroyed){return this;}
    this.regionManager.destroy();return Marionette.ItemView.prototype.destroy.apply(this,arguments);},addRegion:function(name,definition){var regions={};regions[name]=definition;return this._buildRegions(regions)[name];},addRegions:function(regions){this.regions=_.extend({},this.regions,regions);return this._buildRegions(regions);},removeRegion:function(name){delete this.regions[name];return this.regionManager.removeRegion(name);},getRegion:function(region){return this.regionManager.get(region);},getRegions:function(){return this.regionManager.getRegions();},_buildRegions:function(regions){var defaults={regionClass:this.getOption('regionClass'),parentEl:_.partial(_.result,this,'$el')};return this.regionManager.addRegions(regions,defaults);},_initializeRegions:function(options){var regions;this._initRegionManager();if(_.isFunction(this.regions)){regions=this.regions(options);}else{regions=this.regions||{};}
    var regionOptions=this.getOption.call(options,'regions');if(_.isFunction(regionOptions)){regionOptions=regionOptions.call(this,options);}
    _.extend(regions,regionOptions);regions=this.normalizeUIValues(regions);this.addRegions(regions);},_reInitializeRegions:function(){this.regionManager.invoke('reset');},getRegionManager:function(){return new Marionette.RegionManager();},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.regionManager._parent=this;this.listenTo(this.regionManager,'before:add:region',function(name){this.triggerMethod('before:add:region',name);});this.listenTo(this.regionManager,'add:region',function(name,region){this[name]=region;this.triggerMethod('add:region',name,region);});this.listenTo(this.regionManager,'before:remove:region',function(name){this.triggerMethod('before:remove:region',name);});this.listenTo(this.regionManager,'remove:region',function(name,region){delete this[name];this.triggerMethod('remove:region',name,region);});},_getImmediateChildren:function(){return _.chain(this.regionManager.getRegions()).pluck('currentView').compact().value();}});Marionette.Behavior=Marionette.Object.extend({constructor:function(options,view){this.view=view;this.defaults=_.result(this,'defaults')||{};this.options=_.extend({},this.defaults,options);Marionette.Object.apply(this,arguments);},$:function(){return this.view.$.apply(this.view,arguments);},destroy:function(){this.stopListening();},proxyViewProperties:function(view){this.$el=view.$el;this.el=view.el;}});Marionette.Behaviors=(function(Marionette,_){function Behaviors(view,behaviors){if(!_.isObject(view.behaviors)){return{};}
    behaviors=Behaviors.parseBehaviors(view,behaviors||_.result(view,'behaviors'));Behaviors.wrap(view,behaviors,_.keys(methods));return behaviors;}
    var methods={behaviorTriggers:function(behaviorTriggers,behaviors){var triggerBuilder=new BehaviorTriggersBuilder(this,behaviors);return triggerBuilder.buildBehaviorTriggers();},behaviorEvents:function(behaviorEvents,behaviors){var _behaviorsEvents={};var viewUI=_.result(this,'ui');_.each(behaviors,function(b,i){var _events={};var behaviorEvents=_.clone(_.result(b,'events'))||{};var behaviorUI=_.result(b,'ui');var ui=_.extend({},viewUI,behaviorUI);behaviorEvents=Marionette.normalizeUIKeys(behaviorEvents,ui);_.each(_.keys(behaviorEvents),function(key){var whitespace=(new Array(i+ 2)).join(' ');var eventKey=key+ whitespace;var handler=_.isFunction(behaviorEvents[key])?behaviorEvents[key]:b[behaviorEvents[key]];_events[eventKey]=_.bind(handler,b);});_behaviorsEvents=_.extend(_behaviorsEvents,_events);});return _behaviorsEvents;}};_.extend(Behaviors,{behaviorsLookup:function(){throw new Marionette.Error({message:'You must define where your behaviors are stored.',url:'marionette.behaviors.html#behaviorslookup'});},getBehaviorClass:function(options,key){if(options.behaviorClass){return options.behaviorClass;}
        return _.isFunction(Behaviors.behaviorsLookup)?Behaviors.behaviorsLookup.apply(this,arguments)[key]:Behaviors.behaviorsLookup[key];},parseBehaviors:function(view,behaviors){return _.chain(behaviors).map(function(options,key){var BehaviorClass=Behaviors.getBehaviorClass(options,key);var behavior=new BehaviorClass(options,view);var nestedBehaviors=Behaviors.parseBehaviors(view,_.result(behavior,'behaviors'));return[behavior].concat(nestedBehaviors);}).flatten().value();},wrap:function(view,behaviors,methodNames){_.each(methodNames,function(methodName){view[methodName]=_.partial(methods[methodName],view[methodName],behaviors);});}});function BehaviorTriggersBuilder(view,behaviors){this._view=view;this._viewUI=_.result(view,'ui');this._behaviors=behaviors;this._triggers={};}
    _.extend(BehaviorTriggersBuilder.prototype,{buildBehaviorTriggers:function(){_.each(this._behaviors,this._buildTriggerHandlersForBehavior,this);return this._triggers;},_buildTriggerHandlersForBehavior:function(behavior,i){var ui=_.extend({},this._viewUI,_.result(behavior,'ui'));var triggersHash=_.clone(_.result(behavior,'triggers'))||{};triggersHash=Marionette.normalizeUIKeys(triggersHash,ui);_.each(triggersHash,_.partial(this._setHandlerForBehavior,behavior,i),this);},_setHandlerForBehavior:function(behavior,i,eventName,trigger){var triggerKey=trigger.replace(/^\S+/,function(triggerName){return triggerName+'.'+'behaviortriggers'+ i;});this._triggers[triggerKey]=this._view._buildViewTrigger(eventName);}});return Behaviors;})(Marionette,_);Marionette.AppRouter=Backbone.Router.extend({constructor:function(options){this.options=options||{};Backbone.Router.apply(this,arguments);var appRoutes=this.getOption('appRoutes');var controller=this._getController();this.processAppRoutes(controller,appRoutes);this.on('route',this._processOnRoute,this);},appRoute:function(route,methodName){var controller=this._getController();this._addAppRoute(controller,route,methodName);},_processOnRoute:function(routeName,routeArgs){if(_.isFunction(this.onRoute)){var routePath=_.invert(this.getOption('appRoutes'))[routeName];this.onRoute(routeName,routePath,routeArgs);}},processAppRoutes:function(controller,appRoutes){if(!appRoutes){return;}
    var routeNames=_.keys(appRoutes).reverse();_.each(routeNames,function(route){this._addAppRoute(controller,route,appRoutes[route]);},this);},_getController:function(){return this.getOption('controller');},_addAppRoute:function(controller,route,methodName){var method=controller[methodName];if(!method){throw new Marionette.Error('Method "'+ methodName+'" was not found on the controller');}
    this.route(route,methodName,_.bind(method,controller));},getOption:Marionette.proxyGetOption,triggerMethod:Marionette.triggerMethod,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents});Marionette.Application=Marionette.Object.extend({constructor:function(options){this._initializeRegions(options);this._initCallbacks=new Marionette.Callbacks();this.submodules={};_.extend(this,options);this._initChannel();Marionette.Object.call(this,options);},execute:function(){this.commands.execute.apply(this.commands,arguments);},request:function(){return this.reqres.request.apply(this.reqres,arguments);},addInitializer:function(initializer){this._initCallbacks.add(initializer);},start:function(options){this.triggerMethod('before:start',options);this._initCallbacks.run(options,this);this.triggerMethod('start',options);},addRegions:function(regions){return this._regionManager.addRegions(regions);},emptyRegions:function(){return this._regionManager.emptyRegions();},removeRegion:function(region){return this._regionManager.removeRegion(region);},getRegion:function(region){return this._regionManager.get(region);},getRegions:function(){return this._regionManager.getRegions();},module:function(moduleNames,moduleDefinition){var ModuleClass=Marionette.Module.getClass(moduleDefinition);var args=_.toArray(arguments);args.unshift(this);return ModuleClass.create.apply(ModuleClass,args);},getRegionManager:function(){return new Marionette.RegionManager();},_initializeRegions:function(options){var regions=_.isFunction(this.regions)?this.regions(options):this.regions||{};this._initRegionManager();var optionRegions=Marionette.getOption(options,'regions');if(_.isFunction(optionRegions)){optionRegions=optionRegions.call(this,options);}
    _.extend(regions,optionRegions);this.addRegions(regions);return this;},_initRegionManager:function(){this._regionManager=this.getRegionManager();this._regionManager._parent=this;this.listenTo(this._regionManager,'before:add:region',function(){Marionette._triggerMethod(this,'before:add:region',arguments);});this.listenTo(this._regionManager,'add:region',function(name,region){this[name]=region;Marionette._triggerMethod(this,'add:region',arguments);});this.listenTo(this._regionManager,'before:remove:region',function(){Marionette._triggerMethod(this,'before:remove:region',arguments);});this.listenTo(this._regionManager,'remove:region',function(name){delete this[name];Marionette._triggerMethod(this,'remove:region',arguments);});},_initChannel:function(){this.channelName=_.result(this,'channelName')||'global';this.channel=_.result(this,'channel')||Backbone.Wreqr.radio.channel(this.channelName);this.vent=_.result(this,'vent')||this.channel.vent;this.commands=_.result(this,'commands')||this.channel.commands;this.reqres=_.result(this,'reqres')||this.channel.reqres;}});Marionette.Module=function(moduleName,app,options){this.moduleName=moduleName;this.options=_.extend({},this.options,options);this.initialize=options.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=app;if(_.isFunction(this.initialize)){this.initialize(moduleName,app,this.options);}};Marionette.Module.extend=Marionette.extend;_.extend(Marionette.Module.prototype,Backbone.Events,{startWithParent:true,initialize:function(){},addInitializer:function(callback){this._initializerCallbacks.add(callback);},addFinalizer:function(callback){this._finalizerCallbacks.add(callback);},start:function(options){if(this._isInitialized){return;}
    _.each(this.submodules,function(mod){if(mod.startWithParent){mod.start(options);}});this.triggerMethod('before:start',options);this._initializerCallbacks.run(options,this);this._isInitialized=true;this.triggerMethod('start',options);},stop:function(){if(!this._isInitialized){return;}
    this._isInitialized=false;this.triggerMethod('before:stop');_.invoke(this.submodules,'stop');this._finalizerCallbacks.run(undefined,this);this._initializerCallbacks.reset();this._finalizerCallbacks.reset();this.triggerMethod('stop');},addDefinition:function(moduleDefinition,customArgs){this._runModuleDefinition(moduleDefinition,customArgs);},_runModuleDefinition:function(definition,customArgs){if(!definition){return;}
    var args=_.flatten([this,this.app,Backbone,Marionette,Backbone.$,_,customArgs]);definition.apply(this,args);},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new Marionette.Callbacks();this._finalizerCallbacks=new Marionette.Callbacks();},triggerMethod:Marionette.triggerMethod});_.extend(Marionette.Module,{create:function(app,moduleNames,moduleDefinition){var module=app;var customArgs=_.rest(arguments,3);moduleNames=moduleNames.split('.');var length=moduleNames.length;var moduleDefinitions=[];moduleDefinitions[length- 1]=moduleDefinition;_.each(moduleNames,function(moduleName,i){var parentModule=module;module=this._getModule(parentModule,moduleName,app,moduleDefinition);this._addModuleDefinition(parentModule,module,moduleDefinitions[i],customArgs);},this);return module;},_getModule:function(parentModule,moduleName,app,def,args){var options=_.extend({},def);var ModuleClass=this.getClass(def);var module=parentModule[moduleName];if(!module){module=new ModuleClass(moduleName,app,options);parentModule[moduleName]=module;parentModule.submodules[moduleName]=module;}
    return module;},getClass:function(moduleDefinition){var ModuleClass=Marionette.Module;if(!moduleDefinition){return ModuleClass;}
    if(moduleDefinition.prototype instanceof ModuleClass){return moduleDefinition;}
    return moduleDefinition.moduleClass||ModuleClass;},_addModuleDefinition:function(parentModule,module,def,args){var fn=this._getDefine(def);var startWithParent=this._getStartWithParent(def,module);if(fn){module.addDefinition(fn,args);}
    this._addStartWithParent(parentModule,module,startWithParent);},_getStartWithParent:function(def,module){var swp;if(_.isFunction(def)&&(def.prototype instanceof Marionette.Module)){swp=module.constructor.prototype.startWithParent;return _.isUndefined(swp)?true:swp;}
    if(_.isObject(def)){swp=def.startWithParent;return _.isUndefined(swp)?true:swp;}
    return true;},_getDefine:function(def){if(_.isFunction(def)&&!(def.prototype instanceof Marionette.Module)){return def;}
    if(_.isObject(def)){return def.define;}
    return null;},_addStartWithParent:function(parentModule,module,startWithParent){module.startWithParent=module.startWithParent&&startWithParent;if(!module.startWithParent||!!module.startWithParentIsConfigured){return;}
    module.startWithParentIsConfigured=true;parentModule.addInitializer(function(options){if(module.startWithParent){module.start(options);}});}});return Marionette;}));
},{"./backbone":17,"./backbone.babysitter.js":16,"./backbone.wreqr.js":19,"./underscore":64}],19:[function(require,module,exports){
// Backbone.Wreqr (Backbone.Marionette)
// ----------------------------------
// v1.3.2
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.wreqr


(function(root, factory) {

    if (typeof define === 'function' && define.amd) {
        define(['backbone', 'underscore'], function(Backbone, _) {
            return factory(Backbone, _);
        });
    } else if (typeof exports !== 'undefined') {
        var Backbone = require('./backbone');
        var _ = require('./underscore');
        module.exports = factory(Backbone, _);
    } else {
        factory(root.Backbone, root._);
    }

}(this, function(Backbone, _) {
    "use strict";

    var previousWreqr = Backbone.Wreqr;

    var Wreqr = Backbone.Wreqr = {};

    Backbone.Wreqr.VERSION = '1.3.2';

    Backbone.Wreqr.noConflict = function () {
        Backbone.Wreqr = previousWreqr;
        return this;
    };

    // Handlers
    // --------
    // A registry of functions to call, given a name

    Wreqr.Handlers = (function(Backbone, _){
        "use strict";

        // Constructor
        // -----------

        var Handlers = function(options){
            this.options = options;
            this._wreqrHandlers = {};

            if (_.isFunction(this.initialize)){
                this.initialize(options);
            }
        };

        Handlers.extend = Backbone.Model.extend;

        // Instance Members
        // ----------------

        _.extend(Handlers.prototype, Backbone.Events, {

            // Add multiple handlers using an object literal configuration
            setHandlers: function(handlers){
                _.each(handlers, function(handler, name){
                    var context = null;

                    if (_.isObject(handler) && !_.isFunction(handler)){
                        context = handler.context;
                        handler = handler.callback;
                    }

                    this.setHandler(name, handler, context);
                }, this);
            },

            // Add a handler for the given name, with an
            // optional context to run the handler within
            setHandler: function(name, handler, context){
                var config = {
                    callback: handler,
                    context: context
                };

                this._wreqrHandlers[name] = config;

                this.trigger("handler:add", name, handler, context);
            },

            // Determine whether or not a handler is registered
            hasHandler: function(name){
                return !! this._wreqrHandlers[name];
            },

            // Get the currently registered handler for
            // the specified name. Throws an exception if
            // no handler is found.
            getHandler: function(name){
                var config = this._wreqrHandlers[name];

                if (!config){
                    return;
                }

                return function(){
                    return config.callback.apply(config.context, arguments);
                };
            },

            // Remove a handler for the specified name
            removeHandler: function(name){
                delete this._wreqrHandlers[name];
            },

            // Remove all handlers from this registry
            removeAllHandlers: function(){
                this._wreqrHandlers = {};
            }
        });

        return Handlers;
    })(Backbone, _);

    // Wreqr.CommandStorage
    // --------------------
    //
    // Store and retrieve commands for execution.
    Wreqr.CommandStorage = (function(){
        "use strict";

        // Constructor function
        var CommandStorage = function(options){
            this.options = options;
            this._commands = {};

            if (_.isFunction(this.initialize)){
                this.initialize(options);
            }
        };

        // Instance methods
        _.extend(CommandStorage.prototype, Backbone.Events, {

            // Get an object literal by command name, that contains
            // the `commandName` and the `instances` of all commands
            // represented as an array of arguments to process
            getCommands: function(commandName){
                var commands = this._commands[commandName];

                // we don't have it, so add it
                if (!commands){

                    // build the configuration
                    commands = {
                        command: commandName,
                        instances: []
                    };

                    // store it
                    this._commands[commandName] = commands;
                }

                return commands;
            },

            // Add a command by name, to the storage and store the
            // args for the command
            addCommand: function(commandName, args){
                var command = this.getCommands(commandName);
                command.instances.push(args);
            },

            // Clear all commands for the given `commandName`
            clearCommands: function(commandName){
                var command = this.getCommands(commandName);
                command.instances = [];
            }
        });

        return CommandStorage;
    })();

    // Wreqr.Commands
    // --------------
    //
    // A simple command pattern implementation. Register a command
    // handler and execute it.
    Wreqr.Commands = (function(Wreqr, _){
        "use strict";

        return Wreqr.Handlers.extend({
            // default storage type
            storageType: Wreqr.CommandStorage,

            constructor: function(options){
                this.options = options || {};

                this._initializeStorage(this.options);
                this.on("handler:add", this._executeCommands, this);

                Wreqr.Handlers.prototype.constructor.apply(this, arguments);
            },

            // Execute a named command with the supplied args
            execute: function(name){
                name = arguments[0];
                var args = _.rest(arguments);

                if (this.hasHandler(name)){
                    this.getHandler(name).apply(this, args);
                } else {
                    this.storage.addCommand(name, args);
                }

            },

            // Internal method to handle bulk execution of stored commands
            _executeCommands: function(name, handler, context){
                var command = this.storage.getCommands(name);

                // loop through and execute all the stored command instances
                _.each(command.instances, function(args){
                    handler.apply(context, args);
                });

                this.storage.clearCommands(name);
            },

            // Internal method to initialize storage either from the type's
            // `storageType` or the instance `options.storageType`.
            _initializeStorage: function(options){
                var storage;

                var StorageType = options.storageType || this.storageType;
                if (_.isFunction(StorageType)){
                    storage = new StorageType();
                } else {
                    storage = StorageType;
                }

                this.storage = storage;
            }
        });

    })(Wreqr, _);

    // Wreqr.RequestResponse
    // ---------------------
    //
    // A simple request/response implementation. Register a
    // request handler, and return a response from it
    Wreqr.RequestResponse = (function(Wreqr, _){
        "use strict";

        return Wreqr.Handlers.extend({
            request: function(name){
                if (this.hasHandler(name)) {
                    return this.getHandler(name).apply(this, _.rest(arguments));
                }
            }
        });

    })(Wreqr, _);

    // Event Aggregator
    // ----------------
    // A pub-sub object that can be used to decouple various parts
    // of an application through event-driven architecture.

    Wreqr.EventAggregator = (function(Backbone, _){
        "use strict";
        var EA = function(){};

        // Copy the `extend` function used by Backbone's classes
        EA.extend = Backbone.Model.extend;

        // Copy the basic Backbone.Events on to the event aggregator
        _.extend(EA.prototype, Backbone.Events);

        return EA;
    })(Backbone, _);

    // Wreqr.Channel
    // --------------
    //
    // An object that wraps the three messaging systems:
    // EventAggregator, RequestResponse, Commands
    Wreqr.Channel = (function(Wreqr){
        "use strict";

        var Channel = function(channelName) {
            this.vent        = new Backbone.Wreqr.EventAggregator();
            this.reqres      = new Backbone.Wreqr.RequestResponse();
            this.commands    = new Backbone.Wreqr.Commands();
            this.channelName = channelName;
        };

        _.extend(Channel.prototype, {

            // Remove all handlers from the messaging systems of this channel
            reset: function() {
                this.vent.off();
                this.vent.stopListening();
                this.reqres.removeAllHandlers();
                this.commands.removeAllHandlers();
                return this;
            },

            // Connect a hash of events; one for each messaging system
            connectEvents: function(hash, context) {
                this._connect('vent', hash, context);
                return this;
            },

            connectCommands: function(hash, context) {
                this._connect('commands', hash, context);
                return this;
            },

            connectRequests: function(hash, context) {
                this._connect('reqres', hash, context);
                return this;
            },

            // Attach the handlers to a given message system `type`
            _connect: function(type, hash, context) {
                if (!hash) {
                    return;
                }

                context = context || this;
                var method = (type === 'vent') ? 'on' : 'setHandler';

                _.each(hash, function(fn, eventName) {
                    this[type][method](eventName, _.bind(fn, context));
                }, this);
            }
        });


        return Channel;
    })(Wreqr);

    // Wreqr.Radio
    // --------------
    //
    // An object that lets you communicate with many channels.
    Wreqr.radio = (function(Wreqr, _){
        "use strict";

        var Radio = function() {
            this._channels = {};
            this.vent = {};
            this.commands = {};
            this.reqres = {};
            this._proxyMethods();
        };

        _.extend(Radio.prototype, {

            channel: function(channelName) {
                if (!channelName) {
                    throw new Error('Channel must receive a name');
                }

                return this._getChannel( channelName );
            },

            _getChannel: function(channelName) {
                var channel = this._channels[channelName];

                if(!channel) {
                    channel = new Wreqr.Channel(channelName);
                    this._channels[channelName] = channel;
                }

                return channel;
            },

            _proxyMethods: function() {
                _.each(['vent', 'commands', 'reqres'], function(system) {
                    _.each( messageSystems[system], function(method) {
                        this[system][method] = proxyMethod(this, system, method);
                    }, this);
                }, this);
            }
        });


        var messageSystems = {
            vent: [
                'on',
                'off',
                'trigger',
                'once',
                'stopListening',
                'listenTo',
                'listenToOnce'
            ],

            commands: [
                'execute',
                'setHandler',
                'setHandlers',
                'removeHandler',
                'removeAllHandlers'
            ],

            reqres: [
                'request',
                'setHandler',
                'setHandlers',
                'removeHandler',
                'removeAllHandlers'
            ]
        };

        var proxyMethod = function(radio, system, method) {
            return function(channelName) {
                var messageSystem = radio._getChannel(channelName)[system];

                return messageSystem[method].apply(messageSystem, _.rest(arguments));
            };
        };

        return new Radio();

    })(Wreqr, _);


    return Backbone.Wreqr;

}));
},{"./backbone":17,"./underscore":64}],20:[function(require,module,exports){
/*!
 * Bootstrap-select v1.7.3 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2015 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */

(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module unless amdModuleId is set
    define(["jquery"], function (a0) {
      return (factory(a0));
    });
  } else if (typeof exports === 'object') {
    // Node. Does not work with strict CommonJS, but
    // only CommonJS-like environments that support module.exports,
    // like Node.
    module.exports = factory(require("./jquery"));
  } else {
    factory(require("./jquery"));
  }
}(this, function () {

  (function ($) {
    'use strict';

    //<editor-fold desc="Shims">
    if (!String.prototype.includes) {
      (function () {
        'use strict'; // needed to support `apply`/`call` with `undefined`/`null`
        var toString = {}.toString;
        var defineProperty = (function () {
          // IE 8 only supports `Object.defineProperty` on DOM elements
          try {
            var object = {};
            var $defineProperty = Object.defineProperty;
            var result = $defineProperty(object, object, object) && $defineProperty;
          } catch (error) {
          }
          return result;
        }());
        var indexOf = ''.indexOf;
        var includes = function (search) {
          if (this == null) {
            throw TypeError();
          }
          var string = String(this);
          if (search && toString.call(search) == '[object RegExp]') {
            throw TypeError();
          }
          var stringLength = string.length;
          var searchString = String(search);
          var searchLength = searchString.length;
          var position = arguments.length > 1 ? arguments[1] : undefined;
          // `ToInteger`
          var pos = position ? Number(position) : 0;
          if (pos != pos) { // better `isNaN`
            pos = 0;
          }
          var start = Math.min(Math.max(pos, 0), stringLength);
          // Avoid the `indexOf` call if no match is possible
          if (searchLength + start > stringLength) {
            return false;
          }
          return indexOf.call(string, searchString, pos) != -1;
        };
        if (defineProperty) {
          defineProperty(String.prototype, 'includes', {
            'value': includes,
            'configurable': true,
            'writable': true
          });
        } else {
          String.prototype.includes = includes;
        }
      }());
    }

    if (!String.prototype.startsWith) {
      (function () {
        'use strict'; // needed to support `apply`/`call` with `undefined`/`null`
        var defineProperty = (function () {
          // IE 8 only supports `Object.defineProperty` on DOM elements
          try {
            var object = {};
            var $defineProperty = Object.defineProperty;
            var result = $defineProperty(object, object, object) && $defineProperty;
          } catch (error) {
          }
          return result;
        }());
        var toString = {}.toString;
        var startsWith = function (search) {
          if (this == null) {
            throw TypeError();
          }
          var string = String(this);
          if (search && toString.call(search) == '[object RegExp]') {
            throw TypeError();
          }
          var stringLength = string.length;
          var searchString = String(search);
          var searchLength = searchString.length;
          var position = arguments.length > 1 ? arguments[1] : undefined;
          // `ToInteger`
          var pos = position ? Number(position) : 0;
          if (pos != pos) { // better `isNaN`
            pos = 0;
          }
          var start = Math.min(Math.max(pos, 0), stringLength);
          // Avoid the `indexOf` call if no match is possible
          if (searchLength + start > stringLength) {
            return false;
          }
          var index = -1;
          while (++index < searchLength) {
            if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {
              return false;
            }
          }
          return true;
        };
        if (defineProperty) {
          defineProperty(String.prototype, 'startsWith', {
            'value': startsWith,
            'configurable': true,
            'writable': true
          });
        } else {
          String.prototype.startsWith = startsWith;
        }
      }());
    }

    if (!Object.keys) {
      Object.keys = function (
          o, // object
          k, // key
          r  // result array
      ){
        // initialize object and result
        r=[];
        // iterate over object keys
        for (k in o)
          // fill result array with non-prototypical keys
          r.hasOwnProperty.call(o, k) && r.push(k);
        // return result
        return r
      };
    }

    $.fn.triggerNative = function (eventName) {
      var el = this[0],
          event;

      if (el.dispatchEvent) {
        if (typeof Event === 'function') {
          // For modern browsers
          event = new Event(eventName, {
            bubbles: true
          });
        } else {
          // For IE since it doesn't support Event constructor
          event = document.createEvent('Event');
          event.initEvent(eventName, true, false);
        }

        el.dispatchEvent(event);
      } else {
        if (el.fireEvent) {
          event = document.createEventObject();
          event.eventType = eventName;
          el.fireEvent('on' + eventName, event);
        }

        this.trigger(eventName);
      }
    };
    //</editor-fold>

    // Case insensitive contains search
    $.expr[':'].icontains = function (obj, index, meta) {
      var $obj = $(obj);
      var haystack = ($obj.data('tokens') || $obj.text()).toUpperCase();
      return haystack.includes(meta[3].toUpperCase());
    };

    // Case insensitive begins search
    $.expr[':'].ibegins = function (obj, index, meta) {
      var $obj = $(obj);
      var haystack = ($obj.data('tokens') || $obj.text()).toUpperCase();
      return haystack.startsWith(meta[3].toUpperCase());
    };

    // Case and accent insensitive contains search
    $.expr[':'].aicontains = function (obj, index, meta) {
      var $obj = $(obj);
      var haystack = ($obj.data('tokens') || $obj.data('normalizedText') || $obj.text()).toUpperCase();
      return haystack.includes(meta[3].toUpperCase());
    };

    // Case and accent insensitive begins search
    $.expr[':'].aibegins = function (obj, index, meta) {
      var $obj = $(obj);
      var haystack = ($obj.data('tokens') || $obj.data('normalizedText') || $obj.text()).toUpperCase();
      return haystack.startsWith(meta[3].toUpperCase());
    };

    /**
     * Remove all diatrics from the given text.
     * @access private
     * @param {String} text
     * @returns {String}
     */
    function normalizeToBase(text) {
      var rExps = [
        {re: /[\xC0-\xC6]/g, ch: "A"},
        {re: /[\xE0-\xE6]/g, ch: "a"},
        {re: /[\xC8-\xCB]/g, ch: "E"},
        {re: /[\xE8-\xEB]/g, ch: "e"},
        {re: /[\xCC-\xCF]/g, ch: "I"},
        {re: /[\xEC-\xEF]/g, ch: "i"},
        {re: /[\xD2-\xD6]/g, ch: "O"},
        {re: /[\xF2-\xF6]/g, ch: "o"},
        {re: /[\xD9-\xDC]/g, ch: "U"},
        {re: /[\xF9-\xFC]/g, ch: "u"},
        {re: /[\xC7-\xE7]/g, ch: "c"},
        {re: /[\xD1]/g, ch: "N"},
        {re: /[\xF1]/g, ch: "n"}
      ];
      $.each(rExps, function () {
        text = text.replace(this.re, this.ch);
      });
      return text;
    }


    function htmlEscape(html) {
      var escapeMap = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#x27;',
        '`': '&#x60;'
      };
      var source = '(?:' + Object.keys(escapeMap).join('|') + ')',
          testRegexp = new RegExp(source),
          replaceRegexp = new RegExp(source, 'g'),
          string = html == null ? '' : '' + html;
      return testRegexp.test(string) ? string.replace(replaceRegexp, function (match) {
        return escapeMap[match];
      }) : string;
    }

    var Selectpicker = function (element, options, e) {
      if (e) {
        e.stopPropagation();
        e.preventDefault();
      }

      this.$element = $(element);
      this.$newElement = null;
      this.$button = null;
      this.$menu = null;
      this.$lis = null;
      this.options = options;

      // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a
      // data-attribute)
      if (this.options.title === null) {
        this.options.title = this.$element.attr('title');
      }

      //Expose public methods
      this.val = Selectpicker.prototype.val;
      this.render = Selectpicker.prototype.render;
      this.refresh = Selectpicker.prototype.refresh;
      this.setStyle = Selectpicker.prototype.setStyle;
      this.selectAll = Selectpicker.prototype.selectAll;
      this.deselectAll = Selectpicker.prototype.deselectAll;
      this.destroy = Selectpicker.prototype.remove;
      this.remove = Selectpicker.prototype.remove;
      this.show = Selectpicker.prototype.show;
      this.hide = Selectpicker.prototype.hide;

      this.init();
    };

    Selectpicker.VERSION = '1.7.2';

    // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.
    Selectpicker.DEFAULTS = {
      noneSelectedText: 'Nothing selected',
      noneResultsText: 'No results matched {0}',
      countSelectedText: function (numSelected, numTotal) {
        return (numSelected == 1) ? "{0} item selected" : "{0} items selected";
      },
      maxOptionsText: function (numAll, numGroup) {
        return [
          (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',
          (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'
        ];
      },
      selectAllText: 'Select All',
      deselectAllText: 'Deselect All',
      doneButton: false,
      doneButtonText: 'Close',
      multipleSeparator: ', ',
      styleBase: 'btn',
      style: 'btn-default',
      size: 'auto',
      title: null,
      selectedTextFormat: 'values',
      width: false,
      container: false,
      hideDisabled: false,
      showSubtext: false,
      showIcon: true,
      showContent: true,
      dropupAuto: true,
      header: false,
      liveSearch: false,
      liveSearchPlaceholder: null,
      liveSearchNormalize: false,
      liveSearchStyle: 'contains',
      actionsBox: false,
      iconBase: 'glyphicon',
      tickIcon: 'glyphicon-ok',
      maxOptions: false,
      mobile: false,
      selectOnTab: false,
      dropdownAlignRight: false
    };

    Selectpicker.prototype = {

      constructor: Selectpicker,

      init: function () {
        var that = this,
            id = this.$element.attr('id');

        this.$element.addClass('bs-select-hidden');
        // store originalIndex (key) and newIndex (value) in this.liObj for fast accessibility
        // allows us to do this.$lis.eq(that.liObj[index]) instead of this.$lis.filter('[data-original-index="' + index + '"]')
        this.liObj = {};
        this.multiple = this.$element.prop('multiple');
        this.autofocus = this.$element.prop('autofocus');
        this.$newElement = this.createView();
        this.$element.after(this.$newElement);
        this.$button = this.$newElement.children('button');
        this.$menu = this.$newElement.children('.dropdown-menu');
        this.$menuInner = this.$menu.children('.inner');
        this.$searchbox = this.$menu.find('input');

        if (this.options.dropdownAlignRight)
          this.$menu.addClass('dropdown-menu-right');

        if (typeof id !== 'undefined') {
          this.$button.attr('data-id', id);
          $('label[for="' + id + '"]').click(function (e) {
            e.preventDefault();
            that.$button.focus();
          });
        }

        this.checkDisabled();
        this.clickListener();
        if (this.options.liveSearch) this.liveSearchListener();
        this.render();
        this.setStyle();
        this.setWidth();
        if (this.options.container) this.selectPosition();
        this.$menu.data('this', this);
        this.$newElement.data('this', this);
        if (this.options.mobile) this.mobile();

        this.$newElement.on('hide.bs.dropdown', function (e) {
          that.$element.trigger('hide.bs.select', e);
        });

        this.$newElement.on('hidden.bs.dropdown', function (e) {
          that.$element.trigger('hidden.bs.select', e);
        });

        this.$newElement.on('show.bs.dropdown', function (e) {
          that.$element.trigger('show.bs.select', e);
        });

        this.$newElement.on('shown.bs.dropdown', function (e) {
          that.$element.trigger('shown.bs.select', e);
        });

        setTimeout(function () {
          that.$element.trigger('loaded.bs.select');
        });
      },

      createDropdown: function () {
        // Options
        // If we are multiple, then add the show-tick class by default
        var multiple = this.multiple ? ' show-tick' : '',
            inputGroup = this.$element.parent().hasClass('input-group') ? ' input-group-btn' : '',
            autofocus = this.autofocus ? ' autofocus' : '';
        // Elements
        var header = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + '</div>' : '';
        var searchbox = this.options.liveSearch ?
        '<div class="bs-searchbox">' +
        '<input type="text" class="form-control" autocomplete="off"' +
        (null === this.options.liveSearchPlaceholder ? '' : ' placeholder="' + htmlEscape(this.options.liveSearchPlaceholder) + '"') + '>' +
        '</div>'
            : '';
        var actionsbox = this.multiple && this.options.actionsBox ?
        '<div class="bs-actionsbox">' +
        '<div class="btn-group btn-group-sm btn-block">' +
        '<button type="button" class="actions-btn bs-select-all btn btn-default">' +
        this.options.selectAllText +
        '</button>' +
        '<button type="button" class="actions-btn bs-deselect-all btn btn-default">' +
        this.options.deselectAllText +
        '</button>' +
        '</div>' +
        '</div>'
            : '';
        var donebutton = this.multiple && this.options.doneButton ?
        '<div class="bs-donebutton">' +
        '<div class="btn-group btn-block">' +
        '<button type="button" class="btn btn-sm btn-default">' +
        this.options.doneButtonText +
        '</button>' +
        '</div>' +
        '</div>'
            : '';
        var drop =
            '<div class="btn-group bootstrap-select' + multiple + inputGroup + '">' +
            '<button type="button" class="' + this.options.styleBase + ' dropdown-toggle" data-toggle="dropdown"' + autofocus + '>' +
            '<span class="filter-option pull-left"></span>&nbsp;' +
            '<span class="caret"></span>' +
            '</button>' +
            '<div class="dropdown-menu open">' +
            header +
            searchbox +
            actionsbox +
            '<ul class="dropdown-menu inner" role="menu">' +
            '</ul>' +
            donebutton +
            '</div>' +
            '</div>';

        return $(drop);
      },

      createView: function () {
        var $drop = this.createDropdown(),
            li = this.createLi();

        $drop.find('ul')[0].innerHTML = li;
        return $drop;
      },

      reloadLi: function () {
        //Remove all children.
        this.destroyLi();
        //Re build
        var li = this.createLi();
        this.$menuInner[0].innerHTML = li;
      },

      destroyLi: function () {
        this.$menu.find('li').remove();
      },

      createLi: function () {
        var that = this,
            _li = [],
            optID = 0,
            titleOption = document.createElement('option'),
            liIndex = -1; // increment liIndex whenever a new <li> element is created to ensure liObj is correct

        // Helper functions
        /**
         * @param content
         * @param [index]
         * @param [classes]
         * @param [optgroup]
         * @returns {string}
         */
        var generateLI = function (content, index, classes, optgroup) {
          return '<li' +
              ((typeof classes !== 'undefined' & '' !== classes) ? ' class="' + classes + '"' : '') +
              ((typeof index !== 'undefined' & null !== index) ? ' data-original-index="' + index + '"' : '') +
              ((typeof optgroup !== 'undefined' & null !== optgroup) ? 'data-optgroup="' + optgroup + '"' : '') +
              '>' + content + '</li>';
        };

        /**
         * @param text
         * @param [classes]
         * @param [inline]
         * @param [tokens]
         * @returns {string}
         */
        var generateA = function (text, classes, inline, tokens) {
          return '<a tabindex="0"' +
              (typeof classes !== 'undefined' ? ' class="' + classes + '"' : '') +
              (typeof inline !== 'undefined' ? ' style="' + inline + '"' : '') +
              (that.options.liveSearchNormalize ? ' data-normalized-text="' + normalizeToBase(htmlEscape(text)) + '"' : '') +
              (typeof tokens !== 'undefined' || tokens !== null ? ' data-tokens="' + tokens + '"' : '') +
              '>' + text +
              '<span class="' + that.options.iconBase + ' ' + that.options.tickIcon + ' check-mark"></span>' +
              '</a>';
        };

        if (this.options.title && !this.multiple) {
          // this option doesn't create a new <li> element, but does add a new option, so liIndex is decreased
          // since liObj is recalculated on every refresh, liIndex needs to be decreased even if the titleOption is already appended
          liIndex--;

          if (!this.$element.find('.bs-title-option').length) {
            // Use native JS to prepend option (faster)
            var element = this.$element[0];
            titleOption.className = 'bs-title-option';
            titleOption.appendChild(document.createTextNode(this.options.title));
            titleOption.value = '';
            element.insertBefore(titleOption, element.firstChild);
            // Check if selected attribute is already set on an option. If not, select the titleOption option.
            if ($(element.options[element.selectedIndex]).attr('selected') === undefined) titleOption.selected = true;
          }
        }

        this.$element.find('option').each(function (index) {
          var $this = $(this);

          liIndex++;

          if ($this.hasClass('bs-title-option')) return;

          // Get the class and text for the option
          var optionClass = this.className || '',
              inline = this.style.cssText,
              text = $this.data('content') ? $this.data('content') : $this.html(),
              tokens = $this.data('tokens') ? $this.data('tokens') : null,
              subtext = typeof $this.data('subtext') !== 'undefined' ? '<small class="text-muted">' + $this.data('subtext') + '</small>' : '',
              icon = typeof $this.data('icon') !== 'undefined' ? '<span class="' + that.options.iconBase + ' ' + $this.data('icon') + '"></span> ' : '',
              isDisabled = this.disabled || (this.parentElement.tagName === 'OPTGROUP' && this.parentElement.disabled);

          if (icon !== '' && isDisabled) {
            icon = '<span>' + icon + '</span>';
          }

          if (that.options.hideDisabled && isDisabled) {
            liIndex--;
            return;
          }

          if (!$this.data('content')) {
            // Prepend any icon and append any subtext to the main text.
            text = icon + '<span class="text">' + text + subtext + '</span>';
          }

          if (this.parentElement.tagName === 'OPTGROUP' && $this.data('divider') !== true) {
            if ($this.index() === 0) { // Is it the first option of the optgroup?
              optID += 1;

              // Get the opt group label
              var label = this.parentElement.label,
                  labelSubtext = typeof $this.parent().data('subtext') !== 'undefined' ? '<small class="text-muted">' + $this.parent().data('subtext') + '</small>' : '',
                  labelIcon = $this.parent().data('icon') ? '<span class="' + that.options.iconBase + ' ' + $this.parent().data('icon') + '"></span> ' : '',
                  optGroupClass = ' ' + this.parentElement.className || '';

              label = labelIcon + '<span class="text">' + label + labelSubtext + '</span>';

              if (index !== 0 && _li.length > 0) { // Is it NOT the first option of the select && are there elements in the dropdown?
                liIndex++;
                _li.push(generateLI('', null, 'divider', optID + 'div'));
              }
              liIndex++;
              _li.push(generateLI(label, null, 'dropdown-header' + optGroupClass, optID));
            }
            _li.push(generateLI(generateA(text, 'opt ' + optionClass + optGroupClass, inline, tokens), index, '', optID));
          } else if ($this.data('divider') === true) {
            _li.push(generateLI('', index, 'divider'));
          } else if ($this.data('hidden') === true) {
            _li.push(generateLI(generateA(text, optionClass, inline, tokens), index, 'hidden is-hidden'));
          } else {
            if (this.previousElementSibling && this.previousElementSibling.tagName === 'OPTGROUP') {
              liIndex++;
              _li.push(generateLI('', null, 'divider', optID + 'div'));
            }
            _li.push(generateLI(generateA(text, optionClass, inline, tokens), index));
          }

          that.liObj[index] = liIndex;
        });

        //If we are not multiple, we don't have a selected item, and we don't have a title, select the first element so something is set in the button
        if (!this.multiple && this.$element.find('option:selected').length === 0 && !this.options.title) {
          this.$element.find('option').eq(0).prop('selected', true).attr('selected', 'selected');
        }

        return _li.join('');
      },

      findLis: function () {
        if (this.$lis == null) this.$lis = this.$menu.find('li');
        return this.$lis;
      },

      /**
       * @param [updateLi] defaults to true
       */
      render: function (updateLi) {
        var that = this,
            notDisabled;

        //Update the LI to match the SELECT
        if (updateLi !== false) {
          this.$element.find('option').each(function (index) {
            var $lis = that.findLis().eq(that.liObj[index]);

            that.setDisabled(index, this.disabled || this.parentElement.tagName === 'OPTGROUP' && this.parentElement.disabled, $lis);
            that.setSelected(index, this.selected, $lis);
          });
        }

        this.tabIndex();

        var selectedItems = this.$element.find('option').map(function () {
          if (this.selected) {
            if (that.options.hideDisabled && (this.disabled || this.parentElement.tagName === 'OPTGROUP' && this.parentElement.disabled)) return false;

            var $this = $(this),
                icon = $this.data('icon') && that.options.showIcon ? '<i class="' + that.options.iconBase + ' ' + $this.data('icon') + '"></i> ' : '',
                subtext;

            if (that.options.showSubtext && $this.data('subtext') && !that.multiple) {
              subtext = ' <small class="text-muted">' + $this.data('subtext') + '</small>';
            } else {
              subtext = '';
            }
            if (typeof $this.attr('title') !== 'undefined') {
              return $this.attr('title');
            } else if ($this.data('content') && that.options.showContent) {
              return $this.data('content');
            } else {
              return icon + $this.html() + subtext;
            }
          }
        }).toArray();

        //Fixes issue in IE10 occurring when no default option is selected and at least one option is disabled
        //Convert all the values into a comma delimited string
        var title = !this.multiple ? selectedItems[0] : selectedItems.join(this.options.multipleSeparator);

        //If this is multi select, and the selectText type is count, the show 1 of 2 selected etc..
        if (this.multiple && this.options.selectedTextFormat.indexOf('count') > -1) {
          var max = this.options.selectedTextFormat.split('>');
          if ((max.length > 1 && selectedItems.length > max[1]) || (max.length == 1 && selectedItems.length >= 2)) {
            notDisabled = this.options.hideDisabled ? ', [disabled]' : '';
            var totalCount = this.$element.find('option').not('[data-divider="true"], [data-hidden="true"]' + notDisabled).length,
                tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedItems.length, totalCount) : this.options.countSelectedText;
            title = tr8nText.replace('{0}', selectedItems.length.toString()).replace('{1}', totalCount.toString());
          }
        }

        if (this.options.title == undefined) {
          this.options.title = this.$element.attr('title');
        }

        if (this.options.selectedTextFormat == 'static') {
          title = this.options.title;
        }

        //If we dont have a title, then use the default, or if nothing is set at all, use the not selected text
        if (!title) {
          title = typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText;
        }

        //strip all html-tags and trim the result
        this.$button.attr('title', $.trim(title.replace(/<[^>]*>?/g, '')));
        this.$button.children('.filter-option').html(title);

        this.$element.trigger('rendered.bs.select');
      },

      /**
       * @param [style]
       * @param [status]
       */
      setStyle: function (style, status) {
        if (this.$element.attr('class')) {
          this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, ''));
        }

        var buttonClass = style ? style : this.options.style;

        if (status == 'add') {
          this.$button.addClass(buttonClass);
        } else if (status == 'remove') {
          this.$button.removeClass(buttonClass);
        } else {
          this.$button.removeClass(this.options.style);
          this.$button.addClass(buttonClass);
        }
      },

      liHeight: function (refresh) {
        if (!refresh && (this.options.size === false || this.sizeInfo)) return;

        var newElement = document.createElement('div'),
            menu = document.createElement('div'),
            menuInner = document.createElement('ul'),
            divider = document.createElement('li'),
            li = document.createElement('li'),
            a = document.createElement('a'),
            text = document.createElement('span'),
            header = this.options.header ? this.$menu.find('.popover-title')[0].cloneNode(true) : null,
            search = this.options.liveSearch ? document.createElement('div') : null,
            actions = this.options.actionsBox && this.multiple ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,
            doneButton = this.options.doneButton && this.multiple ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null;

        text.className = 'text';
        newElement.className = this.$menu[0].parentNode.className + ' open';
        menu.className = 'dropdown-menu open';
        menuInner.className = 'dropdown-menu inner';
        divider.className = 'divider';

        text.appendChild(document.createTextNode('Inner text'));
        a.appendChild(text);
        li.appendChild(a);
        menuInner.appendChild(li);
        menuInner.appendChild(divider);
        if (header) menu.appendChild(header);
        if (search) {
          // create a span instead of input as creating an input element is slower
          var input = document.createElement('span');
          search.className = 'bs-searchbox';
          input.className = 'form-control';
          search.appendChild(input);
          menu.appendChild(search);
        }
        if (actions) menu.appendChild(actions);
        menu.appendChild(menuInner);
        if (doneButton) menu.appendChild(doneButton);
        newElement.appendChild(menu);

        document.body.appendChild(newElement);

        var liHeight = a.offsetHeight,
            headerHeight = header ? header.offsetHeight : 0,
            searchHeight = search ? search.offsetHeight : 0,
            actionsHeight = actions ? actions.offsetHeight : 0,
            doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,
            dividerHeight = $(divider).outerHeight(true),
        // fall back to jQuery if getComputedStyle is not supported
            menuStyle = typeof getComputedStyle === 'function' ? getComputedStyle(menu) : false,
            $menu = menuStyle ? null : $(menu),
            menuPadding = parseInt(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +
                parseInt(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +
                parseInt(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +
                parseInt(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),
            menuExtras =  menuPadding +
                parseInt(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +
                parseInt(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2;

        document.body.removeChild(newElement);

        this.sizeInfo = {
          liHeight: liHeight,
          headerHeight: headerHeight,
          searchHeight: searchHeight,
          actionsHeight: actionsHeight,
          doneButtonHeight: doneButtonHeight,
          dividerHeight: dividerHeight,
          menuPadding: menuPadding,
          menuExtras: menuExtras
        };
      },

      setSize: function () {
        this.findLis();
        this.liHeight();
        var that = this,
            $menu = this.$menu,
            $menuInner = this.$menuInner,
            $window = $(window),
            selectHeight = this.$newElement[0].offsetHeight,
            liHeight = this.sizeInfo['liHeight'],
            headerHeight = this.sizeInfo['headerHeight'],
            searchHeight = this.sizeInfo['searchHeight'],
            actionsHeight = this.sizeInfo['actionsHeight'],
            doneButtonHeight = this.sizeInfo['doneButtonHeight'],
            divHeight = this.sizeInfo['dividerHeight'],
            menuPadding = this.sizeInfo['menuPadding'],
            menuExtras = this.sizeInfo['menuExtras'],
            notDisabled = this.options.hideDisabled ? '.disabled' : '',
            menuHeight,
            getHeight,
            selectOffsetTop,
            selectOffsetBot,
            posVert = function () {
              selectOffsetTop = that.$newElement.offset().top - $window.scrollTop();
              selectOffsetBot = $window.height() - selectOffsetTop - selectHeight;
            };

        posVert();

        if (this.options.header) $menu.css('padding-top', 0);

        if (this.options.size === 'auto') {
          var getSize = function () {
            var minHeight,
                hasClass = function (className, include) {
                  return function (element) {
                    if (include) {
                      return (element.classList ? element.classList.contains(className) : $(element).hasClass(className));
                    } else {
                      return !(element.classList ? element.classList.contains(className) : $(element).hasClass(className));
                    }
                  };
                },
                lis = that.$menuInner[0].getElementsByTagName('li'),
                lisVisible = Array.prototype.filter ? Array.prototype.filter.call(lis, hasClass('hidden', false)) : that.$lis.not('.hidden'),
                optGroup = Array.prototype.filter ? Array.prototype.filter.call(lisVisible, hasClass('dropdown-header', true)) : lisVisible.filter('.dropdown-header');

            posVert();
            menuHeight = selectOffsetBot - menuExtras;

            if (that.options.container) {
              if (!$menu.data('height')) $menu.data('height', $menu.height());
              getHeight = $menu.data('height');
            } else {
              getHeight = $menu.height();
            }

            if (that.options.dropupAuto) {
              that.$newElement.toggleClass('dropup', selectOffsetTop > selectOffsetBot && (menuHeight - menuExtras) < getHeight);
            }
            if (that.$newElement.hasClass('dropup')) {
              menuHeight = selectOffsetTop - menuExtras;
            }

            if ((lisVisible.length + optGroup.length) > 3) {
              minHeight = liHeight * 3 + menuExtras - 2;
            } else {
              minHeight = 0;
            }

            $menu.css({
              'max-height': menuHeight + 'px',
              'overflow': 'hidden',
              'min-height': minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight + 'px'
            });
            $menuInner.css({
              'max-height': menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding + 'px',
              'overflow-y': 'auto',
              'min-height': Math.max(minHeight - menuPadding, 0) + 'px'
            });
          };
          getSize();
          this.$searchbox.off('input.getSize propertychange.getSize').on('input.getSize propertychange.getSize', getSize);
          $window.off('resize.getSize scroll.getSize').on('resize.getSize scroll.getSize', getSize);
        } else if (this.options.size && this.options.size != 'auto' && this.$lis.not(notDisabled).length > this.options.size) {
          var optIndex = this.$lis.not('.divider').not(notDisabled).children().slice(0, this.options.size).last().parent().index(),
              divLength = this.$lis.slice(0, optIndex + 1).filter('.divider').length;
          menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding;

          if (that.options.container) {
            if (!$menu.data('height')) $menu.data('height', $menu.height());
            getHeight = $menu.data('height');
          } else {
            getHeight = $menu.height();
          }

          if (that.options.dropupAuto) {
            //noinspection JSUnusedAssignment
            this.$newElement.toggleClass('dropup', selectOffsetTop > selectOffsetBot && (menuHeight - menuExtras) < getHeight);
          }
          $menu.css({
            'max-height': menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight + 'px',
            'overflow': 'hidden',
            'min-height': ''
          });
          $menuInner.css({
            'max-height': menuHeight - menuPadding + 'px',
            'overflow-y': 'auto',
            'min-height': ''
          });
        }
      },

      setWidth: function () {
        if (this.options.width === 'auto') {
          this.$menu.css('min-width', '0');

          // Get correct width if element is hidden
          var $selectClone = this.$menu.parent().clone().appendTo('body'),
              $selectClone2 = this.options.container ? this.$newElement.clone().appendTo('body') : $selectClone,
              ulWidth = $selectClone.children('.dropdown-menu').outerWidth(),
              btnWidth = $selectClone2.css('width', 'auto').children('button').outerWidth();

          $selectClone.remove();
          $selectClone2.remove();

          // Set width to whatever's larger, button title or longest option
          this.$newElement.css('width', Math.max(ulWidth, btnWidth) + 'px');
        } else if (this.options.width === 'fit') {
          // Remove inline min-width so width can be changed from 'auto'
          this.$menu.css('min-width', '');
          this.$newElement.css('width', '').addClass('fit-width');
        } else if (this.options.width) {
          // Remove inline min-width so width can be changed from 'auto'
          this.$menu.css('min-width', '');
          this.$newElement.css('width', this.options.width);
        } else {
          // Remove inline min-width/width so width can be changed
          this.$menu.css('min-width', '');
          this.$newElement.css('width', '');
        }
        // Remove fit-width class if width is changed programmatically
        if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {
          this.$newElement.removeClass('fit-width');
        }
      },

      selectPosition: function () {
        var that = this,
            drop = '<div />',
            $drop = $(drop),
            pos,
            actualHeight,
            getPlacement = function ($element) {
              $drop.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass('dropup', $element.hasClass('dropup'));
              pos = $element.offset();
              actualHeight = $element.hasClass('dropup') ? 0 : $element[0].offsetHeight;
              $drop.css({
                'top': pos.top + actualHeight,
                'left': pos.left,
                'width': $element[0].offsetWidth,
                'position': 'absolute'
              });
            };

        this.$newElement.on('click', function () {
          if (that.isDisabled()) {
            return;
          }
          getPlacement($(this));
          $drop.appendTo(that.options.container);
          $drop.toggleClass('open', !$(this).hasClass('open'));
          $drop.append(that.$menu);
        });

        $(window).on('resize scroll', function () {
          getPlacement(that.$newElement);
        });

        this.$element.on('hide.bs.select', function () {
          that.$menu.data('height', that.$menu.height());
          $drop.detach();
        });
      },

      setSelected: function (index, selected, $lis) {
        if (!$lis) {
          var $lis = this.findLis().eq(this.liObj[index]);
        }

        $lis.toggleClass('selected', selected);
      },

      setDisabled: function (index, disabled, $lis) {
        if (!$lis) {
          var $lis = this.findLis().eq(this.liObj[index]);
        }

        if (disabled) {
          $lis.addClass('disabled').children('a').attr('href', '#').attr('tabindex', -1);
        } else {
          $lis.removeClass('disabled').children('a').removeAttr('href').attr('tabindex', 0);
        }
      },

      isDisabled: function () {
        return this.$element[0].disabled;
      },

      checkDisabled: function () {
        var that = this;

        if (this.isDisabled()) {
          this.$newElement.addClass('disabled');
          this.$button.addClass('disabled').attr('tabindex', -1);
        } else {
          if (this.$button.hasClass('disabled')) {
            this.$newElement.removeClass('disabled');
            this.$button.removeClass('disabled');
          }

          if (this.$button.attr('tabindex') == -1 && !this.$element.data('tabindex')) {
            this.$button.removeAttr('tabindex');
          }
        }

        this.$button.click(function () {
          return !that.isDisabled();
        });
      },

      tabIndex: function () {
        if (this.$element.is('[tabindex]')) {
          this.$element.data('tabindex', this.$element.attr('tabindex'));
          this.$button.attr('tabindex', this.$element.data('tabindex'));
        }
      },

      clickListener: function () {
        var that = this,
            $document = $(document);

        this.$newElement.on('touchstart.dropdown', '.dropdown-menu', function (e) {
          //e.stopPropagation();
        });

        $document.data('spaceSelect', false);

        this.$button.on('keyup', function (e) {
          if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {
            e.preventDefault();
            $document.data('spaceSelect', false);
          }
        });

        this.$newElement.on('click', function () {
          that.setSize();
          that.$element.on('shown.bs.select', function () {
            if (!that.options.liveSearch && !that.multiple) {
              that.$menu.find('.selected a').focus();
            } else if (!that.multiple) {
              var selectedIndex = that.liObj[that.$element[0].selectedIndex];

              if (typeof selectedIndex !== 'number') return;

              // scroll to selected option
              var offset = that.$lis.eq(selectedIndex)[0].offsetTop - that.$menuInner[0].offsetTop;
              offset = offset - that.$menuInner[0].offsetHeight/2 + that.sizeInfo.liHeight/2;
              that.$menuInner[0].scrollTop = offset;
            }
          });
        });

        this.$menu.on('click', 'li a', function (e) {
          var $this = $(this),
              clickedIndex = $this.parent().data('originalIndex'),
              prevValue = that.$element.val(),
              prevIndex = that.$element.prop('selectedIndex');

          // Don't close on multi choice menu
          if (that.multiple) {
            e.stopPropagation();
          }

          e.preventDefault();

          //Don't run if we have been disabled
          if (!that.isDisabled() && !$this.parent().hasClass('disabled')) {
            var $options = that.$element.find('option'),
                $option = $options.eq(clickedIndex),
                state = $option.prop('selected'),
                $optgroup = $option.parent('optgroup'),
                maxOptions = that.options.maxOptions,
                maxOptionsGrp = $optgroup.data('maxOptions') || false;

            if (!that.multiple) { // Deselect all others if not multi select box
              $options.prop('selected', false);
              $option.prop('selected', true);
              that.$menu.find('.selected').removeClass('selected');
              that.setSelected(clickedIndex, true);
            } else { // Toggle the one we have chosen if we are multi select.
              $option.prop('selected', !state);
              that.setSelected(clickedIndex, !state);
              $this.blur();

              if (maxOptions !== false || maxOptionsGrp !== false) {
                var maxReached = maxOptions < $options.filter(':selected').length,
                    maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;

                if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {
                  if (maxOptions && maxOptions == 1) {
                    $options.prop('selected', false);
                    $option.prop('selected', true);
                    that.$menu.find('.selected').removeClass('selected');
                    that.setSelected(clickedIndex, true);
                  } else if (maxOptionsGrp && maxOptionsGrp == 1) {
                    $optgroup.find('option:selected').prop('selected', false);
                    $option.prop('selected', true);
                    var optgroupID = $this.parent().data('optgroup');
                    that.$menu.find('[data-optgroup="' + optgroupID + '"]').removeClass('selected');
                    that.setSelected(clickedIndex, true);
                  } else {
                    var maxOptionsArr = (typeof that.options.maxOptionsText === 'function') ?
                            that.options.maxOptionsText(maxOptions, maxOptionsGrp) : that.options.maxOptionsText,
                        maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),
                        maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),
                        $notify = $('<div class="notify"></div>');
                    // If {var} is set in array, replace it
                    /** @deprecated */
                    if (maxOptionsArr[2]) {
                      maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);
                      maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);
                    }

                    $option.prop('selected', false);

                    that.$menu.append($notify);

                    if (maxOptions && maxReached) {
                      $notify.append($('<div>' + maxTxt + '</div>'));
                      that.$element.trigger('maxReached.bs.select');
                    }

                    if (maxOptionsGrp && maxReachedGrp) {
                      $notify.append($('<div>' + maxTxtGrp + '</div>'));
                      that.$element.trigger('maxReachedGrp.bs.select');
                    }

                    setTimeout(function () {
                      that.setSelected(clickedIndex, false);
                    }, 10);

                    $notify.delay(750).fadeOut(300, function () {
                      $(this).remove();
                    });
                  }
                }
              }
            }

            if (!that.multiple) {
              that.$button.focus();
            } else if (that.options.liveSearch) {
              //that.$searchbox.focus();
            }

            // Trigger select 'change'
            if ((prevValue != that.$element.val() && that.multiple) || (prevIndex != that.$element.prop('selectedIndex') && !that.multiple)) {
              that.$element.triggerNative('change');
              // $option.prop('selected') is current option state (selected/unselected). state is previous option state.
              that.$element.trigger('changed.bs.select', [clickedIndex, $option.prop('selected'), state]);
            }
          }
        });

        this.$menu.on('click', 'li.disabled a, .popover-title, .popover-title :not(.close)', function (e) {
          if (e.currentTarget == this) {
            e.preventDefault();
            e.stopPropagation();
            if (that.options.liveSearch && !$(e.target).hasClass('close')) {
              //that.$searchbox.focus();
            } else {
              that.$button.focus();
            }
          }
        });

        this.$menu.on('click', 'li.divider, li.dropdown-header', function (e) {
          e.preventDefault();
          e.stopPropagation();
          if (that.options.liveSearch) {
            //that.$searchbox.focus();
          } else {
            that.$button.focus();
          }
        });

        this.$menu.on('click', '.popover-title .close', function () {
          that.$button.click();
        });

        this.$searchbox.on('click', function (e) {
          e.stopPropagation();
        });

        this.$menu.on('click', '.actions-btn', function (e) {
          if (that.options.liveSearch) {
            //that.$searchbox.focus();
          } else {
            that.$button.focus();
          }

          e.preventDefault();
          e.stopPropagation();

          if ($(this).hasClass('bs-select-all')) {
            that.selectAll();
          } else {
            that.deselectAll();
          }
          that.$element.triggerNative('change');
        });

        this.$element.change(function () {
          that.render(false);
        });
      },

      liveSearchListener: function () {
        var that = this,
            $no_results = $('<li class="no-results"></li>');

        this.$newElement.on('click.dropdown.data-api touchstart.dropdown.data-api', function () {
          that.$menuInner.find('.active').removeClass('active');
          if (!!that.$searchbox.val()) {
            that.$searchbox.val('');
            that.$lis.not('.is-hidden').removeClass('hidden');
            if (!!$no_results.parent().length) $no_results.remove();
          }
          if (!that.multiple) that.$menuInner.find('.selected').addClass('active');
          setTimeout(function () {
            //that.$searchbox.focus();
          }, 10);
        });

        this.$searchbox.on('click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api', function (e) {
          e.stopPropagation();
        });

        this.$searchbox.on('input propertychange', function () {
          if (that.$searchbox.val()) {
            var $searchBase = that.$lis.not('.is-hidden').removeClass('hidden').children('a');
            if (that.options.liveSearchNormalize) {
              $searchBase = $searchBase.not(':a' + that._searchStyle() + '("' + normalizeToBase(that.$searchbox.val()) + '")');
            } else {
              $searchBase = $searchBase.not(':' + that._searchStyle() + '("' + that.$searchbox.val() + '")');
            }
            $searchBase.parent().addClass('hidden');

            that.$lis.filter('.dropdown-header').each(function () {
              var $this = $(this),
                  optgroup = $this.data('optgroup');

              if (that.$lis.filter('[data-optgroup=' + optgroup + ']').not($this).not('.hidden').length === 0) {
                $this.addClass('hidden');
                that.$lis.filter('[data-optgroup=' + optgroup + 'div]').addClass('hidden');
              }
            });

            var $lisVisible = that.$lis.not('.hidden');

            // hide divider if first or last visible, or if followed by another divider
            $lisVisible.each(function (index) {
              var $this = $(this);

              if ($this.hasClass('divider') && (
                  $this.index() === $lisVisible.eq(0).index() ||
                  $this.index() === $lisVisible.last().index() ||
                  $lisVisible.eq(index + 1).hasClass('divider'))) {
                $this.addClass('hidden');
              }
            });

            if (!that.$lis.not('.hidden, .no-results').length) {
              if (!!$no_results.parent().length) {
                $no_results.remove();
              }
              $no_results.html(that.options.noneResultsText.replace('{0}', '"' + htmlEscape(that.$searchbox.val()) + '"')).show();
              that.$menuInner.append($no_results);
            } else if (!!$no_results.parent().length) {
              $no_results.remove();
            }

          } else {
            that.$lis.not('.is-hidden').removeClass('hidden');
            if (!!$no_results.parent().length) {
              $no_results.remove();
            }
          }

          that.$lis.filter('.active').removeClass('active');
          that.$lis.not('.hidden, .divider, .dropdown-header').eq(0).addClass('active').children('a').focus();
          $(this).focus();
        });
      },

      _searchStyle: function () {
        var style = 'icontains';
        switch (this.options.liveSearchStyle) {
          case 'begins':
          case 'startsWith':
            style = 'ibegins';
            break;
          case 'contains':
          default:
            break; //no need to change the default
        }

        return style;
      },

      val: function (value) {
        if (typeof value !== 'undefined') {
          this.$element.val(value);
          this.render();

          return this.$element;
        } else {
          return this.$element.val();
        }
      },

      selectAll: function () {
        this.findLis();
        this.$element.find('option:enabled').not('[data-divider], [data-hidden]').prop('selected', true);
        this.$lis.not('.divider, .dropdown-header, .disabled, .hidden').addClass('selected');
        this.render(false);
      },

      deselectAll: function () {
        this.findLis();
        this.$element.find('option:enabled').not('[data-divider], [data-hidden]').prop('selected', false);
        this.$lis.not('.divider, .dropdown-header, .disabled, .hidden').removeClass('selected');
        this.render(false);
      },

      keydown: function (e) {
        var $this = $(this),
            $parent = $this.is('input') ? $this.parent().parent() : $this.parent(),
            $items,
            that = $parent.data('this'),
            index,
            next,
            first,
            last,
            prev,
            nextPrev,
            prevIndex,
            isActive,
            selector = ':not(.disabled, .hidden, .dropdown-header, .divider)',
            keyCodeMap = {
              32: ' ',
              48: '0',
              49: '1',
              50: '2',
              51: '3',
              52: '4',
              53: '5',
              54: '6',
              55: '7',
              56: '8',
              57: '9',
              59: ';',
              65: 'a',
              66: 'b',
              67: 'c',
              68: 'd',
              69: 'e',
              70: 'f',
              71: 'g',
              72: 'h',
              73: 'i',
              74: 'j',
              75: 'k',
              76: 'l',
              77: 'm',
              78: 'n',
              79: 'o',
              80: 'p',
              81: 'q',
              82: 'r',
              83: 's',
              84: 't',
              85: 'u',
              86: 'v',
              87: 'w',
              88: 'x',
              89: 'y',
              90: 'z',
              96: '0',
              97: '1',
              98: '2',
              99: '3',
              100: '4',
              101: '5',
              102: '6',
              103: '7',
              104: '8',
              105: '9'
            };

        if (that.options.liveSearch) $parent = $this.parent().parent();

        if (that.options.container) $parent = that.$menu;

        $items = $('[role=menu] li a', $parent);

        isActive = that.$menu.parent().hasClass('open');

        if (!isActive && (e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 65 && e.keyCode <= 90)) {
          if (!that.options.container) {
            that.setSize();
            that.$menu.parent().addClass('open');
            isActive = true;
          } else {
            that.$newElement.trigger('click');
          }
          //that.$searchbox.focus();
        }

        if (that.options.liveSearch) {
          if (/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && that.$menu.find('.active').length === 0) {
            e.preventDefault();
            that.$menu.parent().removeClass('open');
            if (that.options.container) that.$newElement.removeClass('open');
            that.$button.focus();
          }
          // $items contains li elements when liveSearch is enabled
          $items = $('[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)', $parent);
          if (!$this.val() && !/(38|40)/.test(e.keyCode.toString(10))) {
            if ($items.filter('.active').length === 0) {
              $items = that.$newElement.find('li');
              if (that.options.liveSearchNormalize) {
                $items = $items.filter(':a' + that._searchStyle() + '(' + normalizeToBase(keyCodeMap[e.keyCode]) + ')');
              } else {
                $items = $items.filter(':' + that._searchStyle() + '(' + keyCodeMap[e.keyCode] + ')');
              }
            }
          }
        }

        if (!$items.length) return;

        if (/(38|40)/.test(e.keyCode.toString(10))) {
          index = $items.index($items.filter(':focus'));
          first = $items.parent(selector).first().data('originalIndex');
          last = $items.parent(selector).last().data('originalIndex');
          next = $items.eq(index).parent().nextAll(selector).eq(0).data('originalIndex');
          prev = $items.eq(index).parent().prevAll(selector).eq(0).data('originalIndex');
          nextPrev = $items.eq(next).parent().prevAll(selector).eq(0).data('originalIndex');

          if (that.options.liveSearch) {
            $items.each(function (i) {
              if (!$(this).hasClass('disabled')) {
                $(this).data('index', i);
              }
            });
            index = $items.index($items.filter('.active'));
            first = $items.first().data('index');
            last = $items.last().data('index');
            next = $items.eq(index).nextAll().eq(0).data('index');
            prev = $items.eq(index).prevAll().eq(0).data('index');
            nextPrev = $items.eq(next).prevAll().eq(0).data('index');
          }

          prevIndex = $this.data('prevIndex');

          if (e.keyCode == 38) {
            if (that.options.liveSearch) index -= 1;
            if (index != nextPrev && index > prev) index = prev;
            if (index < first) index = first;
            if (index == prevIndex) index = last;
          } else if (e.keyCode == 40) {
            if (that.options.liveSearch) index += 1;
            if (index == -1) index = 0;
            if (index != nextPrev && index < next) index = next;
            if (index > last) index = last;
            if (index == prevIndex) index = first;
          }

          $this.data('prevIndex', index);

          if (!that.options.liveSearch) {
            $items.eq(index).focus();
          } else {
            e.preventDefault();
            if (!$this.hasClass('dropdown-toggle')) {
              $items.removeClass('active').eq(index).addClass('active').children('a').focus();
              $this.focus();
            }
          }

        } else if (!$this.is('input')) {
          var keyIndex = [],
              count,
              prevKey;

          $items.each(function () {
            if (!$(this).parent().hasClass('disabled')) {
              if ($.trim($(this).text().toLowerCase()).substring(0, 1) == keyCodeMap[e.keyCode]) {
                keyIndex.push($(this).parent().index());
              }
            }
          });

          count = $(document).data('keycount');
          count++;
          $(document).data('keycount', count);

          prevKey = $.trim($(':focus').text().toLowerCase()).substring(0, 1);

          if (prevKey != keyCodeMap[e.keyCode]) {
            count = 1;
            $(document).data('keycount', count);
          } else if (count >= keyIndex.length) {
            $(document).data('keycount', 0);
            if (count > keyIndex.length) count = 1;
          }

          $items.eq(keyIndex[count - 1]).focus();
        }

        // Select focused option if "Enter", "Spacebar" or "Tab" (when selectOnTab is true) are pressed inside the menu.
        if ((/(13|32)/.test(e.keyCode.toString(10)) || (/(^9$)/.test(e.keyCode.toString(10)) && that.options.selectOnTab)) && isActive) {
          if (!/(32)/.test(e.keyCode.toString(10))) e.preventDefault();
          if (!that.options.liveSearch) {
            var elem = $(':focus');
            elem.click();
            // Bring back focus for multiselects
            elem.focus();
            // Prevent screen from scrolling if the user hit the spacebar
            e.preventDefault();
            // Fixes spacebar selection of dropdown items in FF & IE
            $(document).data('spaceSelect', true);
          } else if (!/(32)/.test(e.keyCode.toString(10))) {
            that.$menu.find('.active a').click();
            $this.focus();
          }
          $(document).data('keycount', 0);
        }

        if ((/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && (that.multiple || that.options.liveSearch)) || (/(27)/.test(e.keyCode.toString(10)) && !isActive)) {
          that.$menu.parent().removeClass('open');
          if (that.options.container) that.$newElement.removeClass('open');
          that.$button.focus();
        }
      },

      mobile: function () {
        this.$element.addClass('mobile-device').appendTo(this.$newElement);
        if (this.options.container) this.$menu.hide();
      },

      refresh: function () {
        this.$lis = null;
        this.liObj = {};
        this.reloadLi();
        this.render();
        this.checkDisabled();
        this.liHeight(true);
        this.setStyle();
        this.setWidth();
        if (this.$lis) this.$searchbox.trigger('propertychange');

        this.$element.trigger('refreshed.bs.select');
      },

      hide: function () {
        this.$newElement.hide();
      },

      show: function () {
        this.$newElement.show();
      },

      remove: function () {
        this.$newElement.remove();
        this.$element.remove();
      }
    };

    // SELECTPICKER PLUGIN DEFINITION
    // ==============================
    function Plugin(option, event) {
      // get the args of the outer function..
      var args = arguments;
      // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them
      // to get lost/corrupted in android 2.3 and IE9 #715 #775
      var _option = option,
          _event = event;
      [].shift.apply(args);

      var value;
      var chain = this.each(function () {
        var $this = $(this);
        if ($this.is('select')) {
          var data = $this.data('selectpicker'),
              options = typeof _option == 'object' && _option;

          if (!data) {
            var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, $this.data(), options);
            $this.data('selectpicker', (data = new Selectpicker(this, config, _event)));
          } else if (options) {
            for (var i in options) {
              if (options.hasOwnProperty(i)) {
                data.options[i] = options[i];
              }
            }
          }

          if (typeof _option == 'string') {
            if (data[_option] instanceof Function) {
              value = data[_option].apply(data, args);
            } else {
              value = data.options[_option];
            }
          }
        }
      });

      if (typeof value !== 'undefined') {
        //noinspection JSUnusedAssignment
        return value;
      } else {
        return chain;
      }
    }

    var old = $.fn.selectpicker;
    $.fn.selectpicker = Plugin;
    $.fn.selectpicker.Constructor = Selectpicker;

    // SELECTPICKER NO CONFLICT
    // ========================
    $.fn.selectpicker.noConflict = function () {
      $.fn.selectpicker = old;
      return this;
    };

    $(document)
        .data('keycount', 0)
        .on('keydown', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', Selectpicker.prototype.keydown)
        .on('focusin.modal', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', function (e) {
          e.stopPropagation();
        });

    // SELECTPICKER DATA-API
    // =====================
    $(window).on('load.bs.select.data-api', function () {
      $('.selectpicker').each(function () {
        var $selectpicker = $(this);
        Plugin.call($selectpicker, $selectpicker.data());
      })
    });
  })(require("./jquery"));


}));
},{"./jquery":57}],21:[function(require,module,exports){
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

var jQuery = require("./jquery");

if (typeof jQuery === 'undefined') {
    throw new Error('Bootstrap\'s JavaScript requires jQuery')
}

+function ($) {
    'use strict';
    var version = $.fn.jquery.split(' ')[0].split('.')
    if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {
        throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher')
    }
}(jQuery);

/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
    // ============================================================

    function transitionEnd() {
        var el = document.createElement('bootstrap')

        var transEndEventNames = {
            WebkitTransition : 'webkitTransitionEnd',
            MozTransition    : 'transitionend',
            OTransition      : 'oTransitionEnd otransitionend',
            transition       : 'transitionend'
        }

        for (var name in transEndEventNames) {
            if (el.style[name] !== undefined) {
                return { end: transEndEventNames[name] }
            }
        }

        return false // explicit for ie8 (  ._.)
    }

    // http://blog.alexmaccaw.com/css-transitions
    $.fn.emulateTransitionEnd = function (duration) {
        var called = false
        var $el = this
        $(this).one('bsTransitionEnd', function () { called = true })
        var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
        setTimeout(callback, duration)
        return this
    }

    $(function () {
        $.support.transition = transitionEnd()

        if (!$.support.transition) return

        $.event.special.bsTransitionEnd = {
            bindType: $.support.transition.end,
            delegateType: $.support.transition.end,
            handle: function (e) {
                if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
            }
        }
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // ALERT CLASS DEFINITION
    // ======================

    var dismiss = '[data-dismiss="alert"]'
    var Alert   = function (el) {
        $(el).on('click', dismiss, this.close)
    }

    Alert.VERSION = '3.3.4'

    Alert.TRANSITION_DURATION = 150

    Alert.prototype.close = function (e) {
        var $this    = $(this)
        var selector = $this.attr('data-target')

        if (!selector) {
            selector = $this.attr('href')
            selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
        }

        var $parent = $(selector)

        if (e) e.preventDefault()

        if (!$parent.length) {
            $parent = $this.closest('.alert')
        }

        $parent.trigger(e = $.Event('close.bs.alert'))

        if (e.isDefaultPrevented()) return

        $parent.removeClass('in')

        function removeElement() {
            // detach from parent, fire event then clean up data
            $parent.detach().trigger('closed.bs.alert').remove()
        }

        $.support.transition && $parent.hasClass('fade') ?
            $parent
                .one('bsTransitionEnd', removeElement)
                .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
            removeElement()
    }


    // ALERT PLUGIN DEFINITION
    // =======================

    function Plugin(option) {
        return this.each(function () {
            var $this = $(this)
            var data  = $this.data('bs.alert')

            if (!data) $this.data('bs.alert', (data = new Alert(this)))
            if (typeof option == 'string') data[option].call($this)
        })
    }

    var old = $.fn.alert

    $.fn.alert             = Plugin
    $.fn.alert.Constructor = Alert


    // ALERT NO CONFLICT
    // =================

    $.fn.alert.noConflict = function () {
        $.fn.alert = old
        return this
    }


    // ALERT DATA-API
    // ==============

    $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);

/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // BUTTON PUBLIC CLASS DEFINITION
    // ==============================

    var Button = function (element, options) {
        this.$element  = $(element)
        this.options   = $.extend({}, Button.DEFAULTS, options)
        this.isLoading = false
    }

    Button.VERSION  = '3.3.4'

    Button.DEFAULTS = {
        loadingText: 'loading...'
    }

    Button.prototype.setState = function (state) {
        var d    = 'disabled'
        var $el  = this.$element
        var val  = $el.is('input') ? 'val' : 'html'
        var data = $el.data()

        state = state + 'Text'

        if (data.resetText == null) $el.data('resetText', $el[val]())

        // push to event loop to allow forms to submit
        setTimeout($.proxy(function () {
            $el[val](data[state] == null ? this.options[state] : data[state])

            if (state == 'loadingText') {
                this.isLoading = true
                $el.addClass(d).attr(d, d)
            } else if (this.isLoading) {
                this.isLoading = false
                $el.removeClass(d).removeAttr(d)
            }
        }, this), 0)
    }

    Button.prototype.toggle = function () {
        var changed = true
        var $parent = this.$element.closest('[data-toggle="buttons"]')

        if ($parent.length) {
            var $input = this.$element.find('input')
            if ($input.prop('type') == 'radio') {
                if ($input.prop('checked') && this.$element.hasClass('active')) changed = false
                else $parent.find('.active').removeClass('active')
            }
            if (changed) $input.prop('checked', !this.$element.hasClass('active')).trigger('change')
        } else {
            this.$element.attr('aria-pressed', !this.$element.hasClass('active'))
        }

        if (changed) this.$element.toggleClass('active')
    }


    // BUTTON PLUGIN DEFINITION
    // ========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.button')
            var options = typeof option == 'object' && option

            if (!data) $this.data('bs.button', (data = new Button(this, options)))

            if (option == 'toggle') data.toggle()
            else if (option) data.setState(option)
        })
    }

    var old = $.fn.button

    $.fn.button             = Plugin
    $.fn.button.Constructor = Button


    // BUTTON NO CONFLICT
    // ==================

    $.fn.button.noConflict = function () {
        $.fn.button = old
        return this
    }


    // BUTTON DATA-API
    // ===============

    $(document)
        .on('click.bs.button.data-api', '[data-toggle^="button"]', function (e) {
            var $btn = $(e.target)
            if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')
            Plugin.call($btn, 'toggle')
            e.preventDefault()
        })
        .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^="button"]', function (e) {
            $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))
        })

}(jQuery);

/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // CAROUSEL CLASS DEFINITION
    // =========================

    var Carousel = function (element, options) {
        this.$element    = $(element)
        this.$indicators = this.$element.find('.carousel-indicators')
        this.options     = options
        this.paused      = null
        this.sliding     = null
        this.interval    = null
        this.$active     = null
        this.$items      = null

        this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

        this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
            .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
            .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
    }

    Carousel.VERSION  = '3.3.4'

    Carousel.TRANSITION_DURATION = 600

    Carousel.DEFAULTS = {
        interval: 5000,
        pause: 'hover',
        wrap: true,
        keyboard: true
    }

    Carousel.prototype.keydown = function (e) {
        if (/input|textarea/i.test(e.target.tagName)) return
        switch (e.which) {
            case 37: this.prev(); break
            case 39: this.next(); break
            default: return
        }

        e.preventDefault()
    }

    Carousel.prototype.cycle = function (e) {
        e || (this.paused = false)

        this.interval && clearInterval(this.interval)

        this.options.interval
        && !this.paused
        && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

        return this
    }

    Carousel.prototype.getItemIndex = function (item) {
        this.$items = item.parent().children('.item')
        return this.$items.index(item || this.$active)
    }

    Carousel.prototype.getItemForDirection = function (direction, active) {
        var activeIndex = this.getItemIndex(active)
        var willWrap = (direction == 'prev' && activeIndex === 0)
            || (direction == 'next' && activeIndex == (this.$items.length - 1))
        if (willWrap && !this.options.wrap) return active
        var delta = direction == 'prev' ? -1 : 1
        var itemIndex = (activeIndex + delta) % this.$items.length
        return this.$items.eq(itemIndex)
    }

    Carousel.prototype.to = function (pos) {
        var that        = this
        var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

        if (pos > (this.$items.length - 1) || pos < 0) return

        if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
        if (activeIndex == pos) return this.pause().cycle()

        return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
    }

    Carousel.prototype.pause = function (e) {
        e || (this.paused = true)

        if (this.$element.find('.next, .prev').length && $.support.transition) {
            this.$element.trigger($.support.transition.end)
            this.cycle(true)
        }

        this.interval = clearInterval(this.interval)

        return this
    }

    Carousel.prototype.next = function () {
        if (this.sliding) return
        return this.slide('next')
    }

    Carousel.prototype.prev = function () {
        if (this.sliding) return
        return this.slide('prev')
    }

    Carousel.prototype.slide = function (type, next) {
        var $active   = this.$element.find('.item.active')
        var $next     = next || this.getItemForDirection(type, $active)
        var isCycling = this.interval
        var direction = type == 'next' ? 'left' : 'right'
        var that      = this

        if ($next.hasClass('active')) return (this.sliding = false)

        var relatedTarget = $next[0]
        var slideEvent = $.Event('slide.bs.carousel', {
            relatedTarget: relatedTarget,
            direction: direction
        })
        this.$element.trigger(slideEvent)
        if (slideEvent.isDefaultPrevented()) return

        this.sliding = true

        isCycling && this.pause()

        if (this.$indicators.length) {
            this.$indicators.find('.active').removeClass('active')
            var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
            $nextIndicator && $nextIndicator.addClass('active')
        }

        var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
        if ($.support.transition && this.$element.hasClass('slide')) {
            $next.addClass(type)
            $next[0].offsetWidth // force reflow
            $active.addClass(direction)
            $next.addClass(direction)
            $active
                .one('bsTransitionEnd', function () {
                    $next.removeClass([type, direction].join(' ')).addClass('active')
                    $active.removeClass(['active', direction].join(' '))
                    that.sliding = false
                    setTimeout(function () {
                        that.$element.trigger(slidEvent)
                    }, 0)
                })
                .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
        } else {
            $active.removeClass('active')
            $next.addClass('active')
            this.sliding = false
            this.$element.trigger(slidEvent)
        }

        isCycling && this.cycle()

        return this
    }


    // CAROUSEL PLUGIN DEFINITION
    // ==========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.carousel')
            var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
            var action  = typeof option == 'string' ? option : options.slide

            if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
            if (typeof option == 'number') data.to(option)
            else if (action) data[action]()
            else if (options.interval) data.pause().cycle()
        })
    }

    var old = $.fn.carousel

    $.fn.carousel             = Plugin
    $.fn.carousel.Constructor = Carousel


    // CAROUSEL NO CONFLICT
    // ====================

    $.fn.carousel.noConflict = function () {
        $.fn.carousel = old
        return this
    }


    // CAROUSEL DATA-API
    // =================

    var clickHandler = function (e) {
        var href
        var $this   = $(this)
        var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
        if (!$target.hasClass('carousel')) return
        var options = $.extend({}, $target.data(), $this.data())
        var slideIndex = $this.attr('data-slide-to')
        if (slideIndex) options.interval = false

        Plugin.call($target, options)

        if (slideIndex) {
            $target.data('bs.carousel').to(slideIndex)
        }

        e.preventDefault()
    }

    $(document)
        .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
        .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

    $(window).on('load', function () {
        $('[data-ride="carousel"]').each(function () {
            var $carousel = $(this)
            Plugin.call($carousel, $carousel.data())
        })
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // COLLAPSE PUBLIC CLASS DEFINITION
    // ================================

    var Collapse = function (element, options) {
        this.$element      = $(element)
        this.options       = $.extend({}, Collapse.DEFAULTS, options)
        this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
            '[data-toggle="collapse"][data-target="#' + element.id + '"]')
        this.transitioning = null

        if (this.options.parent) {
            this.$parent = this.getParent()
        } else {
            this.addAriaAndCollapsedClass(this.$element, this.$trigger)
        }

        if (this.options.toggle) this.toggle()
    }

    Collapse.VERSION  = '3.3.4'

    Collapse.TRANSITION_DURATION = 350

    Collapse.DEFAULTS = {
        toggle: true
    }

    Collapse.prototype.dimension = function () {
        var hasWidth = this.$element.hasClass('width')
        return hasWidth ? 'width' : 'height'
    }

    Collapse.prototype.show = function () {
        if (this.transitioning || this.$element.hasClass('in')) return

        var activesData
        var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

        if (actives && actives.length) {
            activesData = actives.data('bs.collapse')
            if (activesData && activesData.transitioning) return
        }

        var startEvent = $.Event('show.bs.collapse')
        this.$element.trigger(startEvent)
        if (startEvent.isDefaultPrevented()) return

        if (actives && actives.length) {
            Plugin.call(actives, 'hide')
            activesData || actives.data('bs.collapse', null)
        }

        var dimension = this.dimension()

        this.$element
            .removeClass('collapse')
            .addClass('collapsing')[dimension](0)
            .attr('aria-expanded', true)

        this.$trigger
            .removeClass('collapsed')
            .attr('aria-expanded', true)

        this.transitioning = 1

        var complete = function () {
            this.$element
                .removeClass('collapsing')
                .addClass('collapse in')[dimension]('')
            this.transitioning = 0
            this.$element
                .trigger('shown.bs.collapse')
        }

        if (!$.support.transition) return complete.call(this)

        var scrollSize = $.camelCase(['scroll', dimension].join('-'))

        this.$element
            .one('bsTransitionEnd', $.proxy(complete, this))
            .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
    }

    Collapse.prototype.hide = function () {
        if (this.transitioning || !this.$element.hasClass('in')) return

        var startEvent = $.Event('hide.bs.collapse')
        this.$element.trigger(startEvent)
        if (startEvent.isDefaultPrevented()) return

        var dimension = this.dimension()

        this.$element[dimension](this.$element[dimension]())[0].offsetHeight

        this.$element
            .addClass('collapsing')
            .removeClass('collapse in')
            .attr('aria-expanded', false)

        this.$trigger
            .addClass('collapsed')
            .attr('aria-expanded', false)

        this.transitioning = 1

        var complete = function () {
            this.transitioning = 0
            this.$element
                .removeClass('collapsing')
                .addClass('collapse')
                .trigger('hidden.bs.collapse')
        }

        if (!$.support.transition) return complete.call(this)

        this.$element
            [dimension](0)
            .one('bsTransitionEnd', $.proxy(complete, this))
            .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
    }

    Collapse.prototype.toggle = function () {
        this[this.$element.hasClass('in') ? 'hide' : 'show']()
    }

    Collapse.prototype.getParent = function () {
        return $(this.options.parent)
            .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
            .each($.proxy(function (i, element) {
                var $element = $(element)
                this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
            }, this))
            .end()
    }

    Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
        var isOpen = $element.hasClass('in')

        $element.attr('aria-expanded', isOpen)
        $trigger
            .toggleClass('collapsed', !isOpen)
            .attr('aria-expanded', isOpen)
    }

    function getTargetFromTrigger($trigger) {
        var href
        var target = $trigger.attr('data-target')
            || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

        return $(target)
    }


    // COLLAPSE PLUGIN DEFINITION
    // ==========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.collapse')
            var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

            if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
            if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.collapse

    $.fn.collapse             = Plugin
    $.fn.collapse.Constructor = Collapse


    // COLLAPSE NO CONFLICT
    // ====================

    $.fn.collapse.noConflict = function () {
        $.fn.collapse = old
        return this
    }


    // COLLAPSE DATA-API
    // =================

    $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
        var $this   = $(this)

        if (!$this.attr('data-target')) e.preventDefault()

        var $target = getTargetFromTrigger($this)
        var data    = $target.data('bs.collapse')
        var option  = data ? 'toggle' : $this.data()

        Plugin.call($target, option)
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // DROPDOWN CLASS DEFINITION
    // =========================

    var backdrop = '.dropdown-backdrop'
    var toggle   = '[data-toggle="dropdown"]'
    var Dropdown = function (element) {
        $(element).on('click.bs.dropdown', this.toggle)
    }

    Dropdown.VERSION = '3.3.4'

    Dropdown.prototype.toggle = function (e) {
        var $this = $(this)

        if ($this.is('.disabled, :disabled')) return

        var $parent  = getParent($this)
        var isActive = $parent.hasClass('open')

        clearMenus()

        if (!isActive) {
            if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
                // if mobile we use a backdrop because click events don't delegate
                $('<div class="dropdown-backdrop"/>').insertAfter($(this)).on('click', clearMenus)
            }

            var relatedTarget = { relatedTarget: this }
            $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

            if (e.isDefaultPrevented()) return

            $this
                .trigger('focus')
                .attr('aria-expanded', 'true')

            $parent
                .toggleClass('open')
                .trigger('shown.bs.dropdown', relatedTarget)
        }

        return false
    }

    Dropdown.prototype.keydown = function (e) {
        if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

        var $this = $(this)

        e.preventDefault()
        e.stopPropagation()

        if ($this.is('.disabled, :disabled')) return

        var $parent  = getParent($this)
        var isActive = $parent.hasClass('open')

        if ((!isActive && e.which != 27) || (isActive && e.which == 27)) {
            if (e.which == 27) $parent.find(toggle).trigger('focus')
            return $this.trigger('click')
        }

        var desc = ' li:not(.disabled):visible a'
        var $items = $parent.find('[role="menu"]' + desc + ', [role="listbox"]' + desc)

        if (!$items.length) return

        var index = $items.index(e.target)

        if (e.which == 38 && index > 0)                 index--                        // up
        if (e.which == 40 && index < $items.length - 1) index++                        // down
        if (!~index)                                      index = 0

        $items.eq(index).trigger('focus')
    }

    function clearMenus(e) {
        if (e && e.which === 3) return
        $(backdrop).remove()
        $(toggle).each(function () {
            var $this         = $(this)
            var $parent       = getParent($this)
            var relatedTarget = { relatedTarget: this }

            if (!$parent.hasClass('open')) return

            $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

            if (e.isDefaultPrevented()) return

            $this.attr('aria-expanded', 'false')
            $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)
        })
    }

    function getParent($this) {
        var selector = $this.attr('data-target')

        if (!selector) {
            selector = $this.attr('href')
            selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
        }

        var $parent = selector && $(selector)

        return $parent && $parent.length ? $parent : $this.parent()
    }


    // DROPDOWN PLUGIN DEFINITION
    // ==========================

    function Plugin(option) {
        return this.each(function () {
            var $this = $(this)
            var data  = $this.data('bs.dropdown')

            if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
            if (typeof option == 'string') data[option].call($this)
        })
    }

    var old = $.fn.dropdown

    $.fn.dropdown             = Plugin
    $.fn.dropdown.Constructor = Dropdown


    // DROPDOWN NO CONFLICT
    // ====================

    $.fn.dropdown.noConflict = function () {
        $.fn.dropdown = old
        return this
    }


    // APPLY TO STANDARD DROPDOWN ELEMENTS
    // ===================================

    $(document)
        .on('click.bs.dropdown.data-api', clearMenus)
        .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
        .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
        .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
        .on('keydown.bs.dropdown.data-api', '[role="menu"]', Dropdown.prototype.keydown)
        .on('keydown.bs.dropdown.data-api', '[role="listbox"]', Dropdown.prototype.keydown)

}(jQuery);

/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // MODAL CLASS DEFINITION
    // ======================

    var Modal = function (element, options) {
        this.options             = options
        this.$body               = $(document.body)
        this.$element            = $(element)
        this.$dialog             = this.$element.find('.modal-dialog')
        this.$backdrop           = null
        this.isShown             = null
        this.originalBodyPad     = null
        this.scrollbarWidth      = 0
        this.ignoreBackdropClick = false

        if (this.options.remote) {
            this.$element
                .find('.modal-content')
                .load(this.options.remote, $.proxy(function () {
                    this.$element.trigger('loaded.bs.modal')
                }, this))
        }
    }

    Modal.VERSION  = '3.3.4'

    Modal.TRANSITION_DURATION = 300
    Modal.BACKDROP_TRANSITION_DURATION = 150

    Modal.DEFAULTS = {
        backdrop: true,
        keyboard: true,
        show: true
    }

    Modal.prototype.toggle = function (_relatedTarget) {
        return this.isShown ? this.hide() : this.show(_relatedTarget)
    }

    Modal.prototype.show = function (_relatedTarget) {
        var that = this
        var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })

        this.$element.trigger(e)

        if (this.isShown || e.isDefaultPrevented()) return

        this.isShown = true

        this.checkScrollbar()
        this.setScrollbar()
        this.$body.addClass('modal-open')

        this.escape()
        this.resize()

        this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))

        this.$dialog.on('mousedown.dismiss.bs.modal', function () {
            that.$element.one('mouseup.dismiss.bs.modal', function (e) {
                if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true
            })
        })

        this.backdrop(function () {
            var transition = $.support.transition && that.$element.hasClass('fade')

            if (!that.$element.parent().length) {
                that.$element.appendTo(that.$body) // don't move modals dom position
            }

            that.$element
                .show()
                .scrollTop(0)

            that.adjustDialog()

            if (transition) {
                that.$element[0].offsetWidth // force reflow
            }

            that.$element
                .addClass('in')
                .attr('aria-hidden', false)

            that.enforceFocus()

            var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })

            transition ?
                that.$dialog // wait for modal to slide in
                    .one('bsTransitionEnd', function () {
                        that.$element.trigger('focus').trigger(e)
                    })
                    .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
                that.$element.trigger('focus').trigger(e)
        })
    }

    Modal.prototype.hide = function (e) {
        if (e) e.preventDefault()

        e = $.Event('hide.bs.modal')

        this.$element.trigger(e)

        if (!this.isShown || e.isDefaultPrevented()) return

        this.isShown = false

        this.escape()
        this.resize()

        $(document).off('focusin.bs.modal')

        this.$element
            .removeClass('in')
            .attr('aria-hidden', true)
            .off('click.dismiss.bs.modal')
            .off('mouseup.dismiss.bs.modal')

        this.$dialog.off('mousedown.dismiss.bs.modal')

        $.support.transition && this.$element.hasClass('fade') ?
            this.$element
                .one('bsTransitionEnd', $.proxy(this.hideModal, this))
                .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
            this.hideModal()
    }

    Modal.prototype.enforceFocus = function () {
        $(document)
            .off('focusin.bs.modal') // guard against infinite focus loop
            .on('focusin.bs.modal', $.proxy(function (e) {
                if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {
                    this.$element.trigger('focus')
                }
            }, this))
    }

    Modal.prototype.escape = function () {
        if (this.isShown && this.options.keyboard) {
            this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {
                e.which == 27 && this.hide()
            }, this))
        } else if (!this.isShown) {
            this.$element.off('keydown.dismiss.bs.modal')
        }
    }

    Modal.prototype.resize = function () {
        if (this.isShown) {
            $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))
        } else {
            $(window).off('resize.bs.modal')
        }
    }

    Modal.prototype.hideModal = function () {
        var that = this
        this.$element.hide()
        this.backdrop(function () {
            that.$body.removeClass('modal-open')
            that.resetAdjustments()
            that.resetScrollbar()
            that.$element.trigger('hidden.bs.modal')
        })
    }

    Modal.prototype.removeBackdrop = function () {
        this.$backdrop && this.$backdrop.remove()
        this.$backdrop = null
    }

    Modal.prototype.backdrop = function (callback) {
        var that = this
        var animate = this.$element.hasClass('fade') ? 'fade' : ''

        if (this.isShown && this.options.backdrop) {
            var doAnimate = $.support.transition && animate

            this.$backdrop = $('<div class="modal-backdrop ' + animate + '" />')
                .appendTo(this.$body)

            this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {
                if (this.ignoreBackdropClick) {
                    this.ignoreBackdropClick = false
                    return
                }
                if (e.target !== e.currentTarget) return
                this.options.backdrop == 'static'
                    ? this.$element[0].focus()
                    : this.hide()
            }, this))

            if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

            this.$backdrop.addClass('in')

            if (!callback) return

            doAnimate ?
                this.$backdrop
                    .one('bsTransitionEnd', callback)
                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
                callback()

        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass('in')

            var callbackRemove = function () {
                that.removeBackdrop()
                callback && callback()
            }
            $.support.transition && this.$element.hasClass('fade') ?
                this.$backdrop
                    .one('bsTransitionEnd', callbackRemove)
                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
                callbackRemove()

        } else if (callback) {
            callback()
        }
    }

    // these following methods are used to handle overflowing modals

    Modal.prototype.handleUpdate = function () {
        this.adjustDialog()
    }

    Modal.prototype.adjustDialog = function () {
        var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight

        this.$element.css({
            paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',
            paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''
        })
    }

    Modal.prototype.resetAdjustments = function () {
        this.$element.css({
            paddingLeft: '',
            paddingRight: ''
        })
    }

    Modal.prototype.checkScrollbar = function () {
        var fullWindowWidth = window.innerWidth
        if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8
            var documentElementRect = document.documentElement.getBoundingClientRect()
            fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
        }
        this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth
        this.scrollbarWidth = this.measureScrollbar()
    }

    Modal.prototype.setScrollbar = function () {
        var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)
        this.originalBodyPad = document.body.style.paddingRight || ''
        if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)
    }

    Modal.prototype.resetScrollbar = function () {
        this.$body.css('padding-right', this.originalBodyPad)
    }

    Modal.prototype.measureScrollbar = function () { // thx walsh
        var scrollDiv = document.createElement('div')
        scrollDiv.className = 'modal-scrollbar-measure'
        this.$body.append(scrollDiv)
        var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth
        this.$body[0].removeChild(scrollDiv)
        return scrollbarWidth
    }


    // MODAL PLUGIN DEFINITION
    // =======================

    function Plugin(option, _relatedTarget) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.modal')
            var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)

            if (!data) $this.data('bs.modal', (data = new Modal(this, options)))
            if (typeof option == 'string') data[option](_relatedTarget)
            else if (options.show) data.show(_relatedTarget)
        })
    }

    var old = $.fn.modal

    $.fn.modal             = Plugin
    $.fn.modal.Constructor = Modal


    // MODAL NO CONFLICT
    // =================

    $.fn.modal.noConflict = function () {
        $.fn.modal = old
        return this
    }


    // MODAL DATA-API
    // ==============

    $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (e) {
        var $this   = $(this)
        var href    = $this.attr('href')
        var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7
        var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())

        if ($this.is('a')) e.preventDefault()

        $target.one('show.bs.modal', function (showEvent) {
            if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown
            $target.one('hidden.bs.modal', function () {
                $this.is(':visible') && $this.trigger('focus')
            })
        })
        Plugin.call($target, option, this)
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // TOOLTIP PUBLIC CLASS DEFINITION
    // ===============================

    var Tooltip = function (element, options) {
        this.type       = null
        this.options    = null
        this.enabled    = null
        this.timeout    = null
        this.hoverState = null
        this.$element   = null

        this.init('tooltip', element, options)
    }

    Tooltip.VERSION  = '3.3.4'

    Tooltip.TRANSITION_DURATION = 150

    Tooltip.DEFAULTS = {
        animation: true,
        placement: 'top',
        selector: false,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: 'hover focus',
        title: '',
        delay: 0,
        html: false,
        container: false,
        viewport: {
            selector: 'body',
            padding: 0
        }
    }

    Tooltip.prototype.init = function (type, element, options) {
        this.enabled   = true
        this.type      = type
        this.$element  = $(element)
        this.options   = this.getOptions(options)
        this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)

        if (this.$element[0] instanceof document.constructor && !this.options.selector) {
            throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')
        }

        var triggers = this.options.trigger.split(' ')

        for (var i = triggers.length; i--;) {
            var trigger = triggers[i]

            if (trigger == 'click') {
                this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
            } else if (trigger != 'manual') {
                var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'
                var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'

                this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
                this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
            }
        }

        this.options.selector ?
            (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :
            this.fixTitle()
    }

    Tooltip.prototype.getDefaults = function () {
        return Tooltip.DEFAULTS
    }

    Tooltip.prototype.getOptions = function (options) {
        options = $.extend({}, this.getDefaults(), this.$element.data(), options)

        if (options.delay && typeof options.delay == 'number') {
            options.delay = {
                show: options.delay,
                hide: options.delay
            }
        }

        return options
    }

    Tooltip.prototype.getDelegateOptions = function () {
        var options  = {}
        var defaults = this.getDefaults()

        this._options && $.each(this._options, function (key, value) {
            if (defaults[key] != value) options[key] = value
        })

        return options
    }

    Tooltip.prototype.enter = function (obj) {
        var self = obj instanceof this.constructor ?
            obj : $(obj.currentTarget).data('bs.' + this.type)

        if (self && self.$tip && self.$tip.is(':visible')) {
            self.hoverState = 'in'
            return
        }

        if (!self) {
            self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
            $(obj.currentTarget).data('bs.' + this.type, self)
        }

        clearTimeout(self.timeout)

        self.hoverState = 'in'

        if (!self.options.delay || !self.options.delay.show) return self.show()

        self.timeout = setTimeout(function () {
            if (self.hoverState == 'in') self.show()
        }, self.options.delay.show)
    }

    Tooltip.prototype.leave = function (obj) {
        var self = obj instanceof this.constructor ?
            obj : $(obj.currentTarget).data('bs.' + this.type)

        if (!self) {
            self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
            $(obj.currentTarget).data('bs.' + this.type, self)
        }

        clearTimeout(self.timeout)

        self.hoverState = 'out'

        if (!self.options.delay || !self.options.delay.hide) return self.hide()

        self.timeout = setTimeout(function () {
            if (self.hoverState == 'out') self.hide()
        }, self.options.delay.hide)
    }

    Tooltip.prototype.show = function () {
        var e = $.Event('show.bs.' + this.type)

        if (this.hasContent() && this.enabled) {
            this.$element.trigger(e)

            var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])
            if (e.isDefaultPrevented() || !inDom) return
            var that = this

            var $tip = this.tip()

            var tipId = this.getUID(this.type)

            this.setContent()
            $tip.attr('id', tipId)
            this.$element.attr('aria-describedby', tipId)

            if (this.options.animation) $tip.addClass('fade')

            var placement = typeof this.options.placement == 'function' ?
                this.options.placement.call(this, $tip[0], this.$element[0]) :
                this.options.placement

            var autoToken = /\s?auto?\s?/i
            var autoPlace = autoToken.test(placement)
            if (autoPlace) placement = placement.replace(autoToken, '') || 'top'

            $tip
                .detach()
                .css({ top: 0, left: 0, display: 'block' })
                .addClass(placement)
                .data('bs.' + this.type, this)

            this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)

            var pos          = this.getPosition()
            var actualWidth  = $tip[0].offsetWidth
            var actualHeight = $tip[0].offsetHeight

            if (autoPlace) {
                var orgPlacement = placement
                var $container   = this.options.container ? $(this.options.container) : this.$element.parent()
                var containerDim = this.getPosition($container)

                placement = placement == 'bottom' && pos.bottom + actualHeight > containerDim.bottom ? 'top'    :
                    placement == 'top'    && pos.top    - actualHeight < containerDim.top    ? 'bottom' :
                        placement == 'right'  && pos.right  + actualWidth  > containerDim.width  ? 'left'   :
                            placement == 'left'   && pos.left   - actualWidth  < containerDim.left   ? 'right'  :
                                placement

                $tip
                    .removeClass(orgPlacement)
                    .addClass(placement)
            }

            var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)

            this.applyPlacement(calculatedOffset, placement)

            var complete = function () {
                var prevHoverState = that.hoverState
                that.$element.trigger('shown.bs.' + that.type)
                that.hoverState = null

                if (prevHoverState == 'out') that.leave(that)
            }

            $.support.transition && this.$tip.hasClass('fade') ?
                $tip
                    .one('bsTransitionEnd', complete)
                    .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
                complete()
        }
    }

    Tooltip.prototype.applyPlacement = function (offset, placement) {
        var $tip   = this.tip()
        var width  = $tip[0].offsetWidth
        var height = $tip[0].offsetHeight

        // manually read margins because getBoundingClientRect includes difference
        var marginTop = parseInt($tip.css('margin-top'), 10)
        var marginLeft = parseInt($tip.css('margin-left'), 10)

        // we must check for NaN for ie 8/9
        if (isNaN(marginTop))  marginTop  = 0
        if (isNaN(marginLeft)) marginLeft = 0

        offset.top  = offset.top  + marginTop
        offset.left = offset.left + marginLeft

        // $.fn.offset doesn't round pixel values
        // so we use setOffset directly with our own function B-0
        $.offset.setOffset($tip[0], $.extend({
            using: function (props) {
                $tip.css({
                    top: Math.round(props.top),
                    left: Math.round(props.left)
                })
            }
        }, offset), 0)

        $tip.addClass('in')

        // check to see if placing tip in new offset caused the tip to resize itself
        var actualWidth  = $tip[0].offsetWidth
        var actualHeight = $tip[0].offsetHeight

        if (placement == 'top' && actualHeight != height) {
            offset.top = offset.top + height - actualHeight
        }

        var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)

        if (delta.left) offset.left += delta.left
        else offset.top += delta.top

        var isVertical          = /top|bottom/.test(placement)
        var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight
        var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'

        $tip.offset(offset)
        this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
    }

    Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {
        this.arrow()
            .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')
            .css(isVertical ? 'top' : 'left', '')
    }

    Tooltip.prototype.setContent = function () {
        var $tip  = this.tip()
        var title = this.getTitle()

        $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
        $tip.removeClass('fade in top bottom left right')
    }

    Tooltip.prototype.hide = function (callback) {
        var that = this
        var $tip = $(this.$tip)
        var e    = $.Event('hide.bs.' + this.type)

        function complete() {
            if (that.hoverState != 'in') $tip.detach()
            that.$element
                .removeAttr('aria-describedby')
                .trigger('hidden.bs.' + that.type)
            callback && callback()
        }

        this.$element.trigger(e)

        if (e.isDefaultPrevented()) return

        $tip.removeClass('in')

        $.support.transition && $tip.hasClass('fade') ?
            $tip
                .one('bsTransitionEnd', complete)
                .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
            complete()

        this.hoverState = null

        return this
    }

    Tooltip.prototype.fixTitle = function () {
        var $e = this.$element
        if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {
            $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
        }
    }

    Tooltip.prototype.hasContent = function () {
        return this.getTitle()
    }

    Tooltip.prototype.getPosition = function ($element) {
        $element   = $element || this.$element

        var el     = $element[0]
        var isBody = el.tagName == 'BODY'

        var elRect    = el.getBoundingClientRect()
        if (elRect.width == null) {
            // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093
            elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })
        }
        var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()
        var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }
        var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null

        return $.extend({}, elRect, scroll, outerDims, elOffset)
    }

    Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {
        return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :
            placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :
                placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :
                    /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }

    }

    Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {
        var delta = { top: 0, left: 0 }
        if (!this.$viewport) return delta

        var viewportPadding = this.options.viewport && this.options.viewport.padding || 0
        var viewportDimensions = this.getPosition(this.$viewport)

        if (/right|left/.test(placement)) {
            var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll
            var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight
            if (topEdgeOffset < viewportDimensions.top) { // top overflow
                delta.top = viewportDimensions.top - topEdgeOffset
            } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow
                delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset
            }
        } else {
            var leftEdgeOffset  = pos.left - viewportPadding
            var rightEdgeOffset = pos.left + viewportPadding + actualWidth
            if (leftEdgeOffset < viewportDimensions.left) { // left overflow
                delta.left = viewportDimensions.left - leftEdgeOffset
            } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow
                delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset
            }
        }

        return delta
    }

    Tooltip.prototype.getTitle = function () {
        var title
        var $e = this.$element
        var o  = this.options

        title = $e.attr('data-original-title')
            || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)

        return title
    }

    Tooltip.prototype.getUID = function (prefix) {
        do prefix += ~~(Math.random() * 1000000)
        while (document.getElementById(prefix))
        return prefix
    }

    Tooltip.prototype.tip = function () {
        return (this.$tip = this.$tip || $(this.options.template))
    }

    Tooltip.prototype.arrow = function () {
        return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))
    }

    Tooltip.prototype.enable = function () {
        this.enabled = true
    }

    Tooltip.prototype.disable = function () {
        this.enabled = false
    }

    Tooltip.prototype.toggleEnabled = function () {
        this.enabled = !this.enabled
    }

    Tooltip.prototype.toggle = function (e) {
        var self = this
        if (e) {
            self = $(e.currentTarget).data('bs.' + this.type)
            if (!self) {
                self = new this.constructor(e.currentTarget, this.getDelegateOptions())
                $(e.currentTarget).data('bs.' + this.type, self)
            }
        }

        self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }

    Tooltip.prototype.destroy = function () {
        var that = this
        clearTimeout(this.timeout)
        this.hide(function () {
            that.$element.off('.' + that.type).removeData('bs.' + that.type)
        })
    }


    // TOOLTIP PLUGIN DEFINITION
    // =========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.tooltip')
            var options = typeof option == 'object' && option

            if (!data && /destroy|hide/.test(option)) return
            if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.tooltip

    $.fn.tooltip             = Plugin
    $.fn.tooltip.Constructor = Tooltip


    // TOOLTIP NO CONFLICT
    // ===================

    $.fn.tooltip.noConflict = function () {
        $.fn.tooltip = old
        return this
    }

}(jQuery);

/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // POPOVER PUBLIC CLASS DEFINITION
    // ===============================

    var Popover = function (element, options) {
        this.init('popover', element, options)
    }

    if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')

    Popover.VERSION  = '3.3.4'

    Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
        placement: 'right',
        trigger: 'click',
        content: '',
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    })


    // NOTE: POPOVER EXTENDS tooltip.js
    // ================================

    Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)

    Popover.prototype.constructor = Popover

    Popover.prototype.getDefaults = function () {
        return Popover.DEFAULTS
    }

    Popover.prototype.setContent = function () {
        var $tip    = this.tip()
        var title   = this.getTitle()
        var content = this.getContent()

        $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
        $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events
            this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'
            ](content)

        $tip.removeClass('fade top bottom left right in')

        // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do
        // this manually by checking the contents.
        if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()
    }

    Popover.prototype.hasContent = function () {
        return this.getTitle() || this.getContent()
    }

    Popover.prototype.getContent = function () {
        var $e = this.$element
        var o  = this.options

        return $e.attr('data-content')
            || (typeof o.content == 'function' ?
                o.content.call($e[0]) :
                o.content)
    }

    Popover.prototype.arrow = function () {
        return (this.$arrow = this.$arrow || this.tip().find('.arrow'))
    }


    // POPOVER PLUGIN DEFINITION
    // =========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.popover')
            var options = typeof option == 'object' && option

            if (!data && /destroy|hide/.test(option)) return
            if (!data) $this.data('bs.popover', (data = new Popover(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.popover

    $.fn.popover             = Plugin
    $.fn.popover.Constructor = Popover


    // POPOVER NO CONFLICT
    // ===================

    $.fn.popover.noConflict = function () {
        $.fn.popover = old
        return this
    }

}(jQuery);

/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // SCROLLSPY CLASS DEFINITION
    // ==========================

    function ScrollSpy(element, options) {
        this.$body          = $(document.body)
        this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
        this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
        this.selector       = (this.options.target || '') + ' .nav li > a'
        this.offsets        = []
        this.targets        = []
        this.activeTarget   = null
        this.scrollHeight   = 0

        this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
        this.refresh()
        this.process()
    }

    ScrollSpy.VERSION  = '3.3.4'

    ScrollSpy.DEFAULTS = {
        offset: 10
    }

    ScrollSpy.prototype.getScrollHeight = function () {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }

    ScrollSpy.prototype.refresh = function () {
        var that          = this
        var offsetMethod  = 'offset'
        var offsetBase    = 0

        this.offsets      = []
        this.targets      = []
        this.scrollHeight = this.getScrollHeight()

        if (!$.isWindow(this.$scrollElement[0])) {
            offsetMethod = 'position'
            offsetBase   = this.$scrollElement.scrollTop()
        }

        this.$body
            .find(this.selector)
            .map(function () {
                var $el   = $(this)
                var href  = $el.data('target') || $el.attr('href')
                var $href = /^#./.test(href) && $(href)

                return ($href
                    && $href.length
                    && $href.is(':visible')
                    && [[$href[offsetMethod]().top + offsetBase, href]]) || null
            })
            .sort(function (a, b) { return a[0] - b[0] })
            .each(function () {
                that.offsets.push(this[0])
                that.targets.push(this[1])
            })
    }

    ScrollSpy.prototype.process = function () {
        var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
        var scrollHeight = this.getScrollHeight()
        var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
        var offsets      = this.offsets
        var targets      = this.targets
        var activeTarget = this.activeTarget
        var i

        if (this.scrollHeight != scrollHeight) {
            this.refresh()
        }

        if (scrollTop >= maxScroll) {
            return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
        }

        if (activeTarget && scrollTop < offsets[0]) {
            this.activeTarget = null
            return this.clear()
        }

        for (i = offsets.length; i--;) {
            activeTarget != targets[i]
            && scrollTop >= offsets[i]
            && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])
            && this.activate(targets[i])
        }
    }

    ScrollSpy.prototype.activate = function (target) {
        this.activeTarget = target

        this.clear()

        var selector = this.selector +
            '[data-target="' + target + '"],' +
            this.selector + '[href="' + target + '"]'

        var active = $(selector)
            .parents('li')
            .addClass('active')

        if (active.parent('.dropdown-menu').length) {
            active = active
                .closest('li.dropdown')
                .addClass('active')
        }

        active.trigger('activate.bs.scrollspy')
    }

    ScrollSpy.prototype.clear = function () {
        $(this.selector)
            .parentsUntil(this.options.target, '.active')
            .removeClass('active')
    }


    // SCROLLSPY PLUGIN DEFINITION
    // ===========================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.scrollspy')
            var options = typeof option == 'object' && option

            if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.scrollspy

    $.fn.scrollspy             = Plugin
    $.fn.scrollspy.Constructor = ScrollSpy


    // SCROLLSPY NO CONFLICT
    // =====================

    $.fn.scrollspy.noConflict = function () {
        $.fn.scrollspy = old
        return this
    }


    // SCROLLSPY DATA-API
    // ==================

    $(window).on('load.bs.scrollspy.data-api', function () {
        $('[data-spy="scroll"]').each(function () {
            var $spy = $(this)
            Plugin.call($spy, $spy.data())
        })
    })

}(jQuery);

/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // TAB CLASS DEFINITION
    // ====================

    var Tab = function (element) {
        this.element = $(element)
    }

    Tab.VERSION = '3.3.4'

    Tab.TRANSITION_DURATION = 150

    Tab.prototype.show = function () {
        var $this    = this.element
        var $ul      = $this.closest('ul:not(.dropdown-menu)')
        var selector = $this.data('target')

        if (!selector) {
            selector = $this.attr('href')
            selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
        }

        if ($this.parent('li').hasClass('active')) return

        var $previous = $ul.find('.active:last a')
        var hideEvent = $.Event('hide.bs.tab', {
            relatedTarget: $this[0]
        })
        var showEvent = $.Event('show.bs.tab', {
            relatedTarget: $previous[0]
        })

        $previous.trigger(hideEvent)
        $this.trigger(showEvent)

        if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return

        var $target = $(selector)

        this.activate($this.closest('li'), $ul)
        this.activate($target, $target.parent(), function () {
            $previous.trigger({
                type: 'hidden.bs.tab',
                relatedTarget: $this[0]
            })
            $this.trigger({
                type: 'shown.bs.tab',
                relatedTarget: $previous[0]
            })
        })
    }

    Tab.prototype.activate = function (element, container, callback) {
        var $active    = container.find('> .active')
        var transition = callback
            && $.support.transition
            && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length)

        function next() {
            $active
                .removeClass('active')
                .find('> .dropdown-menu > .active')
                .removeClass('active')
                .end()
                .find('[data-toggle="tab"]')
                .attr('aria-expanded', false)

            element
                .addClass('active')
                .find('[data-toggle="tab"]')
                .attr('aria-expanded', true)

            if (transition) {
                element[0].offsetWidth // reflow for transition
                element.addClass('in')
            } else {
                element.removeClass('fade')
            }

            if (element.parent('.dropdown-menu').length) {
                element
                    .closest('li.dropdown')
                    .addClass('active')
                    .end()
                    .find('[data-toggle="tab"]')
                    .attr('aria-expanded', true)
            }

            callback && callback()
        }

        $active.length && transition ?
            $active
                .one('bsTransitionEnd', next)
                .emulateTransitionEnd(Tab.TRANSITION_DURATION) :
            next()

        $active.removeClass('in')
    }


    // TAB PLUGIN DEFINITION
    // =====================

    function Plugin(option) {
        return this.each(function () {
            var $this = $(this)
            var data  = $this.data('bs.tab')

            if (!data) $this.data('bs.tab', (data = new Tab(this)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.tab

    $.fn.tab             = Plugin
    $.fn.tab.Constructor = Tab


    // TAB NO CONFLICT
    // ===============

    $.fn.tab.noConflict = function () {
        $.fn.tab = old
        return this
    }


    // TAB DATA-API
    // ============

    var clickHandler = function (e) {
        e.preventDefault()
        Plugin.call($(this), 'show')
    }

    $(document)
        .on('click.bs.tab.data-api', '[data-toggle="tab"]', clickHandler)
        .on('click.bs.tab.data-api', '[data-toggle="pill"]', clickHandler)

}(jQuery);

/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
    'use strict';

    // AFFIX CLASS DEFINITION
    // ======================

    var Affix = function (element, options) {
        this.options = $.extend({}, Affix.DEFAULTS, options)

        this.$target = $(this.options.target)
            .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))
            .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))

        this.$element     = $(element)
        this.affixed      = null
        this.unpin        = null
        this.pinnedOffset = null

        this.checkPosition()
    }

    Affix.VERSION  = '3.3.4'

    Affix.RESET    = 'affix affix-top affix-bottom'

    Affix.DEFAULTS = {
        offset: 0,
        target: window
    }

    Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {
        var scrollTop    = this.$target.scrollTop()
        var position     = this.$element.offset()
        var targetHeight = this.$target.height()

        if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false

        if (this.affixed == 'bottom') {
            if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'
            return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'
        }

        var initializing   = this.affixed == null
        var colliderTop    = initializing ? scrollTop : position.top
        var colliderHeight = initializing ? targetHeight : height

        if (offsetTop != null && scrollTop <= offsetTop) return 'top'
        if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'

        return false
    }

    Affix.prototype.getPinnedOffset = function () {
        if (this.pinnedOffset) return this.pinnedOffset
        this.$element.removeClass(Affix.RESET).addClass('affix')
        var scrollTop = this.$target.scrollTop()
        var position  = this.$element.offset()
        return (this.pinnedOffset = position.top - scrollTop)
    }

    Affix.prototype.checkPositionWithEventLoop = function () {
        setTimeout($.proxy(this.checkPosition, this), 1)
    }

    Affix.prototype.checkPosition = function () {
        if (!this.$element.is(':visible')) return

        var height       = this.$element.height()
        var offset       = this.options.offset
        var offsetTop    = offset.top
        var offsetBottom = offset.bottom
        var scrollHeight = $(document.body).height()

        if (typeof offset != 'object')         offsetBottom = offsetTop = offset
        if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)
        if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)

        var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)

        if (this.affixed != affix) {
            if (this.unpin != null) this.$element.css('top', '')

            var affixType = 'affix' + (affix ? '-' + affix : '')
            var e         = $.Event(affixType + '.bs.affix')

            this.$element.trigger(e)

            if (e.isDefaultPrevented()) return

            this.affixed = affix
            this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null

            this.$element
                .removeClass(Affix.RESET)
                .addClass(affixType)
                .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')
        }

        if (affix == 'bottom') {
            this.$element.offset({
                top: scrollHeight - height - offsetBottom
            })
        }
    }


    // AFFIX PLUGIN DEFINITION
    // =======================

    function Plugin(option) {
        return this.each(function () {
            var $this   = $(this)
            var data    = $this.data('bs.affix')
            var options = typeof option == 'object' && option

            if (!data) $this.data('bs.affix', (data = new Affix(this, options)))
            if (typeof option == 'string') data[option]()
        })
    }

    var old = $.fn.affix

    $.fn.affix             = Plugin
    $.fn.affix.Constructor = Affix


    // AFFIX NO CONFLICT
    // =================

    $.fn.affix.noConflict = function () {
        $.fn.affix = old
        return this
    }


    // AFFIX DATA-API
    // ==============

    $(window).on('load', function () {
        $('[data-spy="affix"]').each(function () {
            var $spy = $(this)
            var data = $spy.data()

            data.offset = data.offset || {}

            if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom
            if (data.offsetTop    != null) data.offset.top    = data.offsetTop

            Plugin.call($spy, data)
        })
    })

}(jQuery);

},{"./jquery":57}],22:[function(require,module,exports){
/* =============================================================
 * bootstrap3-typeahead.js v3.1.0
 * https://github.com/bassjobsen/Bootstrap-3-Typeahead
 * =============================================================
 * Original written by @mdo and @fat
 * =============================================================
 * Copyright 2014 Bass Jobsen @bassjobsen
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */


(function (root, factory) {

    'use strict';

    // CommonJS module is defined
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = factory(require('./jquery'));
    }
    // AMD module is defined
    else if (typeof define === 'function' && define.amd) {
        define(['jquery'], function ($) {
            return factory ($);
        });
    } else {
        factory(root.jQuery);
    }

}(this, function ($) {

    'use strict';
    // jshint laxcomma: true


    /* TYPEAHEAD PUBLIC CLASS DEFINITION
     * ================================= */

    var Typeahead = function (element, options) {
        this.$element = $(element);
        this.options = $.extend({}, $.fn.typeahead.defaults, options);
        this.matcher = this.options.matcher || this.matcher;
        this.sorter = this.options.sorter || this.sorter;
        this.select = this.options.select || this.select;
        this.autoSelect = typeof this.options.autoSelect == 'boolean' ? this.options.autoSelect : true;
        this.highlighter = this.options.highlighter || this.highlighter;
        this.render = this.options.render || this.render;
        this.updater = this.options.updater || this.updater;
        this.displayText = this.options.displayText || this.displayText;
        this.source = this.options.source;
        this.delay = this.options.delay;
        this.$menu = $(this.options.menu);
        this.$appendTo = this.options.appendTo ? $(this.options.appendTo) : null;
        this.shown = false;
        this.listen();
        this.showHintOnFocus = typeof this.options.showHintOnFocus == 'boolean' ? this.options.showHintOnFocus : false;
        this.afterSelect = this.options.afterSelect;
        this.addItem = false;
    };

    Typeahead.prototype = {

        constructor: Typeahead,

        select: function () {
            var val = this.$menu.find('.active').data('value');
            this.$element.data('active', val);
            if(this.autoSelect || val) {
                var newVal = this.updater(val);
                this.$element
                    .val(this.displayText(newVal) || newVal)
                    .change();
                this.afterSelect(newVal);
            }
            return this.hide();
        },

        updater: function (item) {
            return item;
        },

        setSource: function (source) {
            this.source = source;
        },

        show: function () {
            var pos = $.extend({}, this.$element.position(), {
                height: this.$element[0].offsetHeight
            }), scrollHeight;

            scrollHeight = typeof this.options.scrollHeight == 'function' ?
                this.options.scrollHeight.call() :
                this.options.scrollHeight;

            (this.$appendTo ? this.$menu.appendTo(this.$appendTo) : this.$menu.insertAfter(this.$element))
                .css({
                    top: pos.top + pos.height + scrollHeight
                    , left: pos.left
                })
                .show();

            this.shown = true;
            return this;
        },

        hide: function () {
            this.$menu.hide();
            this.shown = false;
            return this;
        },

        lookup: function (query) {
            var items;
            if (typeof(query) != 'undefined' && query !== null) {
                this.query = query;
            } else {
                this.query = this.$element.val() ||  '';
            }

            if (this.query.length < this.options.minLength) {
                return this.shown ? this.hide() : this;
            }

            var worker = $.proxy(function() {

                if($.isFunction(this.source)) this.source(this.query, $.proxy(this.process, this));
                else if (this.source) {
                    this.process(this.source);
                }
            }, this);

            clearTimeout(this.lookupWorker);
            this.lookupWorker = setTimeout(worker, this.delay);
        },

        process: function (items) {
            var that = this;

            items = $.grep(items, function (item) {
                return that.matcher(item);
            });

            items = this.sorter(items);

            if (!items.length && !this.options.addItem) {
                return this.shown ? this.hide() : this;
            }

            if (items.length > 0) {
                this.$element.data('active', items[0]);
            } else {
                this.$element.data('active', null);
            }

            // Add item
            if (this.options.addItem){
                items.push(this.options.addItem);
            }

            if (this.options.items == 'all') {
                return this.render(items).show();
            } else {
                return this.render(items.slice(0, this.options.items)).show();
            }
        },

        matcher: function (item) {
            var it = this.displayText(item);
            return ~it.toLowerCase().indexOf(this.query.toLowerCase());
        },

        sorter: function (items) {
            var beginswith = []
                , caseSensitive = []
                , caseInsensitive = []
                , item;

            while ((item = items.shift())) {
                var it = this.displayText(item);
                if (!it.toLowerCase().indexOf(this.query.toLowerCase())) beginswith.push(item);
                else if (~it.indexOf(this.query)) caseSensitive.push(item);
                else caseInsensitive.push(item);
            }

            return beginswith.concat(caseSensitive, caseInsensitive);
        },

        highlighter: function (item) {
            var html = $('<div></div>');
            var query = this.query;
            var i = item.toLowerCase().indexOf(query.toLowerCase());
            var len, leftPart, middlePart, rightPart, strong;
            len = query.length;
            if(len === 0){
                return html.text(item).html();
            }
            while (i > -1) {
                leftPart = item.substr(0, i);
                middlePart = item.substr(i, len);
                rightPart = item.substr(i + len);
                strong = $('<strong></strong>').text(middlePart);
                html
                    .append(document.createTextNode(leftPart))
                    .append(strong);
                item = rightPart;
                i = item.toLowerCase().indexOf(query.toLowerCase());
            }
            return html.append(document.createTextNode(item)).html();
        },

        render: function (items) {
            var that = this;
            var self = this;
            var activeFound = false;
            items = $(items).map(function (i, item) {
                var text = self.displayText(item);
                i = $(that.options.item).data('value', item);
                i.find('a').html(that.highlighter(text));
                if (text == self.$element.val()) {
                    i.addClass('active');
                    self.$element.data('active', item);
                    activeFound = true;
                }
                return i[0];
            });

            if (this.autoSelect && !activeFound) {
                items.first().addClass('active');
                this.$element.data('active', items.first().data('value'));
            }
            this.$menu.html(items);
            return this;
        },

        displayText: function(item) {
            return item.name || item;
        },

        next: function (event) {
            var active = this.$menu.find('.active').removeClass('active')
                , next = active.next();

            if (!next.length) {
                next = $(this.$menu.find('li')[0]);
            }

            next.addClass('active');
        },

        prev: function (event) {
            var active = this.$menu.find('.active').removeClass('active')
                , prev = active.prev();

            if (!prev.length) {
                prev = this.$menu.find('li').last();
            }

            prev.addClass('active');
        },

        listen: function () {
            this.$element
                .on('focus',    $.proxy(this.focus, this))
                .on('blur',     $.proxy(this.blur, this))
                .on('keypress', $.proxy(this.keypress, this))
                .on('keyup',    $.proxy(this.keyup, this));

            if (this.eventSupported('keydown')) {
                this.$element.on('keydown', $.proxy(this.keydown, this));
            }

            this.$menu
                .on('click', $.proxy(this.click, this))
                .on('mouseenter', 'li', $.proxy(this.mouseenter, this))
                .on('mouseleave', 'li', $.proxy(this.mouseleave, this));
        },

        destroy : function () {
            this.$element.data('typeahead',null);
            this.$element.data('active',null);
            this.$element
                .off('focus')
                .off('blur')
                .off('keypress')
                .off('keyup');

            if (this.eventSupported('keydown')) {
                this.$element.off('keydown');
            }

            this.$menu.remove();
        },

        eventSupported: function(eventName) {
            var isSupported = eventName in this.$element;
            if (!isSupported) {
                this.$element.setAttribute(eventName, 'return;');
                isSupported = typeof this.$element[eventName] === 'function';
            }
            return isSupported;
        },

        move: function (e) {
            if (!this.shown) return;

            switch(e.keyCode) {
                case 9: // tab
                case 13: // enter
                case 27: // escape
                    e.preventDefault();
                    break;

                case 38: // up arrow
                    // with the shiftKey (this is actually the left parenthesis)
                    if (e.shiftKey) return;
                    e.preventDefault();
                    this.prev();
                    break;

                case 40: // down arrow
                    // with the shiftKey (this is actually the right parenthesis)
                    if (e.shiftKey) return;
                    e.preventDefault();
                    this.next();
                    break;
            }

            e.stopPropagation();
        },

        keydown: function (e) {
            this.suppressKeyPressRepeat = ~$.inArray(e.keyCode, [40,38,9,13,27]);
            if (!this.shown && e.keyCode == 40) {
                this.lookup();
            } else {
                this.move(e);
            }
        },

        keypress: function (e) {
            if (this.suppressKeyPressRepeat) return;
            this.move(e);
        },

        keyup: function (e) {
            switch(e.keyCode) {
                case 40: // down arrow
                case 38: // up arrow
                case 16: // shift
                case 17: // ctrl
                case 18: // alt
                    break;

                case 9: // tab
                case 13: // enter
                    if (!this.shown) return;
                    this.select();
                    break;

                case 27: // escape
                    if (!this.shown) return;
                    this.hide();
                    break;
                default:
                    this.lookup();
            }

            e.stopPropagation();
            e.preventDefault();
        },

        focus: function (e) {
            if (!this.focused) {
                this.focused = true;
                if (this.options.showHintOnFocus) {
                    this.lookup('');
                }
            }
        },

        blur: function (e) {
            this.focused = false;
            if (!this.mousedover && this.shown) this.hide();
        },

        click: function (e) {
            e.stopPropagation();
            e.preventDefault();
            this.select();
            this.$element.focus();
        },

        mouseenter: function (e) {
            this.mousedover = true;
            this.$menu.find('.active').removeClass('active');
            $(e.currentTarget).addClass('active');
        },

        mouseleave: function (e) {
            this.mousedover = false;
            if (!this.focused && this.shown) this.hide();
        }

    };


    /* TYPEAHEAD PLUGIN DEFINITION
     * =========================== */

    var old = $.fn.typeahead;

    $.fn.typeahead = function (option) {
        var arg = arguments;
        if (typeof option == 'string' && option == 'getActive') {
            return this.data('active');
        }
        return this.each(function () {
            var $this = $(this)
                , data = $this.data('typeahead')
                , options = typeof option == 'object' && option;
            if (!data) $this.data('typeahead', (data = new Typeahead(this, options)));
            if (typeof option == 'string') {
                if (arg.length > 1) {
                    data[option].apply(data, Array.prototype.slice.call(arg ,1));
                } else {
                    data[option]();
                }
            }
        });
    };

    $.fn.typeahead.defaults = {
        source: []
        , items: 8
        , menu: '<ul class="typeahead dropdown-menu" role="listbox"></ul>'
        , item: '<li><a href="#" role="option"></a></li>'
        , minLength: 1
        , scrollHeight: 0
        , autoSelect: true
        , afterSelect: $.noop
        , addItem: false
        , delay: 0
    };

    $.fn.typeahead.Constructor = Typeahead;


    /* TYPEAHEAD NO CONFLICT
     * =================== */

    $.fn.typeahead.noConflict = function () {
        $.fn.typeahead = old;
        return this;
    };


    /* TYPEAHEAD DATA-API
     * ================== */

    $(document).on('focus.typeahead.data-api', '[data-provide="typeahead"]', function (e) {
        var $this = $(this);
        if ($this.data('typeahead')) return;
        $this.typeahead($this.data());
    });

}));
},{"./jquery":57}],23:[function(require,module,exports){
/*
 //! version : 4.0.0
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 =========================================================
 The MIT License (MIT)

 Copyright (c) 2015 Jonathan Peterson

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 */
(function (factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        // AMD is used - Register as an anonymous module.
        define(['jquery', 'moment'], factory);
    } else if (typeof exports === 'object') {
        factory(require('./jquery'), require('./moment'));
    } else {
        // Neither AMD nor CommonJS used. Use global variables.
        if (!jQuery) {
            throw 'bootstrap-datetimepicker requires jQuery to be loaded first';
        }
        if (!moment) {
            throw 'bootstrap-datetimepicker requires Moment.js to be loaded first';
        }
        factory(jQuery, moment);
    }
}(function ($, moment) {
    'use strict';
    if (!moment) {
        throw new Error('bootstrap-datetimepicker requires Moment.js to be loaded first');
    }

    var dateTimePicker = function (element, options) {
        var picker = {},
            date = moment(),
            viewDate = date.clone(),
            unset = true,
            input,
            component = false,
            widget = false,
            use24Hours,
            minViewModeNumber = 0,
            actualFormat,
            parseFormats,
            currentViewMode,
            datePickerModes = [
                {
                    clsName: 'days',
                    navFnc: 'M',
                    navStep: 1
                },
                {
                    clsName: 'months',
                    navFnc: 'y',
                    navStep: 1
                },
                {
                    clsName: 'years',
                    navFnc: 'y',
                    navStep: 10
                }
            ],
            viewModes = ['days', 'months', 'years'],
            verticalModes = ['top', 'bottom', 'auto'],
            horizontalModes = ['left', 'right', 'auto'],
            toolbarPlacements = ['default', 'top', 'bottom'],

            /********************************************************************************
             *
             * Private functions
             *
             ********************************************************************************/
            isEnabled = function (granularity) {
                if (typeof granularity !== 'string' || granularity.length > 1) {
                    throw new TypeError('isEnabled expects a single character string parameter');
                }
                switch (granularity) {
                    case 'y':
                        return actualFormat.indexOf('Y') !== -1;
                    case 'M':
                        return actualFormat.indexOf('M') !== -1;
                    case 'd':
                        return actualFormat.toLowerCase().indexOf('d') !== -1;
                    case 'h':
                    case 'H':
                        return actualFormat.toLowerCase().indexOf('h') !== -1;
                    case 'm':
                        return actualFormat.indexOf('m') !== -1;
                    case 's':
                        return actualFormat.indexOf('s') !== -1;
                    default:
                        return false;
                }
            },

            hasTime = function () {
                return (isEnabled('h') || isEnabled('m') || isEnabled('s'));
            },

            hasDate = function () {
                return (isEnabled('y') || isEnabled('M') || isEnabled('d'));
            },

            getDatePickerTemplate = function () {
                var headTemplate = $('<thead>')
                        .append($('<tr>')
                            .append($('<th>').addClass('prev').attr('data-action', 'previous')
                                .append($('<span>').addClass(options.icons.previous))
                        )
                            .append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', (options.calendarWeeks ? '6' : '5')))
                            .append($('<th>').addClass('next').attr('data-action', 'next')
                                .append($('<span>').addClass(options.icons.next))
                        )
                    ),
                    contTemplate = $('<tbody>')
                        .append($('<tr>')
                            .append($('<td>').attr('colspan', (options.calendarWeeks ? '8' : '7')))
                    );

                return [
                    $('<div>').addClass('datepicker-days')
                        .append($('<table>').addClass('table-condensed')
                            .append(headTemplate)
                            .append($('<tbody>'))
                    ),
                    $('<div>').addClass('datepicker-months')
                        .append($('<table>').addClass('table-condensed')
                            .append(headTemplate.clone())
                            .append(contTemplate.clone())
                    ),
                    $('<div>').addClass('datepicker-years')
                        .append($('<table>').addClass('table-condensed')
                            .append(headTemplate.clone())
                            .append(contTemplate.clone())
                    )
                ];
            },

            getTimePickerMainTemplate = function () {
                var topRow = $('<tr>'),
                    middleRow = $('<tr>'),
                    bottomRow = $('<tr>');

                if (isEnabled('h')) {
                    topRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'incrementHours')
                            .append($('<span>').addClass(options.icons.up))));
                    middleRow.append($('<td>')
                        .append($('<span>').addClass('timepicker-hour').attr('data-time-component', 'hours').attr('data-action', 'showHours')));
                    bottomRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'decrementHours')
                            .append($('<span>').addClass(options.icons.down))));
                }
                if (isEnabled('m')) {
                    if (isEnabled('h')) {
                        topRow.append($('<td>').addClass('separator'));
                        middleRow.append($('<td>').addClass('separator').html(':'));
                        bottomRow.append($('<td>').addClass('separator'));
                    }
                    topRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'incrementMinutes')
                            .append($('<span>').addClass(options.icons.up))));
                    middleRow.append($('<td>')
                        .append($('<span>').addClass('timepicker-minute').attr('data-time-component', 'minutes').attr('data-action', 'showMinutes')));
                    bottomRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'decrementMinutes')
                            .append($('<span>').addClass(options.icons.down))));
                }
                if (isEnabled('s')) {
                    if (isEnabled('m')) {
                        topRow.append($('<td>').addClass('separator'));
                        middleRow.append($('<td>').addClass('separator').html(':'));
                        bottomRow.append($('<td>').addClass('separator'));
                    }
                    topRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'incrementSeconds')
                            .append($('<span>').addClass(options.icons.up))));
                    middleRow.append($('<td>')
                        .append($('<span>').addClass('timepicker-second').attr('data-time-component', 'seconds').attr('data-action', 'showSeconds')));
                    bottomRow.append($('<td>')
                        .append($('<a>').attr('href', '#').addClass('btn').attr('data-action', 'decrementSeconds')
                            .append($('<span>').addClass(options.icons.down))));
                }

                if (!use24Hours) {
                    topRow.append($('<td>').addClass('separator'));
                    middleRow.append($('<td>')
                        .append($('<button>').addClass('btn btn-primary').attr('data-action', 'togglePeriod')));
                    bottomRow.append($('<td>').addClass('separator'));
                }

                return $('<div>').addClass('timepicker-picker')
                    .append($('<table>').addClass('table-condensed')
                        .append([topRow, middleRow, bottomRow]));
            },

            getTimePickerTemplate = function () {
                var hoursView = $('<div>').addClass('timepicker-hours')
                        .append($('<table>').addClass('table-condensed')),
                    minutesView = $('<div>').addClass('timepicker-minutes')
                        .append($('<table>').addClass('table-condensed')),
                    secondsView = $('<div>').addClass('timepicker-seconds')
                        .append($('<table>').addClass('table-condensed')),
                    ret = [getTimePickerMainTemplate()];

                if (isEnabled('h')) {
                    ret.push(hoursView);
                }
                if (isEnabled('m')) {
                    ret.push(minutesView);
                }
                if (isEnabled('s')) {
                    ret.push(secondsView);
                }

                return ret;
            },

            getToolbar = function () {
                var row = [];
                if (options.showTodayButton) {
                    row.push($('<td>').append($('<a>').attr('data-action', 'today').append($('<span>').addClass(options.icons.today))));
                }
                if (!options.sideBySide && hasDate() && hasTime()) {
                    row.push($('<td>').append($('<a>').attr('data-action', 'togglePicker').append($('<span>').addClass(options.icons.time))));
                }
                if (options.showClear) {
                    row.push($('<td>').append($('<a>').attr('data-action', 'clear').append($('<span>').addClass(options.icons.clear))));
                }
                return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));
            },

            getTemplate = function () {
                var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),
                    dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),
                    timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),
                    content = $('<ul>').addClass('list-unstyled'),
                    toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());

                if (use24Hours) {
                    template.addClass('usetwentyfour');
                }
                if (options.sideBySide && hasDate() && hasTime()) {
                    template.addClass('timepicker-sbs');
                    template.append(
                        $('<div>').addClass('row')
                            .append(dateView.addClass('col-sm-6'))
                            .append(timeView.addClass('col-sm-6'))
                    );
                    template.append(toolbar);
                    return template;
                }

                if (options.toolbarPlacement === 'top') {
                    content.append(toolbar);
                }
                if (hasDate()) {
                    content.append($('<li>').addClass((options.collapse && hasTime() ? 'collapse in' : '')).append(dateView));
                }
                if (options.toolbarPlacement === 'default') {
                    content.append(toolbar);
                }
                if (hasTime()) {
                    content.append($('<li>').addClass((options.collapse && hasDate() ? 'collapse' : '')).append(timeView));
                }
                if (options.toolbarPlacement === 'bottom') {
                    content.append(toolbar);
                }
                return template.append(content);
            },

            dataToOptions = function () {
                var eData = element.data(),
                    dataOptions = {};

                if (eData.dateOptions && eData.dateOptions instanceof Object) {
                    dataOptions = $.extend(true, dataOptions, eData.dateOptions);
                }

                $.each(options, function (key) {
                    var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);
                    if (eData[attributeName] !== undefined) {
                        dataOptions[key] = eData[attributeName];
                    }
                });
                return dataOptions;
            },

            place = function () {
                var offset = (component || element).position(),
                    vertical = options.widgetPositioning.vertical,
                    horizontal = options.widgetPositioning.horizontal,
                    parent;

                if (options.widgetParent) {
                    parent = options.widgetParent.append(widget);
                } else if (element.is('input')) {
                    parent = element.parent().append(widget);
                } else {
                    parent = element;
                    element.children().first().after(widget);
                }

                // Top and bottom logic
                if (vertical === 'auto') {
                    if ((component || element).offset().top + widget.height() > $(window).height() + $(window).scrollTop() &&
                        widget.height() + element.outerHeight() < (component || element).offset().top) {
                        vertical = 'top';
                    } else {
                        vertical = 'bottom';
                    }
                }

                // Left and right logic
                if (horizontal === 'auto') {
                    if (parent.width() < offset.left + widget.outerWidth()) {
                        horizontal = 'right';
                    } else {
                        horizontal = 'left';
                    }
                }

                if (vertical === 'top') {
                    widget.addClass('top').removeClass('bottom');
                } else {
                    widget.addClass('bottom').removeClass('top');
                }

                if (horizontal === 'right') {
                    widget.addClass('pull-right');
                } else {
                    widget.removeClass('pull-right');
                }

                // find the first parent element that has a relative css positioning
                if (parent.css('position') !== 'relative') {
                    parent = parent.parents().filter(function () {
                        return $(this).css('position') === 'relative';
                    }).first();
                }

                if (parent.length === 0) {
                    throw new Error('datetimepicker component should be placed within a relative positioned container');
                }

                widget.css({
                    top: vertical === 'top' ? 'auto' : offset.top + element.outerHeight(),
                    bottom: vertical === 'top' ? offset.top + element.outerHeight() : 'auto',
                    left: horizontal === 'left' ? parent.css('padding-left') : 'auto',
                    right: horizontal === 'left' ? 'auto' : parent.css('padding-right')
                });
            },

            notifyEvent = function (e) {
                if (e.type === 'dp.change' && ((e.date && e.date.isSame(e.oldDate)) || (!e.date && !e.oldDate))) {
                    return;
                }
                element.trigger(e);
            },

            showMode = function (dir) {
                if (!widget) {
                    return;
                }
                if (dir) {
                    currentViewMode = Math.max(minViewModeNumber, Math.min(2, currentViewMode + dir));
                }
                widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();
            },

            fillDow = function () {
                var row = $('<tr>'),
                    currentDate = viewDate.clone().startOf('w');

                if (options.calendarWeeks === true) {
                    row.append($('<th>').addClass('cw').text('#'));
                }

                while (currentDate.isBefore(viewDate.clone().endOf('w'))) {
                    row.append($('<th>').addClass('dow').text(currentDate.format('dd')));
                    currentDate.add(1, 'd');
                }
                widget.find('.datepicker-days thead').append(row);
            },

            isInDisabledDates = function (date) {
                if (!options.disabledDates) {
                    return false;
                }
                return options.disabledDates[date.format('YYYY-MM-DD')] === true;
            },

            isInEnabledDates = function (date) {
                if (!options.enabledDates) {
                    return false;
                }
                return options.enabledDates[date.format('YYYY-MM-DD')] === true;
            },

            isValid = function (targetMoment, granularity) {
                if (!targetMoment.isValid()) {
                    return false;
                }
                if (options.disabledDates && isInDisabledDates(targetMoment)) {
                    return false;
                }
                if (options.enabledDates && isInEnabledDates(targetMoment)) {
                    return true;
                }
                if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {
                    return false;
                }
                if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {
                    return false;
                }
                if (granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {
                    return false;
                }
                return true;
            },

            fillMonths = function () {
                var spans = [],
                    monthsShort = viewDate.clone().startOf('y').hour(12); // hour is changed to avoid DST issues in some browsers
                while (monthsShort.isSame(viewDate, 'y')) {
                    spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));
                    monthsShort.add(1, 'M');
                }
                widget.find('.datepicker-months td').empty().append(spans);
            },

            updateMonths = function () {
                var monthsView = widget.find('.datepicker-months'),
                    monthsViewHeader = monthsView.find('th'),
                    months = monthsView.find('tbody').find('span');

                monthsView.find('.disabled').removeClass('disabled');

                if (!isValid(viewDate.clone().subtract(1, 'y'), 'y')) {
                    monthsViewHeader.eq(0).addClass('disabled');
                }

                monthsViewHeader.eq(1).text(viewDate.year());

                if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {
                    monthsViewHeader.eq(2).addClass('disabled');
                }

                months.removeClass('active');
                if (date.isSame(viewDate, 'y')) {
                    months.eq(date.month()).addClass('active');
                }

                months.each(function (index) {
                    if (!isValid(viewDate.clone().month(index), 'M')) {
                        $(this).addClass('disabled');
                    }
                });
            },

            updateYears = function () {
                var yearsView = widget.find('.datepicker-years'),
                    yearsViewHeader = yearsView.find('th'),
                    startYear = viewDate.clone().subtract(5, 'y'),
                    endYear = viewDate.clone().add(6, 'y'),
                    html = '';

                yearsView.find('.disabled').removeClass('disabled');

                if (options.minDate && options.minDate.isAfter(startYear, 'y')) {
                    yearsViewHeader.eq(0).addClass('disabled');
                }

                yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());

                if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {
                    yearsViewHeader.eq(2).addClass('disabled');
                }

                while (!startYear.isAfter(endYear, 'y')) {
                    html += '<span data-action="selectYear" class="year' + (startYear.isSame(date, 'y') ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '">' + startYear.year() + '</span>';
                    startYear.add(1, 'y');
                }

                yearsView.find('td').html(html);
            },

            fillDate = function () {
                var daysView = widget.find('.datepicker-days'),
                    daysViewHeader = daysView.find('th'),
                    currentDate,
                    html = [],
                    row,
                    clsName;

                if (!hasDate()) {
                    return;
                }

                daysView.find('.disabled').removeClass('disabled');
                daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));

                if (!isValid(viewDate.clone().subtract(1, 'M'), 'M')) {
                    daysViewHeader.eq(0).addClass('disabled');
                }
                if (!isValid(viewDate.clone().add(1, 'M'), 'M')) {
                    daysViewHeader.eq(2).addClass('disabled');
                }

                currentDate = viewDate.clone().startOf('M').startOf('week');

                while (!viewDate.clone().endOf('M').endOf('w').isBefore(currentDate, 'd')) {
                    if (currentDate.weekday() === 0) {
                        row = $('<tr>');
                        if (options.calendarWeeks) {
                            row.append('<td class="cw">' + currentDate.week() + '</td>');
                        }
                        html.push(row);
                    }
                    clsName = '';
                    if (currentDate.isBefore(viewDate, 'M')) {
                        clsName += ' old';
                    }
                    if (currentDate.isAfter(viewDate, 'M')) {
                        clsName += ' new';
                    }
                    if (currentDate.isSame(date, 'd') && !unset) {
                        clsName += ' active';
                    }
                    if (!isValid(currentDate, 'd')) {
                        clsName += ' disabled';
                    }
                    if (currentDate.isSame(moment(), 'd')) {
                        clsName += ' today';
                    }
                    if (currentDate.day() === 0 || currentDate.day() === 6) {
                        clsName += ' weekend';
                    }
                    row.append('<td data-action="selectDay" class="day' + clsName + '">' + currentDate.date() + '</td>');
                    currentDate.add(1, 'd');
                }

                daysView.find('tbody').empty().append(html);

                updateMonths();

                updateYears();
            },

            fillHours = function () {
                var table = widget.find('.timepicker-hours table'),
                    currentHour = viewDate.clone().startOf('d'),
                    html = [],
                    row = $('<tr>');

                if (viewDate.hour() > 11 && !use24Hours) {
                    currentHour.hour(12);
                }
                while (currentHour.isSame(viewDate, 'd') && (use24Hours || (viewDate.hour() < 12 && currentHour.hour() < 12) || viewDate.hour() > 11)) {
                    if (currentHour.hour() % 4 === 0) {
                        row = $('<tr>');
                        html.push(row);
                    }
                    row.append('<td data-action="selectHour" class="hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');
                    currentHour.add(1, 'h');
                }
                table.empty().append(html);
            },

            fillMinutes = function () {
                var table = widget.find('.timepicker-minutes table'),
                    currentMinute = viewDate.clone().startOf('h'),
                    html = [],
                    row = $('<tr>'),
                    step = options.stepping === 1 ? 5 : options.stepping;

                while (viewDate.isSame(currentMinute, 'h')) {
                    if (currentMinute.minute() % (step * 4) === 0) {
                        row = $('<tr>');
                        html.push(row);
                    }
                    row.append('<td data-action="selectMinute" class="minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '">' + currentMinute.format('mm') + '</td>');
                    currentMinute.add(step, 'm');
                }
                table.empty().append(html);
            },

            fillSeconds = function () {
                var table = widget.find('.timepicker-seconds table'),
                    currentSecond = viewDate.clone().startOf('m'),
                    html = [],
                    row = $('<tr>');

                while (viewDate.isSame(currentSecond, 'm')) {
                    if (currentSecond.second() % 20 === 0) {
                        row = $('<tr>');
                        html.push(row);
                    }
                    row.append('<td data-action="selectSecond" class="second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '">' + currentSecond.format('ss') + '</td>');
                    currentSecond.add(5, 's');
                }

                table.empty().append(html);
            },

            fillTime = function () {
                var timeComponents = widget.find('.timepicker span[data-time-component]');
                if (!use24Hours) {
                    widget.find('.timepicker [data-action=togglePeriod]').text(date.format('A'));
                }
                timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));
                timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));
                timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));

                fillHours();
                fillMinutes();
                fillSeconds();
            },

            update = function () {
                if (!widget) {
                    return;
                }
                fillDate();
                fillTime();
            },

            setValue = function (targetMoment) {
                var oldDate = unset ? null : date;

                // case of calling setValue(null or false)
                if (!targetMoment) {
                    unset = true;
                    input.val('');
                    element.data('date', '');
                    notifyEvent({
                        type: 'dp.change',
                        date: null,
                        oldDate: oldDate
                    });
                    update();
                    return;
                }

                targetMoment = targetMoment.clone().locale(options.locale);

                if (options.stepping !== 1) {
                    targetMoment.minutes((Math.round(targetMoment.minutes() / options.stepping) * options.stepping) % 60).seconds(0);
                }

                if (isValid(targetMoment)) {
                    date = targetMoment;
                    viewDate = date.clone();
                    input.val(date.format(actualFormat));
                    element.data('date', date.format(actualFormat));
                    update();
                    unset = false;
                    notifyEvent({
                        type: 'dp.change',
                        date: date.clone(),
                        oldDate: oldDate
                    });
                } else {
                    input.val(unset ? '' : date.format(actualFormat));
                    notifyEvent({
                        type: 'dp.error',
                        date: targetMoment
                    });
                }
            },

            hide = function () {
                var transitioning = false;
                if (!widget) {
                    return picker;
                }
                // Ignore event if in the middle of a picker transition
                widget.find('.collapse').each(function () {
                    var collapseData = $(this).data('collapse');
                    if (collapseData && collapseData.transitioning) {
                        transitioning = true;
                        return false;
                    }
                });
                if (transitioning) {
                    return picker;
                }
                if (component && component.hasClass('btn')) {
                    component.toggleClass('active');
                }
                widget.hide();

                $(window).off('resize', place);
                widget.off('click', '[data-action]');
                widget.off('mousedown', false);

                widget.remove();
                widget = false;

                notifyEvent({
                    type: 'dp.hide',
                    date: date.clone()
                });

                $("#dateTimePickerBackdrop").hide();

                return picker;
            },

            /********************************************************************************
             *
             * Widget UI interaction functions
             *
             ********************************************************************************/
            actions = {
                next: function () {
                    viewDate.add(datePickerModes[currentViewMode].navStep, datePickerModes[currentViewMode].navFnc);
                    fillDate();
                },

                previous: function () {
                    viewDate.subtract(datePickerModes[currentViewMode].navStep, datePickerModes[currentViewMode].navFnc);
                    fillDate();
                },

                pickerSwitch: function () {
                    showMode(1);
                },

                selectMonth: function (e) {
                    var month = $(e.target).closest('tbody').find('span').index($(e.target));
                    viewDate.month(month);
                    if (currentViewMode === minViewModeNumber) {
                        setValue(date.clone().year(viewDate.year()).month(viewDate.month()));
                        hide();
                    }
                    showMode(-1);
                    fillDate();
                },

                selectYear: function (e) {
                    var year = parseInt($(e.target).text(), 10) || 0;
                    viewDate.year(year);
                    if (currentViewMode === minViewModeNumber) {
                        setValue(date.clone().year(viewDate.year()));
                        hide();
                    }
                    showMode(-1);
                    fillDate();
                },

                selectDay: function (e) {
                    var day = viewDate.clone();
                    if ($(e.target).is('.old')) {
                        day.subtract(1, 'M');
                    }
                    if ($(e.target).is('.new')) {
                        day.add(1, 'M');
                    }
                    setValue(day.date(parseInt($(e.target).text(), 10)));
                    if (!hasTime() && !options.keepOpen) {
                        hide();
                    }
                },

                incrementHours: function () {
                    setValue(date.clone().add(1, 'h'));
                },

                incrementMinutes: function () {
                    setValue(date.clone().add(options.stepping, 'm'));
                },

                incrementSeconds: function () {
                    setValue(date.clone().add(1, 's'));
                },

                decrementHours: function () {
                    setValue(date.clone().subtract(1, 'h'));
                },

                decrementMinutes: function () {
                    setValue(date.clone().subtract(options.stepping, 'm'));
                },

                decrementSeconds: function () {
                    setValue(date.clone().subtract(1, 's'));
                },

                togglePeriod: function () {
                    setValue(date.clone().add((date.hours() >= 12) ? -12 : 12, 'h'));
                },

                togglePicker: function (e) {
                    var $this = $(e.target),
                        $parent = $this.closest('ul'),
                        expanded = $parent.find('.in'),
                        closed = $parent.find('.collapse:not(.in)'),
                        collapseData;

                    if (expanded && expanded.length) {
                        collapseData = expanded.data('collapse');
                        if (collapseData && collapseData.transitioning) {
                            return;
                        }
                        expanded.collapse('hide');
                        closed.collapse('show');
                        if ($this.is('span')) {
                            $this.toggleClass(options.icons.time + ' ' + options.icons.date);
                        } else {
                            $this.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);
                        }

                        // NOTE: uncomment if toggled state will be restored in show()
                        //if (component) {
                        //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);
                        //}
                    }
                },

                showPicker: function () {
                    widget.find('.timepicker > div:not(.timepicker-picker)').hide();
                    widget.find('.timepicker .timepicker-picker').show();
                },

                showHours: function () {
                    widget.find('.timepicker .timepicker-picker').hide();
                    widget.find('.timepicker .timepicker-hours').show();
                },

                showMinutes: function () {
                    widget.find('.timepicker .timepicker-picker').hide();
                    widget.find('.timepicker .timepicker-minutes').show();
                },

                showSeconds: function () {
                    widget.find('.timepicker .timepicker-picker').hide();
                    widget.find('.timepicker .timepicker-seconds').show();
                },

                selectHour: function (e) {
                    var hour = parseInt($(e.target).text(), 10);

                    if (!use24Hours) {
                        if (date.hours() >= 12) {
                            if (hour !== 12) {
                                hour += 12;
                            }
                        } else {
                            if (hour === 12) {
                                hour = 0;
                            }
                        }
                    }
                    setValue(date.clone().hours(hour));
                    actions.showPicker.call(picker);
                },

                selectMinute: function (e) {
                    setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));
                    actions.showPicker.call(picker);
                },

                selectSecond: function (e) {
                    setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));
                    actions.showPicker.call(picker);
                },

                clear: function () {
                    setValue(null);
                },

                today: function () {
                    setValue(moment());
                }
            },

            doAction = function (e) {
                if ($(e.currentTarget).is('.disabled')) {
                    return false;
                }
                actions[$(e.currentTarget).data('action')].apply(picker, arguments);
                return false;
            },

            show = function () {
                var currentMoment,
                    useCurrentGranularity = {
                        'year': function (m) {
                            return m.month(0).date(1).hours(0).seconds(0).minutes(0);
                        },
                        'month': function (m) {
                            return m.date(1).hours(0).seconds(0).minutes(0);
                        },
                        'day': function (m) {
                            return m.hours(0).seconds(0).minutes(0);
                        },
                        'hour': function (m) {
                            return m.seconds(0).minutes(0);
                        },
                        'minute': function (m) {
                            return m.seconds(0);
                        }
                    };

                if (input.prop('disabled') || input.prop('readonly') || widget) {
                    return picker;
                }
                if (options.useCurrent && unset) { // && input.val().trim().length !== 0) { this broke the jasmine test
                    currentMoment = moment();
                    if (typeof options.useCurrent === 'string') {
                        currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);
                    }
                    setValue(currentMoment);
                }

                widget = getTemplate();

                fillDow();
                fillMonths();

                widget.find('.timepicker-hours').hide();
                widget.find('.timepicker-minutes').hide();
                widget.find('.timepicker-seconds').hide();

                update();
                showMode();

                $(window).on('resize', place);
                widget.on('click', '[data-action]', doAction); // this handles clicks on the widget
                widget.on('mousedown', false);

                if (component && component.hasClass('btn')) {
                    component.toggleClass('active');
                }
                widget.show();
                place();

                if (!input.is(':focus')) {
                    //input.focus();
                }

                notifyEvent({
                    type: 'dp.show'
                });

                $("#dateTimePickerBackdrop").show();

                return picker;
            },

            toggle = function () {
                return (widget ? hide() : show());
            },

            parseInputDate = function (date) {
                if (moment.isMoment(date) || date instanceof Date) {
                    date = moment(date);
                } else {
                    date = moment(date, parseFormats, options.useStrict);
                }
                date.locale(options.locale);
                return date;
            },

            keydown = function (e) {
                if (e.keyCode === 27) { // allow escape to hide picker
                    hide();
                }
            },

            change = function (e) {
                var val = $(e.target).val().trim(),
                    parsedDate = val ? parseInputDate(val) : null;
                setValue(parsedDate);
                e.stopImmediatePropagation();
                return false;
            },

            attachDatePickerElementEvents = function () {
                input.on({
                    'change': change,
                    'blur': hide,
                    'keydown': keydown
                });

                $("#dateTimeBack").on({
                    "click": hide
                });

                if (element.is('input')) {
                    input.on({
                        'focus': show
                    });
                } else if (component) {
                    component.on('click', toggle);
                    component.on('mousedown', false);
                }
            },

            detachDatePickerElementEvents = function () {
                input.off({
                    'change': change,
                    'blur': hide,
                    'keydown': keydown
                });

                $("#dateTimeBack").off({
                    "click": hide
                });

                if (element.is('input')) {
                    input.off({
                        'focus': show
                    });
                } else if (component) {
                    component.off('click', toggle);
                    component.off('mousedown', false);
                }
            },

            indexGivenDates = function (givenDatesArray) {
                // Store given enabledDates and disabledDates as keys.
                // This way we can check their existence in O(1) time instead of looping through whole array.
                // (for example: options.enabledDates['2014-02-27'] === true)
                var givenDatesIndexed = {};
                $.each(givenDatesArray, function () {
                    var dDate = parseInputDate(this);
                    if (dDate.isValid()) {
                        givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;
                    }
                });
                return (Object.keys(givenDatesIndexed).length) ? givenDatesIndexed : false;
            },

            initFormatting = function () {
                var format = options.format || 'L LT';

                actualFormat = format.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (input) {
                    return date.localeData().longDateFormat(input) || input;
                });

                parseFormats = options.extraFormats ? options.extraFormats.slice() : [];
                if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {
                    parseFormats.push(actualFormat);
                }

                use24Hours = (actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.indexOf('h') < 1);

                if (isEnabled('y')) {
                    minViewModeNumber = 2;
                }
                if (isEnabled('M')) {
                    minViewModeNumber = 1;
                }
                if (isEnabled('d')) {
                    minViewModeNumber = 0;
                }

                currentViewMode = Math.max(minViewModeNumber, currentViewMode);

                if (!unset) {
                    setValue(date);
                }
            };

        /********************************************************************************
         *
         * Public API functions
         * =====================
         *
         * Important: Do not expose direct references to private objects or the options
         * object to the outer world. Always return a clone when returning values or make
         * a clone when setting a private variable.
         *
         ********************************************************************************/
        picker.destroy = function () {
            hide();
            detachDatePickerElementEvents();
            element.removeData('DateTimePicker');
            element.removeData('date');
        };

        picker.toggle = toggle;

        picker.show = show;

        picker.hide = hide;

        picker.disable = function () {
            hide();
            if (component && component.hasClass('btn')) {
                component.addClass('disabled');
            }
            input.prop('disabled', true);
            return picker;
        };

        picker.enable = function () {
            if (component && component.hasClass('btn')) {
                component.removeClass('disabled');
            }
            input.prop('disabled', false);
            return picker;
        };

        picker.options = function (newOptions) {
            if (arguments.length === 0) {
                return $.extend(true, {}, options);
            }

            if (!(newOptions instanceof Object)) {
                throw new TypeError('options() options parameter should be an object');
            }
            $.extend(true, options, newOptions);
            $.each(options, function (key, value) {
                if (picker[key] !== undefined) {
                    picker[key](value);
                } else {
                    throw new TypeError('option ' + key + ' is not recognized!');
                }
            });
            return picker;
        };

        picker.date = function (newDate) {
            if (arguments.length === 0) {
                if (unset) {
                    return null;
                }
                return date.clone();
            }

            if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {
                throw new TypeError('date() parameter must be one of [null, string, moment or Date]');
            }

            setValue(newDate === null ? null : parseInputDate(newDate));
            return picker;
        };

        picker.format = function (newFormat) {
            if (arguments.length === 0) {
                return options.format;
            }

            if ((typeof newFormat !== 'string') && ((typeof newFormat !== 'boolean') || (newFormat !== false))) {
                throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);
            }

            options.format = newFormat;
            if (actualFormat) {
                initFormatting(); // reinit formatting
            }
            return picker;
        };

        picker.dayViewHeaderFormat = function (newFormat) {
            if (arguments.length === 0) {
                return options.dayViewHeaderFormat;
            }

            if (typeof newFormat !== 'string') {
                throw new TypeError('dayViewHeaderFormat() expects a string parameter');
            }

            options.dayViewHeaderFormat = newFormat;
            return picker;
        };

        picker.extraFormats = function (formats) {
            if (arguments.length === 0) {
                return options.extraFormats;
            }

            if (formats !== false && !(formats instanceof Array)) {
                throw new TypeError('extraFormats() expects an array or false parameter');
            }

            options.extraFormats = formats;
            if (parseFormats) {
                initFormatting(); // reinit formatting
            }
            return picker;
        };

        picker.disabledDates = function (dates) {
            if (arguments.length === 0) {
                return (options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates);
            }

            if (!dates) {
                options.disabledDates = false;
                update();
                return picker;
            }
            if (!(dates instanceof Array)) {
                throw new TypeError('disabledDates() expects an array parameter');
            }
            options.disabledDates = indexGivenDates(dates);
            options.enabledDates = false;
            update();
            return picker;
        };

        picker.enabledDates = function (dates) {
            if (arguments.length === 0) {
                return (options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates);
            }

            if (!dates) {
                options.enabledDates = false;
                update();
                return picker;
            }
            if (!(dates instanceof Array)) {
                throw new TypeError('enabledDates() expects an array parameter');
            }
            options.enabledDates = indexGivenDates(dates);
            options.disabledDates = false;
            update();
            return picker;
        };

        picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {
            if (arguments.length === 0) {
                return options.daysOfWeekDisabled.splice(0);
            }

            if (!(daysOfWeekDisabled instanceof Array)) {
                throw new TypeError('daysOfWeekDisabled() expects an array parameter');
            }
            options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {
                currentValue = parseInt(currentValue, 10);
                if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {
                    return previousValue;
                }
                if (previousValue.indexOf(currentValue) === -1) {
                    previousValue.push(currentValue);
                }
                return previousValue;
            }, []).sort();
            update();
            return picker;
        };

        picker.maxDate = function (date) {
            if (arguments.length === 0) {
                return options.maxDate ? options.maxDate.clone() : options.maxDate;
            }

            if ((typeof date === 'boolean') && date === false) {
                options.maxDate = false;
                update();
                return picker;
            }

            var parsedDate = parseInputDate(date);

            if (!parsedDate.isValid()) {
                throw new TypeError('maxDate() Could not parse date parameter: ' + date);
            }
            if (options.minDate && parsedDate.isBefore(options.minDate)) {
                throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));
            }
            options.maxDate = parsedDate;
            if (options.maxDate.isBefore(date)) {
                setValue(options.maxDate);
            }
            update();
            return picker;
        };

        picker.minDate = function (date) {
            if (arguments.length === 0) {
                return options.minDate ? options.minDate.clone() : options.minDate;
            }

            if ((typeof date === 'boolean') && date === false) {
                options.minDate = false;
                update();
                return picker;
            }

            var parsedDate = parseInputDate(date);

            if (!parsedDate.isValid()) {
                throw new TypeError('minDate() Could not parse date parameter: ' + date);
            }
            if (options.maxDate && parsedDate.isAfter(options.maxDate)) {
                throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));
            }
            options.minDate = parsedDate;
            if (options.minDate.isAfter(date)) {
                setValue(options.minDate);
            }
            update();
            return picker;
        };

        picker.defaultDate = function (defaultDate) {
            if (arguments.length === 0) {
                return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;
            }
            if (!defaultDate) {
                options.defaultDate = false;
                return picker;
            }
            var parsedDate = parseInputDate(defaultDate);
            if (!parsedDate.isValid()) {
                throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);
            }
            if (!isValid(parsedDate)) {
                throw new TypeError('defaultDate() date passed is invalid according to component setup validations');
            }

            options.defaultDate = parsedDate;

            if (options.defaultDate && input.val().trim() === '') {
                setValue(options.defaultDate);
            }
            return picker;
        };

        picker.locale = function (locale) {
            if (arguments.length === 0) {
                return options.locale;
            }

            if (!moment.localeData(locale)) {
                throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');
            }

            options.locale = locale;
            date.locale(options.locale);
            viewDate.locale(options.locale);

            if (actualFormat) {
                initFormatting(); // reinit formatting
            }
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.stepping = function (stepping) {
            if (arguments.length === 0) {
                return options.stepping;
            }

            stepping = parseInt(stepping, 10);
            if (isNaN(stepping) || stepping < 1) {
                stepping = 1;
            }
            options.stepping = stepping;
            return picker;
        };

        picker.useCurrent = function (useCurrent) {
            var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];
            if (arguments.length === 0) {
                return options.useCurrent;
            }

            if ((typeof useCurrent !== 'boolean') && (typeof useCurrent !== 'string')) {
                throw new TypeError('useCurrent() expects a boolean or string parameter');
            }
            if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {
                throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));
            }
            options.useCurrent = useCurrent;
            return picker;
        };

        picker.collapse = function (collapse) {
            if (arguments.length === 0) {
                return options.collapse;
            }

            if (typeof collapse !== 'boolean') {
                throw new TypeError('collapse() expects a boolean parameter');
            }
            if (options.collapse === collapse) {
                return picker;
            }
            options.collapse = collapse;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.icons = function (icons) {
            if (arguments.length === 0) {
                return $.extend({}, options.icons);
            }

            if (!(icons instanceof Object)) {
                throw new TypeError('icons() expects parameter to be an Object');
            }
            $.extend(options.icons, icons);
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.useStrict = function (useStrict) {
            if (arguments.length === 0) {
                return options.useStrict;
            }

            if (typeof useStrict !== 'boolean') {
                throw new TypeError('useStrict() expects a boolean parameter');
            }
            options.useStrict = useStrict;
            return picker;
        };

        picker.sideBySide = function (sideBySide) {
            if (arguments.length === 0) {
                return options.sideBySide;
            }

            if (typeof sideBySide !== 'boolean') {
                throw new TypeError('sideBySide() expects a boolean parameter');
            }
            options.sideBySide = sideBySide;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.viewMode = function (newViewMode) {
            if (arguments.length === 0) {
                return options.viewMode;
            }

            if (typeof newViewMode !== 'string') {
                throw new TypeError('viewMode() expects a string parameter');
            }

            if (viewModes.indexOf(newViewMode) === -1) {
                throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');
            }

            options.viewMode = newViewMode;
            currentViewMode = Math.max(viewModes.indexOf(newViewMode), minViewModeNumber);

            showMode();
            return picker;
        };

        picker.toolbarPlacement = function (toolbarPlacement) {
            if (arguments.length === 0) {
                return options.toolbarPlacement;
            }

            if (typeof toolbarPlacement !== 'string') {
                throw new TypeError('toolbarPlacement() expects a string parameter');
            }
            if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {
                throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');
            }
            options.toolbarPlacement = toolbarPlacement;

            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.widgetPositioning = function (widgetPositioning) {
            if (arguments.length === 0) {
                return $.extend({}, options.widgetPositioning);
            }

            if (({}).toString.call(widgetPositioning) !== '[object Object]') {
                throw new TypeError('widgetPositioning() expects an object variable');
            }
            if (widgetPositioning.horizontal) {
                if (typeof widgetPositioning.horizontal !== 'string') {
                    throw new TypeError('widgetPositioning() horizontal variable must be a string');
                }
                widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();
                if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {
                    throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');
                }
                options.widgetPositioning.horizontal = widgetPositioning.horizontal;
            }
            if (widgetPositioning.vertical) {
                if (typeof widgetPositioning.vertical !== 'string') {
                    throw new TypeError('widgetPositioning() vertical variable must be a string');
                }
                widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();
                if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {
                    throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');
                }
                options.widgetPositioning.vertical = widgetPositioning.vertical;
            }
            update();
            return picker;
        };

        picker.calendarWeeks = function (showCalendarWeeks) {
            if (arguments.length === 0) {
                return options.calendarWeeks;
            }

            if (typeof showCalendarWeeks !== 'boolean') {
                throw new TypeError('calendarWeeks() expects parameter to be a boolean value');
            }

            options.calendarWeeks = showCalendarWeeks;
            update();
            return picker;
        };

        picker.showTodayButton = function (showTodayButton) {
            if (arguments.length === 0) {
                return options.showTodayButton;
            }

            if (typeof showTodayButton !== 'boolean') {
                throw new TypeError('showTodayButton() expects a boolean parameter');
            }

            options.showTodayButton = showTodayButton;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.showClear = function (showClear) {
            if (arguments.length === 0) {
                return options.showClear;
            }

            if (typeof showClear !== 'boolean') {
                throw new TypeError('showClear() expects a boolean parameter');
            }

            options.showClear = showClear;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.widgetParent = function (widgetParent) {
            if (arguments.length === 0) {
                return options.widgetParent;
            }

            if (typeof widgetParent === 'string') {
                widgetParent = $(widgetParent);
            }

            if (widgetParent !== null && (typeof widgetParent !== 'string' && !(widgetParent instanceof $))) {
                throw new TypeError('widgetParent() expects a string or a jQuery object parameter');
            }

            options.widgetParent = widgetParent;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.keepOpen = function (keepOpen) {
            if (arguments.length === 0) {
                return options.format;
            }

            if (typeof keepOpen !== 'boolean') {
                throw new TypeError('keepOpen() expects a boolean parameter');
            }

            options.keepOpen = keepOpen;
            return picker;
        };

        // initializing element and component attributes
        if (element.is('input')) {
            input = element;
        } else {
            input = element.find('.datepickerinput');
            if (input.size() === 0) {
                input = element.find('input');
            } else if (!input.is('input')) {
                throw new Error('CSS class "datepickerinput" cannot be applied to non input element');
            }
        }

        if (element.hasClass('input-group')) {
            // in case there is more then one 'input-group-addon' Issue #48
            if (element.find('.datepickerbutton').size() === 0) {
                component = element.find('[class^="input-group-"]');
            } else {
                component = element.find('.datepickerbutton');
            }
        }

        if (!input.is('input')) {
            throw new Error('Could not initialize DateTimePicker without an input element');
        }

        $.extend(true, options, dataToOptions());

        picker.options(options);

        initFormatting();

        attachDatePickerElementEvents();

        if (input.prop('disabled')) {
            picker.disable();
        }

        if (input.val().trim().length !== 0) {
            setValue(parseInputDate(input.val().trim()));
        } else if (options.defaultDate) {
            setValue(options.defaultDate);
        }

        return picker;
    };

    /********************************************************************************
     *
     * jQuery plugin constructor and defaults object
     *
     ********************************************************************************/

    $.fn.datetimepicker = function (options) {
        return this.each(function () {
            var $this = $(this);
            if (!$this.data('DateTimePicker')) {
                // create a private copy of the defaults object
                options = $.extend(true, {}, $.fn.datetimepicker.defaults, options);
                $this.data('DateTimePicker', dateTimePicker($this, options));
            }
        });
    };

    $.fn.datetimepicker.defaults = {
        format: false,
        dayViewHeaderFormat: 'MMMM YYYY',
        extraFormats: false,
        stepping: 1,
        minDate: false,
        maxDate: false,
        useCurrent: true,
        collapse: true,
        locale: moment.locale(),
        defaultDate: false,
        disabledDates: false,
        enabledDates: false,
        icons: {
            time: 'glyphicon glyphicon-time',
            date: 'icon-calender',
            up: 'glyphicon glyphicon-chevron-up',
            down: 'glyphicon glyphicon-chevron-down',
            previous: 'glyphicon glyphicon-chevron-left',
            next: 'glyphicon glyphicon-chevron-right',
            today: 'glyphicon glyphicon-screenshot',
            clear: 'glyphicon glyphicon-trash'
        },
        useStrict: false,
        sideBySide: false,
        daysOfWeekDisabled: [],
        calendarWeeks: false,
        viewMode: 'days',
        toolbarPlacement: 'default',
        showTodayButton: false,
        showClear: false,
        widgetPositioning: {
            horizontal: 'auto',
            vertical: 'auto'
        },
        widgetParent: null,
        keepOpen: false
    };
}));
},{"./jquery":57,"./moment":60}],24:[function(require,module,exports){
/*! DataTables Bootstrap 3 integration
 * 2011-2014 SpryMedia Ltd - datatables.net/license
 */

/**
 * DataTables integration for Bootstrap 3. This requires Bootstrap 3 and
 * DataTables 1.10 or newer.
 *
 * This file sets the defaults and adds options to DataTables to style its
 * controls using Bootstrap. See http://datatables.net/manual/styling/bootstrap
 * for further information.
 */
(function(window, document, undefined){

    var factory = function( $, DataTable ) {
        "use strict";


        /* Set the defaults for DataTables initialisation */
        $.extend( true, DataTable.defaults, {
            dom:
            "<'row'<'col-sm-6'l><'col-sm-6'f>>" +
            "<'row'<'col-sm-12'tr>>" +
            "<'row'<'col-sm-6'i><'col-sm-6'p>>",
            renderer: 'bootstrap'
        } );


        /* Default class modification */
        $.extend( DataTable.ext.classes, {
            sWrapper:      "dataTables_wrapper form-inline dt-bootstrap",
            sFilterInput:  "form-control input-sm",
            sLengthSelect: "form-control input-sm"
        } );


        /* Bootstrap paging button renderer */
        DataTable.ext.renderer.pageButton.bootstrap = function ( settings, host, idx, buttons, page, pages ) {
            var api     = new DataTable.Api( settings );
            var classes = settings.oClasses;
            var lang    = settings.oLanguage.oPaginate;
            var btnDisplay, btnClass;

            var attach = function( container, buttons ) {
                var i, ien, node, button;
                var clickHandler = function ( e ) {
                    e.preventDefault();
                    if ( !$(e.currentTarget).hasClass('disabled') ) {
                        api.page( e.data.action ).draw( false );
                    }
                };

                for ( i=0, ien=buttons.length ; i<ien ; i++ ) {
                    button = buttons[i];

                    if ( $.isArray( button ) ) {
                        attach( container, button );
                    }
                    else {
                        btnDisplay = '';
                        btnClass = '';

                        switch ( button ) {
                            case 'ellipsis':
                                btnDisplay = '&hellip;';
                                btnClass = 'disabled';
                                break;

                            case 'first':
                                btnDisplay = lang.sFirst;
                                btnClass = button + (page > 0 ?
                                    '' : ' disabled');
                                break;

                            case 'previous':
                                btnDisplay = lang.sPrevious;
                                btnClass = button + (page > 0 ?
                                    '' : ' disabled');
                                break;

                            case 'next':
                                btnDisplay = lang.sNext;
                                btnClass = button + (page < pages-1 ?
                                    '' : ' disabled');
                                break;

                            case 'last':
                                btnDisplay = lang.sLast;
                                btnClass = button + (page < pages-1 ?
                                    '' : ' disabled');
                                break;

                            default:
                                btnDisplay = button + 1;
                                btnClass = page === button ?
                                    'active' : '';
                                break;
                        }

                        if ( btnDisplay ) {
                            node = $('<li>', {
                                'class': classes.sPageButton+' '+btnClass,
                                'aria-controls': settings.sTableId,
                                'tabindex': settings.iTabIndex,
                                'id': idx === 0 && typeof button === 'string' ?
                                settings.sTableId +'_'+ button :
                                    null
                            } )
                                .append( $('<a>', {
                                    'href': '#'
                                } )
                                    .html( btnDisplay )
                            )
                                .appendTo( container );

                            settings.oApi._fnBindAction(
                                node, {action: button}, clickHandler
                            );
                        }
                    }
                }
            };

            attach(
                $(host).empty().html('<ul class="pagination"/>').children('ul'),
                buttons
            );
        };


        /*
         * TableTools Bootstrap compatibility
         * Required TableTools 2.1+
         */
        if ( DataTable.TableTools ) {
            // Set the classes that TableTools uses to something suitable for Bootstrap
            $.extend( true, DataTable.TableTools.classes, {
                "container": "DTTT btn-group",
                "buttons": {
                    "normal": "btn btn-default",
                    "disabled": "disabled"
                },
                "collection": {
                    "container": "DTTT_dropdown dropdown-menu",
                    "buttons": {
                        "normal": "",
                        "disabled": "disabled"
                    }
                },
                "print": {
                    "info": "DTTT_print_info"
                },
                "select": {
                    "row": "active"
                }
            } );

            // Have the collection use a bootstrap compatible drop down
            $.extend( true, DataTable.TableTools.DEFAULTS.oTags, {
                "collection": {
                    "container": "ul",
                    "button": "li",
                    "liner": "a"
                }
            } );
        }

    }; // /factory


// Define as an AMD module if possible
    if ( typeof define === 'function' && define.amd ) {
        define( ['jquery', 'datatables'], factory );
    }
    else if ( typeof exports === 'object' ) {
        // Node/CommonJS
        factory( require('./jquery'), require('./jquery.dataTables.js') );
    }
    else if ( jQuery ) {
        // Otherwise simply initialise as normal, stopping multiple evaluation
        factory( jQuery, jQuery.fn.dataTable );
    }


})(window, document);

},{"./jquery":57,"./jquery.dataTables.js":56}],25:[function(require,module,exports){
/*! Responsive 1.0.4
 * 2014 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     Responsive
 * @description Responsive tables plug-in for DataTables
 * @version     1.0.4
 * @file        dataTables.responsive.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2014 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

(function(window, document, undefined) {


    var factory = function( $, DataTable ) {
        "use strict";

        /**
         * Responsive is a plug-in for the DataTables library that makes use of
         * DataTables' ability to change the visibility of columns, changing the
         * visibility of columns so the displayed columns fit into the table container.
         * The end result is that complex tables will be dynamically adjusted to fit
         * into the viewport, be it on a desktop, tablet or mobile browser.
         *
         * Responsive for DataTables has two modes of operation, which can used
         * individually or combined:
         *
         * * Class name based control - columns assigned class names that match the
         *   breakpoint logic can be shown / hidden as required for each breakpoint.
         * * Automatic control - columns are automatically hidden when there is no
         *   room left to display them. Columns removed from the right.
         *
         * In additional to column visibility control, Responsive also has built into
         * options to use DataTables' child row display to show / hide the information
         * from the table that has been hidden. There are also two modes of operation
         * for this child row display:
         *
         * * Inline - when the control element that the user can use to show / hide
         *   child rows is displayed inside the first column of the table.
         * * Column - where a whole column is dedicated to be the show / hide control.
         *
         * Initialisation of Responsive is performed by:
         *
         * * Adding the class `responsive` or `dt-responsive` to the table. In this case
         *   Responsive will automatically be initialised with the default configuration
         *   options when the DataTable is created.
         * * Using the `responsive` option in the DataTables configuration options. This
         *   can also be used to specify the configuration options, or simply set to
         *   `true` to use the defaults.
         *
         *  @class
         *  @param {object} settings DataTables settings object for the host table
         *  @param {object} [opts] Configuration options
         *  @requires jQuery 1.7+
         *  @requires DataTables 1.10.1+
         *
         *  @example
         *      $('#example').DataTable( {
 *        responsive: true
 *      } );
         *    } );
         */
        var Responsive = function ( settings, opts ) {
            // Sanity check that we are using DataTables 1.10 or newer
            if ( ! DataTable.versionCheck || ! DataTable.versionCheck( '1.10.1' ) ) {
                throw 'DataTables Responsive requires DataTables 1.10.1 or newer';
            }

            this.s = {
                dt: new DataTable.Api( settings ),
                columns: []
            };

            // Check if responsive has already been initialised on this table
            if ( this.s.dt.settings()[0].responsive ) {
                return;
            }

            // details is an object, but for simplicity the user can give it as a string
            if ( opts && typeof opts.details === 'string' ) {
                opts.details = { type: opts.details };
            }

            this.c = $.extend( true, {}, Responsive.defaults, DataTable.defaults.responsive, opts );
            settings.responsive = this;
            this._constructor();
        };

        Responsive.prototype = {
            /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
             * Constructor
             */

            /**
             * Initialise the Responsive instance
             *
             * @private
             */
            _constructor: function ()
            {
                var that = this;
                var dt = this.s.dt;

                dt.settings()[0]._responsive = this;

                // Use DataTables' private throttle function to avoid processor thrashing
                $(window).on( 'resize.dtr orientationchange.dtr', dt.settings()[0].oApi._fnThrottle( function () {
                    that._resize();
                } ) );

                // Destroy event handler
                dt.on( 'destroy.dtr', function () {
                    $(window).off( 'resize.dtr orientationchange.dtr draw.dtr' );
                } );

                // Reorder the breakpoints array here in case they have been added out
                // of order
                this.c.breakpoints.sort( function (a, b) {
                    return a.width < b.width ? 1 :
                        a.width > b.width ? -1 : 0;
                } );

                // Determine which columns are already hidden, and should therefore
                // remain hidden. TODO - should this be done? See thread 22677
                //
                // this.s.alwaysHidden = dt.columns(':hidden').indexes();

                this._classLogic();
                this._resizeAuto();

                // First pass - draw the table for the current viewport size
                this._resize();

                // Details handler
                var details = this.c.details;
                if ( details.type ) {
                    that._detailsInit();
                    this._detailsVis();

                    dt.on( 'column-visibility.dtr', function () {
                        that._detailsVis();
                    } );

                    // Redraw the details box on each draw. This is used until
                    // DataTables implements a native `updated` event for rows
                    dt.on( 'draw.dtr', function () {
                        dt.rows().iterator( 'row', function ( settings, idx ) {
                            var row = dt.row( idx );

                            if ( row.child.isShown() ) {
                                var info = that.c.details.renderer( dt, idx );
                                row.child( info, 'child' ).show();
                            }
                        } );
                    } );

                    $(dt.table().node()).addClass( 'dtr-'+details.type );
                }
            },


            /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
             * Private methods
             */

            /**
             * Calculate the visibility for the columns in a table for a given
             * breakpoint. The result is pre-determined based on the class logic if
             * class names are used to control all columns, but the width of the table
             * is also used if there are columns which are to be automatically shown
             * and hidden.
             *
             * @param  {string} breakpoint Breakpoint name to use for the calculation
             * @return {array} Array of boolean values initiating the visibility of each
             *   column.
             *  @private
             */
            _columnsVisiblity: function ( breakpoint )
            {
                var dt = this.s.dt;
                var columns = this.s.columns;
                var i, ien;

                // Class logic - determine which columns are in this breakpoint based
                // on the classes. If no class control (i.e. `auto`) then `-` is used
                // to indicate this to the rest of the function
                var display = $.map( columns, function ( col ) {
                    return col.auto && col.minWidth === null ?
                        false :
                        col.auto === true ?
                            '-' :
                        $.inArray( breakpoint, col.includeIn ) !== -1;
                } );

                // Auto column control - first pass: how much width is taken by the
                // ones that must be included from the non-auto columns
                var requiredWidth = 0;
                for ( i=0, ien=display.length ; i<ien ; i++ ) {
                    if ( display[i] === true ) {
                        requiredWidth += columns[i].minWidth;
                    }
                }

                // Second pass, use up any remaining width for other columns
                var widthAvailable = dt.table().container().offsetWidth;
                var usedWidth = widthAvailable - requiredWidth;

                // Control column needs to always be included. This makes it sub-
                // optimal in terms of using the available with, but to stop layout
                // thrashing or overflow. Also we need to account for the control column
                // width first so we know how much width is available for the other
                // columns, since the control column might not be the first one shown
                for ( i=0, ien=display.length ; i<ien ; i++ ) {
                    if ( columns[i].control ) {
                        usedWidth -= columns[i].minWidth;
                    }
                }

                // Allow columns to be shown (counting from the left) until we run out
                // of room
                for ( i=0, ien=display.length ; i<ien ; i++ ) {
                    if ( display[i] === '-' && ! columns[i].control ) {
                        display[i] = usedWidth - columns[i].minWidth < 0 ?
                            false :
                            true;

                        usedWidth -= columns[i].minWidth;
                    }
                }

                // Determine if the 'control' column should be shown (if there is one).
                // This is the case when there is a hidden column (that is not the
                // control column). The two loops look inefficient here, but they are
                // trivial and will fly through. We need to know the outcome from the
                // first , before the action in the second can be taken
                var showControl = false;

                for ( i=0, ien=columns.length ; i<ien ; i++ ) {
                    if ( ! columns[i].control && ! columns[i].never && ! display[i] ) {
                        showControl = true;
                        break;
                    }
                }

                for ( i=0, ien=columns.length ; i<ien ; i++ ) {
                    if ( columns[i].control ) {
                        display[i] = showControl;
                    }
                }

                // Finally we need to make sure that there is at least one column that
                // is visible
                if ( $.inArray( true, display ) === -1 ) {
                    display[0] = true;
                }

                return display;
            },


            /**
             * Create the internal `columns` array with information about the columns
             * for the table. This includes determining which breakpoints the column
             * will appear in, based upon class names in the column, which makes up the
             * vast majority of this method.
             *
             * @private
             */
            _classLogic: function ()
            {
                var that = this;
                var calc = {};
                var breakpoints = this.c.breakpoints;
                var columns = this.s.dt.columns().eq(0).map( function (i) {
                    var className = this.column(i).header().className;

                    return {
                        className: className,
                        includeIn: [],
                        auto:      false,
                        control:   false,
                        never:     className.match(/\bnever\b/) ? true : false
                    };
                } );

                // Simply add a breakpoint to `includeIn` array, ensuring that there are
                // no duplicates
                var add = function ( colIdx, name ) {
                    var includeIn = columns[ colIdx ].includeIn;

                    if ( $.inArray( name, includeIn ) === -1 ) {
                        includeIn.push( name );
                    }
                };

                var column = function ( colIdx, name, operator, matched ) {
                    var size, i, ien;

                    if ( ! operator ) {
                        columns[ colIdx ].includeIn.push( name );
                    }
                    else if ( operator === 'max-' ) {
                        // Add this breakpoint and all smaller
                        size = that._find( name ).width;

                        for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
                            if ( breakpoints[i].width <= size ) {
                                add( colIdx, breakpoints[i].name );
                            }
                        }
                    }
                    else if ( operator === 'min-' ) {
                        // Add this breakpoint and all larger
                        size = that._find( name ).width;

                        for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
                            if ( breakpoints[i].width >= size ) {
                                add( colIdx, breakpoints[i].name );
                            }
                        }
                    }
                    else if ( operator === 'not-' ) {
                        // Add all but this breakpoint (xxx need extra information)

                        for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
                            if ( breakpoints[i].name.indexOf( matched ) === -1 ) {
                                add( colIdx, breakpoints[i].name );
                            }
                        }
                    }
                };

                // Loop over each column and determine if it has a responsive control
                // class
                columns.each( function ( col, i ) {
                    var classNames = col.className.split(' ');
                    var hasClass = false;

                    // Split the class name up so multiple rules can be applied if needed
                    for ( var k=0, ken=classNames.length ; k<ken ; k++ ) {
                        var className = $.trim( classNames[k] );

                        if ( className === 'all' ) {
                            // Include in all
                            hasClass = true;
                            col.includeIn = $.map( breakpoints, function (a) {
                                return a.name;
                            } );
                            return;
                        }
                        else if ( className === 'none' || className === 'never' ) {
                            // Include in none (default) and no auto
                            hasClass = true;
                            return;
                        }
                        else if ( className === 'control' ) {
                            // Special column that is only visible, when one of the other
                            // columns is hidden. This is used for the details control
                            hasClass = true;
                            col.control = true;
                            return;
                        }

                        $.each( breakpoints, function ( j, breakpoint ) {
                            // Does this column have a class that matches this breakpoint?
                            var brokenPoint = breakpoint.name.split('-');
                            var re = new RegExp( '(min\\-|max\\-|not\\-)?('+brokenPoint[0]+')(\\-[_a-zA-Z0-9])?' );
                            var match = className.match( re );

                            if ( match ) {
                                hasClass = true;

                                if ( match[2] === brokenPoint[0] && match[3] === '-'+brokenPoint[1] ) {
                                    // Class name matches breakpoint name fully
                                    column( i, breakpoint.name, match[1], match[2]+match[3] );
                                }
                                else if ( match[2] === brokenPoint[0] && ! match[3] ) {
                                    // Class name matched primary breakpoint name with no qualifier
                                    column( i, breakpoint.name, match[1], match[2] );
                                }
                            }
                        } );
                    }

                    // If there was no control class, then automatic sizing is used
                    if ( ! hasClass ) {
                        col.auto = true;
                    }
                } );

                this.s.columns = columns;
            },


            /**
             * Initialisation for the details handler
             *
             * @private
             */
            _detailsInit: function ()
            {
                var that    = this;
                var dt      = this.s.dt;
                var details = this.c.details;

                // The inline type always uses the first child as the target
                if ( details.type === 'inline' ) {
                    details.target = 'td:first-child';
                }

                // type.target can be a string jQuery selector or a column index
                var target   = details.target;
                var selector = typeof target === 'string' ? target : 'td';

                // Click handler to show / hide the details rows when they are available
                $( dt.table().body() ).on( 'click', selector, function (e) {
                    // If the table is not collapsed (i.e. there is no hidden columns)
                    // then take no action
                    if ( ! $(dt.table().node()).hasClass('collapsed' ) ) {
                        return;
                    }

                    // Check that the row is actually a DataTable's controlled node
                    if ( ! dt.row( $(this).closest('tr') ).length ) {
                        return;
                    }

                    // For column index, we determine if we should act or not in the
                    // handler - otherwise it is already okay
                    if ( typeof target === 'number' ) {
                        var targetIdx = target < 0 ?
                        dt.columns().eq(0).length + target :
                            target;

                        if ( dt.cell( this ).index().column !== targetIdx ) {
                            return;
                        }
                    }

                    // $().closest() includes itself in its check
                    var row = dt.row( $(this).closest('tr') );

                    if ( row.child.isShown() ) {
                        row.child( false );
                        $( row.node() ).removeClass( 'parent' );
                    }
                    else {
                        var info = that.c.details.renderer( dt, row[0] );
                        row.child( info, 'child' ).show();
                        $( row.node() ).addClass( 'parent' );
                    }
                } );
            },


            /**
             * Update the child rows in the table whenever the column visibility changes
             *
             * @private
             */
            _detailsVis: function ()
            {
                var that = this;
                var dt = this.s.dt;

                // Find how many columns are hidden
                var hiddenColumns = dt.columns().indexes().filter( function ( idx ) {
                    var col = dt.column( idx );

                    if ( col.visible() ) {
                        return null;
                    }

                    // Only counts as hidden if it doesn't have the `never` class
                    return $( col.header() ).hasClass( 'never' ) ? null : idx;
                } );
                var haveHidden = true;

                if ( hiddenColumns.length === 0 || ( hiddenColumns.length === 1 && this.s.columns[ hiddenColumns[0] ].control ) ) {
                    haveHidden = false;
                }

                if ( haveHidden ) {
                    // Got hidden columns
                    $( dt.table().node() ).addClass('collapsed');

                    // Show all existing child rows
                    dt.rows().eq(0).each( function (idx) {
                        var row = dt.row( idx );

                        if ( row.child() ) {
                            var info = that.c.details.renderer( dt, row[0] );

                            // The renderer can return false to have no child row
                            if ( info === false ) {
                                row.child.hide();
                            }
                            else {
                                row.child( info, 'child' ).show();
                            }
                        }
                    } );
                }
                else {
                    // No hidden columns
                    $( dt.table().node() ).removeClass('collapsed');

                    // Hide all existing child rows
                    dt.rows().eq(0).each( function (idx) {
                        dt.row( idx ).child.hide();
                    } );
                }
            },


            /**
             * Find a breakpoint object from a name
             * @param  {string} name Breakpoint name to find
             * @return {object}      Breakpoint description object
             */
            _find: function ( name )
            {
                var breakpoints = this.c.breakpoints;

                for ( var i=0, ien=breakpoints.length ; i<ien ; i++ ) {
                    if ( breakpoints[i].name === name ) {
                        return breakpoints[i];
                    }
                }
            },


            /**
             * Alter the table display for a resized viewport. This involves first
             * determining what breakpoint the window currently is in, getting the
             * column visibilities to apply and then setting them.
             *
             * @private
             */
            _resize: function ()
            {
                var dt = this.s.dt;
                var width = $(window).width();
                var breakpoints = this.c.breakpoints;
                var breakpoint = breakpoints[0].name;

                // Determine what breakpoint we are currently at
                for ( var i=breakpoints.length-1 ; i>=0 ; i-- ) {
                    if ( width <= breakpoints[i].width ) {
                        breakpoint = breakpoints[i].name;
                        break;
                    }
                }

                // Show the columns for that break point
                var columns = this._columnsVisiblity( breakpoint );

                dt.columns().eq(0).each( function ( colIdx, i ) {
                    dt.column( colIdx ).visible( columns[i] );
                } );
            },


            /**
             * Determine the width of each column in the table so the auto column hiding
             * has that information to work with. This method is never going to be 100%
             * perfect since column widths can change slightly per page, but without
             * seriously compromising performance this is quite effective.
             *
             * @private
             */
            _resizeAuto: function ()
            {
                var dt = this.s.dt;
                var columns = this.s.columns;

                // Are we allowed to do auto sizing?
                if ( ! this.c.auto ) {
                    return;
                }

                // Are there any columns that actually need auto-sizing, or do they all
                // have classes defined
                if ( $.inArray( true, $.map( columns, function (c) { return c.auto; } ) ) === -1 ) {
                    return;
                }

                // Clone the table with the current data in it
                var tableWidth   = dt.table().node().offsetWidth;
                var columnWidths = dt.columns;
                var clonedTable  = dt.table().node().cloneNode( false );
                var clonedHeader = $( dt.table().header().cloneNode( false ) ).appendTo( clonedTable );
                var clonedBody   = $( dt.table().body().cloneNode( false ) ).appendTo( clonedTable );

                // This is a bit slow, but we need to get a clone of each row that
                // includes all columns. As such, try to do this as little as possible.
                dt.rows( { page: 'current' } ).indexes().flatten().each( function ( idx ) {
                    var clone = dt.row( idx ).node().cloneNode( true );

                    if ( dt.columns( ':hidden' ).flatten().length ) {
                        $(clone).append( dt.cells( idx, ':hidden' ).nodes().to$().clone() );
                    }

                    $(clone).appendTo( clonedBody );
                } );

                var cells = dt.columns().header().to$().clone( false );
                $('<tr/>')
                    .append( cells )
                    .appendTo( clonedHeader );

                var inserted     = $('<div/>')
                    .css( {
                        width: 1,
                        height: 1,
                        overflow: 'hidden'
                    } )
                    .append( clonedTable )
                    .insertBefore( dt.table().node() );

                // The cloned header now contains the smallest that each column can be
                dt.columns().eq(0).each( function ( idx ) {
                    columns[idx].minWidth = cells[ idx ].offsetWidth || 0;
                } );

                inserted.remove();
            }
        };


        /**
         * List of default breakpoints. Each item in the array is an object with two
         * properties:
         *
         * * `name` - the breakpoint name.
         * * `width` - the breakpoint width
         *
         * @name Responsive.breakpoints
         * @static
         */
        Responsive.breakpoints = [
            { name: 'desktop',  width: Infinity },
            { name: 'tablet-l', width: 1024 },
            { name: 'tablet-p', width: 768 },
            { name: 'mobile-l', width: 480 },
            { name: 'mobile-p', width: 320 }
        ];


        /**
         * Responsive default settings for initialisation
         *
         * @namespace
         * @name Responsive.defaults
         * @static
         */
        Responsive.defaults = {
            /**
             * List of breakpoints for the instance. Note that this means that each
             * instance can have its own breakpoints. Additionally, the breakpoints
             * cannot be changed once an instance has been creased.
             *
             * @type {Array}
             * @default Takes the value of `Responsive.breakpoints`
             */
            breakpoints: Responsive.breakpoints,

            /**
             * Enable / disable auto hiding calculations. It can help to increase
             * performance slightly if you disable this option, but all columns would
             * need to have breakpoint classes assigned to them
             *
             * @type {Boolean}
             * @default  `true`
             */
            auto: true,

            /**
             * Details control. If given as a string value, the `type` property of the
             * default object is set to that value, and the defaults used for the rest
             * of the object - this is for ease of implementation.
             *
             * The object consists of the following properties:
             *
             * * `renderer` - function that is called for display of the child row data.
             *   The default function will show the data from the hidden columns
             * * `target` - Used as the selector for what objects to attach the child
             *   open / close to
             * * `type` - `false` to disable the details display, `inline` or `column`
             *   for the two control types
             *
             * @type {Object|string}
             */
            details: {
                renderer: function ( api, rowIdx ) {
                    var data = api.cells( rowIdx, ':hidden' ).eq(0).map( function ( cell ) {
                        var header = $( api.column( cell.column ).header() );
                        var idx = api.cell( cell ).index();

                        if ( header.hasClass( 'control' ) || header.hasClass( 'never' ) ) {
                            return '';
                        }

                        // Use a non-public DT API method to render the data for display
                        // This needs to be updated when DT adds a suitable method for
                        // this type of data retrieval
                        var dtPrivate = api.settings()[0];
                        var cellData = dtPrivate.oApi._fnGetCellData(
                            dtPrivate, idx.row, idx.column, 'display'
                        );
                        var title = header.text();
                        if ( title ) {
                            title = title + ':';
                        }

                        return '<li data-dtr-index="'+idx.column+'">'+
                            '<span class="dtr-title">'+
                            title+
                            '</span> '+
                            '<span class="dtr-data">'+
                            cellData+
                            '</span>'+
                            '</li>';
                    } ).toArray().join('');

                    return data ?
                        $('<ul data-dtr-index="'+rowIdx+'"/>').append( data ) :
                        false;
                },

                target: 0,

                type: 'inline'
            }
        };


        /*
         * API
         */
        var Api = $.fn.dataTable.Api;

// Doesn't do anything - work around for a bug in DT... Not documented
        Api.register( 'responsive()', function () {
            return this;
        } );

        Api.register( 'responsive.index()', function ( li ) {
            li = $(li);

            return {
                column: li.data('dtr-index'),
                row:    li.parent().data('dtr-index')
            };
        } );

        Api.register( 'responsive.rebuild()', function () {
            return this.iterator( 'table', function ( ctx ) {
                if ( ctx._responsive ) {
                    ctx._responsive._classLogic();
                }
            } );
        } );

        Api.register( 'responsive.recalc()', function () {
            return this.iterator( 'table', function ( ctx ) {
                if ( ctx._responsive ) {
                    ctx._responsive._resizeAuto();
                    ctx._responsive._resize();
                }
            } );
        } );


        /**
         * Version information
         *
         * @name Responsive.version
         * @static
         */
        Responsive.version = '1.0.4';


        $.fn.dataTable.Responsive = Responsive;
        $.fn.DataTable.Responsive = Responsive;

// Attach a listener to the document which listens for DataTables initialisation
// events so we can automatically initialise
        $(document).on( 'init.dt.dtr', function (e, settings, json) {
            if ( $(settings.nTable).hasClass( 'responsive' ) ||
                $(settings.nTable).hasClass( 'dt-responsive' ) ||
                settings.oInit.responsive ||
                DataTable.defaults.responsive
            ) {
                var init = settings.oInit.responsive;

                if ( init !== false ) {
                    new Responsive( settings, $.isPlainObject( init ) ? init : {}  );
                }
            }
        } );

        return Responsive;
    }; // /factory


// Define as an AMD module if possible
    if ( typeof define === 'function' && define.amd ) {
        define( ['jquery', 'datatables'], factory );
    }
    else if ( typeof exports === 'object' ) {
        // Node/CommonJS
        factory( require('./jquery'), require('./jquery.dataTables.js') );
    }
    else if ( jQuery && !jQuery.fn.dataTable.Responsive ) {
        // Otherwise simply initialise as normal, stopping multiple evaluation
        factory( jQuery, jQuery.fn.dataTable );
    }


})(window, document);

},{"./jquery":57,"./jquery.dataTables.js":56}],26:[function(require,module,exports){
/*!
 * enquire.js v2.1.2 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

;(function (name, context, factory) {
    var matchMedia = window.matchMedia;

    if (typeof module !== 'undefined' && module.exports) {
        module.exports = factory(matchMedia);
    }
    else if (typeof define === 'function' && define.amd) {
        define(function() {
            return (context[name] = factory(matchMedia));
        });
    }
    else {
        context[name] = factory(matchMedia);
    }
}('enquire', this, function (matchMedia) {

    'use strict';

    /*jshint unused:false */
    /**
     * Helper function for iterating over a collection
     *
     * @param collection
     * @param fn
     */
    function each(collection, fn) {
        var i      = 0,
            length = collection.length,
            cont;

        for(i; i < length; i++) {
            cont = fn(collection[i], i);
            if(cont === false) {
                break; //allow early exit
            }
        }
    }

    /**
     * Helper function for determining whether target object is an array
     *
     * @param target the object under test
     * @return {Boolean} true if array, false otherwise
     */
    function isArray(target) {
        return Object.prototype.toString.apply(target) === '[object Array]';
    }

    /**
     * Helper function for determining whether target object is a function
     *
     * @param target the object under test
     * @return {Boolean} true if function, false otherwise
     */
    function isFunction(target) {
        return typeof target === 'function';
    }

    /**
     * Delegate to handle a media query being matched and unmatched.
     *
     * @param {object} options
     * @param {function} options.match callback for when the media query is matched
     * @param {function} [options.unmatch] callback for when the media query is unmatched
     * @param {function} [options.setup] one-time callback triggered the first time a query is matched
     * @param {boolean} [options.deferSetup=false] should the setup callback be run immediately, rather than first time query is matched?
     * @constructor
     */
    function QueryHandler(options) {
        this.options = options;
        !options.deferSetup && this.setup();
    }
    QueryHandler.prototype = {

        /**
         * coordinates setup of the handler
         *
         * @function
         */
        setup : function() {
            if(this.options.setup) {
                this.options.setup();
            }
            this.initialised = true;
        },

        /**
         * coordinates setup and triggering of the handler
         *
         * @function
         */
        on : function() {
            !this.initialised && this.setup();
            this.options.match && this.options.match();
        },

        /**
         * coordinates the unmatch event for the handler
         *
         * @function
         */
        off : function() {
            this.options.unmatch && this.options.unmatch();
        },

        /**
         * called when a handler is to be destroyed.
         * delegates to the destroy or unmatch callbacks, depending on availability.
         *
         * @function
         */
        destroy : function() {
            this.options.destroy ? this.options.destroy() : this.off();
        },

        /**
         * determines equality by reference.
         * if object is supplied compare options, if function, compare match callback
         *
         * @function
         * @param {object || function} [target] the target for comparison
         */
        equals : function(target) {
            return this.options === target || this.options.match === target;
        }

    };
    /**
     * Represents a single media query, manages it's state and registered handlers for this query
     *
     * @constructor
     * @param {string} query the media query string
     * @param {boolean} [isUnconditional=false] whether the media query should run regardless of whether the conditions are met. Primarily for helping older browsers deal with mobile-first design
     */
    function MediaQuery(query, isUnconditional) {
        this.query = query;
        this.isUnconditional = isUnconditional;
        this.handlers = [];
        this.mql = matchMedia(query);

        var self = this;
        this.listener = function(mql) {
            self.mql = mql;
            self.assess();
        };
        this.mql.addListener(this.listener);
    }
    MediaQuery.prototype = {

        /**
         * add a handler for this query, triggering if already active
         *
         * @param {object} handler
         * @param {function} handler.match callback for when query is activated
         * @param {function} [handler.unmatch] callback for when query is deactivated
         * @param {function} [handler.setup] callback for immediate execution when a query handler is registered
         * @param {boolean} [handler.deferSetup=false] should the setup callback be deferred until the first time the handler is matched?
         */
        addHandler : function(handler) {
            var qh = new QueryHandler(handler);
            this.handlers.push(qh);

            this.matches() && qh.on();
        },

        /**
         * removes the given handler from the collection, and calls it's destroy methods
         *
         * @param {object || function} handler the handler to remove
         */
        removeHandler : function(handler) {
            var handlers = this.handlers;
            each(handlers, function(h, i) {
                if(h.equals(handler)) {
                    h.destroy();
                    return !handlers.splice(i,1); //remove from array and exit each early
                }
            });
        },

        /**
         * Determine whether the media query should be considered a match
         *
         * @return {Boolean} true if media query can be considered a match, false otherwise
         */
        matches : function() {
            return this.mql.matches || this.isUnconditional;
        },

        /**
         * Clears all handlers and unbinds events
         */
        clear : function() {
            each(this.handlers, function(handler) {
                handler.destroy();
            });
            this.mql.removeListener(this.listener);
            this.handlers.length = 0; //clear array
        },

        /*
         * Assesses the query, turning on all handlers if it matches, turning them off if it doesn't match
         */
        assess : function() {
            var action = this.matches() ? 'on' : 'off';

            each(this.handlers, function(handler) {
                handler[action]();
            });
        }
    };
    /**
     * Allows for registration of query handlers.
     * Manages the query handler's state and is responsible for wiring up browser events
     *
     * @constructor
     */
    function MediaQueryDispatch () {
        if(!matchMedia) {
            throw new Error('matchMedia not present, legacy browsers require a polyfill');
        }

        this.queries = {};
        this.browserIsIncapable = !matchMedia('only all').matches;
    }

    MediaQueryDispatch.prototype = {

        /**
         * Registers a handler for the given media query
         *
         * @param {string} q the media query
         * @param {object || Array || Function} options either a single query handler object, a function, or an array of query handlers
         * @param {function} options.match fired when query matched
         * @param {function} [options.unmatch] fired when a query is no longer matched
         * @param {function} [options.setup] fired when handler first triggered
         * @param {boolean} [options.deferSetup=false] whether setup should be run immediately or deferred until query is first matched
         * @param {boolean} [shouldDegrade=false] whether this particular media query should always run on incapable browsers
         */
        register : function(q, options, shouldDegrade) {
            var queries         = this.queries,
                isUnconditional = shouldDegrade && this.browserIsIncapable;

            if(!queries[q]) {
                queries[q] = new MediaQuery(q, isUnconditional);
            }

            //normalise to object in an array
            if(isFunction(options)) {
                options = { match : options };
            }
            if(!isArray(options)) {
                options = [options];
            }
            each(options, function(handler) {
                if (isFunction(handler)) {
                    handler = { match : handler };
                }
                queries[q].addHandler(handler);
            });

            return this;
        },

        /**
         * unregisters a query and all it's handlers, or a specific handler for a query
         *
         * @param {string} q the media query to target
         * @param {object || function} [handler] specific handler to unregister
         */
        unregister : function(q, handler) {
            var query = this.queries[q];

            if(query) {
                if(handler) {
                    query.removeHandler(handler);
                }
                else {
                    query.clear();
                    delete this.queries[q];
                }
            }

            return this;
        }
    };

    return new MediaQueryDispatch();

}));
},{}],27:[function(require,module,exports){
;(function () {
    'use strict';

    /**
     * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
     *
     * @codingstandard ftlabs-jsv2
     * @copyright The Financial Times Limited [All Rights Reserved]
     * @license MIT License (see LICENSE.txt)
     */

    /*jslint browser:true, node:true*/
    /*global define, Event, Node*/


    /**
     * Instantiate fast-clicking listeners on the specified layer.
     *
     * @constructor
     * @param {Element} layer The layer to listen on
     * @param {Object} [options={}] The options to override the defaults
     */
    function FastClick(layer, options) {
        var oldOnClick;

        options = options || {};

        /**
         * Whether a click is currently being tracked.
         *
         * @type boolean
         */
        this.trackingClick = false;


        /**
         * Timestamp for when click tracking started.
         *
         * @type number
         */
        this.trackingClickStart = 0;


        /**
         * The element being tracked for a click.
         *
         * @type EventTarget
         */
        this.targetElement = null;


        /**
         * X-coordinate of touch start event.
         *
         * @type number
         */
        this.touchStartX = 0;


        /**
         * Y-coordinate of touch start event.
         *
         * @type number
         */
        this.touchStartY = 0;


        /**
         * ID of the last touch, retrieved from Touch.identifier.
         *
         * @type number
         */
        this.lastTouchIdentifier = 0;


        /**
         * Touchmove boundary, beyond which a click will be cancelled.
         *
         * @type number
         */
        this.touchBoundary = options.touchBoundary || 10;


        /**
         * The FastClick layer.
         *
         * @type Element
         */
        this.layer = layer;

        /**
         * The minimum time between tap(touchstart and touchend) events
         *
         * @type number
         */
        this.tapDelay = options.tapDelay || 200;

        /**
         * The maximum time for a tap
         *
         * @type number
         */
        this.tapTimeout = options.tapTimeout || 700;

        if (FastClick.notNeeded(layer)) {
            return;
        }

        // Some old versions of Android don't have Function.prototype.bind
        function bind(method, context) {
            return function() { return method.apply(context, arguments); };
        }


        var methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];
        var context = this;
        for (var i = 0, l = methods.length; i < l; i++) {
            context[methods[i]] = bind(context[methods[i]], context);
        }

        // Set up event handlers as required
        if (deviceIsAndroid) {
            layer.addEventListener('mouseover', this.onMouse, true);
            layer.addEventListener('mousedown', this.onMouse, true);
            layer.addEventListener('mouseup', this.onMouse, true);
        }

        layer.addEventListener('click', this.onClick, true);
        layer.addEventListener('touchstart', this.onTouchStart, false);
        layer.addEventListener('touchmove', this.onTouchMove, false);
        layer.addEventListener('touchend', this.onTouchEnd, false);
        layer.addEventListener('touchcancel', this.onTouchCancel, false);

        // Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
        // which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick
        // layer when they are cancelled.
        if (!Event.prototype.stopImmediatePropagation) {
            layer.removeEventListener = function(type, callback, capture) {
                var rmv = Node.prototype.removeEventListener;
                if (type === 'click') {
                    rmv.call(layer, type, callback.hijacked || callback, capture);
                } else {
                    rmv.call(layer, type, callback, capture);
                }
            };

            layer.addEventListener = function(type, callback, capture) {
                var adv = Node.prototype.addEventListener;
                if (type === 'click') {
                    adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {
                        if (!event.propagationStopped) {
                            callback(event);
                        }
                    }), capture);
                } else {
                    adv.call(layer, type, callback, capture);
                }
            };
        }

        // If a handler is already declared in the element's onclick attribute, it will be fired before
        // FastClick's onClick handler. Fix this by pulling out the user-defined handler function and
        // adding it as listener.
        if (typeof layer.onclick === 'function') {

            // Android browser on at least 3.2 requires a new reference to the function in layer.onclick
            // - the old one won't work if passed to addEventListener directly.
            oldOnClick = layer.onclick;
            layer.addEventListener('click', function(event) {
                oldOnClick(event);
            }, false);
            layer.onclick = null;
        }
    }

    /**
     * Windows Phone 8.1 fakes user agent string to look like Android and iPhone.
     *
     * @type boolean
     */
    var deviceIsWindowsPhone = navigator.userAgent.indexOf("Windows Phone") >= 0;

    /**
     * Android requires exceptions.
     *
     * @type boolean
     */
    var deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;


    /**
     * iOS requires exceptions.
     *
     * @type boolean
     */
    var deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;


    /**
     * iOS 4 requires an exception for select elements.
     *
     * @type boolean
     */
    var deviceIsIOS4 = deviceIsIOS && (/OS 4_\d(_\d)?/).test(navigator.userAgent);


    /**
     * iOS 6.0(+?) requires the target element to be manually derived
     *
     * @type boolean
     */
    var deviceIsIOSWithBadTarget = deviceIsIOS && (/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);

    /**
     * BlackBerry requires exceptions.
     *
     * @type boolean
     */
    var deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;

    /**
     * Determine whether a given element requires a native click.
     *
     * @param {EventTarget|Element} target Target DOM element
     * @returns {boolean} Returns true if the element needs a native click
     */
    FastClick.prototype.needsClick = function(target) {
        switch (target.nodeName.toLowerCase()) {

            // Don't send a synthetic click to disabled inputs (issue #62)
            case 'button':
            case 'select':
            case 'textarea':
                if (target.disabled) {
                    return true;
                }

                break;
            case 'input':

                // File inputs need real clicks on iOS 6 due to a browser bug (issue #68)
                if ((deviceIsIOS && target.type === 'file') || target.disabled) {
                    return true;
                }

                break;
            case 'label':
            case 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames
            case 'video':
                return true;
        }

        return (/\bneedsclick\b/).test(target.className);
    };


    /**
     * Determine whether a given element requires a call to focus to simulate click into element.
     *
     * @param {EventTarget|Element} target Target DOM element
     * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.
     */
    FastClick.prototype.needsFocus = function(target) {
        switch (target.nodeName.toLowerCase()) {
            case 'textarea':
                return true;
            case 'select':
                return !deviceIsAndroid;
            case 'input':
                switch (target.type) {
                    case 'button':
                    case 'checkbox':
                    case 'file':
                    case 'image':
                    case 'radio':
                    case 'submit':
                        return false;
                }

                // No point in attempting to focus disabled inputs
                return !target.disabled && !target.readOnly;
            default:
                return (/\bneedsfocus\b/).test(target.className);
        }
    };


    /**
     * Send a click event to the specified element.
     *
     * @param {EventTarget|Element} targetElement
     * @param {Event} event
     */
    FastClick.prototype.sendClick = function(targetElement, event) {
        var clickEvent, touch;

        // On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)
        if (document.activeElement && document.activeElement !== targetElement) {
            document.activeElement.blur();
        }

        touch = event.changedTouches[0];

        // Synthesise a click event, with an extra attribute so it can be tracked
        clickEvent = document.createEvent('MouseEvents');
        clickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
        clickEvent.forwardedTouchEvent = true;
        targetElement.dispatchEvent(clickEvent);
    };

    FastClick.prototype.determineEventType = function(targetElement) {

        //Issue #159: Android Chrome Select Box does not open with a synthetic click event
        if (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {
            return 'mousedown';
        }

        return 'click';
    };


    /**
     * @param {EventTarget|Element} targetElement
     */
    FastClick.prototype.focus = function(targetElement) {
        var length;

        // Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.
        if (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {
            length = targetElement.value.length;
            targetElement.setSelectionRange(length, length);
        } else {
            targetElement.focus();
        }
    };


    /**
     * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.
     *
     * @param {EventTarget|Element} targetElement
     */
    FastClick.prototype.updateScrollParent = function(targetElement) {
        var scrollParent, parentElement;

        scrollParent = targetElement.fastClickScrollParent;

        // Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the
        // target element was moved to another parent.
        if (!scrollParent || !scrollParent.contains(targetElement)) {
            parentElement = targetElement;
            do {
                if (parentElement.scrollHeight > parentElement.offsetHeight) {
                    scrollParent = parentElement;
                    targetElement.fastClickScrollParent = parentElement;
                    break;
                }

                parentElement = parentElement.parentElement;
            } while (parentElement);
        }

        // Always update the scroll top tracker if possible.
        if (scrollParent) {
            scrollParent.fastClickLastScrollTop = scrollParent.scrollTop;
        }
    };


    /**
     * @param {EventTarget} targetElement
     * @returns {Element|EventTarget}
     */
    FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {

        // On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.
        if (eventTarget.nodeType === Node.TEXT_NODE) {
            return eventTarget.parentNode;
        }

        return eventTarget;
    };


    /**
     * On touch start, record the position and scroll offset.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.onTouchStart = function(event) {
        var targetElement, touch, selection;

        // Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).
        if (event.targetTouches.length > 1) {
            return true;
        }

        targetElement = this.getTargetElementFromEventTarget(event.target);
        touch = event.targetTouches[0];

        if (deviceIsIOS) {

            // Only trusted events will deselect text on iOS (issue #49)
            selection = window.getSelection();
            if (selection.rangeCount && !selection.isCollapsed) {
                return true;
            }

            if (!deviceIsIOS4) {

                // Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):
                // when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched
                // with the same identifier as the touch event that previously triggered the click that triggered the alert.
                // Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an
                // immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.
                // Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,
                // which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,
                // random integers, it's safe to to continue if the identifier is 0 here.
                if (touch.identifier && touch.identifier === this.lastTouchIdentifier) {
                    event.preventDefault();
                    return false;
                }

                this.lastTouchIdentifier = touch.identifier;

                // If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:
                // 1) the user does a fling scroll on the scrollable layer
                // 2) the user stops the fling scroll with another tap
                // then the event.target of the last 'touchend' event will be the element that was under the user's finger
                // when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check
                // is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).
                this.updateScrollParent(targetElement);
            }
        }

        this.trackingClick = true;
        this.trackingClickStart = event.timeStamp;
        this.targetElement = targetElement;

        this.touchStartX = touch.pageX;
        this.touchStartY = touch.pageY;

        // Prevent phantom clicks on fast double-tap (issue #36)
        if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
            event.preventDefault();
        }

        return true;
    };


    /**
     * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.touchHasMoved = function(event) {
        var touch = event.changedTouches[0], boundary = this.touchBoundary;

        if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {
            return true;
        }

        return false;
    };


    /**
     * Update the last position.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.onTouchMove = function(event) {
        if (!this.trackingClick) {
            return true;
        }

        // If the touch has moved, cancel the click tracking
        if (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {
            this.trackingClick = false;
            this.targetElement = null;
        }

        return true;
    };


    /**
     * Attempt to find the labelled control for the given label element.
     *
     * @param {EventTarget|HTMLLabelElement} labelElement
     * @returns {Element|null}
     */
    FastClick.prototype.findControl = function(labelElement) {

        // Fast path for newer browsers supporting the HTML5 control attribute
        if (labelElement.control !== undefined) {
            return labelElement.control;
        }

        // All browsers under test that support touch events also support the HTML5 htmlFor attribute
        if (labelElement.htmlFor) {
            return document.getElementById(labelElement.htmlFor);
        }

        // If no for attribute exists, attempt to retrieve the first labellable descendant element
        // the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label
        return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');
    };


    /**
     * On touch end, determine whether to send a click event at once.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.onTouchEnd = function(event) {
        var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;

        if (!this.trackingClick) {
            return true;
        }

        // Prevent phantom clicks on fast double-tap (issue #36)
        if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
            this.cancelNextClick = true;
            return true;
        }

        if ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {
            return true;
        }

        // Reset to prevent wrong click cancel on input (issue #156).
        this.cancelNextClick = false;

        this.lastClickTime = event.timeStamp;

        trackingClickStart = this.trackingClickStart;
        this.trackingClick = false;
        this.trackingClickStart = 0;

        // On some iOS devices, the targetElement supplied with the event is invalid if the layer
        // is performing a transition or scroll, and has to be re-detected manually. Note that
        // for this to function correctly, it must be called *after* the event target is checked!
        // See issue #57; also filed as rdar://13048589 .
        if (deviceIsIOSWithBadTarget) {
            touch = event.changedTouches[0];

            // In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null
            targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;
            targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;
        }

        targetTagName = targetElement.tagName.toLowerCase();
        if (targetTagName === 'label') {
            forElement = this.findControl(targetElement);
            if (forElement) {
                this.focus(targetElement);
                if (deviceIsAndroid) {
                    return false;
                }

                targetElement = forElement;
            }
        } else if (this.needsFocus(targetElement)) {

            // Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.
            // Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).
            if ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {
                this.targetElement = null;
                return false;
            }

            this.focus(targetElement);
            this.sendClick(targetElement, event);

            // Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.
            // Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)
            if (!deviceIsIOS || targetTagName !== 'select') {
                this.targetElement = null;
                event.preventDefault();
            }

            return false;
        }

        if (deviceIsIOS && !deviceIsIOS4) {

            // Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled
            // and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).
            scrollParent = targetElement.fastClickScrollParent;
            if (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {
                return true;
            }
        }

        // Prevent the actual click from going though - unless the target node is marked as requiring
        // real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.
        if (!this.needsClick(targetElement)) {
            event.preventDefault();
            this.sendClick(targetElement, event);
        }

        return false;
    };


    /**
     * On touch cancel, stop tracking the click.
     *
     * @returns {void}
     */
    FastClick.prototype.onTouchCancel = function() {
        this.trackingClick = false;
        this.targetElement = null;
    };


    /**
     * Determine mouse events which should be permitted.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.onMouse = function(event) {

        // If a target element was never set (because a touch event was never fired) allow the event
        if (!this.targetElement) {
            return true;
        }

        if (event.forwardedTouchEvent) {
            return true;
        }

        // Programmatically generated events targeting a specific element should be permitted
        if (!event.cancelable) {
            return true;
        }

        // Derive and check the target element to see whether the mouse event needs to be permitted;
        // unless explicitly enabled, prevent non-touch click events from triggering actions,
        // to prevent ghost/doubleclicks.
        if (!this.needsClick(this.targetElement) || this.cancelNextClick) {

            // Prevent any user-added listeners declared on FastClick element from being fired.
            if (event.stopImmediatePropagation) {
                event.stopImmediatePropagation();
            } else {

                // Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
                event.propagationStopped = true;
            }

            // Cancel the event
            event.stopPropagation();
            event.preventDefault();

            return false;
        }

        // If the mouse event is permitted, return true for the action to go through.
        return true;
    };


    /**
     * On actual clicks, determine whether this is a touch-generated click, a click action occurring
     * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or
     * an actual click which should be permitted.
     *
     * @param {Event} event
     * @returns {boolean}
     */
    FastClick.prototype.onClick = function(event) {
        var permitted;

        // It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.
        if (this.trackingClick) {
            this.targetElement = null;
            this.trackingClick = false;
            return true;
        }

        // Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.
        if (event.target.type === 'submit' && event.detail === 0) {
            return true;
        }

        permitted = this.onMouse(event);

        // Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.
        if (!permitted) {
            this.targetElement = null;
        }

        // If clicks are permitted, return true for the action to go through.
        return permitted;
    };


    /**
     * Remove all FastClick's event listeners.
     *
     * @returns {void}
     */
    FastClick.prototype.destroy = function() {
        var layer = this.layer;

        if (deviceIsAndroid) {
            layer.removeEventListener('mouseover', this.onMouse, true);
            layer.removeEventListener('mousedown', this.onMouse, true);
            layer.removeEventListener('mouseup', this.onMouse, true);
        }

        layer.removeEventListener('click', this.onClick, true);
        layer.removeEventListener('touchstart', this.onTouchStart, false);
        layer.removeEventListener('touchmove', this.onTouchMove, false);
        layer.removeEventListener('touchend', this.onTouchEnd, false);
        layer.removeEventListener('touchcancel', this.onTouchCancel, false);
    };


    /**
     * Check whether FastClick is needed.
     *
     * @param {Element} layer The layer to listen on
     */
    FastClick.notNeeded = function(layer) {
        var metaViewport;
        var chromeVersion;
        var blackberryVersion;

        // Devices that don't support touch don't need FastClick
        if (typeof window.ontouchstart === 'undefined') {
            return true;
        }

        // Chrome version - zero for other browsers
        chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];

        if (chromeVersion) {

            if (deviceIsAndroid) {
                metaViewport = document.querySelector('meta[name=viewport]');

                if (metaViewport) {
                    // Chrome on Android with user-scalable="no" doesn't need FastClick (issue #89)
                    if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
                        return true;
                    }
                    // Chrome 32 and above with width=device-width or less don't need FastClick
                    if (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {
                        return true;
                    }
                }

                // Chrome desktop doesn't need FastClick (issue #15)
            } else {
                return true;
            }
        }

        if (deviceIsBlackBerry10) {
            blackberryVersion = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);

            // BlackBerry 10.3+ does not require Fastclick library.
            // https://github.com/ftlabs/fastclick/issues/251
            if (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {
                metaViewport = document.querySelector('meta[name=viewport]');

                if (metaViewport) {
                    // user-scalable=no eliminates click delay.
                    if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
                        return true;
                    }
                    // width=device-width (or less than device-width) eliminates click delay.
                    if (document.documentElement.scrollWidth <= window.outerWidth) {
                        return true;
                    }
                }
            }
        }

        // IE10 with -ms-touch-action: none, which disables double-tap-to-zoom (issue #97)
        if (layer.style.msTouchAction === 'none') {
            return true;
        }

        // IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version
        // http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx
        if (layer.style.touchAction === 'none') {
            return true;
        }

        return false;
    };


    /**
     * Factory method for creating a FastClick object
     *
     * @param {Element} layer The layer to listen on
     * @param {Object} [options={}] The options to override the defaults
     */
    FastClick.attach = function(layer, options) {
        return new FastClick(layer, options);
    };


    if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {

        // AMD. Register as an anonymous module.
        define(function() {
            return FastClick;
        });
    } else if (typeof module !== 'undefined' && module.exports) {
        module.exports = FastClick.attach;
        module.exports.FastClick = FastClick;
    } else {
        window.FastClick = FastClick;
    }
}());
},{}],28:[function(require,module,exports){
/*!
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit frameworks
 *
 * @version     v0.6.1-dev, built on 2015-01-16 11:58:03 AM
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
/**
 * This class supports validating Bootstrap form (http://getbootstrap.com/)
 */
(function($) {
    FormValidation.Framework.Bootstrap = function(element, options, namespace) {
        options = $.extend(true, {
            button: {
                selector: '[type="submit"]',
                // The class of disabled button
                // http://getbootstrap.com/css/#buttons-disabled
                disabled: 'disabled'
            },
            err: {
                // http://getbootstrap.com/css/#forms-help-text
                clazz: 'help-block',
                parent: '^(.*)col-(xs|sm|md|lg)-(offset-){0,1}[0-9]+(.*)$'
            },
            // This feature requires Bootstrap v3.1.0 or later (http://getbootstrap.com/css/#forms-control-validation).
            // Since Bootstrap doesn't provide any methods to know its version, this option cannot be on/off automatically.
            // In other word, to use this feature you have to upgrade your Bootstrap to v3.1.0 or later.
            //
            // Examples:
            // - Use Glyphicons icons:
            //  icon: {
            //      valid: 'glyphicon glyphicon-ok',
            //      invalid: 'glyphicon glyphicon-remove',
            //      validating: 'glyphicon glyphicon-refresh',
            //      feedback: 'form-control-feedback'
            //  }
            // - Use FontAwesome icons:
            //  icon: {
            //      valid: 'fa fa-check',
            //      invalid: 'fa fa-times',
            //      validating: 'fa fa-refresh',
            //      feedback: 'form-control-feedback'
            //  }
            icon: {
                valid: null,
                invalid: null,
                validating: null,
                feedback: 'form-control-feedback'
            },
            row: {
                // By default, each field is placed inside the <div class="form-group"></div>
                // http://getbootstrap.com/css/#forms
                selector: '.form-group',
                valid: 'has-success',
                invalid: 'has-error',
                feedback: 'has-feedback'
            }
        }, options);

        FormValidation.Base.apply(this, [element, options, namespace]);
    };

    FormValidation.Framework.Bootstrap.prototype = $.extend({}, FormValidation.Base.prototype, {
        /**
         * Specific framework might need to adjust the icon position
         *
         * @param {jQuery} $field The field element
         * @param {jQuery} $icon The icon element
         */
        _fixIcon: function($field, $icon) {
            var ns      = this._namespace,
                type    = $field.attr('type'),
                field   = $field.attr('data-' + ns + '-field'),
                row     = this.options.fields[field].row || this.options.row.selector,
                $parent = $field.closest(row);

            // Place it after the container of checkbox/radio
            // so when clicking the icon, it doesn't effect to the checkbox/radio element
            if ('checkbox' === type || 'radio' === type) {
                var $fieldParent = $field.parent();
                if ($fieldParent.hasClass(type)) {
                    $icon.insertAfter($fieldParent);
                } else if ($fieldParent.parent().hasClass(type)) {
                    $icon.insertAfter($fieldParent.parent());
                }
            }

            // The feedback icon does not render correctly if there is no label
            // https://github.com/twbs/bootstrap/issues/12873
            if ($parent.find('label').length === 0) {
                $icon.addClass('fv-icon-no-label');
            }
            // Fix feedback icons in input-group
            if ($parent.find('.input-group').length !== 0) {
                $icon.addClass('fv-bootstrap-icon-input-group')
                     .insertAfter($parent.find('.input-group').eq(0));
            }
        },

        /**
         * Create a tooltip or popover
         * It will be shown when focusing on the field
         *
         * @param {jQuery} $field The field element
         * @param {String} message The message
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _createTooltip: function($field, message, type) {
            var ns    = this._namespace,
                $icon = $field.data(ns + '.icon');
            if ($icon) {
                switch (type) {
                    case 'popover':
                        $icon
                            .css({
                                'cursor': 'pointer',
                                'pointer-events': 'auto'
                            })
                            .popover('destroy')
                            .popover({
                                container: 'body',
                                content: message,
                                html: true,
                                placement: 'auto top',
                                trigger: 'hover click'
                            });
                        break;

                    case 'tooltip':
                    /* falls through */
                    default:
                        $icon
                            .css({
                                'cursor': 'pointer',
                                'pointer-events': 'auto'
                            })
                            .tooltip('destroy')
                            .tooltip({
                                container: 'body',
                                html: true,
                                placement: 'auto top',
                                title: message
                            });
                        break;
                }
            }
        },

        /**
         * Destroy the tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _destroyTooltip: function($field, type) {
            var ns    = this._namespace,
                $icon = $field.data(ns + '.icon');
            if ($icon) {
                switch (type) {
                    case 'popover':
                        $icon
                            .css({
                                'cursor': '',
                                'pointer-events': 'none'
                            })
                            .popover('destroy');
                        break;

                    case 'tooltip':
                    /* falls through */
                    default:
                        $icon
                            .css({
                                'cursor': '',
                                'pointer-events': 'none'
                            })
                            .tooltip('destroy');
                        break;
                }
            }
        },

        /**
         * Hide a tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _hideTooltip: function($field, type) {
            var ns    = this._namespace,
                $icon = $field.data(ns + '.icon');
            if ($icon) {
                switch (type) {
                    case 'popover':
                        $icon.popover('hide');
                        break;

                    case 'tooltip':
                    /* falls through */
                    default:
                        $icon.tooltip('hide');
                        break;
                }
            }
        },

        /**
         * Show a tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _showTooltip: function($field, type) {
            var ns    = this._namespace,
                $icon = $field.data(ns + '.icon');
            if ($icon) {
                switch (type) {
                    case 'popover':
                        $icon.popover('show');
                        break;

                    case 'tooltip':
                    /* falls through */
                    default:
                        $icon.tooltip('show');
                        break;
                }
            }
        }
    });

    /**
     * Plugin definition
     * Support backward
     * @deprecated It will be removed soon. Instead of using $(form).bootstrapValidator(), use
     *  $(form).formValidation({
     *      framework: 'bootstrap'  // It's equivalent to use data-fv-framework="bootstrap" for <form>
     *  });
     */
    $.fn.bootstrapValidator = function(option) {
        var params = arguments;
        return this.each(function() {
            var $this   = $(this),
                data    = $this.data('formValidation') || $this.data('bootstrapValidator'),
                options = 'object' === typeof option && option;
            if (!data) {
                data = new FormValidation.Framework.Bootstrap(this, $.extend({}, {
                    events: {
                        // Support backward
                        formInit: 'init.form.bv',
                        formError: 'error.form.bv',
                        formSuccess: 'success.form.bv',
                        fieldAdded: 'added.field.bv',
                        fieldRemoved: 'removed.field.bv',
                        fieldInit: 'init.field.bv',
                        fieldError: 'error.field.bv',
                        fieldSuccess: 'success.field.bv',
                        fieldStatus: 'status.field.bv',
                        localeChanged: 'changed.locale.bv',
                        validatorError: 'error.validator.bv',
                        validatorSuccess: 'success.validator.bv'
                    }
                }, options), 'bv');

                $this.addClass('fv-form-bootstrap')
                     .data('formValidation', data)
                     .data('bootstrapValidator', data);
            }

            // Allow to call plugin method
            if ('string' === typeof option) {
                data[option].apply(data, Array.prototype.slice.call(params, 1));
            }
        });
    };

    $.fn.bootstrapValidator.Constructor = FormValidation.Framework.Bootstrap;
}(require("../jquery")));

},{"../jquery":57}],29:[function(require,module,exports){
/**
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit frameworks
 *
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */

// Register the namespace
window.FormValidation = {
    AddOn:     {},  // Add-ons
    Framework: {},  // Supported frameworks
    I18n:      {},  // i18n
    Validator: {}   // Available validators
};

//if (typeof jQuery === 'undefined') {
//    throw new Error('FormValidation requires jQuery');
//}

(function($) {
    var version = $.fn.jquery.split(' ')[0].split('.');
    if ((+version[0] < 2 && +version[1] < 9) || (+version[0] === 1 && +version[1] === 9 && +version[2] < 1)) {
        throw new Error('FormValidation requires jQuery version 1.9.1 or higher');
    }
}(require("../jquery")));

(function($) {
    // TODO: Remove backward compatibility in v0.7.0
    /**
     * Constructor
     *
     * @param {jQuery|String} form The form element or selector
     * @param {Object} options The options
     * @param {String} [namespace] The optional namespace which is used for data-{namespace}-xxx attributes and internal data.
     * Currently, it's used to support backward version
     * @constructor
     */
    FormValidation.Base = function(form, options, namespace) {
        this.$form      = $(form);
        this.options    = $.extend({}, $.fn.formValidation.DEFAULT_OPTIONS, options);
        this._namespace = namespace || 'fv';

        this.$invalidFields = $([]);    // Array of invalid fields
        this.$submitButton  = null;     // The submit button which is clicked to submit form
        this.$hiddenButton  = null;

        // Validating status
        this.STATUS_NOT_VALIDATED = 'NOT_VALIDATED';
        this.STATUS_VALIDATING    = 'VALIDATING';
        this.STATUS_INVALID       = 'INVALID';
        this.STATUS_VALID         = 'VALID';

        // Determine the event that is fired when user change the field value
        // Most modern browsers supports input event except IE 7, 8.
        // IE 9 supports input event but the event is still not fired if I press the backspace key.
        // Get IE version
        // https://gist.github.com/padolsey/527683/#comment-7595
        var ieVersion = (function() {
            var v = 3, div = document.createElement('div'), a = div.all || [];
            while (div.innerHTML = '<!--[if gt IE '+(++v)+']><br><![endif]-->', a[0]) {}
            return v > 4 ? v : !v;
        }());

        var el = document.createElement('div');
        this._changeEvent = (ieVersion === 9 || !('oninput' in el)) ? 'keyup' : 'input';

        // The flag to indicate that the form is ready to submit when a remote/callback validator returns
        this._submitIfValid = null;

        // Field elements
        this._cacheFields = {};

        this._init();
    };

    FormValidation.Base.prototype = {
        constructor: FormValidation.Base,

        /**
         * Check if the number of characters of field value exceed the threshold or not
         *
         * @param {jQuery} $field The field element
         * @returns {Boolean}
         */
        _exceedThreshold: function($field) {
            var ns        = this._namespace,
                field     = $field.attr('data-' + ns + '-field'),
                threshold = this.options.fields[field].threshold || this.options.threshold;
            if (!threshold) {
                return true;
            }
            var cannotType = $.inArray($field.attr('type'), ['button', 'checkbox', 'file', 'hidden', 'image', 'radio', 'reset', 'submit']) !== -1;
            return (cannotType || $field.val().length >= threshold);
        },

        /**
         * Init form
         */
        _init: function() {
            var that    = this,
                ns      = this._namespace,
                options = {
                    addOns:         {},
                    autoFocus:      this.$form.attr('data-' + ns + '-autofocus'),
                    button: {
                        selector: this.$form.attr('data-' + ns + '-button-selector') || this.$form.attr('data-' + ns + '-submitbuttons'), // Support backward
                        disabled: this.$form.attr('data-' + ns + '-button-disabled')
                    },
                    control: {
                        valid:   this.$form.attr('data-' + ns + '-control-valid'),
                        invalid: this.$form.attr('data-' + ns + '-control-invalid')
                    },
                    err: {
                        clazz:     this.$form.attr('data-' + ns + '-err-clazz'),
                        container: this.$form.attr('data-' + ns + '-err-container') || this.$form.attr('data-' + ns + '-container'), // Support backward
                        parent:    this.$form.attr('data-' + ns + '-err-parent')
                    },
                    events: {
                        formInit:         this.$form.attr('data-' + ns + '-events-form-init'),
                        formError:        this.$form.attr('data-' + ns + '-events-form-error'),
                        formSuccess:      this.$form.attr('data-' + ns + '-events-form-success'),
                        fieldAdded:       this.$form.attr('data-' + ns + '-events-field-added'),
                        fieldRemoved:     this.$form.attr('data-' + ns + '-events-field-removed'),
                        fieldInit:        this.$form.attr('data-' + ns + '-events-field-init'),
                        fieldError:       this.$form.attr('data-' + ns + '-events-field-error'),
                        fieldSuccess:     this.$form.attr('data-' + ns + '-events-field-success'),
                        fieldStatus:      this.$form.attr('data-' + ns + '-events-field-status'),
                        localeChanged:    this.$form.attr('data-' + ns + '-events-locale-changed'),
                        validatorError:   this.$form.attr('data-' + ns + '-events-validator-error'),
                        validatorSuccess: this.$form.attr('data-' + ns + '-events-validator-success')
                    },
                    excluded:      this.$form.attr('data-' + ns + '-excluded'),
                    icon: {
                        valid:      this.$form.attr('data-' + ns + '-icon-valid')      || this.$form.attr('data-' + ns + '-feedbackicons-valid'),      // Support backward
                        invalid:    this.$form.attr('data-' + ns + '-icon-invalid')    || this.$form.attr('data-' + ns + '-feedbackicons-invalid'),    // Support backward
                        validating: this.$form.attr('data-' + ns + '-icon-validating') || this.$form.attr('data-' + ns + '-feedbackicons-validating'), // Support backward
                        feedback:   this.$form.attr('data-' + ns + '-icon-feedback')
                    },
                    live:          this.$form.attr('data-' + ns + '-live'),
                    locale:        this.$form.attr('data-' + ns + '-locale'),
                    message:       this.$form.attr('data-' + ns + '-message'),
                    onError:       this.$form.attr('data-' + ns + '-onerror'),
                    onSuccess:     this.$form.attr('data-' + ns + '-onsuccess'),
                    row: {
                        selector: this.$form.attr('data-' + ns + '-row-selector') || this.$form.attr('data-' + ns + '-group'), // Support backward
                        valid:    this.$form.attr('data-' + ns + '-row-valid'),
                        invalid:  this.$form.attr('data-' + ns + '-row-invalid'),
                        feedback: this.$form.attr('data-' + ns + '-row-feedback')
                    },
                    threshold:     this.$form.attr('data-' + ns + '-threshold'),
                    trigger:       this.$form.attr('data-' + ns + '-trigger'),
                    verbose:       this.$form.attr('data-' + ns + '-verbose'),
                    fields:        {}
                };

            this.$form
                // Disable client side validation in HTML 5
                .attr('novalidate', 'novalidate')
                .addClass(this.options.elementClass)
                // Disable the default submission first
                .on('submit.' + ns, function(e) {
                    e.preventDefault();
                    that.validate();
                })
                .on('click.' + ns, this.options.button.selector, function() {
                    that.$submitButton  = $(this);
                    // The user just click the submit button
                    that._submitIfValid = true;
                })
                // Find all fields which have either "name" or "data-{namespace}-field" attribute
                .find('[name], [data-' + ns + '-field]')
                .each(function() {
                    var $field = $(this),
                        field  = $field.attr('name') || $field.attr('data-' + ns + '-field'),
                        opts   = that._parseOptions($field);
                    if (opts) {
                        $field.attr('data-' + ns + '-field', field);
                        options.fields[field] = $.extend({}, opts, options.fields[field]);
                    }
                });

            this.options = $.extend(true, this.options, options);

            // Normalize the err.parent option
            if ('string' === typeof this.options.err.parent) {
                this.options.err.parent = new RegExp(this.options.err.parent);
            }

            // Support backward
            if (this.options.container) {
                this.options.err.container = this.options.container;
                delete this.options.container;
            }
            if (this.options.feedbackIcons) {
                this.options.icon = $.extend(true, this.options.icon, this.options.feedbackIcons);
                delete this.options.feedbackIcons;
            }
            if (this.options.group) {
                this.options.row.selector = this.options.group;
                delete this.options.group;
            }
            if (this.options.submitButtons) {
                this.options.button.selector = this.options.submitButtons;
                delete this.options.submitButtons;
            }

            // If the locale is not found, reset it to default one
            if (!FormValidation.I18n[this.options.locale]) {
                this.options.locale = $.fn.formValidation.DEFAULT_OPTIONS.locale;
            }

            // Parse the add-on options from HTML attributes
            this.options = $.extend(true, this.options, { addOns: this._parseAddOnOptions() });

            // When pressing Enter on any field in the form, the first submit button will do its job.
            // The form then will be submitted.
            // I create a first hidden submit button
            this.$hiddenButton = $('<button/>')
                .attr('type', 'submit')
                .prependTo(this.$form)
                .addClass('fv-hidden-submit')
                .css({ display: 'none', width: 0, height: 0 });

            this.$form
                .on('click.' +  this._namespace, '[type="submit"]', function(e) {
                    // #746: Check if the button click handler returns false
                    if (!e.isDefaultPrevented()) {
                        var $target = $(e.target),
                        // The button might contain HTML tag
                            $button = $target.is('[type="submit"]') ? $target.eq(0) : $target.parent('[type="submit"]').eq(0);

                        // Don't perform validation when clicking on the submit button/input
                        // which aren't defined by the 'button.selector' option
                        if (that.options.button.selector && !$button.is(that.options.button.selector) && !$button.is(that.$hiddenButton)) {
                            that.$form.off('submit.' + that._namespace).submit();
                        }
                    }
                });

            for (var field in this.options.fields) {
                this._initField(field);
            }

            // Init the add-ons
            for (var addOn in this.options.addOns) {
                if ('function' === typeof FormValidation.AddOn[addOn].init) {
                    FormValidation.AddOn[addOn].init(this, this.options.addOns[addOn]);
                }
            }

            this.$form.trigger($.Event(this.options.events.formInit), {
                bv: this,   // Support backward
                fv: this,
                options: this.options
            });

            // Prepare the events
            if (this.options.onSuccess) {
                this.$form.on(this.options.events.formSuccess, function(e) {
                    FormValidation.Helper.call(that.options.onSuccess, [e]);
                });
            }
            if (this.options.onError) {
                this.$form.on(this.options.events.formError, function(e) {
                    FormValidation.Helper.call(that.options.onError, [e]);
                });
            }
        },

        /**
         * Init field
         *
         * @param {String|jQuery} field The field name or field element
         */
        _initField: function(field) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    fields = this.getFieldElements(field);
                    fields.attr('data-' + ns + '-field', field);
                    break;
                default:
                    break;
            }

            // We don't need to validate non-existing fields
            if (fields.length === 0) {
                return;
            }

            if (this.options.fields[field] === null || this.options.fields[field].validators === null) {
                return;
            }

            var validatorName;
            for (validatorName in this.options.fields[field].validators) {
                if (!FormValidation.Validator[validatorName]) {
                    delete this.options.fields[field].validators[validatorName];
                }
            }
            if (this.options.fields[field].enabled === null) {
                this.options.fields[field].enabled = true;
            }

            var that      = this,
                total     = fields.length,
                type      = fields.attr('type'),
                updateAll = (total === 1) || ('radio' === type) || ('checkbox' === type),
                trigger   = this._getFieldTrigger(fields.eq(0)),
                events    = $.map(trigger, function(item) {
                    return item + '.update.' + ns;
                }).join(' ');

            for (var i = 0; i < total; i++) {
                var $field    = fields.eq(i),
                    row       = this.options.fields[field].row || this.options.row.selector,
                    $parent   = $field.closest(row),
                // Allow user to indicate where the error messages are shown
                // Support backward
                    container = ('function' === typeof (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container))
                        ? (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container).call(this, $field, this)
                        : (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container),
                    $message  = (container && container !== 'tooltip' && container !== 'popover') ? $(container) : this._getMessageContainer($field, row);

                if (container && container !== 'tooltip' && container !== 'popover') {
                    $message.addClass(this.options.err.clazz);
                }

                // Remove all error messages and feedback icons
                $message.find('.' + this.options.err.clazz.split(' ').join('.') + '[data-' + ns + '-validator][data-' + ns + '-for="' + field + '"]').remove();
                $parent.find('i[data-' + ns + '-icon-for="' + field + '"]').remove();

                // Whenever the user change the field value, mark it as not validated yet
                $field.off(events).on(events, function() {
                    that.updateStatus($(this), that.STATUS_NOT_VALIDATED);
                });

                // Create help block elements for showing the error messages
                $field.data(ns + '.messages', $message);
                for (validatorName in this.options.fields[field].validators) {
                    $field.data(ns + '.result.' + validatorName, this.STATUS_NOT_VALIDATED);

                    if (!updateAll || i === total - 1) {
                        $('<small/>')
                            .css('display', 'none')
                            .addClass(this.options.err.clazz)
                            .attr('data-' + ns + '-validator', validatorName)
                            .attr('data-' + ns + '-for', field)
                            .attr('data-' + ns + '-result', this.STATUS_NOT_VALIDATED)
                            .html(this._getMessage(field, validatorName))
                            .appendTo($message);
                    }

                    // Init the validator
                    if ('function' === typeof FormValidation.Validator[validatorName].init) {
                        FormValidation.Validator[validatorName].init(this, $field, this.options.fields[field].validators[validatorName]);
                    }
                }

                // Prepare the feedback icons
                // Available from Bootstrap 3.1 (http://getbootstrap.com/css/#forms-control-validation)
                if (this.options.fields[field].icon !== false && this.options.fields[field].icon !== 'false'
                    && this.options.icon
                    && this.options.icon.valid && this.options.icon.invalid && this.options.icon.validating
                    && (!updateAll || i === total - 1))
                {
                    // $parent.removeClass(this.options.row.valid).removeClass(this.options.row.invalid).addClass(this.options.row.feedback);
                    // Keep error messages which are populated from back-end
                    $parent.addClass(this.options.row.feedback);
                    var $icon = $('<i/>')
                        .css('display', 'none')
                        .addClass(this.options.icon.feedback)
                        .attr('data-' + ns + '-icon-for', field)
                        .insertAfter($field);

                    // Store the icon as a data of field element
                    (!updateAll ? $field : fields).data(ns + '.icon', $icon);

                    if ('tooltip' === container || 'popover' === container) {
                        (!updateAll ? $field : fields)
                            .on(this.options.events.fieldError, function() {
                                $parent.addClass('fv-has-tooltip');
                            })
                            .on(this.options.events.fieldSuccess, function() {
                                $parent.removeClass('fv-has-tooltip');
                            });

                        $field
                            // Show tooltip/popover message when field gets focus
                            .off('focus.container.' + ns)
                            .on('focus.container.' + ns, function() {
                                that._showTooltip($field, container);
                            })
                            // and hide them when losing focus
                            .off('blur.container.' + ns)
                            .on('blur.container.' + ns, function() {
                                that._hideTooltip($field, container);
                            });
                    }

                    if ('string' === typeof this.options.fields[field].icon && this.options.fields[field].icon !== 'true') {
                        $icon.appendTo($(this.options.fields[field].icon));
                    } else {
                        this._fixIcon($field, $icon);
                    }
                }
            }

            // Prepare the events
            fields
                .on(this.options.events.fieldSuccess, function(e, data) {
                    var onSuccess = that.getOptions(data.field, null, 'onSuccess');
                    if (onSuccess) {
                        FormValidation.Helper.call(onSuccess, [e, data]);
                    }
                })
                .on(this.options.events.fieldError, function(e, data) {
                    var onError = that.getOptions(data.field, null, 'onError');
                    if (onError) {
                        FormValidation.Helper.call(onError, [e, data]);
                    }
                })
                .on(this.options.events.fieldStatus, function(e, data) {
                    var onStatus = that.getOptions(data.field, null, 'onStatus');
                    if (onStatus) {
                        FormValidation.Helper.call(onStatus, [e, data]);
                    }
                })
                .on(this.options.events.validatorError, function(e, data) {
                    var onError = that.getOptions(data.field, data.validator, 'onError');
                    if (onError) {
                        FormValidation.Helper.call(onError, [e, data]);
                    }
                })
                .on(this.options.events.validatorSuccess, function(e, data) {
                    var onSuccess = that.getOptions(data.field, data.validator, 'onSuccess');
                    if (onSuccess) {
                        FormValidation.Helper.call(onSuccess, [e, data]);
                    }
                });

            // Set live mode
            this.onLiveChange(fields, 'live', function() {
                if (that._exceedThreshold($(this))) {
                    that.validateField($(this));
                }
            });

            fields.trigger($.Event(this.options.events.fieldInit), {
                bv: this,   // Support backward
                fv: this,
                field: field,
                element: fields
            });
        },

        /**
         * Check if the field is excluded.
         * Returning true means that the field will not be validated
         *
         * @param {jQuery} $field The field element
         * @returns {Boolean}
         */
        _isExcluded: function($field) {
            var ns           = this._namespace,
                excludedAttr = $field.attr('data-' + ns + '-excluded'),
            // I still need to check the 'name' attribute while initializing the field
                field        = $field.attr('data-' + ns + '-field') || $field.attr('name');

            switch (true) {
                case (!!field && this.options.fields && this.options.fields[field] && (this.options.fields[field].excluded === 'true' || this.options.fields[field].excluded === true)):
                case (excludedAttr === 'true'):
                case (excludedAttr === ''):
                    return true;

                case (!!field && this.options.fields && this.options.fields[field] && (this.options.fields[field].excluded === 'false' || this.options.fields[field].excluded === false)):
                case (excludedAttr === 'false'):
                    return false;

                default:
                    if (this.options.excluded) {
                        // Convert to array first
                        if ('string' === typeof this.options.excluded) {
                            this.options.excluded = $.map(this.options.excluded.split(','), function(item) {
                                // Trim the spaces
                                return $.trim(item);
                            });
                        }

                        var length = this.options.excluded.length;
                        for (var i = 0; i < length; i++) {
                            if (('string' === typeof this.options.excluded[i] && $field.is(this.options.excluded[i]))
                                || ('function' === typeof this.options.excluded[i] && this.options.excluded[i].call(this, $field, this) === true))
                            {
                                return true;
                            }
                        }
                    }
                    return false;
            }
        },

        /**
         * Get a field changed trigger event
         *
         * @param {jQuery} $field The field element
         * @returns {String[]} The event names triggered on field change
         */
        _getFieldTrigger: function($field) {
            var ns      = this._namespace,
                trigger = $field.data(ns + '.trigger');
            if (trigger) {
                return trigger;
            }

            var type  = $field.attr('type'),
                name  = $field.attr('data-' + ns + '-field'),
                event = ('radio' === type || 'checkbox' === type || 'file' === type || 'SELECT' === $field.get(0).tagName) ? 'change' : this._changeEvent;
            trigger   = ((this.options.fields[name] ? this.options.fields[name].trigger : null) || this.options.trigger || event).split(' ');

            // Since the trigger data is used many times, I need to cache it to use later
            $field.data(ns + '.trigger', trigger);

            return trigger;
        },

        /**
         * Get the error message for given field and validator
         *
         * @param {String} field The field name
         * @param {String} validatorName The validator name
         * @returns {String}
         */
        _getMessage: function(field, validatorName) {
            if (!this.options.fields[field] || !FormValidation.Validator[validatorName]
                || !this.options.fields[field].validators || !this.options.fields[field].validators[validatorName])
            {
                return '';
            }

            switch (true) {
                case !!this.options.fields[field].validators[validatorName].message:
                    return this.options.fields[field].validators[validatorName].message;
                case !!this.options.fields[field].message:
                    return this.options.fields[field].message;
                case !!FormValidation.I18n[this.options.locale][validatorName]['default']:
                    return FormValidation.I18n[this.options.locale][validatorName]['default'];
                default:
                    return this.options.message;
            }
        },

        /**
         * Get the element to place the error messages
         *
         * @param {jQuery} $field The field element
         * @param {String} row
         * @returns {jQuery}
         */
        _getMessageContainer: function($field, row) {
            if (!this.options.err.parent) {
                throw new Error('The err.parent option is not defined');
            }

            var $parent = $field.parent();
            if ($parent.is(row)) {
                return $parent;
            }

            var cssClasses = $parent.attr('class');
            if (!cssClasses) {
                return this._getMessageContainer($parent, row);
            }

            if (this.options.err.parent.test(cssClasses)) {
                return $parent;
            }

            return this._getMessageContainer($parent, row);
        },

        /**
         * Parse the add-on options from HTML attributes
         *
         * @returns {Object}
         */
        _parseAddOnOptions: function() {
            var ns     = this._namespace,
                names  = this.$form.attr('data-' + ns + '-addons'),
                addOns = this.options.addOns || {};

            if (names) {
                names = names.replace(/\s/g, '').split(',');
                for (var i = 0; i < names.length; i++) {
                    if (!addOns[names[i]]) {
                        addOns[names[i]] = {};
                    }
                }
            }

            // Try to parse each add-on options
            var addOn, attrMap, attr, option;
            for (addOn in addOns) {
                if (!FormValidation.AddOn[addOn]) {
                    // Add-on is not found
                    delete addOns[addOn];
                    continue;
                }

                attrMap = FormValidation.AddOn[addOn].html5Attributes;
                if (attrMap) {
                    for (attr in attrMap) {
                        option = this.$form.attr('data-' + ns + '-addons-' + addOn.toLowerCase() + '-' + attr.toLowerCase());
                        if (option) {
                            addOns[addOn][attrMap[attr]] = option;
                        }
                    }
                }
            }

            return addOns;
        },

        /**
         * Parse the validator options from HTML attributes
         *
         * @param {jQuery} $field The field element
         * @returns {Object}
         */
        _parseOptions: function($field) {
            var ns         = this._namespace,
                field      = $field.attr('name') || $field.attr('data-' + ns + '-field'),
                validators = {},
                validator,
                v,          // Validator name
                attrName,
                enabled,
                optionName,
                optionAttrName,
                optionValue,
                html5AttrName,
                html5AttrMap;

            for (v in FormValidation.Validator) {
                validator    = FormValidation.Validator[v];
                attrName     = 'data-' + ns + '-' + v.toLowerCase(),
                    enabled      = $field.attr(attrName) + '';
                html5AttrMap = ('function' === typeof validator.enableByHtml5) ? validator.enableByHtml5($field) : null;

                if ((html5AttrMap && enabled !== 'false')
                    || (html5AttrMap !== true && ('' === enabled || 'true' === enabled || attrName === enabled.toLowerCase())))
                {
                    // Try to parse the options via attributes
                    validator.html5Attributes = $.extend({}, {
                        message: 'message',
                        onerror: 'onError',
                        onsuccess: 'onSuccess',
                        transformer: 'transformer'
                    }, validator.html5Attributes);
                    validators[v] = $.extend({}, html5AttrMap === true ? {} : html5AttrMap, validators[v]);

                    for (html5AttrName in validator.html5Attributes) {
                        optionName  = validator.html5Attributes[html5AttrName];
                        optionAttrName = 'data-' + ns + '-' + v.toLowerCase() + '-' + html5AttrName,
                            optionValue = $field.attr(optionAttrName);
                        if (optionValue) {
                            if ('true' === optionValue || optionAttrName === optionValue.toLowerCase()) {
                                optionValue = true;
                            } else if ('false' === optionValue) {
                                optionValue = false;
                            }
                            validators[v][optionName] = optionValue;
                        }
                    }
                }
            }

            var opts = {
                    autoFocus:   $field.attr('data-' + ns + '-autofocus'),
                    err:         $field.attr('data-' + ns + '-err-container') || $field.attr('data-' + ns + '-container'), // Support backward
                    excluded:    $field.attr('data-' + ns + '-excluded'),
                    icon:        $field.attr('data-' + ns + '-icon') || $field.attr('data-' + ns + '-feedbackicons') || (this.options.fields && this.options.fields[field] ? this.options.fields[field].feedbackIcons : null), // Support backward
                    message:     $field.attr('data-' + ns + '-message'),
                    onError:     $field.attr('data-' + ns + '-onerror'),
                    onStatus:    $field.attr('data-' + ns + '-onstatus'),
                    onSuccess:   $field.attr('data-' + ns + '-onsuccess'),
                    row:         $field.attr('data-' + ns + '-row') || $field.attr('data-' + ns + '-group') || (this.options.fields && this.options.fields[field] ? this.options.fields[field].group : null), // Support backward
                    selector:    $field.attr('data-' + ns + '-selector'),
                    threshold:   $field.attr('data-' + ns + '-threshold'),
                    transformer: $field.attr('data-' + ns + '-transformer'),
                    trigger:     $field.attr('data-' + ns + '-trigger'),
                    verbose:     $field.attr('data-' + ns + '-verbose'),
                    validators:  validators
                },
                emptyOptions    = $.isEmptyObject(opts),        // Check if the field options are set using HTML attributes
                emptyValidators = $.isEmptyObject(validators);  // Check if the field validators are set using HTML attributes

            if (!emptyValidators || (!emptyOptions && this.options.fields && this.options.fields[field])) {
                opts.validators = validators;
                return opts;
            } else {
                return null;
            }
        },

        /**
         * Called when all validations are completed
         */
        _submit: function() {
            var isValid = this.isValid();
            if (isValid === null) {
                return;
            }

            var eventType = isValid ? this.options.events.formSuccess : this.options.events.formError,
                e         = $.Event(eventType);

            this.$form.trigger(e);

            // Call default handler
            // Check if whether the submit button is clicked
            if (this.$submitButton) {
                isValid ? this._onSuccess(e) : this._onError(e);
            }
        },

        // ~~~~~~
        // Events
        // ~~~~~~

        /**
         * The default handler of error.form.fv event.
         * It will be called when there is a invalid field
         *
         * @param {jQuery.Event} e The jQuery event object
         */
        _onError: function(e) {
            if (e.isDefaultPrevented()) {
                return;
            }

            if ('submitted' === this.options.live) {
                // Enable live mode
                this.options.live = 'enabled';

                var that = this;
                for (var field in this.options.fields) {
                    (function(f) {
                        var fields  = that.getFieldElements(f);
                        if (fields.length) {
                            that.onLiveChange(fields, 'live', function() {
                                if (that._exceedThreshold($(this))) {
                                    that.validateField($(this));
                                }
                            });
                        }
                    })(field);
                }
            }

            // Determined the first invalid field which will be focused on automatically
            var ns = this._namespace;
            for (var i = 0; i < this.$invalidFields.length; i++) {
                var $field    = this.$invalidFields.eq(i),
                    autoFocus = this.isOptionEnabled($field.attr('data-' + ns + '-field'), 'autoFocus');
                if (autoFocus) {
                    // Focus the field
                    $field.focus();
                    break;
                }
            }
        },

        /**
         * Called after validating a field element
         *
         * @param {jQuery} $field The field element
         * @param {String} [validatorName] The validator name
         */
        _onFieldValidated: function($field, validatorName) {
            var ns            = this._namespace,
                field         = $field.attr('data-' + ns + '-field'),
                validators    = this.options.fields[field].validators,
                counter       = {},
                numValidators = 0,
                data          = {
                    bv: this,   // Support backward
                    fv: this,
                    field: field,
                    element: $field,
                    validator: validatorName,
                    result: $field.data(ns + '.response.' + validatorName)
                };

            // Trigger an event after given validator completes
            if (validatorName) {
                switch ($field.data(ns + '.result.' + validatorName)) {
                    case this.STATUS_INVALID:
                        $field.trigger($.Event(this.options.events.validatorError), data);
                        break;
                    case this.STATUS_VALID:
                        $field.trigger($.Event(this.options.events.validatorSuccess), data);
                        break;
                    default:
                        break;
                }
            }

            counter[this.STATUS_NOT_VALIDATED] = 0;
            counter[this.STATUS_VALIDATING]    = 0;
            counter[this.STATUS_INVALID]       = 0;
            counter[this.STATUS_VALID]         = 0;

            for (var v in validators) {
                if (validators[v].enabled === false) {
                    continue;
                }

                numValidators++;
                var result = $field.data(ns + '.result.' + v);
                if (result) {
                    counter[result]++;
                }
            }

            if (counter[this.STATUS_VALID] === numValidators) {
                // Remove from the list of invalid fields
                this.$invalidFields = this.$invalidFields.not($field);

                $field.trigger($.Event(this.options.events.fieldSuccess), data);
            }
            // If all validators are completed and there is at least one validator which doesn't pass
            else if ((counter[this.STATUS_NOT_VALIDATED] === 0 || !this.isOptionEnabled(field, 'verbose')) && counter[this.STATUS_VALIDATING] === 0 && counter[this.STATUS_INVALID] > 0) {
                // Add to the list of invalid fields
                this.$invalidFields = this.$invalidFields.add($field);

                $field.trigger($.Event(this.options.events.fieldError), data);
            }
        },

        /**
         * The default handler of success.form.fv event.
         * It will be called when all the fields are valid
         *
         * @param {jQuery.Event} e The jQuery event object
         */
        _onSuccess: function(e) {
            if (e.isDefaultPrevented()) {
                return;
            }

            // Submit the form
            this.disableSubmitButtons(true).defaultSubmit();
        },

        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        // Abstract methods
        // Need to be implemented by sub-class that supports specific framework
        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        /**
         * Specific framework might need to adjust the icon position
         *
         * @param {jQuery} $field The field element
         * @param {jQuery} $icon The icon element
         */
        _fixIcon: function($field, $icon) {
        },

        /**
         * Create a tooltip or popover
         * It will be shown when focusing on the field
         *
         * @param {jQuery} $field The field element
         * @param {String} message The message
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _createTooltip: function($field, message, type) {
        },

        /**
         * Destroy the tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _destroyTooltip: function($field, type) {
        },

        /**
         * Hide a tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _hideTooltip: function($field, type) {
        },

        /**
         * Show a tooltip or popover
         *
         * @param {jQuery} $field The field element
         * @param {String} type Can be 'tooltip' or 'popover'
         */
        _showTooltip: function($field, type) {
        },

        // ~~~~~~~~~~~~~~
        // Public methods
        // ~~~~~~~~~~~~~~

        /**
         * Submit the form using default submission.
         * It also does not perform any validations when submitting the form
         */
        defaultSubmit: function() {
            var ns = this._namespace;
            if (this.$submitButton) {
                // Create hidden input to send the submit buttons
                $('<input/>')
                    .attr({
                        'type': 'hidden',
                        name: this.$submitButton.attr('name')
                    })
                    .attr('data-' + ns + '-submit-hidden', '')
                    .val(this.$submitButton.val())
                    .appendTo(this.$form);
            }

            // Submit form
            this.$form.off('submit.' + ns).submit();
        },

        /**
         * Disable/enable submit buttons
         *
         * @param {Boolean} disabled Can be true or false
         * @returns {FormValidation.Base}
         */
        disableSubmitButtons: function(disabled) {
            if (!disabled) {
                this.$form
                    .find(this.options.button.selector)
                    .removeAttr('disabled')
                    .removeClass(this.options.button.disabled);
            } else if (this.options.live !== 'disabled') {
                // Don't disable if the live validating mode is disabled
                this.$form
                    .find(this.options.button.selector)
                    .attr('disabled', 'disabled')
                    .addClass(this.options.button.disabled);
            }

            return this;
        },

        /**
         * Retrieve the field elements by given name
         *
         * @param {String} field The field name
         * @returns {null|jQuery[]}
         */
        getFieldElements: function(field) {
            if (!this._cacheFields[field]) {
                if (this.options.fields[field] && this.options.fields[field].selector) {
                    // Look for the field inside the form first
                    var f = this.$form.find(this.options.fields[field].selector);
                    // If not found, search in entire document
                    this._cacheFields[field] = f.length ? f : $(this.options.fields[field].selector);
                } else {
                    this._cacheFields[field] = this.$form.find('[name="' + field + '"]');
                }
            }

            return this._cacheFields[field];
        },

        /**
         * Get the field value after applying transformer
         *
         * @param {String|jQuery} field The field name or field element
         * @param {String} validatorName The validator name
         * @returns {String}
         */
        getFieldValue: function(field, validatorName) {
            var $field, ns = this._namespace;
            if ('string' === typeof field) {
                $field = this.getFieldElements(field);
                if ($field.length === 0) {
                    return null;
                }
            } else {
                $field = field;
                field  = $field.attr('data-' + ns + '-field');
            }

            if (!field || !this.options.fields[field]) {
                return $field.val();
            }

            var transformer = (this.options.fields[field].validators && this.options.fields[field].validators[validatorName]
                    ? this.options.fields[field].validators[validatorName].transformer : null)
                || this.options.fields[field].transformer;
            return transformer ? FormValidation.Helper.call(transformer, [$field, validatorName]) : $field.val();
        },

        /**
         * Get the namespace
         *
         * @returns {String}
         */
        getNamespace: function() {
            return this._namespace;
        },

        /**
         * Get the field options
         *
         * @param {String|jQuery} [field] The field name or field element. If it is not set, the method returns the form options
         * @param {String} [validator] The name of validator. It null, the method returns form options
         * @param {String} [option] The option name
         * @return {String|Object}
         */
        getOptions: function(field, validator, option) {
            var ns = this._namespace;
            if (!field) {
                return option ? this.options[option] : this.options;
            }
            if ('object' === typeof field) {
                field = field.attr('data-' + ns + '-field');
            }
            if (!this.options.fields[field]) {
                return null;
            }

            var options = this.options.fields[field];
            if (!validator) {
                return option ? options[option] : options;
            }
            if (!options.validators || !options.validators[validator]) {
                return null;
            }

            return option ? options.validators[validator][option] : options.validators[validator];
        },

        /**
         * Get the validating result of field
         *
         * @param {String|jQuery} field The field name or field element
         * @param {String} validatorName The validator name
         * @returns {String} The status. Can be 'NOT_VALIDATED', 'VALIDATING', 'INVALID' or 'VALID'
         */
        getStatus: function(field, validatorName) {
            var ns = this._namespace;
            switch (typeof field) {
                case 'object':
                    return field.data(ns + '.result.' + validatorName);
                case 'string':
                /* falls through */
                default:
                    return this.getFieldElements(field).eq(0).data(ns + '.result.' + validatorName);
            }
        },

        /**
         * Check whether or not a field option is enabled
         *
         * @param {String} field The field name
         * @param {String} option The option name, "verbose", "autoFocus", for example
         * @returns {Boolean}
         */
        isOptionEnabled: function(field, option) {
            if (this.options.fields[field] && (this.options.fields[field][option] === 'true' || this.options.fields[field][option] === true)) {
                return true;
            }
            if (this.options.fields[field] && (this.options.fields[field][option] === 'false' || this.options.fields[field][option] === false)) {
                return false;
            }
            return this.options[option] === 'true' || this.options[option] === true;
        },

        /**
         * Check the form validity
         *
         * @returns {Boolean|null} Returns one of three values
         * - true, if all fields are valid
         * - false, if there is one invalid field
         * - null, if there is at least one field which is not validated yet or being validated
         */
        isValid: function() {
            for (var field in this.options.fields) {
                var isValidField = this.isValidField(field);
                if (isValidField === null) {
                    return null;
                }
                if (isValidField === false) {
                    return false;
                }
            }

            return true;
        },

        /**
         * Check if all fields inside a given container are valid.
         * It's useful when working with a wizard-like such as tab, collapse
         *
         * @param {String|jQuery} container The container selector or element
         * @returns {Boolean|null} Returns one of three values
         * - true, if all fields inside the container are valid
         * - false, if there is one invalid field inside the container
         * - null, if the container consists of at least one field which is not validated yet or being validated
         */
        isValidContainer: function(container) {
            var that       = this,
                ns         = this._namespace,
                map        = {},
                $container = ('string' === typeof container) ? $(container) : container;
            if ($container.length === 0) {
                return true;
            }

            $container.find('[data-' + ns + '-field]').each(function() {
                var $field = $(this),
                    field  = $field.attr('data-' + ns + '-field');
                if (!that._isExcluded($field) && !map[field]) {
                    map[field] = $field;
                }
            });

            for (var field in map) {
                var $f      = map[field],
                    $errors = $f.data(ns + '.messages')
                        .find('.' + this.options.err.clazz.split(' ').join('.') + '[data-' + ns + '-validator][data-' + ns + '-for="' + field + '"]');

                if ($errors.filter('[data-' + ns + '-result="' + this.STATUS_INVALID + '"]').length > 0) {
                    return false;
                }

                // If the field is not validated
                if ($errors.filter('[data-' + ns + '-result="' + this.STATUS_NOT_VALIDATED + '"]').length > 0
                    || $errors.filter('[data-' + ns + '-result="' + this.STATUS_VALIDATING + '"]').length > 0)
                {
                    return null;
                }
            }

            return true;
        },

        /**
         * Check if the field is valid or not
         *
         * @param {String|jQuery} field The field name or field element
         * @returns {Boolean|null} Returns one of three values
         * - true, if the field passes all validators
         * - false, if the field doesn't pass any validator
         * - null, if there is at least one validator which isn't validated yet or being validated
         */
        isValidField: function(field) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }
            if (fields.length === 0 || !this.options.fields[field] || this.options.fields[field].enabled === false) {
                return true;
            }

            var type  = fields.attr('type'),
                total = ('radio' === type || 'checkbox' === type) ? 1 : fields.length,
                $field, validatorName, status;
            for (var i = 0; i < total; i++) {
                $field = fields.eq(i);
                if (this._isExcluded($field)) {
                    continue;
                }

                for (validatorName in this.options.fields[field].validators) {
                    if (this.options.fields[field].validators[validatorName].enabled === false) {
                        continue;
                    }

                    status = $field.data(ns + '.result.' + validatorName);
                    if (status === this.STATUS_VALIDATING || status === this.STATUS_NOT_VALIDATED) {
                        return null;
                    } else if (status === this.STATUS_INVALID) {
                        return false;
                    }
                }
            }

            return true;
        },

        /**
         * Detach a handler function for a field live change event
         *
         * @param {jQuery[]} $fields The field elements
         * @param {String} namespace The event namespace
         * @returns {FormValidation.Base}
         */
        offLiveChange: function($fields, namespace) {
            if ($fields === null || $fields.length === 0) {
                return this;
            }

            var ns      = this._namespace,
                trigger = this._getFieldTrigger($fields.eq(0)),
                events  = $.map(trigger, function(item) {
                    return item + '.' + namespace + '.' + ns;
                }).join(' ');

            $fields.off(events);
            return this;
        },

        /**
         * Attach a handler function for a field live change event
         *
         * @param {jQuery[]} $fields The field elements
         * @param {String} namespace The event namespace
         * @param {Function} handler The handler function
         * @returns {FormValidation.Base}
         */
        onLiveChange: function($fields, namespace, handler) {
            if ($fields === null || $fields.length === 0) {
                return this;
            }

            var ns      = this._namespace,
                trigger = this._getFieldTrigger($fields.eq(0)),
                events  = $.map(trigger, function(item) {
                    return item + '.' + namespace + '.' + ns;
                }).join(' ');

            switch (this.options.live) {
                case 'submitted':
                    break;
                case 'disabled':
                    $fields.off(events);
                    break;
                case 'enabled':
                /* falls through */
                default:
                    $fields.off(events).on(events, function(e) {
                        handler.apply(this, arguments);
                    });
                    break;
            }

            return this;
        },

        /**
         * Update the error message
         *
         * @param {String|jQuery} field The field name or field element
         * @param {String} validator The validator name
         * @param {String} message The message
         * @returns {FormValidation.Base}
         */
        updateMessage: function(field, validator, message) {
            var that    = this,
                ns      = this._namespace,
                $fields = $([]);
            switch (typeof field) {
                case 'object':
                    $fields = field;
                    field   = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    $fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            $fields.each(function() {
                $(this)
                    .data(ns + '.messages')
                    .find('.' + that.options.err.clazz + '[data-' + ns + '-validator="' + validator + '"][data-' + ns + '-for="' + field + '"]').html(message);
            });
        },

        /**
         * Update all validating results of field
         *
         * @param {String|jQuery} field The field name or field element
         * @param {String} status The status. Can be 'NOT_VALIDATED', 'VALIDATING', 'INVALID' or 'VALID'
         * @param {String} [validatorName] The validator name. If null, the method updates validity result for all validators
         * @returns {FormValidation.Base}
         */
        updateStatus: function(field, status, validatorName) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            if (!field || !this.options.fields[field]) {
                return this;
            }

            if (status === this.STATUS_NOT_VALIDATED) {
                // Reset the flag
                // To prevent the form from doing submit when a deferred validator returns true while typing
                this._submitIfValid = false;
            }

            var that  = this,
                type  = fields.attr('type'),
                row   = this.options.fields[field].row || this.options.row.selector,
                total = ('radio' === type || 'checkbox' === type) ? 1 : fields.length;

            for (var i = 0; i < total; i++) {
                var $field       = fields.eq(i);
                if (this._isExcluded($field)) {
                    continue;
                }

                var $parent      = $field.closest(row),
                    $message     = $field.data(ns + '.messages'),
                    $allErrors   = $message.find('.' + this.options.err.clazz.split(' ').join('.') + '[data-' + ns + '-validator][data-' + ns + '-for="' + field + '"]'),
                    $errors      = validatorName ? $allErrors.filter('[data-' + ns + '-validator="' + validatorName + '"]') : $allErrors,
                    $icon        = $field.data(ns + '.icon'),
                // Support backward
                    container    = ('function' === typeof (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container))
                        ? (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container).call(this, $field, this)
                        : (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container),
                    isValidField = null;

                // Update status
                if (validatorName) {
                    $field.data(ns + '.result.' + validatorName, status);
                } else {
                    for (var v in this.options.fields[field].validators) {
                        $field.data(ns + '.result.' + v, status);
                    }
                }

                // Show/hide error elements and feedback icons
                $errors.attr('data-' + ns + '-result', status);

                switch (status) {
                    case this.STATUS_VALIDATING:
                        isValidField = null;
                        this.disableSubmitButtons(true);
                        $field.removeClass(this.options.control.valid).removeClass(this.options.control.invalid);
                        $parent.removeClass(this.options.row.valid).removeClass(this.options.row.invalid);
                        if ($icon) {
                            $icon.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).addClass(this.options.icon.validating).show();
                        }
                        break;

                    case this.STATUS_INVALID:
                        isValidField = false;
                        this.disableSubmitButtons(true);
                        $field.removeClass(this.options.control.valid).addClass(this.options.control.invalid);
                        $parent.removeClass(this.options.row.valid).addClass(this.options.row.invalid);
                        if ($icon) {
                            $icon.removeClass(this.options.icon.valid).removeClass(this.options.icon.validating).addClass(this.options.icon.invalid).show();
                        }
                        break;

                    case this.STATUS_VALID:
                        var isValidating   = ($allErrors.filter('[data-' + ns + '-result="' + this.STATUS_VALIDATING +'"]').length > 0),
                            isNotValidated = ($allErrors.filter('[data-' + ns + '-result="' + this.STATUS_NOT_VALIDATED +'"]').length > 0);

                        // If the field is valid (passes all validators)
                        isValidField = (isValidating || isNotValidated)     // There are some validators that have not done
                            ? null
                            : ($allErrors.filter('[data-' + ns + '-result="' + this.STATUS_VALID +'"]').length === $allErrors.length); // All validators are completed

                        $field.removeClass(this.options.control.valid).removeClass(this.options.control.invalid);

                        if (isValidField === true) {
                            var isValid = this.isValid();
                            if (this.$submitButton && isValid !== null) {
                                this.disableSubmitButtons(!isValid);
                            }

                            $field.addClass(this.options.control.valid);
                        } else if (isValidField === false) {
                            this.disableSubmitButtons(true);
                            $field.addClass(this.options.control.invalid);
                        }

                        if ($icon) {
                            $icon
                                .removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).removeClass(this.options.icon.valid)
                                .addClass(isValidField ? this.options.icon.valid : (isValidating ? this.options.icon.validating : this.options.icon.invalid))
                                .show();
                        }

                        var isValidContainer = this.isValidContainer($parent);
                        if (isValidContainer !== null) {
                            $parent.removeClass(this.options.row.valid).removeClass(this.options.row.invalid).addClass(isValidContainer ? this.options.row.valid : this.options.row.invalid);
                        }
                        break;

                    case this.STATUS_NOT_VALIDATED:
                    /* falls through */
                    default:
                        isValidField = null;
                        this.disableSubmitButtons(false);
                        $field.removeClass(this.options.control.valid).removeClass(this.options.control.invalid);
                        $parent.removeClass(this.options.row.valid).removeClass(this.options.row.invalid);
                        if ($icon) {
                            $icon.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).hide();
                        }
                        break;
                }

                if ($icon && ('tooltip' === container || 'popover' === container)) {
                    (isValidField === false)
                        // Only show the first error message
                        ? this._createTooltip($field, $allErrors.filter('[data-' + ns + '-result="' + that.STATUS_INVALID + '"]').eq(0).html(), container)
                        : this._destroyTooltip($field, container);
                } else {
                    (status === this.STATUS_INVALID) ? $errors.show() : $errors.hide();
                }

                // Trigger an event
                $field.trigger($.Event(this.options.events.fieldStatus), {
                    bv: this,   // Support backward
                    fv: this,
                    field: field,
                    element: $field,
                    status: status
                });
                this._onFieldValidated($field, validatorName);
            }

            return this;
        },

        /**
         * Validate the form
         *
         * @returns {FormValidation.Base}
         */
        validate: function() {
            if (!this.options.fields) {
                return this;
            }
            this.disableSubmitButtons(true);

            this._submitIfValid = false;
            for (var field in this.options.fields) {
                this.validateField(field);
            }

            this._submit();
            this._submitIfValid = true;

            return this;
        },

        /**
         * Validate given field
         *
         * @param {String|jQuery} field The field name or field element
         * @returns {FormValidation.Base}
         */
        validateField: function(field) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            if (fields.length === 0 || !this.options.fields[field] || this.options.fields[field].enabled === false) {
                return this;
            }

            var that       = this,
                type       = fields.attr('type'),
                total      = ('radio' === type || 'checkbox' === type) ? 1 : fields.length,
                updateAll  = ('radio' === type || 'checkbox' === type),
                validators = this.options.fields[field].validators,
                verbose    = this.isOptionEnabled(field, 'verbose'),
                validatorName,
                validateResult;

            for (var i = 0; i < total; i++) {
                var $field = fields.eq(i);
                if (this._isExcluded($field)) {
                    continue;
                }

                var stop = false;
                for (validatorName in validators) {
                    if ($field.data(ns + '.dfs.' + validatorName)) {
                        $field.data(ns + '.dfs.' + validatorName).reject();
                    }
                    if (stop) {
                        break;
                    }

                    // Don't validate field if it is already done
                    var result = $field.data(ns + '.result.' + validatorName);
                    if (result === this.STATUS_VALID || result === this.STATUS_INVALID) {
                        this._onFieldValidated($field, validatorName);
                        continue;
                    } else if (validators[validatorName].enabled === false) {
                        this.updateStatus(updateAll ? field : $field, this.STATUS_VALID, validatorName);
                        continue;
                    }

                    $field.data(ns + '.result.' + validatorName, this.STATUS_VALIDATING);
                    validateResult = FormValidation.Validator[validatorName].validate(this, $field, validators[validatorName]);

                    // validateResult can be a $.Deferred object ...
                    if ('object' === typeof validateResult && validateResult.resolve) {
                        this.updateStatus(updateAll ? field : $field, this.STATUS_VALIDATING, validatorName);
                        $field.data(ns + '.dfs.' + validatorName, validateResult);

                        validateResult.done(function($f, v, response) {
                            // v is validator name
                            $f.removeData(ns + '.dfs.' + v).data(ns + '.response.' + v, response);
                            if (response.message) {
                                that.updateMessage($f, v, response.message);
                            }

                            that.updateStatus(updateAll ? $f.attr('data-' + ns + '-field') : $f, response.valid ? that.STATUS_VALID : that.STATUS_INVALID, v);

                            if (response.valid && that._submitIfValid === true) {
                                // If a remote validator returns true and the form is ready to submit, then do it
                                that._submit();
                            } else if (!response.valid && !verbose) {
                                stop = true;
                            }
                        });
                    }
                    // ... or object { valid: true/false, message: 'dynamic message', otherKey: value, ... }
                    else if ('object' === typeof validateResult && validateResult.valid !== undefined) {
                        $field.data(ns + '.response.' + validatorName, validateResult);
                        if (validateResult.message) {
                            this.updateMessage(updateAll ? field : $field, validatorName, validateResult.message);
                        }
                        this.updateStatus(updateAll ? field : $field, validateResult.valid ? this.STATUS_VALID : this.STATUS_INVALID, validatorName);
                        if (!validateResult.valid && !verbose) {
                            break;
                        }
                    }
                    // ... or a boolean value
                    else if ('boolean' === typeof validateResult) {
                        $field.data(ns + '.response.' + validatorName, validateResult);
                        this.updateStatus(updateAll ? field : $field, validateResult ? this.STATUS_VALID : this.STATUS_INVALID, validatorName);
                        if (!validateResult && !verbose) {
                            break;
                        }
                    }
                }
            }

            return this;
        },

        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        // Useful APIs which aren't used internally
        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        /**
         * Add a new field
         *
         * @param {String|jQuery} field The field name or field element
         * @param {Object} [options] The validator rules
         * @returns {FormValidation.Base}
         */
        addField: function(field, options) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field') || field.attr('name');
                    break;
                case 'string':
                    delete this._cacheFields[field];
                    fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            fields.attr('data-' + ns + '-field', field);

            var type  = fields.attr('type'),
                total = ('radio' === type || 'checkbox' === type) ? 1 : fields.length;

            for (var i = 0; i < total; i++) {
                var $field = fields.eq(i);

                // Try to parse the options from HTML attributes
                var opts = this._parseOptions($field);
                opts = (opts === null) ? options : $.extend(true, options, opts);

                this.options.fields[field] = $.extend(true, this.options.fields[field], opts);

                // Update the cache
                this._cacheFields[field] = this._cacheFields[field] ? this._cacheFields[field].add($field) : $field;

                // Init the element
                this._initField(('checkbox' === type || 'radio' === type) ? field : $field);
            }

            this.disableSubmitButtons(false);
            // Trigger an event
            this.$form.trigger($.Event(this.options.events.fieldAdded), {
                field: field,
                element: fields,
                options: this.options.fields[field]
            });

            return this;
        },

        /**
         * Destroy the plugin
         * It will remove all error messages, feedback icons and turn off the events
         */
        destroy: function() {
            var ns = this._namespace, i, field, fields, $field, validator, $icon, row;

            // Destroy the validators first
            for (field in this.options.fields) {
                fields = this.getFieldElements(field);
                for (i = 0; i < fields.length; i++) {
                    $field = fields.eq(i);
                    for (validator in this.options.fields[field].validators) {
                        if ($field.data(ns + '.dfs.' + validator)) {
                            $field.data(ns + '.dfs.' + validator).reject();
                        }
                        $field.removeData(ns + '.result.' + validator)
                            .removeData(ns + '.response.' + validator)
                            .removeData(ns + '.dfs.' + validator);

                        // Destroy the validator
                        if ('function' === typeof FormValidation.Validator[validator].destroy) {
                            FormValidation.Validator[validator].destroy(this, $field, this.options.fields[field].validators[validator]);
                        }
                    }
                }
            }

            // Remove messages and icons
            for (field in this.options.fields) {
                fields = this.getFieldElements(field);
                row    = this.options.fields[field].row || this.options.row.selector;
                for (i = 0; i < fields.length; i++) {
                    $field = fields.eq(i);
                    $field
                        // Remove all error messages
                        .data(ns + '.messages')
                        .find('.' + this.options.err.clazz.split(' ').join('.') + '[data-' + ns + '-validator][data-' + ns + '-for="' + field + '"]').remove().end()
                        .end()
                        .removeData(ns + '.messages')
                        // Remove feedback classes
                        .closest(row)
                        .removeClass(this.options.row.valid)
                        .removeClass(this.options.row.invalid)
                        .removeClass(this.options.row.feedback)
                        .end()
                        // Turn off events
                        .off('.' + ns)
                        .removeAttr('data-' + ns + '-field');

                    // Remove feedback icons, tooltip/popover container
                    // Support backward
                    var container = ('function' === typeof (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container))
                        ? (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container).call(this, $field, this)
                        : (this.options.fields[field].container || this.options.fields[field].err || this.options.err.container);
                    if ('tooltip' === container || 'popover' === container) {
                        this._destroyTooltip($field, container);
                    }

                    $icon = $field.data(ns + '.icon');
                    if ($icon) {
                        $icon.remove();
                    }
                    $field.removeData(ns + '.icon')
                        // It's safe to remove trigger data here, because it might be used when destroying the validator
                        .removeData(ns + '.trigger');
                }
            }

            // Destroy the add-ons
            for (var addOn in this.options.addOns) {
                if ('function' === typeof FormValidation.AddOn[addOn].destroy) {
                    FormValidation.AddOn[addOn].destroy(this, this.options.addOns[addOn]);
                }
            }

            this.disableSubmitButtons(false);   // Enable submit buttons
            this.$hiddenButton.remove();        // Remove the hidden button

            this.$form
                .removeClass(this.options.elementClass)
                .off('.' + ns)
                .removeData('bootstrapValidator')   // Support backward
                .removeData('formValidation')
                // Remove generated hidden elements
                .find('[data-' + ns + '-submit-hidden]').remove().end()
                .find('[type="submit"]')
                .off('click.' + ns);
        },

        /**
         * Enable/Disable all validators to given field
         *
         * @param {String} field The field name
         * @param {Boolean} enabled Enable/Disable field validators
         * @param {String} [validatorName] The validator name. If null, all validators will be enabled/disabled
         * @returns {FormValidation.Base}
         */
        enableFieldValidators: function(field, enabled, validatorName) {
            var validators = this.options.fields[field].validators;

            // Enable/disable particular validator
            if (validatorName
                && validators
                && validators[validatorName] && validators[validatorName].enabled !== enabled)
            {
                this.options.fields[field].validators[validatorName].enabled = enabled;
                this.updateStatus(field, this.STATUS_NOT_VALIDATED, validatorName);
            }
            // Enable/disable all validators
            else if (!validatorName && this.options.fields[field].enabled !== enabled) {
                this.options.fields[field].enabled = enabled;
                for (var v in validators) {
                    this.enableFieldValidators(field, enabled, v);
                }
            }

            return this;
        },

        /**
         * Some validators have option which its value is dynamic.
         * For example, the zipCode validator has the country option which might be changed dynamically by a select element.
         *
         * @param {jQuery|String} field The field name or element
         * @param {String|Function} option The option which can be determined by:
         * - a string
         * - name of field which defines the value
         * - name of function which returns the value
         * - a function returns the value
         *
         * The callback function has the format of
         *      callback: function(value, validator, $field) {
         *          // value is the value of field
         *          // validator is the BootstrapValidator instance
         *          // $field is the field element
         *      }
         *
         * @returns {String}
         */
        getDynamicOption: function(field, option) {
            var $field = ('string' === typeof field) ? this.getFieldElements(field) : field,
                value  = $field.val();

            // Option can be determined by
            // ... a function
            if ('function' === typeof option) {
                return FormValidation.Helper.call(option, [value, this, $field]);
            }
            // ... value of other field
            else if ('string' === typeof option) {
                var $f = this.getFieldElements(option);
                if ($f.length) {
                    return $f.val();
                }
                // ... return value of callback
                else {
                    return FormValidation.Helper.call(option, [value, this, $field]) || option;
                }
            }

            return null;
        },

        /**
         * Get the form element
         *
         * @returns {jQuery}
         */
        getForm: function() {
            return this.$form;
        },

        /**
         * Get the list of invalid fields
         *
         * @returns {jQuery[]}
         */
        getInvalidFields: function() {
            return this.$invalidFields;
        },

        /**
         * Get the current locale
         *
         * @return {String}
         */
        getLocale: function() {
            return this.options.locale;
        },

        /**
         * Get the error messages
         *
         * @param {String|jQuery} [field] The field name or field element
         * If the field is not defined, the method returns all error messages of all fields
         * @param {String} [validator] The name of validator
         * If the validator is not defined, the method returns error messages of all validators
         * @returns {String[]}
         */
        getMessages: function(field, validator) {
            var that     = this,
                ns       = this._namespace,
                messages = [],
                $fields  = $([]);

            switch (true) {
                case (field && 'object' === typeof field):
                    $fields = field;
                    break;
                case (field && 'string' === typeof field):
                    var f = this.getFieldElements(field);
                    if (f.length > 0) {
                        var type = f.attr('type');
                        $fields = ('radio' === type || 'checkbox' === type) ? f.eq(0) : f;
                    }
                    break;
                default:
                    $fields = this.$invalidFields;
                    break;
            }

            var filter = validator ? '[data-' + ns + '-validator="' + validator + '"]' : '';
            $fields.each(function() {
                messages = messages.concat(
                    $(this)
                        .data(ns + '.messages')
                        .find('.' + that.options.err.clazz + '[data-' + ns + '-for="' + $(this).attr('data-' + ns + '-field') + '"][data-' + ns + '-result="' + that.STATUS_INVALID + '"]' + filter)
                        .map(function() {
                            var v = $(this).attr('data-' + ns + '-validator'),
                                f = $(this).attr('data-' + ns + '-for');
                            return (that.options.fields[f].validators[v].enabled === false) ? '' : $(this).html();
                        })
                        .get()
                );
            });

            return messages;
        },

        /**
         * Returns the clicked submit button
         *
         * @returns {jQuery}
         */
        getSubmitButton: function() {
            return this.$submitButton;
        },

        /**
         * Remove a given field
         *
         * @param {String|jQuery} field The field name or field element
         * @returns {FormValidation.Base}
         */
        removeField: function(field) {
            var ns     = this._namespace,
                fields = $([]);
            switch (typeof field) {
                case 'object':
                    fields = field;
                    field  = field.attr('data-' + ns + '-field') || field.attr('name');
                    fields.attr('data-' + ns + '-field', field);
                    break;
                case 'string':
                    fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            if (fields.length === 0) {
                return this;
            }

            var type  = fields.attr('type'),
                total = ('radio' === type || 'checkbox' === type) ? 1 : fields.length;

            for (var i = 0; i < total; i++) {
                var $field = fields.eq(i);

                // Remove from the list of invalid fields
                this.$invalidFields = this.$invalidFields.not($field);

                // Update the cache
                this._cacheFields[field] = this._cacheFields[field].not($field);
            }

            if (!this._cacheFields[field] || this._cacheFields[field].length === 0) {
                delete this.options.fields[field];
            }
            if ('checkbox' === type || 'radio' === type) {
                this._initField(field);
            }

            this.disableSubmitButtons(false);
            // Trigger an event
            this.$form.trigger($.Event(this.options.events.fieldRemoved), {
                field: field,
                element: fields
            });

            return this;
        },

        /**
         * Reset given field
         *
         * @param {String|jQuery} field The field name or field element
         * @param {Boolean} [resetValue] If true, the method resets field value to empty or remove checked/selected attribute (for radio/checkbox)
         * @returns {FormValidation.Base}
         */
        resetField: function(field, resetValue) {
            var ns      = this._namespace,
                $fields = $([]);
            switch (typeof field) {
                case 'object':
                    $fields = field;
                    field   = field.attr('data-' + ns + '-field');
                    break;
                case 'string':
                    $fields = this.getFieldElements(field);
                    break;
                default:
                    break;
            }

            var total = $fields.length;
            if (this.options.fields[field]) {
                for (var i = 0; i < total; i++) {
                    for (var validator in this.options.fields[field].validators) {
                        $fields.eq(i).removeData(ns + '.dfs.' + validator);
                    }
                }
            }

            // Mark field as not validated yet
            this.updateStatus(field, this.STATUS_NOT_VALIDATED);

            if (resetValue) {
                var type = $fields.attr('type');
                ('radio' === type || 'checkbox' === type) ? $fields.removeAttr('checked').removeAttr('selected') : $fields.val('');
            }

            return this;
        },

        /**
         * Reset the form
         *
         * @param {Boolean} [resetValue] If true, the method resets field value to empty or remove checked/selected attribute (for radio/checkbox)
         * @returns {FormValidation.Base}
         */
        resetForm: function(resetValue) {
            for (var field in this.options.fields) {
                this.resetField(field, resetValue);
            }

            this.$invalidFields = $([]);
            this.$submitButton  = null;

            // Enable submit buttons
            this.disableSubmitButtons(false);

            return this;
        },

        /**
         * Revalidate given field
         * It's used when you need to revalidate the field which its value is updated by other plugin
         *
         * @param {String|jQuery} field The field name of field element
         * @returns {FormValidation.Base}
         */
        revalidateField: function(field) {
            this.updateStatus(field, this.STATUS_NOT_VALIDATED)
                .validateField(field);

            return this;
        },

        /**
         * Set the locale
         *
         * @param {String} locale The locale in format of countrycode_LANGUAGECODE
         * @returns {FormValidation.Base}
         */
        setLocale: function(locale) {
            this.options.locale = locale;
            this.$form.trigger($.Event(this.options.events.localeChanged), {
                locale: locale,
                bv: this,   // Support backward
                fv: this
            });

            return this;
        },

        /**
         * Update the option of a specific validator
         *
         * @param {String|jQuery} field The field name or field element
         * @param {String} validator The validator name
         * @param {String} option The option name
         * @param {String} value The value to set
         * @returns {FormValidation.Base}
         */
        updateOption: function(field, validator, option, value) {
            var ns = this._namespace;
            if ('object' === typeof field) {
                field = field.attr('data-' + ns + '-field');
            }
            if (this.options.fields[field] && this.options.fields[field].validators[validator]) {
                this.options.fields[field].validators[validator][option] = value;
                this.updateStatus(field, this.STATUS_NOT_VALIDATED, validator);
            }

            return this;
        },

        /**
         * Validate given container
         * It can be used with isValidContainer() when you want to work with wizard form
         *
         * @param {String|jQuery} container The container selector or element
         * @returns {FormValidation.Base}
         */
        validateContainer: function(container) {
            var that       = this,
                ns         = this._namespace,
                map        = {},
                $container = ('string' === typeof container) ? $(container) : container;
            if ($container.length === 0) {
                return this;
            }

            $container.find('[data-' + ns + '-field]').each(function() {
                var $field = $(this),
                    field  = $field.attr('data-' + ns + '-field');
                if (!that._isExcluded($field) && !map[field]) {
                    map[field] = $field;
                }
            });

            for (var field in map) {
                this.validateField(map[field]);
            }

            return this;
        }
    };

    // Plugin definition
    $.fn.formValidation = function(option) {
        var params = arguments;
        return this.each(function() {
            var $this   = $(this),
                data    = $this.data('formValidation'),
                options = 'object' === typeof option && option;
            if (!data) {
                var framework = (options.framework || $this.attr('data-fv-framework') || 'bootstrap').toLowerCase();
                switch (framework) {
                    case 'foundation':
                        data = new FormValidation.Framework.Foundation(this, options);
                        break;

                    case 'pure':
                        data = new FormValidation.Framework.Pure(this, options);
                        break;

                    case 'semantic':
                        data = new FormValidation.Framework.Semantic(this, options);
                        break;

                    case 'uikit':
                        data = new FormValidation.Framework.UIKit(this, options);
                        break;

                    case 'bootstrap':
                    /* falls through */
                    default:
                        data = new FormValidation.Framework.Bootstrap(this, options);
                        break;
                }

                $this.addClass('fv-form-' + framework)
                    .data('formValidation', data);
            }

            // Allow to call plugin method
            if ('string' === typeof option) {
                data[option].apply(data, Array.prototype.slice.call(params, 1));
            }
        });
    };

    $.fn.formValidation.Constructor = FormValidation.Base;

    // The default options
    // Sorted in alphabetical order
    $.fn.formValidation.DEFAULT_OPTIONS = {
        // The first invalid field will be focused automatically
        autoFocus: true,

        // The form CSS class
        elementClass: 'fv-form',

        // Use custom event name to avoid window.onerror being invoked by jQuery
        // See #630
        events: {
            // Support backward
            formInit: 'init.form.fv',
            formError: 'err.form.fv',
            formSuccess: 'success.form.fv',
            fieldAdded: 'added.field.fv',
            fieldRemoved: 'removed.field.fv',
            fieldInit: 'init.field.fv',
            fieldError: 'err.field.fv',
            fieldSuccess: 'success.field.fv',
            fieldStatus: 'status.field.fv',
            localeChanged: 'changed.locale.fv',
            validatorError: 'err.validator.fv',
            validatorSuccess: 'success.validator.fv'
        },

        // Indicate fields which won't be validated
        // By default, the plugin will not validate the following kind of fields:
        // - disabled
        // - hidden
        // - invisible
        //
        // The setting consists of jQuery filters. Accept 3 formats:
        // - A string. Use a comma to separate filter
        // - An array. Each element is a filter
        // - An array. Each element can be a callback function
        //      function($field, validator) {
        //          $field is jQuery object representing the field element
        //          validator is the BootstrapValidator instance
        //          return true or false;
        //      }
        //
        // The 3 following settings are equivalent:
        //
        // 1) ':disabled, :hidden, :not(:visible)'
        // 2) [':disabled', ':hidden', ':not(:visible)']
        // 3) [':disabled', ':hidden', function($field) {
        //        return !$field.is(':visible');
        //    }]
        excluded: [':disabled', ':hidden', ':not(:visible)'],

        // Map the field name with validator rules
        fields: null,

        // Live validating option
        // Can be one of 3 values:
        // - enabled: The plugin validates fields as soon as they are changed
        // - disabled: Disable the live validating. The error messages are only shown after the form is submitted
        // - submitted: The live validating is enabled after the form is submitted
        live: 'enabled',

        // Locale in the format of languagecode_COUNTRYCODE
        locale: 'en_US',

        // Default invalid message
        message: 'This value is not valid',

        // The field will not be live validated if its length is less than this number of characters
        threshold: null,

        // Whether to be verbose when validating a field or not.
        // Possible values:
        // - true:  when a field has multiple validators, all of them will be checked, and respectively - if errors occur in
        //          multiple validators, all of them will be displayed to the user
        // - false: when a field has multiple validators, validation for this field will be terminated upon the first encountered error.
        //          Thus, only the very first error message related to this field will be displayed to the user
        verbose: true,

        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        // These options mostly are overridden by specific framework
        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

        button: {
            // The submit buttons selector
            // These buttons will be disabled to prevent the valid form from multiple submissions
            selector: '[type="submit"]',

            // The disabled class
            disabled: ''
        },

        control: {
            // The CSS class for valid control
            valid: '',

            // The CSS class for invalid control
            invalid: ''
        },

        err: {
            // The CSS class of each message element
            clazz: '',

            // The error messages container. It can be:
            // - 'tooltip' if you want to use Bootstrap tooltip to show error messages
            // - 'popover' if you want to use Bootstrap popover to show error messages
            // - a CSS selector indicating the container
            // In the first two cases, since the tooltip/popover should be small enough, the plugin only shows only one error message
            // You also can define the message container for particular field
            container: null,

            // Used to determine where the messages are placed
            parent: null
        },

        // Shows ok/error/loading icons based on the field validity.
        icon: {
            valid: null,
            invalid: null,
            validating: null,
            feedback: ''
        },

        row: {
            // The CSS selector for indicating the element consists of the field
            // You should adjust this option if your form group consists of many fields which not all of them need to be validated
            selector: null,
            valid: '',
            invalid: '',
            feedback: ''
        }
    };
}(require("../jquery")));

},{"../jquery":57}],30:[function(require,module,exports){
require("./helper");

require("./validators/minAlpha");
require("./validators/between");
require("./validators/callback");
require("./validators/date");
require("./validators/different");
require("./validators/emailAddress");
require("./validators/lessThan");
require("./validators/greaterThan");
require("./validators/identical");
require("./validators/integer");
require("./validators/notEmpty");
require("./validators/numeric");
require("./validators/minNumeric");
require("./validators/regexp");
require("./validators/stringLength");
require("./validators/select");
require("./validators/specialChar");
require("./validators/minUpperCase");
require("./validators/minLowerCase");
require("./validators/restrictedWords");
require("./validators/fullEmailAddress");
require("./validators/digits");
require("./validators/choice");
},{"./helper":31,"./validators/between":32,"./validators/callback":33,"./validators/choice":34,"./validators/date":35,"./validators/different":36,"./validators/digits":37,"./validators/emailAddress":38,"./validators/fullEmailAddress":39,"./validators/greaterThan":40,"./validators/identical":41,"./validators/integer":42,"./validators/lessThan":43,"./validators/minAlpha":44,"./validators/minLowerCase":45,"./validators/minNumeric":46,"./validators/minUpperCase":47,"./validators/notEmpty":48,"./validators/numeric":49,"./validators/regexp":50,"./validators/restrictedWords":51,"./validators/select":52,"./validators/specialChar":53,"./validators/stringLength":54}],31:[function(require,module,exports){
/**
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit frameworks
 *
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */

(function($) {
    // Helper methods, which can be used in validator class
    FormValidation.Helper = {
        /**
         * Execute a callback function
         *
         * @param {String|Function} functionName Can be
         * - name of global function
         * - name of namespace function (such as A.B.C)
         * - a function
         * @param {Array} args The callback arguments
         */
        call: function(functionName, args) {
            if ('function' === typeof functionName) {
                return functionName.apply(this, args);
            } else if ('string' === typeof functionName) {
                if ('()' === functionName.substring(functionName.length - 2)) {
                    functionName = functionName.substring(0, functionName.length - 2);
                }
                var ns      = functionName.split('.'),
                    func    = ns.pop(),
                    context = window;
                for (var i = 0; i < ns.length; i++) {
                    context = context[ns[i]];
                }

                return (typeof context[func] === 'undefined') ? null : context[func].apply(this, args);
            }
        },

        /**
         * Validate a date
         *
         * @param {Number} year The full year in 4 digits
         * @param {Number} month The month number
         * @param {Number} day The day number
         * @param {Boolean} [notInFuture] If true, the date must not be in the future
         * @returns {Boolean}
         */
        date: function(year, month, day, notInFuture) {
            if (isNaN(year) || isNaN(month) || isNaN(day)) {
                return false;
            }
            if (day.length > 2 || month.length > 2 || year.length > 4) {
                return false;
            }

            day   = parseInt(day, 10);
            month = parseInt(month, 10);
            year  = parseInt(year, 10);

            if (year < 1000 || year > 9999 || month <= 0 || month > 12) {
                return false;
            }
            var numDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            // Update the number of days in Feb of leap year
            if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {
                numDays[1] = 29;
            }

            // Check the day
            if (day <= 0 || day > numDays[month - 1]) {
                return false;
            }

            if (notInFuture === true) {
                var currentDate  = new Date(),
                    currentYear  = currentDate.getFullYear(),
                    currentMonth = currentDate.getMonth(),
                    currentDay   = currentDate.getDate();
                return (year < currentYear
                || (year === currentYear && month - 1 < currentMonth)
                || (year === currentYear && month - 1 === currentMonth && day < currentDay));
            }

            return true;
        },

        /**
         * Format a string
         * It's used to format the error message
         * format('The field must between %s and %s', [10, 20]) = 'The field must between 10 and 20'
         *
         * @param {String} message
         * @param {Array} parameters
         * @returns {String}
         */
        format: function(message, parameters) {
            if (!$.isArray(parameters)) {
                parameters = [parameters];
            }

            for (var i in parameters) {
                message = message.replace('%s', parameters[i]);
            }

            return message;
        },

        /**
         * Implement Luhn validation algorithm
         * Credit to https://gist.github.com/ShirtlessKirk/2134376
         *
         * @see http://en.wikipedia.org/wiki/Luhn
         * @param {String} value
         * @returns {Boolean}
         */
        luhn: function(value) {
            var length  = value.length,
                mul     = 0,
                prodArr = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],
                sum     = 0;

            while (length--) {
                sum += prodArr[mul][parseInt(value.charAt(length), 10)];
                mul ^= 1;
            }

            return (sum % 10 === 0 && sum > 0);
        },

        /**
         * Implement modulus 11, 10 (ISO 7064) algorithm
         *
         * @param {String} value
         * @returns {Boolean}
         */
        mod11And10: function(value) {
            var check  = 5,
                length = value.length;
            for (var i = 0; i < length; i++) {
                check = (((check || 10) * 2) % 11 + parseInt(value.charAt(i), 10)) % 10;
            }
            return (check === 1);
        },

        /**
         * Implements Mod 37, 36 (ISO 7064) algorithm
         * Usages:
         * mod37And36('A12425GABC1234002M')
         * mod37And36('002006673085', '0123456789')
         *
         * @param {String} value
         * @param {String} [alphabet]
         * @returns {Boolean}
         */
        mod37And36: function(value, alphabet) {
            alphabet = alphabet || '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            var modulus = alphabet.length,
                length  = value.length,
                check   = Math.floor(modulus / 2);
            for (var i = 0; i < length; i++) {
                check = (((check || modulus) * 2) % (modulus + 1) + alphabet.indexOf(value.charAt(i))) % modulus;
            }
            return (check === 1);
        }
    };
}(require("../jquery")));

},{"../jquery":57}],32:[function(require,module,exports){
/**
 * between validator
 *
 * @link        http://formvalidation.io/validators/between/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            between: {
                'default': 'Please enter a value between %s and %s',
                notInclusive: 'Please enter a value between %s and %s strictly'
            }
        }
    });

    FormValidation.Validator.between = {
        html5Attributes: {
            message: 'message',
            min: 'min',
            max: 'max',
            inclusive: 'inclusive'
        },

        enableByHtml5: function($field) {
            if ('range' === $field.attr('type')) {
                return {
                    min: $field.attr('min'),
                    max: $field.attr('max')
                };
            }

            return false;
        },

        /**
         * Return true if the input value is between (strictly or not) two given numbers
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following keys:
         * - min
         * - max
         *
         * The min, max keys define the number which the field value compares to. min, max can be
         *      - A number
         *      - Name of field which its value defines the number
         *      - Name of callback function that returns the number
         *      - A callback function that returns the number
         *
         * - inclusive [optional]: Can be true or false. Default is true
         * - message: The invalid message
         * @returns {Boolean|Object}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'between');
            if (value === '') {
                return true;
            }

			value = this._format(value);
            if (!$.isNumeric(value)) {
                return false;
            }

            var locale   = validator.getLocale(),
                min      = $.isNumeric(options.min) ? options.min : validator.getDynamicOption($field, options.min),
                max      = $.isNumeric(options.max) ? options.max : validator.getDynamicOption($field, options.max),
                minValue = this._format(min),
                maxValue = this._format(max);

            value = parseFloat(value);
			return (options.inclusive === true || options.inclusive === undefined)
                    ? {
                        valid: value >= minValue && value <= maxValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].between['default'], [min, max])
                    }
                    : {
                        valid: value > minValue  && value <  maxValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].between.notInclusive, [min, max])
                    };
        },

        _format: function(value) {
            return (value + '').replace(',', '.');
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],33:[function(require,module,exports){
/**
 * callback validator
 *
 * @link        http://formvalidation.io/validators/callback/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            callback: {
                'default': 'Please enter a valid value'
            }
        }
    });

    FormValidation.Validator.callback = {
        html5Attributes: {
            message: 'message',
            callback: 'callback'
        },

        /**
         * Return result from the callback method
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following keys:
         * - callback: The callback method that passes 2 parameters:
         *      callback: function(fieldValue, validator, $field) {
         *          // fieldValue is the value of field
         *          // validator is instance of BootstrapValidator
         *          // $field is the field element
         *      }
         * - message: The invalid message
         * @returns {Deferred}
         */
        validate: function(validator, $field, options) {
            var value  = validator.getFieldValue($field, 'callback'),
                dfd    = new $.Deferred(),
                result = { valid: true };

            if (options.callback) {
                var response = FormValidation.Helper.call(options.callback, [value, validator, $field]);
                result = ('boolean' === typeof response) ? { valid: response } : response;
            }

            dfd.resolve($field, 'callback', result);
            return dfd;
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],34:[function(require,module,exports){
/**
 * choice validator
 *
 * @link        http://formvalidation.io/validators/choice/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            choice: {
                'default': 'Please enter a valid value',
                less: 'Please choose %s options at minimum',
                more: 'Please choose %s options at maximum',
                between: 'Please choose %s - %s options'
            }
        }
    });

    FormValidation.Validator.choice = {
        html5Attributes: {
            message: 'message',
            min: 'min',
            max: 'max'
        },

        /**
         * Check if the number of checked boxes are less or more than a given number
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of following keys:
         * - min
         * - max
         *
         * At least one of two keys is required
         * The min, max keys define the number which the field value compares to. min, max can be
         *      - A number
         *      - Name of field which its value defines the number
         *      - Name of callback function that returns the number
         *      - A callback function that returns the number
         *
         * - message: The invalid message
         * @returns {Object}
         */
        validate: function(validator, $field, options) {
            var locale     = validator.getLocale(),
                ns         = validator.getNamespace(),
                numChoices = $field.is('select')
                            ? validator.getFieldElements($field.attr('data-' + ns + '-field')).find('option').filter(':selected').length
                            : validator.getFieldElements($field.attr('data-' + ns + '-field')).filter(':checked').length,
                min        = options.min ? ($.isNumeric(options.min) ? options.min : validator.getDynamicOption($field, options.min)) : null,
                max        = options.max ? ($.isNumeric(options.max) ? options.max : validator.getDynamicOption($field, options.max)) : null,
                isValid    = true,
                message    = options.message || FormValidation.I18n[locale].choice['default'];

            if ((min && numChoices < parseInt(min, 10)) || (max && numChoices > parseInt(max, 10))) {
                isValid = false;
            }

            switch (true) {
                case (!!min && !!max):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].choice.between, [parseInt(min, 10), parseInt(max, 10)]);
                    break;

                case (!!min):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].choice.less, parseInt(min, 10));
                    break;

                case (!!max):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].choice.more, parseInt(max, 10));
                    break;

                default:
                    break;
            }

            return { valid: isValid, message: message };
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],35:[function(require,module,exports){
/**
 * date validator
 *
 * @link        http://formvalidation.io/validators/date/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            date: {
                'default': 'Please enter a valid date',
                min: 'Please enter a date after %s',
                max: 'Please enter a date before %s',
                range: 'Please enter a date in the range %s - %s'
            }
        }
    });

    FormValidation.Validator.date = {
        html5Attributes: {
            message: 'message',
            format: 'format',
            min: 'min',
            max: 'max',
            separator: 'separator'
        },

        /**
         * Return true if the input value is valid date
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following keys:
         * - message: The invalid message
         * - min: the minimum date
         * - max: the maximum date
         * - separator: Use to separate the date, month, and year.
         * By default, it is /
         * - format: The date format. Default is MM/DD/YYYY
         * The format can be:
         *
         * i) date: Consist of DD, MM, YYYY parts which are separated by the separator option
         * ii) date and time:
         * The time can consist of h, m, s parts which are separated by :
         * ii) date, time and A (indicating AM or PM)
         * @returns {Boolean|Object}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'date');
            if (value === '') {
                return true;
            }

            options.format = options.format || 'MM/DD/YYYY';

            // #683: Force the format to YYYY-MM-DD as the default browser behaviour when using type="date" attribute
            if ($field.attr('type') === 'date') {
                options.format = 'YYYY-MM-DD';
            }

            var locale     = validator.getLocale(),
                message    = options.message || FormValidation.I18n[locale].date['default'],
                formats    = options.format.split(' '),
                dateFormat = formats[0],
                timeFormat = (formats.length > 1) ? formats[1] : null,
                amOrPm     = (formats.length > 2) ? formats[2] : null,
                sections   = value.split(' '),
                date       = sections[0],
                time       = (sections.length > 1) ? sections[1] : null;

            if (formats.length !== sections.length) {
                return {
                    valid: false,
                    message: message
                };
            }

            // Determine the separator
            var separator = options.separator;
            if (!separator) {
                separator = (date.indexOf('/') !== -1) ? '/' : ((date.indexOf('-') !== -1) ? '-' : null);
            }
            if (separator === null || date.indexOf(separator) === -1) {
                return {
                    valid: false,
                    message: message
                };
            }

            // Determine the date
            date       = date.split(separator);
            dateFormat = dateFormat.split(separator);
            if (date.length !== dateFormat.length) {
                return {
                    valid: false,
                    message: message
                };
            }

            var year  = date[$.inArray('YYYY', dateFormat)],
                month = date[$.inArray('MM', dateFormat)],
                day   = date[$.inArray('DD', dateFormat)];

            if (!year || !month || !day || year.length !== 4) {
                return {
                    valid: false,
                    message: message
                };
            }

            // Determine the time
            var minutes = null, hours = null, seconds = null;
            if (timeFormat) {
                timeFormat = timeFormat.split(':');
                time       = time.split(':');

                if (timeFormat.length !== time.length) {
                    return {
                        valid: false,
                        message: message
                    };
                }

                hours   = time.length > 0 ? time[0] : null;
                minutes = time.length > 1 ? time[1] : null;
                seconds = time.length > 2 ? time[2] : null;

                if (hours === '' || minutes === '' || seconds === '') {
                    return {
                        valid: false,
                        message: message
                    };
                }

                // Validate seconds
                if (seconds) {
                    if (isNaN(seconds) || seconds.length > 2) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                    seconds = parseInt(seconds, 10);
                    if (seconds < 0 || seconds > 60) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                }

                // Validate hours
                if (hours) {
                    if (isNaN(hours) || hours.length > 2) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                    hours = parseInt(hours, 10);
                    if (hours < 0 || hours >= 24 || (amOrPm && hours > 12)) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                }

                // Validate minutes
                if (minutes) {
                    if (isNaN(minutes) || minutes.length > 2) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                    minutes = parseInt(minutes, 10);
                    if (minutes < 0 || minutes > 59) {
                        return {
                            valid: false,
                            message: message
                        };
                    }
                }
            }

            // Validate day, month, and year
            var valid     = FormValidation.Helper.date(year, month, day),
                // declare the date, min and max objects
                min       = null,
                max       = null,
                minOption = options.min,
                maxOption = options.max;

            if (minOption) {
                if (isNaN(Date.parse(minOption))) {
                    minOption = validator.getDynamicOption($field, minOption);
                }

                min       = minOption instanceof Date ? minOption : this._parseDate(minOption, dateFormat, separator);
                // In order to avoid displaying a date string like "Mon Dec 08 2014 19:14:12 GMT+0000 (WET)"
                minOption = minOption instanceof Date ? this._formatDate(minOption, options.format) : minOption;
            }

            if (maxOption) {
                if (isNaN(Date.parse(maxOption))) {
                    maxOption = validator.getDynamicOption($field, maxOption);
                }

                max       = maxOption instanceof Date ? maxOption : this._parseDate(maxOption, dateFormat, separator);
                // In order to avoid displaying a date string like "Mon Dec 08 2014 19:14:12 GMT+0000 (WET)"
                maxOption = maxOption instanceof Date ? this._formatDate(maxOption, options.format) : maxOption;
            }

            date = new Date(year, month -1, day, hours, minutes, seconds);

            switch (true) {
                case (minOption && !maxOption && valid):
                    valid   = date.getTime() >= min.getTime();
                    message = options.message || FormValidation.Helper.format(FormValidation.I18n[locale].date.min, minOption);
                    break;

                case (maxOption && !minOption && valid):
                    valid   = date.getTime() <= max.getTime();
                    message = options.message || FormValidation.Helper.format(FormValidation.I18n[locale].date.max, maxOption);
                    break;

                case (maxOption && minOption && valid):
                    valid   = date.getTime() <= max.getTime() && date.getTime() >= min.getTime();
                    message = options.message || FormValidation.Helper.format(FormValidation.I18n[locale].date.range, [minOption, maxOption]);
                    break;

                default:
                    break;
            }

            return {
                valid: valid,
                message: message
            };
        },

        /**
         * Return a date object after parsing the date string
         *
         * @param {String} date   The date string to parse
         * @param {String} format The date format
         * The format can be:
         *   - date: Consist of DD, MM, YYYY parts which are separated by the separator option
         *   - date and time:
         *     The time can consist of h, m, s parts which are separated by :
         * @param {String} separator The separator used to separate the date, month, and year
         * @returns {Date}
         */
        _parseDate: function(date, format, separator) {
            var minutes     = 0, hours = 0, seconds = 0,
                sections    = date.split(' '),
                dateSection = sections[0],
                timeSection = (sections.length > 1) ? sections[1] : null;

            dateSection = dateSection.split(separator);
            var year  = dateSection[$.inArray('YYYY', format)],
                month = dateSection[$.inArray('MM', format)],
                day   = dateSection[$.inArray('DD', format)];
            if (timeSection) {
                timeSection = timeSection.split(':');
                hours       = timeSection.length > 0 ? timeSection[0] : null;
                minutes     = timeSection.length > 1 ? timeSection[1] : null;
                seconds     = timeSection.length > 2 ? timeSection[2] : null;
            }

            return new Date(year, month -1, day, hours, minutes, seconds);
        },

        /**
         * Format date
         *
         * @param {Date} date The date object to format
         * @param {String} format The date format
         * The format can consist of the following tokens:
         *      d       Day of the month without leading zeros (1 through 31)
         *      dd      Day of the month with leading zeros (01 through 31)
         *      m       Month without leading zeros (1 through 12)
         *      mm      Month with leading zeros (01 through 12)
         *      yy      Last two digits of year (for example: 14)
         *      yyyy    Full four digits of year (for example: 2014)
         *      h       Hours without leading zeros (1 through 12)
         *      hh      Hours with leading zeros (01 through 12)
         *      H       Hours without leading zeros (0 through 23)
         *      HH      Hours with leading zeros (00 through 23)
         *      M       Minutes without leading zeros (0 through 59)
         *      MM      Minutes with leading zeros (00 through 59)
         *      s       Seconds without leading zeros (0 through 59)
         *      ss      Seconds with leading zeros (00 through 59)
         * @returns {String}
         */
        _formatDate: function(date, format) {
            format = format
                        .replace(/Y/g, 'y')
                        .replace(/M/g, 'm')
                        .replace(/D/g, 'd')
                        .replace(/:m/g, ':M')
                        .replace(/:mm/g, ':MM')
                        .replace(/:S/, ':s')
                        .replace(/:SS/, ':ss');

            var replacer = {
                d: function(date) {
                    return date.getDate();
                },
                dd: function(date) {
                    var d = date.getDate();
                    return (d < 10) ? '0' + d : d;
                },
                m: function(date) {
                    return date.getMonth() + 1;
                },
                mm: function(date) {
                    var m = date.getMonth() + 1;
                    return m < 10 ? '0' + m : m;
                },
                yy: function(date) {
                    return ('' + date.getFullYear()).substr(2);
                },
                yyyy: function(date) {
                    return date.getFullYear();
                },
                h: function(date) {
                    return date.getHours() % 12 || 12;
                },
                hh: function(date) {
                    var h = date.getHours() % 12 || 12;
                    return h < 10 ? '0' + h : h;
                },
                H: function(date) {
                    return date.getHours();
                },
                HH: function(date) {
                    var H = date.getHours();
                    return H < 10 ? '0' + H : H;
                },
                M: function(date) {
                    return date.getMinutes();
                },
                MM: function(date) {
                    var M = date.getMinutes();
                    return M < 10 ? '0' + M : M;
                },
                s: function(date) {
                    return date.getSeconds();
                },
                ss: function(date) {
                    var s = date.getSeconds();
                    return s < 10 ? '0' + s : s;
                }
            };

            return format.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMs])\1?|"[^"]*"|'[^']*'/g, function(match) {
                return replacer[match] ? replacer[match](date) : match.slice(1, match.length - 1);
            });
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],36:[function(require,module,exports){
/**
 * different validator
 *
 * @link        http://formvalidation.io/validators/different/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            different: {
                'default': 'Please enter a different value'
            }
        }
    });

    FormValidation.Validator.different = {
        html5Attributes: {
            message: 'message',
            field: 'field'
        },

        /**
         * Bind the validator on the live change of the field to compare with current one
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         */
        init: function(validator, $field, options) {
            var fields = options.field.split(',');
            for (var i = 0; i < fields.length; i++) {
                var compareWith = validator.getFieldElements(fields[i]);
                validator.onLiveChange(compareWith, 'live_different', function() {
                    var status = validator.getStatus($field, 'different');
                    if (status !== validator.STATUS_NOT_VALIDATED) {
                        validator.revalidateField($field);
                    }
                });
            }
        },

        /**
         * Unbind the validator on the live change of the field to compare with current one
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         */
        destroy: function(validator, $field, options) {
            var fields = options.field.split(',');
            for (var i = 0; i < fields.length; i++) {
                var compareWith = validator.getFieldElements(fields[i]);
                validator.offLiveChange(compareWith, 'live_different');
            }
        },

        /**
         * Return true if the input value is different with given field's value
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         * - message: The invalid message
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'different');
            if (value === '') {
                return true;
            }

            var fields  = options.field.split(','),
                isValid = true;

            for (var i = 0; i < fields.length; i++) {
                var compareWith = validator.getFieldElements(fields[i]);
                if (compareWith == null || compareWith.length === 0) {
                    continue;
                }

                var compareValue = validator.getFieldValue(compareWith, 'different');
                if (value === compareValue) {
                    isValid = false;
                } else if (compareValue !== '') {
                    validator.updateStatus(compareWith, validator.STATUS_VALID, 'different');
                }
            }

            return isValid;
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],37:[function(require,module,exports){
/**
 * digits validator
 *
 * @link        http://formvalidation.io/validators/digits/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            digits: {
                'default': 'Please enter only digits'
            }
        }
    });

    FormValidation.Validator.digits = {
        /**
         * Return true if the input value contains digits only
         *
         * @param {FormValidation.Base} validator Validate plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} [options]
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'digits');
            if (value === '') {
                return true;
            }

            return /^\d+$/.test(value);
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],38:[function(require,module,exports){
/**
 * emailAddress validator
 *
 * @link        http://formvalidation.io/validators/emailAddress/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            emailAddress: {
                'default': 'Please enter a valid email address'
            }
        }
    });

    FormValidation.Validator.emailAddress = {
        html5Attributes: {
            message: 'message',
            multiple: 'multiple',
            separator: 'separator'
        },

        enableByHtml5: function($field) {
            return ('email' === $field.attr('type'));
        },

        /**
         * Return true if and only if the input value is a valid email address
         *
         * @param {FormValidation.Base} validator Validate plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} [options]
         * - multiple: Allow multiple email addresses, separated by a comma or semicolon; default is false.
         * - separator: Regex for character or characters expected as separator between addresses; default is comma /[,;]/, i.e. comma or semicolon.
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'emailAddress');
            if (value === '') {
                return true;
            }

            // Email address regular expression
            // http://stackoverflow.com/questions/46155/validate-email-address-in-javascript
            var emailRegExp   = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
                allowMultiple = options.multiple === true || options.multiple === 'true';

            if (allowMultiple) {
                var separator = options.separator || /[,;]/,
                    addresses = this._splitEmailAddresses(value, separator);

                for (var i = 0; i < addresses.length; i++) {
                    if (!emailRegExp.test(addresses[i])) {
                        return false;
                    }
                }

                return true;
            } else {
                return emailRegExp.test(value);
            }
        },

        _splitEmailAddresses: function(emailAddresses, separator) {
            var quotedFragments     = emailAddresses.split(/"/),
                quotedFragmentCount = quotedFragments.length,
                emailAddressArray   = [],
                nextEmailAddress    = '';

            for (var i = 0; i < quotedFragmentCount; i++) {
                if (i % 2 === 0) {
                    var splitEmailAddressFragments     = quotedFragments[i].split(separator),
                        splitEmailAddressFragmentCount = splitEmailAddressFragments.length;

                    if (splitEmailAddressFragmentCount === 1) {
                        nextEmailAddress += splitEmailAddressFragments[0];
                    } else {
                        emailAddressArray.push(nextEmailAddress + splitEmailAddressFragments[0]);

                        for (var j = 1; j < splitEmailAddressFragmentCount - 1; j++) {
                            emailAddressArray.push(splitEmailAddressFragments[j]);
                        }
                        nextEmailAddress = splitEmailAddressFragments[splitEmailAddressFragmentCount - 1];
                    }
                } else {
                    nextEmailAddress += '"' + quotedFragments[i];
                    if (i < quotedFragmentCount - 1) {
                        nextEmailAddress += '"';
                    }
                }
            }

            emailAddressArray.push(nextEmailAddress);
            return emailAddressArray;
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],39:[function(require,module,exports){
(function($) {
    FormValidation.Validator.fullEmailAddress = {
        /**
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var regExp = new RegExp("^[^@\\s]+@([^@\\s]+\\.)+[^@\\s]+$");

            return(regExp.test(value));
        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],40:[function(require,module,exports){
/**
 * greaterThan validator
 *
 * @link        http://formvalidation.io/validators/greaterThan/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            greaterThan: {
                'default': 'Please enter a value greater than or equal to %s',
                notInclusive: 'Please enter a value greater than %s'
            }
        }
    });

    FormValidation.Validator.greaterThan = {
        html5Attributes: {
            message: 'message',
            value: 'value',
            inclusive: 'inclusive'
        },

        enableByHtml5: function($field) {
            var type = $field.attr('type'),
                min  = $field.attr('min');
            if (min && type !== 'date') {
                return {
                    value: min
                };
            }

            return false;
        },

        /**
         * Return true if the input value is greater than or equals to given number
         *
         * @param {FormValidation.Base} validator Validate plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following keys:
         * - value: Define the number to compare with. It can be
         *      - A number
         *      - Name of field which its value defines the number
         *      - Name of callback function that returns the number
         *      - A callback function that returns the number
         *
         * - inclusive [optional]: Can be true or false. Default is true
         * - message: The invalid message
         * @returns {Boolean|Object}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'greaterThan');
            if (value === '') {
                return true;
            }
            
            value = this._format(value);
            if (!$.isNumeric(value)) {
                return false;
            }

            var locale         = validator.getLocale(),
                compareTo      = $.isNumeric(options.value) ? options.value : validator.getDynamicOption($field, options.value),
                compareToValue = this._format(compareTo);

            value = parseFloat(value);
			return (options.inclusive === true || options.inclusive === undefined)
                    ? {
                        valid: value >= compareToValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].greaterThan['default'], compareTo)
                    }
                    : {
                        valid: value > compareToValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].greaterThan.notInclusive, compareTo)
                    };
        },

        _format: function(value) {
            return (value + '').replace(',', '.');
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],41:[function(require,module,exports){
/**
 * identical validator
 *
 * @link        http://formvalidation.io/validators/identical/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            identical: {
                'default': 'Please enter the same value'
            }
        }
    });

    FormValidation.Validator.identical = {
        html5Attributes: {
            message: 'message',
            field: 'field'
        },

        /**
         * Bind the validator on the live change of the field to compare with current one
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         */
        init: function(validator, $field, options) {
            var compareWith = validator.getFieldElements(options.field);
            validator.onLiveChange(compareWith, 'live_identical', function() {
                var status = validator.getStatus($field, 'identical');
                if (status !== validator.STATUS_NOT_VALIDATED) {
                    validator.revalidateField($field);
                }
            });
        },

        /**
         * Unbind the validator on the live change of the field to compare with current one
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         */
        destroy: function(validator, $field, options) {
            var compareWith = validator.getFieldElements(options.field);
            validator.offLiveChange(compareWith, 'live_identical');
        },

        /**
         * Check if input value equals to value of particular one
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - field: The name of field that will be used to compare with current one
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var value       = validator.getFieldValue($field, 'identical'),
                compareWith = validator.getFieldElements(options.field);
            if (compareWith === null || compareWith.length === 0) {
                return true;
            }

            var compareValue = validator.getFieldValue(compareWith, 'identical');
            if (value === compareValue) {
                validator.updateStatus(compareWith, validator.STATUS_VALID, 'identical');
                return true;
            }

            return false;
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],42:[function(require,module,exports){
/**
 * integer validator
 *
 * @link        http://formvalidation.io/validators/integer/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            integer: {
                'default': 'Please enter a valid number'
            }
        }
    });

    FormValidation.Validator.integer = {
        enableByHtml5: function($field) {
            return ('number' === $field.attr('type')) && ($field.attr('step') === undefined || $field.attr('step') % 1 === 0);
        },

        /**
         * Return true if the input value is an integer
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following key:
         * - message: The invalid message
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            if (this.enableByHtml5($field) && $field.get(0).validity && $field.get(0).validity.badInput === true) {
                return false;
            }

            var value = validator.getFieldValue($field, 'integer');
            if (value === '') {
                return true;
            }
            return /^(?:-?(?:0|[1-9][0-9]*))$/.test(value);
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],43:[function(require,module,exports){
/**
 * lessThan validator
 *
 * @link        http://formvalidation.io/validators/lessThan/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            lessThan: {
                'default': 'Please enter a value less than or equal to %s',
                notInclusive: 'Please enter a value less than %s'
            }
        }
    });

    FormValidation.Validator.lessThan = {
        html5Attributes: {
            message: 'message',
            value: 'value',
            inclusive: 'inclusive'
        },

        enableByHtml5: function($field) {
            var type = $field.attr('type'),
                max  = $field.attr('max');
            if (max && type !== 'date') {
                return {
                    value: max
                };
            }

            return false;
        },

        /**
         * Return true if the input value is less than or equal to given number
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Can consist of the following keys:
         * - value: The number used to compare to. It can be
         *      - A number
         *      - Name of field which its value defines the number
         *      - Name of callback function that returns the number
         *      - A callback function that returns the number
         *
         * - inclusive [optional]: Can be true or false. Default is true
         * - message: The invalid message
         * @returns {Boolean|Object}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'lessThan');
            if (value === '') {
                return true;
            }
            
			value = this._format(value);
            if (!$.isNumeric(value)) {
                return false;
            }

            var locale         = validator.getLocale(),
                compareTo      = $.isNumeric(options.value) ? options.value : validator.getDynamicOption($field, options.value),
                compareToValue = this._format(compareTo);

            value = parseFloat(value);
            return (options.inclusive === true || options.inclusive === undefined)
                    ? {
                        valid: value <= compareToValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].lessThan['default'], compareTo)
                    }
                    : {
                        valid: value < compareToValue,
                        message: FormValidation.Helper.format(options.message || FormValidation.I18n[locale].lessThan.notInclusive, compareTo)
                    };
        },

        _format: function(value) {
            return (value + '').replace(',', '.');
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],44:[function(require,module,exports){
(function($) {
    FormValidation.Validator.minAlpha = {
        /**
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var alpha = /[a-zA-Z]/g;
            if (value == '') {
                return true;
            }
            return ((value.match(alpha) || []).length >= options.min);
        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],45:[function(require,module,exports){
(function($) {
    FormValidation.Validator.minLowerCase = {
        /**
         * @param {BootstrapValidator} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var upper =   /[a-z]/g;
            if (value == '') {
                return true;
            }
            return ((value.match(upper) || []).length >= options.min);

        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],46:[function(require,module,exports){
(function($) {
    FormValidation.Validator.minNumeric = {
        /**
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var numeric = /[0-9]/g;
            if (value == '') {
                return true;
            }
            return ((value.match(numeric) || []).length >= options.min);
        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],47:[function(require,module,exports){
(function($) {
    FormValidation.Validator.minUpperCase = {
        /**
         * @param {BootstrapValidator} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var upper =   /[A-Z]/g;
            if (value == '') {
                return true;
            }
            return ((value.match(upper) || []).length >= options.min);

        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],48:[function(require,module,exports){
/**
 * notEmpty validator
 *
 * @link        http://formvalidation.io/validators/notEmpty/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            notEmpty: {
                'default': 'Please enter a value'
            }
        }
    });

    FormValidation.Validator.notEmpty = {
        enableByHtml5: function($field) {
            var required = $field.attr('required') + '';
            return ('required' === required || 'true' === required);
        },

        /**
         * Check if input value is empty or not
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var type = $field.attr('type');
            if ('radio' === type || 'checkbox' === type) {
                var ns = validator.getNamespace();
                return validator
                            .getFieldElements($field.attr('data-' + ns + '-field'))
                            .filter(':checked')
                            .length > 0;
            }

            if ('number' === type && $field.get(0).validity && $field.get(0).validity.badInput === true) {
                return true;
            }

            return $.trim($field.val()) !== '';
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],49:[function(require,module,exports){
/**
 * numeric validator
 *
 * @link        http://formvalidation.io/validators/numeric/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            numeric: {
                'default': 'Please enter a valid float number'
            }
        }
    });

    FormValidation.Validator.numeric = {
        html5Attributes: {
            message: 'message',
            separator: 'separator'
        },

        enableByHtml5: function($field) {
            return ('number' === $field.attr('type')) && ($field.attr('step') !== undefined) && ($field.attr('step') % 1 !== 0);
        },

        /**
         * Validate decimal number
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consist of key:
         * - message: The invalid message
         * - separator: The decimal separator. Can be "." (default), ","
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            if (this.enableByHtml5($field) && $field.get(0).validity && $field.get(0).validity.badInput === true) {
                return false;
            }

            var value = validator.getFieldValue($field, 'numeric');
            if (value === '') {
                return true;
            }
            var separator = options.separator || '.';
            if (separator !== '.') {
                value = value.replace(separator, '.');
            }

            return !isNaN(parseFloat(value)) && isFinite(value);
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],50:[function(require,module,exports){
/**
 * regexp validator
 *
 * @link        http://formvalidation.io/validators/regexp/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            regexp: {
                'default': 'Please enter a value matching the pattern'
            }
        }
    });

    FormValidation.Validator.regexp = {
        html5Attributes: {
            message: 'message',
            regexp: 'regexp'
        },

        enableByHtml5: function($field) {
            var pattern = $field.attr('pattern');
            if (pattern) {
                return {
                    regexp: pattern
                };
            }

            return false;
        },

        /**
         * Check if the element value matches given regular expression
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of the following key:
         * - regexp: The regular expression you need to check
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'regexp');
            if (value === '') {
                return true;
            }

            var regexp = ('string' === typeof options.regexp) ? new RegExp(options.regexp) : options.regexp;
            return regexp.test(value);
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],51:[function(require,module,exports){
(function($) {
    FormValidation.Validator.restrictedWords = {
        /**
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val(),
                words = options.words;
            for(var i = 0; i < words.length; i++){
                if(value == words[i]){
                    return {
                        valid: false,
                        message: ""+options.message+" "+words.toString()+""
                    };
                }
            }
            return true;
        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],52:[function(require,module,exports){
(function($) {
    FormValidation.Validator.select = {
        /**
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {Boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            return(value != "default");
        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],53:[function(require,module,exports){
(function($) {
    FormValidation.Validator.specialChar = {
        /**
         * @param {BootstrapValidator} validator The validator plugin instance
         * @param {jQuery} $field The jQuery object represents the field element
         * @param {Object} options The validator options
         * @returns {boolean}
         */
        validate: function(validator, $field, options) {
            // You can get the field value
            // var value = $field.val();
            //
            // Perform validating
            // ...
            //
            // return true if the field value is valid
            // otherwise return false
            var value = $field.val();
            var special = /[\W_]/g;
            if (value == '') {
                return true;
            }
            return ((value.match(special) || []).length >= options.min);

        }
    };
}(require("../../jquery")));
},{"../../jquery":57}],54:[function(require,module,exports){
/**
 * stringLength validator
 *
 * @link        http://formvalidation.io/validators/stringLength/
 * @author      https://twitter.com/nghuuphuoc
 * @copyright   (c) 2013 - 2015 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
(function($) {
    FormValidation.I18n = $.extend(true, FormValidation.I18n || {}, {
        'en_US': {
            stringLength: {
                'default': 'Please enter a value with valid length',
                less: 'Please enter less than %s characters',
                more: 'Please enter more than %s characters',
                between: 'Please enter value between %s and %s characters long'
            }
        }
    });

    FormValidation.Validator.stringLength = {
        html5Attributes: {
            message: 'message',
            min: 'min',
            max: 'max',
            trim: 'trim',
            utf8bytes: 'utf8Bytes'
        },

        enableByHtml5: function($field) {
            var options   = {},
                maxLength = $field.attr('maxlength'),
                minLength = $field.attr('minlength');
            if (maxLength) {
                options.max = parseInt(maxLength, 10);
            }
            if (minLength) {
                options.min = parseInt(minLength, 10);
            }

            return $.isEmptyObject(options) ? false : options;
        },

        /**
         * Check if the length of element value is less or more than given number
         *
         * @param {FormValidation.Base} validator The validator plugin instance
         * @param {jQuery} $field Field element
         * @param {Object} options Consists of following keys:
         * - min
         * - max
         * At least one of two keys is required
         * The min, max keys define the number which the field value compares to. min, max can be
         *      - A number
         *      - Name of field which its value defines the number
         *      - Name of callback function that returns the number
         *      - A callback function that returns the number
         *
         * - message: The invalid message
         * - trim: Indicate the length will be calculated after trimming the value or not. It is false, by default
         * - utf8bytes: Evaluate string length in UTF-8 bytes, default to false
         * @returns {Object}
         */
        validate: function(validator, $field, options) {
            var value = validator.getFieldValue($field, 'stringLength');
            if (options.trim === true || options.trim === 'true') {
                value = $.trim(value);
            }

            if (value === '') {
                return true;
            }

            var locale     = validator.getLocale(),
                min        = $.isNumeric(options.min) ? options.min : validator.getDynamicOption($field, options.min),
                max        = $.isNumeric(options.max) ? options.max : validator.getDynamicOption($field, options.max),
                // Credit to http://stackoverflow.com/a/23329386 (@lovasoa) for UTF-8 byte length code
                utf8Length = function(str) {
                                 var s = str.length;
                                 for (var i = str.length - 1; i >= 0; i--) {
                                     var code = str.charCodeAt(i);
                                     if (code > 0x7f && code <= 0x7ff) {
                                         s++;
                                     } else if (code > 0x7ff && code <= 0xffff) {
                                         s += 2;
                                     }
                                     if (code >= 0xDC00 && code <= 0xDFFF) {
                                         i--;
                                     }
                                 }
                                 return s;
                             },
                length     = options.utf8Bytes ? utf8Length(value) : value.length,
                isValid    = true,
                message    = options.message || FormValidation.I18n[locale].stringLength['default'];

            if ((min && length < parseInt(min, 10)) || (max && length > parseInt(max, 10))) {
                isValid = false;
            }

            switch (true) {
                case (!!min && !!max):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].stringLength.between, [parseInt(min, 10), parseInt(max, 10)]);
                    break;

                case (!!min):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].stringLength.more, parseInt(min, 10));
                    break;

                case (!!max):
                    message = FormValidation.Helper.format(options.message || FormValidation.I18n[locale].stringLength.less, parseInt(max, 10));
                    break;

                default:
                    break;
            }

            return {
                valid: isValid,
                message: message
            };
        }
    };
}(require("../../jquery")));

},{"../../jquery":57}],55:[function(require,module,exports){
/*! Idle Timer - v1.0.1 - 2014-03-21
 * https://github.com/thorst/jquery-idletimer
 * Copyright (c) 2014 Paul Irish; Licensed MIT */
/*
 mousewheel (deprecated) -> IE6.0, Chrome, Opera, Safari
 DOMMouseScroll (deprecated) -> Firefox 1.0
 wheel (standard) -> Chrome 31, Firefox 17, IE9, Firefox Mobile 17.0

 //No need to use, use DOMMouseScroll
 MozMousePixelScroll -> Firefox 3.5, Firefox Mobile 1.0

 //Events
 WheelEvent -> see wheel
 MouseWheelEvent -> see mousewheel
 MouseScrollEvent -> Firefox 3.5, Firefox Mobile 1.0
 */
(function ($) {

    $.idleTimer = function (firstParam, elem) {
        var opts;
        if ( typeof firstParam === "object" ) {
            opts = firstParam;
            firstParam = null;
        } else if (typeof firstParam === "number") {
            opts = { timeout: firstParam };
            firstParam = null;
        }

        // element to watch
        elem = elem || document;

        // defaults that are to be stored as instance props on the elem
        opts = $.extend({
            idle: false,                // indicates if the user is idle
            timeout: 30000,             // the amount of time (ms) before the user is considered idle
            events: "mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove" // define active events
        }, opts);

        var jqElem = $(elem),
            obj = jqElem.data("idleTimerObj") || {},

        /* (intentionally not documented)
         * Toggles the idle state and fires an appropriate event.
         * @return {void}
         */
            toggleIdleState = function (e) {

                var obj = $.data(elem, "idleTimerObj") || {};

                // toggle the state
                obj.idle = !obj.idle;

                // store toggle state date time
                obj.olddate = +new Date();

                // create a custom event, with state and name space
                var event = $.Event((obj.idle ? "idle" : "active") + ".idleTimer");

                // trigger event on object with elem and copy of obj
                $(elem).trigger(event, [elem, $.extend({}, obj), e]);
            },
            /**
             * Handle event triggers
             * @return {void}
             * @method event
             * @static
             */
            handleEvent = function (e) {

                var obj = $.data(elem, "idleTimerObj") || {};

                // this is already paused, ignore events for now
                if (obj.remaining != null) { return; }

                /*
                 mousemove is kinda buggy, it can be triggered when it should be idle.
                 Typically is happening between 115 - 150 milliseconds after idle triggered.
                 @psyafter & @kaellis report "always triggered if using modal (jQuery ui, with overlay)"
                 @thorst has similar issues on ios7 "after $.scrollTop() on text area"
                 */
                if (e.type === "mousemove") {
                    // if coord are same, it didn't move
                    if (e.pageX === obj.pageX && e.pageY === obj.pageY) {
                        return;
                    }
                    // if coord don't exist how could it move
                    if (typeof e.pageX === "undefined" && typeof e.pageY === "undefined") {
                        return;
                    }
                    // under 200 ms is hard to do, and you would have to stop, as continuous activity will bypass this
                    var elapsed = (+new Date()) - obj.olddate;
                    if (elapsed < 200) {
                        return;
                    }
                }

                // clear any existing timeout
                clearTimeout(obj.tId);

                // if the idle timer is enabled, flip
                if (obj.idle) {
                    toggleIdleState(e);
                }

                // store when user was last active
                obj.lastActive = +new Date();

                // update mouse coord
                obj.pageX = e.pageX;
                obj.pageY = e.pageY;

                // set a new timeout
                obj.tId = setTimeout(toggleIdleState, obj.timeout);

            },
            /**
             * Restore initial settings and restart timer
             * @return {void}
             * @method reset
             * @static
             */
            reset = function () {

                var obj = $.data(elem, "idleTimerObj") || {};

                // reset settings
                obj.idle = obj.idleBackup;
                obj.olddate = +new Date();
                obj.lastActive = obj.olddate;
                obj.remaining = null;

                // reset Timers
                clearTimeout(obj.tId);
                if (!obj.idle) {
                    obj.tId = setTimeout(toggleIdleState, obj.timeout);
                }

            },
            /**
             * Store remaining time, stop timer
             * You can pause from an idle OR active state
             * @return {void}
             * @method pause
             * @static
             */
            pause = function () {

                var obj = $.data(elem, "idleTimerObj") || {};

                // this is already paused
                if ( obj.remaining != null ) { return; }

                // define how much is left on the timer
                obj.remaining = obj.timeout - ((+new Date()) - obj.olddate);

                // clear any existing timeout
                clearTimeout(obj.tId);
            },
            /**
             * Start timer with remaining value
             * @return {void}
             * @method resume
             * @static
             */
            resume = function () {

                var obj = $.data(elem, "idleTimerObj") || {};

                // this isn't paused yet
                if ( obj.remaining == null ) { return; }

                // start timer
                if ( !obj.idle ) {
                    obj.tId = setTimeout(toggleIdleState, obj.remaining);
                }

                // clear remaining
                obj.remaining = null;
            },
            /**
             * Stops the idle timer. This removes appropriate event handlers
             * and cancels any pending timeouts.
             * @return {void}
             * @method destroy
             * @static
             */
            destroy = function () {

                var obj = $.data(elem, "idleTimerObj") || {};

                //clear any pending timeouts
                clearTimeout(obj.tId);

                //Remove data
                jqElem.removeData("idleTimerObj");

                //detach the event handlers
                jqElem.off("._idleTimer");
            },
            /**
             * Returns the time until becoming idle
             * @return {number}
             * @method remainingtime
             * @static
             */
            remainingtime = function () {

                var obj = $.data(elem, "idleTimerObj") || {};

                //If idle there is no time remaining
                if ( obj.idle ) { return 0; }

                //If its paused just return that
                if ( obj.remaining != null ) { return obj.remaining; }

                //Determine remaining, if negative idle didn't finish flipping, just return 0
                var remaining = obj.timeout - ((+new Date()) - obj.lastActive);
                if (remaining < 0) { remaining = 0; }

                //If this is paused return that number, else return current remaining
                return remaining;
            };


        // determine which function to call
        if (firstParam === null && typeof obj.idle !== "undefined") {
            // they think they want to init, but it already is, just reset
            reset();
            return jqElem;
        } else if (firstParam === null) {
            // they want to init
        } else if (firstParam !== null && typeof obj.idle === "undefined") {
            // they want to do something, but it isnt init
            // not sure the best way to handle this
            return false;
        } else if (firstParam === "destroy") {
            destroy();
            return jqElem;
        } else if (firstParam === "pause") {
            pause();
            return jqElem;
        } else if (firstParam === "resume") {
            resume();
            return jqElem;
        } else if (firstParam === "reset") {
            reset();
            return jqElem;
        } else if (firstParam === "getRemainingTime") {
            return remainingtime();
        } else if (firstParam === "getElapsedTime") {
            return (+new Date()) - obj.olddate;
        } else if (firstParam === "getLastActiveTime") {
            return obj.lastActive;
        } else if (firstParam === "isIdle") {
            return obj.idle;
        }

        /* (intentionally not documented)
         * Handles a user event indicating that the user isn't idle. namespaced with internal idleTimer
         * @param {Event} event A DOM2-normalized event object.
         * @return {void}
         */
        jqElem.on($.trim((opts.events + " ").split(" ").join("._idleTimer ")), function (e) {
            handleEvent(e);
        });


        // Internal Object Properties, This isn't all necessary, but we
        // explicitly define all keys here so we know what we are working with
        obj = $.extend({}, {
            olddate : +new Date(),          // the last time state changed
            lastActive: +new Date(),       // the last time timer was active
            idle : opts.idle,               // current state
            idleBackup : opts.idle,         // backup of idle parameter since it gets modified
            timeout : opts.timeout,         // the interval to change state
            remaining : null,               // how long until state changes
            tId : null,                     // the idle timer setTimeout
            pageX : null,                   // used to store the mouse coord
            pageY : null
        });

        // set a timeout to toggle state. May wish to omit this in some situations
        if (!obj.idle) {
            obj.tId = setTimeout(toggleIdleState, obj.timeout);
        }

        // store our instance on the object
        $.data(elem, "idleTimerObj", obj);

        return jqElem;
    };

    // This allows binding to element
    $.fn.idleTimer = function (firstParam) {
        if (this[0]) {
            return $.idleTimer(firstParam, this[0]);
        }

        return this;
    };

})(require("./jquery"));
},{"./jquery":57}],56:[function(require,module,exports){
/*! DataTables 1.10.5
 * 2008-2015 SpryMedia Ltd - datatables.net/license
 */
(function(Ea,P,k){var O=function(h){function V(a){var b,c,e={};h.each(a,function(d){if((b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=d.replace(b[0],b[2].toLowerCase()),e[c]=d,"o"===b[1]&&V(a[d])});a._hungarianMap=e}function H(a,b,c){a._hungarianMap||V(a);var e;h.each(b,function(d){e=a._hungarianMap[d];if(e!==k&&(c||b[e]===k))"o"===e.charAt(0)?(b[e]||(b[e]={}),h.extend(!0,b[e],b[d]),H(a[e],b[e],c)):b[e]=b[d]})}function O(a){var b=o.defaults.oLanguage,c=a.sZeroRecords;
    !a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&E(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&E(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&db(a)}function eb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");
    A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&H(o.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType")}function gb(a){var a=a.oBrowser,b=h("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",top:1,left:1,width:100,
    overflow:"scroll"}).append(h('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==c.offset().left;b.remove()}function hb(a,b,c,e,d,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;e!==d;)a.hasOwnProperty(e)&&(g=j?b(g,a[e],e,a):a[e],j=!0,e+=f);return g}function Fa(a,b){var c=o.defaults.column,e=a.aoColumns.length,c=h.extend({},o.models.oColumn,c,{nTh:b?b:P.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:
    "",aDataSort:c.aDataSort?c.aDataSort:[e],mData:c.mData?c.mData:e,idx:e});a.aoColumns.push(c);c=a.aoPreSearchCols;c[e]=h.extend({},o.models.oSearch,c[e]);ka(a,e,h(b).data())}function ka(a,b,c){var b=a.aoColumns[b],e=a.oClasses,d=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=d.attr("width")||null;var f=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),H(o.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),
c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),E(b,c,"sWidth","sWidthOrig"),"number"===typeof c.iDataSort&&(b.aDataSort=[c.iDataSort]),E(b,c,"aDataSort"));var g=b.mData,j=W(g),i=b.mRender?W(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&(c(g.sort)||c(g.type)||c(g.filter));b.fnGetData=function(a,b,c){var e=j(a,b,k,c);return i&&b?i(e,b,a,c):e};b.fnSetData=function(a,b,c){return Q(g)(a,b,c)};"number"!==typeof g&&(a._rowReadObject=
    !0);a.oFeatures.bSort||(b.bSortable=!1,d.addClass(e.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=e.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=e.sSortableAsc,b.sSortingClassJUI=e.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=e.sSortableDesc,b.sSortingClassJUI=e.sSortJUIDescAllowed):(b.sSortingClass=e.sSortable,b.sSortingClassJUI=e.sSortJUI)}function X(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;
    Ga(a);for(var c=0,e=b.length;c<e;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&Y(a);w(a,null,"column-sizing",[a])}function la(a,b){var c=Z(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function $(a,b){var c=Z(a,"bVisible"),c=h.inArray(b,c);return-1!==c?c:null}function aa(a){return Z(a,"bVisible").length}function Z(a,b){var c=[];h.map(a.aoColumns,function(a,d){a[b]&&c.push(d)});return c}function Ha(a){var b=a.aoColumns,c=a.aoData,e=o.ext.type.detect,d,f,g,j,i,h,l,
    p,n;d=0;for(f=b.length;d<f;d++)if(l=b[d],n=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=e.length;g<j;g++){i=0;for(h=c.length;i<h;i++){n[i]===k&&(n[i]=y(a,i,d,"type"));p=e[g](n[i],a);if(!p&&g!==e.length-1)break;if("html"===p)break}if(p){l.sType=p;break}}l.sType||(l.sType="string")}}function ib(a,b,c,e){var d,f,g,j,i,m,l=a.aoColumns;if(b)for(d=b.length-1;0<=d;d--){m=b[d];var p=m.targets!==k?m.targets:m.aTargets;h.isArray(p)||(p=[p]);f=0;for(g=p.length;f<g;f++)if("number"===
    typeof p[f]&&0<=p[f]){for(;l.length<=p[f];)Fa(a);e(p[f],m)}else if("number"===typeof p[f]&&0>p[f])e(l.length+p[f],m);else if("string"===typeof p[f]){j=0;for(i=l.length;j<i;j++)("_all"==p[f]||h(l[j].nTh).hasClass(p[f]))&&e(j,m)}}if(c){d=0;for(a=c.length;d<a;d++)e(d,c[d])}}function J(a,b,c,e){var d=a.aoData.length,f=h.extend(!0,{},o.models.oRow,{src:c?"dom":"data"});f._aData=b;a.aoData.push(f);for(var b=a.aoColumns,f=0,g=b.length;f<g;f++)c&&Ia(a,d,f,y(a,d,f)),b[f].sType=null;a.aiDisplayMaster.push(d);
    (c||!a.oFeatures.bDeferRender)&&Ja(a,d,c,e);return d}function ma(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,d){c=na(a,d);return J(a,c.data,d,c.cells)})}function y(a,b,c,e){var d=a.iDraw,f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,c=f.fnGetData(g,e,{settings:a,row:b,col:c});if(c===k)return a.iDrawError!=d&&null===j&&(R(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b,4),a.iDrawError=d),j;if((c===g||null===c)&&
    null!==j)c=j;else if("function"===typeof c)return c.call(g);return null===c&&"display"==e?"":c}function Ia(a,b,c,e){a.aoColumns[c].fnSetData(a.aoData[b]._aData,e,{settings:a,row:b,col:c})}function Ka(a){return h.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function W(a){if(h.isPlainObject(a)){var b={};h.each(a,function(a,c){c&&(b[a]=W(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=Ka(f);for(var i=0,h=j.length;i<h;i++){f=j[i].match(ba);g=j[i].match(S);if(f){j[i]=j[i].replace(ba,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=j.join(".");i=0;for(h=a.length;i<h;i++)g.push(c(a[i],b,j));a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(S,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===
    k)return k;a=a[j[i]]}}return a};return function(b,d){return c(b,d,a)}}return function(b){return b[a]}}function Q(a){if(h.isPlainObject(a))return Q(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,e,d){a(b,"set",e,d)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,e,d){var d=Ka(d),f;f=d[d.length-1];for(var g,j,i=0,h=d.length-1;i<h;i++){g=d[i].match(ba);j=d[i].match(S);if(g){d[i]=d[i].replace(ba,"");a[d[i]]=[];
    f=d.slice();f.splice(0,i+1);g=f.join(".");j=0;for(h=e.length;j<h;j++)f={},b(f,e[j],g),a[d[i]].push(f);return}j&&(d[i]=d[i].replace(S,""),a=a[d[i]](e));if(null===a[d[i]]||a[d[i]]===k)a[d[i]]={};a=a[d[i]]}if(f.match(S))a[f.replace(S,"")](e);else a[f.replace(ba,"")]=e};return function(c,e){return b(c,e,a)}}return function(b,e){b[a]=e}}function La(a){return D(a.aoData,"_aData")}function oa(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function pa(a,b,c){for(var e=-1,d=0,f=a.length;d<
f;d++)a[d]==b?e=d:a[d]>b&&a[d]--; -1!=e&&c===k&&a.splice(e,1)}function ca(a,b,c,e){var d=a.aoData[b],f,g=function(c,f){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=y(a,b,f,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===d.src)d._aData=na(a,d,e,e===k?k:d._aData).data;else{var j=d.anCells;if(j)if(e!==k)g(j[e],e);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}d._aSortData=null;d._aFilterData=null;g=a.aoColumns;if(e!==k)g[e].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;
    Ma(d)}}function na(a,b,c,e){var d=[],f=b.firstChild,g,j=0,i,m=a.aoColumns,l=a._rowReadObject,e=e||l?{}:[],p=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),Q(a)(e,b.getAttribute(c)))}},a=function(a){if(c===k||c===j)g=m[j],i=h.trim(a.innerHTML),g&&g._bAttrSrc?(Q(g.mData._)(e,i),p(g.mData.sort,a),p(g.mData.type,a),p(g.mData.filter,a)):l?(g._setter||(g._setter=Q(g.mData)),g._setter(e,i)):e[j]=i;j++};if(f)for(;f;){b=f.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(f),
    d.push(f);f=f.nextSibling}else{d=b.anCells;f=0;for(b=d.length;f<b;f++)a(d[f])}return{data:e,cells:d}}function Ja(a,b,c,e){var d=a.aoData[b],f=d._aData,g=[],j,i,h,l,p;if(null===d.nTr){j=c||P.createElement("tr");d.nTr=j;d.anCells=g;j._DT_RowIndex=b;Ma(d);l=0;for(p=a.aoColumns.length;l<p;l++){h=a.aoColumns[l];i=c?e[l]:P.createElement(h.sCellType);g.push(i);if(!c||h.mRender||h.mData!==l)i.innerHTML=y(a,b,l,"display");h.sClass&&(i.className+=" "+h.sClass);h.bVisible&&!c?j.appendChild(i):!h.bVisible&&c&&
i.parentNode.removeChild(i);h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,i,y(a,b,l),f,b,l)}w(a,"aoRowCreatedCallback",null,[j,f,b])}d.nTr.setAttribute("role","row")}function Ma(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?Na(a.__rowc.concat(e)):e;h(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowAttr&&h(b).attr(c.DT_RowAttr);c.DT_RowData&&h(b).data(c.DT_RowData)}}function jb(a){var b,c,e,d,
    f,g=a.nTHead,j=a.nTFoot,i=0===h("th, td",g).length,m=a.oClasses,l=a.aoColumns;i&&(d=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],e=h(f.nTh).addClass(f.sClass),i&&e.appendTo(d),a.oFeatures.bSort&&(e.addClass(f.sSortingClass),!1!==f.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Oa(a,f.nTh,b))),f.sTitle!=e.html()&&e.html(f.sTitle),Pa(a,"header")(a,e,f,m);i&&da(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(m.sHeaderTH);
    h(j).find(">tr>th, >tr>td").addClass(m.sFooterTH);if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}function ea(a,b,c){var e,d,f,g=[],j=[],i=a.aoColumns.length,m;if(b){c===k&&(c=!1);e=0;for(d=b.length;e<d;e++){g[e]=b[e].slice();g[e].nTr=b[e].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[e].splice(f,1);j.push([])}e=0;for(d=g.length;e<d;e++){if(a=g[e].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[e].length;f<b;f++)if(m=
        i=1,j[e][f]===k){a.appendChild(g[e][f].cell);for(j[e][f]=1;g[e+i]!==k&&g[e][f].cell==g[e+i][f].cell;)j[e+i][f]=1,i++;for(;g[e][f+m]!==k&&g[e][f].cell==g[e][f+m].cell;){for(c=0;c<i;c++)j[e+c][f+m]=1;m++}h(g[e][f].cell).attr("rowspan",i).attr("colspan",m)}}}}function M(a){var b=w(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,e=a.asStripeClasses,d=e.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==B(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=
    j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=-1);var g=a._iDisplayStart,m=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!kb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:m;for(j=j?0:g;j<f;j++){var l=i[j],p=a.aoData[l];null===p.nTr&&Ja(a,l);l=p.nTr;if(0!==d){var n=e[c%d];p._sRowStripe!=n&&(h(l).removeClass(p._sRowStripe).addClass(n),p._sRowStripe=n)}w(a,"aoRowCallback",null,[l,p._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,
    1==a.iDraw&&"ajax"==B(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":d?e[0]:""}).append(h("<td />",{valign:"top",colSpan:aa(a),"class":a.oClasses.sRowEmpty}).html(c))[0];w(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],La(a),g,m,i]);w(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],La(a),g,m,i]);e=h(a.nTBody);e.children().detach();e.append(h(b));w(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=
    !1}}function N(a,b){var c=a.oFeatures,e=c.bFilter;c.bSort&&lb(a);e?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;M(a);a._drawHold=!1}function mb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),e=a.oFeatures,d=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=d[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,m,l,p,n=0;n<f.length;n++){g=
    null;j=f[n];if("<"==j){i=h("<div/>")[0];m=f[n+1];if("'"==m||'"'==m){l="";for(p=2;f[n+p]!=m;)l+=f[n+p],p++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(m=l.split("."),i.id=m[0].substr(1,m[0].length-1),i.className=m[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;n+=p}d.append(i);d=h(i)}else if(">"==j)d=d.parent();else if("l"==j&&e.bPaginate&&e.bLengthChange)g=nb(a);else if("f"==j&&e.bFilter)g=ob(a);else if("r"==j&&e.bProcessing)g=pb(a);else if("t"==j)g=qb(a);else if("i"==
    j&&e.bInfo)g=rb(a);else if("p"==j&&e.bPaginate)g=sb(a);else if(0!==o.ext.feature.length){i=o.ext.feature;p=0;for(m=i.length;p<m;p++)if(j==i[p].cFeature){g=i[p].fnInit(a);break}}g&&(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),d.append(g))}c.replaceWith(d)}function da(a,b){var c=h(b).children("tr"),e,d,f,g,j,i,m,l,p,n;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){e=c[f];for(d=e.firstChild;d;){if("TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){l=
    1*d.getAttribute("colspan");p=1*d.getAttribute("rowspan");l=!l||0===l||1===l?1:l;p=!p||0===p||1===p?1:p;g=0;for(j=a[f];j[g];)g++;m=g;n=1===l?!0:!1;for(j=0;j<l;j++)for(g=0;g<p;g++)a[f+g][m+j]={cell:d,unique:n},a[f+g].nTr=e}d=d.nextSibling}}}function qa(a,b,c){var e=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,d=c.length;b<d;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!e[f]||!a.bSortCellsTop))e[f]=c[b][f].cell;return e}function ra(a,b,c){w(a,"aoServerParams","serverParams",[b]);
    if(b&&h.isArray(b)){var e={},d=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(d);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value});b=e}var f,g=a.ajax,j=a.oInstance;if(h.isPlainObject(g)&&g.data){f=g.data;var i=h.isFunction(f)?f(b):f,b=h.isFunction(f)&&i?i:h.extend(!0,b,i);delete g.data}i={data:b,success:function(b){var f=b.error||b.sError;f&&a.oApi._fnLog(a,0,f);a.json=b;w(a,null,"xhr",[a,b]);c(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var f=a.oApi._fnLog;
        "parsererror"==c?f(a,0,"Invalid JSON response",1):4===b.readyState&&f(a,0,"Ajax error",7);C(a,!1)}};a.oAjaxData=b;w(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(i,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,c,a):(a.jqXHR=h.ajax(h.extend(i,g)),g.data=f)}function kb(a){return a.bAjaxDataGet?(a.iDraw++,C(a,!0),ra(a,tb(a),function(b){ub(a,b)}),!1):
    !0}function tb(a){var b=a.aoColumns,c=b.length,e=a.oFeatures,d=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,m,l,p=T(a);g=a._iDisplayStart;i=!1!==e.bPaginate?a._iDisplayLength:-1;var n=function(a,b){j.push({name:a,value:b})};n("sEcho",a.iDraw);n("iColumns",c);n("sColumns",D(b,"sName").join(","));n("iDisplayStart",g);n("iDisplayLength",i);var k={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:d.sSearch,regex:d.bRegex}};for(g=0;g<c;g++)m=b[g],l=f[g],i="function"==typeof m.mData?"function":
    m.mData,k.columns.push({data:i,name:m.sName,searchable:m.bSearchable,orderable:m.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),n("mDataProp_"+g,i),e.bFilter&&(n("sSearch_"+g,l.sSearch),n("bRegex_"+g,l.bRegex),n("bSearchable_"+g,m.bSearchable)),e.bSort&&n("bSortable_"+g,m.bSortable);e.bFilter&&(n("sSearch",d.sSearch),n("bRegex",d.bRegex));e.bSort&&(h.each(p,function(a,b){k.order.push({column:b.col,dir:b.dir});n("iSortCol_"+a,b.col);n("sSortDir_"+a,b.dir)}),n("iSortingCols",p.length));b=o.ext.legacy.ajax;
    return null===b?a.sAjaxSource?j:k:b?j:k}function ub(a,b){var c=b.sEcho!==k?b.sEcho:b.draw,e=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,d=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(c){if(1*c<a.iDraw)return;a.iDraw=1*c}oa(a);a._iRecordsTotal=parseInt(e,10);a._iRecordsDisplay=parseInt(d,10);c=sa(a,b);e=0;for(d=c.length;e<d;e++)J(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;M(a);a._bInitComplete||ta(a,b);a.bAjaxDataGet=!0;C(a,!1)}function sa(a,b){var c=
    h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?W(c)(b):b}function ob(a){var b=a.oClasses,c=a.sTableId,e=a.oLanguage,d=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=e.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),f=function(){var b=!this.value?"":this.value;b!=d.sSearch&&(fa(a,{sSearch:b,bRegex:d.bRegex,
    bSmart:d.bSmart,bCaseInsensitive:d.bCaseInsensitive}),a._iDisplayStart=0,M(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===B(a)?400:0,i=h("input",b).val(d.sSearch).attr("placeholder",e.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?ua(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==P.activeElement&&i.val(d.sSearch)}catch(f){}});return b[0]}function fa(a,b,c){var e=
    a.oPreviousSearch,d=a.aoPreSearchCols,f=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=a.bCaseInsensitive};Ha(a);if("ssp"!=B(a)){vb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<d.length;b++)wb(a,d[b].sSearch,b,d[b].bEscapeRegex!==k?!d[b].bEscapeRegex:d[b].bRegex,d[b].bSmart,d[b].bCaseInsensitive);xb(a)}else f(b);a.bFiltered=!0;w(a,null,"search",[a])}function xb(a){for(var b=o.ext.search,c=a.aiDisplay,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            e,d,f=0,g=b.length;f<g;f++){for(var j=[],i=0,h=c.length;i<h;i++)d=c[i],e=a.aoData[d],b[f](a,e._aFilterData,d,e._aData,i)&&j.push(d);c.length=0;c.push.apply(c,j)}}function wb(a,b,c,e,d,f){if(""!==b)for(var g=a.aiDisplay,e=Qa(b,e,d,f),d=g.length-1;0<=d;d--)b=a.aoData[g[d]]._aFilterData[c],e.test(b)||g.splice(d,1)}function vb(a,b,c,e,d,f){var e=Qa(b,e,d,f),d=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,g;0!==o.ext.search.length&&(c=!0);g=yb(a);if(0>=b.length)a.aiDisplay=f.slice();else{if(g||c||d.length>
    b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)e.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function Qa(a,b,c,e){a=b?a:va(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,e?"i":"")}function va(a){return a.replace(Yb,"\\$1")}function yb(a){var b=a.aoColumns,c,e,d,f,g,j,i,h,l=o.ext.type.search;c=!1;e=
    0;for(f=a.aoData.length;e<f;e++)if(h=a.aoData[e],!h._aFilterData){j=[];d=0;for(g=b.length;d<g;d++)c=b[d],c.bSearchable?(i=y(a,e,d,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(wa.innerHTML=i,i=Zb?wa.textContent:wa.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}function zb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,
    caseInsensitive:a.bCaseInsensitive}}function Ab(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function rb(a){var b=a.sTableId,c=a.aanFeatures.i,e=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Bb,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return e[0]}function Bb(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+
    1,d=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Cb(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,e,d,f,g,j));h(b).html(j)}}function Cb(a,b){var c=a.fnFormatNumber,e=a._iDisplayStart+1,d=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===d;return b.replace(/_START_/g,c.call(a,e)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,
    f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(e/d))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/d)))}function ga(a){var b,c,e=a.iInitDisplayStart,d=a.aoColumns,f;c=a.oFeatures;if(a.bInitialised){mb(a);jb(a);ea(a,a.aoHeader);ea(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Ga(a);b=0;for(c=d.length;b<c;b++)f=d[b],f.sWidth&&(f.nTh.style.width=s(f.sWidth));N(a);d=B(a);"ssp"!=d&&("ajax"==d?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)J(a,f[b]);a.iInitDisplayStart=e;N(a);C(a,!1);ta(a,c)},a):(C(a,!1),
    ta(a)))}else setTimeout(function(){ga(a)},200)}function ta(a,b){a._bInitComplete=!0;b&&X(a);w(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Sa(a);w(a,null,"length",[a,c])}function nb(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,d=h.isArray(e[0]),f=d?e[0]:e,e=d?e[1]:e,d=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)d[0][g]=new Option(e[g],f[g]);var i=h("<div><label/></div>").addClass(b.sLength);
    a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",d[0].outerHTML));h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val());M(a)});h(a.nTable).bind("length.dt.DT",function(b,c,f){a===c&&h("select",i).val(f)});return i[0]}function sb(a){var b=a.sPaginationType,c=o.ext.pager[b],e="function"===typeof c,d=function(a){M(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;e||c.fnInit(a,b,d);f.p||(b.id=a.sTableId+
"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b=a._iDisplayStart,h=a._iDisplayLength,m=a.fnRecordsDisplay(),l=-1===h,b=l?0:Math.ceil(b/h),h=l?1:Math.ceil(m/h),m=c(b,h),p,l=0;for(p=f.p.length;l<p;l++)Pa(a,"pageButton")(a,f.p[l],l,m,b,h)}else c.fnUpdate(a,d)},sName:"pagination"}));return b}function Ta(a,b,c){var e=a._iDisplayStart,d=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===d?e=0:"number"===typeof b?(e=b*d,e>f&&(e=0)):"first"==b?e=0:"previous"==b?(e=0<=d?e-d:0,0>e&&(e=0)):"next"==
b?e+d<f&&(e+=d):"last"==b?e=Math.floor((f-1)/d)*d:R(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==e;a._iDisplayStart=e;b&&(w(a,null,"page",[a]),c&&M(a));return b}function pb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");w(a,null,"processing",[a,b])}function qb(a){var b=h(a.nTable);b.attr("role",
    "grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,d=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),m=h(b[0].cloneNode(!1)),l=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");l.length||(l=null);c=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",
    width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:!d?null:s(d),width:!e?null:s(e)}).append(b));l&&c.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(m.removeAttr("id").css("margin-left",0).append("bottom"===j?g:null).append(b.children("tfoot")))));
    var b=c.children(),p=b[0],f=b[1],n=l?b[2]:null;if(e)h(f).on("scroll.DT",function(){var a=this.scrollLeft;p.scrollLeft=a;l&&(n.scrollLeft=a)});a.nScrollHead=p;a.nScrollBody=f;a.nScrollFoot=n;a.aoDrawCallback.push({fn:Y,sName:"scrolling"});return c[0]}function Y(a){var b=a.oScroll,c=b.sX,e=b.sXInner,d=b.sY,f=b.iBarWidth,g=h(a.nScrollHead),j=g[0].style,i=g.children("div"),m=i[0].style,l=i.children("table"),i=a.nScrollBody,p=h(i),n=i.style,k=h(a.nScrollFoot).children("div"),q=k.children("table"),o=h(a.nTHead),
    r=h(a.nTable),t=r[0],u=t.style,K=a.nTFoot?h(a.nTFoot):null,ha=a.oBrowser,w=ha.bScrollOversize,x,v,y,L,z,A=[],B=[],C=[],D,E=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};r.children("thead, tfoot").remove();z=o.clone().prependTo(r);x=o.find("tr");y=z.find("tr");z.find("th, td").removeAttr("tabindex");K&&(L=K.clone().prependTo(r),v=K.find("tr"),L=L.find("tr"));c||(n.width="100%",g[0].style.width="100%");h.each(qa(a,z),function(b,c){D=
    la(a,b);c.style.width=a.aoColumns[D].sWidth});K&&G(function(a){a.style.width=""},L);b.bCollapse&&""!==d&&(n.height=p[0].offsetHeight+o[0].offsetHeight+"px");g=r.outerWidth();if(""===c){if(u.width="100%",w&&(r.find("tbody").height()>i.offsetHeight||"scroll"==p.css("overflow-y")))u.width=s(r.outerWidth()-f)}else""!==e?u.width=s(e):g==p.width()&&p.height()<r.height()?(u.width=s(g-f),r.outerWidth()>g-f&&(u.width=s(g))):u.width=s(g);g=r.outerWidth();G(E,y);G(function(a){C.push(a.innerHTML);A.push(s(h(a).css("width")))},
    y);G(function(a,b){a.style.width=A[b]},x);h(y).height(0);K&&(G(E,L),G(function(a){B.push(s(h(a).css("width")))},L),G(function(a,b){a.style.width=B[b]},v),h(L).height(0));G(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>";a.style.width=A[b]},y);K&&G(function(a,b){a.innerHTML="";a.style.width=B[b]},L);if(r.outerWidth()<g){v=i.scrollHeight>i.offsetHeight||"scroll"==p.css("overflow-y")?g+f:g;if(w&&(i.scrollHeight>i.offsetHeight||"scroll"==p.css("overflow-y")))u.width=
    s(v-f);(""===c||""!==e)&&R(a,1,"Possible column misalignment",6)}else v="100%";n.width=s(v);j.width=s(v);K&&(a.nScrollFoot.style.width=s(v));!d&&w&&(n.height=s(t.offsetHeight+f));d&&b.bCollapse&&(n.height=s(d),b=c&&t.offsetWidth>i.offsetWidth?f:0,t.offsetHeight<i.offsetHeight&&(n.height=s(t.offsetHeight+b)));b=r.outerWidth();l[0].style.width=s(b);m.width=s(b);l=r.height()>i.clientHeight||"scroll"==p.css("overflow-y");ha="padding"+(ha.bScrollbarLeft?"Left":"Right");m[ha]=l?f+"px":"0px";K&&(q[0].style.width=
    s(b),k[0].style.width=s(b),k[0].style[ha]=l?f+"px":"0px");p.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)i.scrollTop=0}function G(a,b,c){for(var e=0,d=0,f=b.length,g,j;d<f;){g=b[d].firstChild;for(j=c?c[d].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,e):a(g,e),e++),g=g.nextSibling,j=c?j.nextSibling:null;d++}}function Ga(a){var b=a.nTable,c=a.aoColumns,e=a.oScroll,d=e.sY,f=e.sX,g=e.sXInner,j=c.length,e=Z(a,"bVisible"),i=h("th",a.nTHead),m=b.style.width||b.getAttribute("width"),l=b.parentNode,p=
    !1,n,k;for(n=0;n<e.length;n++)k=c[e[n]],null!==k.sWidth&&(k.sWidth=Db(k.sWidthOrig,l),p=!0);if(!p&&!f&&!d&&j==aa(a)&&j==i.length)for(n=0;n<j;n++)c[n].sWidth=s(i.eq(n).width());else{j=h(b).clone().empty().css("visibility","hidden").removeAttr("id").append(h(a.nTHead).clone(!1)).append(h(a.nTFoot).clone(!1)).append(h("<tbody><tr/></tbody>"));j.find("tfoot th, tfoot td").css("width","");var q=j.find("tbody tr"),i=qa(a,j.find("thead")[0]);for(n=0;n<e.length;n++)k=c[e[n]],i[n].style.width=null!==k.sWidthOrig&&
""!==k.sWidthOrig?s(k.sWidthOrig):"";if(a.aoData.length)for(n=0;n<e.length;n++)p=e[n],k=c[p],h(Eb(a,p)).clone(!1).append(k.sContentPadding).appendTo(q);j.appendTo(l);f&&g?j.width(g):f?(j.css("width","auto"),j.width()<l.offsetWidth&&j.width(l.offsetWidth)):d?j.width(l.offsetWidth):m&&j.width(m);Fb(a,j[0]);if(f){for(n=g=0;n<e.length;n++)k=c[e[n]],d=h(i[n]).outerWidth(),g+=null===k.sWidthOrig?d:parseInt(k.sWidth,10)+d-h(i[n]).width();j.width(s(g));b.style.width=s(g)}for(n=0;n<e.length;n++)if(k=c[e[n]],
        d=h(i[n]).width())k.sWidth=s(d);b.style.width=s(j.css("width"));j.remove()}m&&(b.style.width=s(m));if((m||f)&&!a._reszEvt)h(Ea).bind("resize.DT-"+a.sInstance,ua(function(){X(a)})),a._reszEvt=!0}function ua(a,b){var c=b!==k?b:200,e,d;return function(){var b=this,g=+new Date,j=arguments;e&&g<e+c?(clearTimeout(d),d=setTimeout(function(){e=k;a.apply(b,j)},c)):(e=g,a.apply(b,j))}}function Db(a,b){if(!a)return 0;var c=h("<div/>").css("width",s(a)).appendTo(b||P.body),e=c[0].offsetWidth;c.remove();return e}
    function Fb(a,b){var c=a.oScroll;if(c.sX||c.sY)c=!c.sX?c.iBarWidth:0,b.style.width=s(h(b).outerWidth()-c)}function Eb(a,b){var c=Gb(a,b);if(0>c)return null;var e=a.aoData[c];return!e.nTr?h("<td/>").html(y(a,c,b,"display"))[0]:e.anCells[b]}function Gb(a,b){for(var c,e=-1,d=-1,f=0,g=a.aoData.length;f<g;f++)c=y(a,f,b,"display")+"",c=c.replace($b,""),c.length>e&&(e=c.length,d=f);return d}function s(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function Hb(){if(!o.__scrollbarWidth){var a=
        h("<p/>").css({width:"100%",height:200,padding:0})[0],b=h("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll");a=a.offsetWidth;c===a&&(a=b[0].clientWidth);b.remove();o.__scrollbarWidth=c-a}return o.__scrollbarWidth}function T(a){var b,c,e=[],d=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var m=[];f=function(a){a.length&&!h.isArray(a[0])?m.push(a):m.push.apply(m,
        a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<m.length;a++){i=m[a][0];f=d[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=d[g].sType||"string",m[a]._idx===k&&(m[a]._idx=h.inArray(m[a][1],d[g].asSorting)),e.push({src:i,col:g,dir:m[a][1],index:m[a]._idx,type:j,formatter:o.ext.type.order[j+"-pre"]})}return e}function lb(a){var b,c,e=[],d=o.ext.type.order,f=a.aoData,g=0,j,h=a.aiDisplayMaster,m;Ha(a);m=T(a);b=0;for(c=m.length;b<c;b++)j=m[b],j.formatter&&g++,Ib(a,
        j.col);if("ssp"!=B(a)&&0!==m.length){b=0;for(c=h.length;b<c;b++)e[h[b]]=b;g===m.length?h.sort(function(a,b){var c,d,g,h,j=m.length,i=f[a]._aSortData,k=f[b]._aSortData;for(g=0;g<j;g++)if(h=m[g],c=i[h.col],d=k[h.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===h.dir?c:-c;c=e[a];d=e[b];return c<d?-1:c>d?1:0}):h.sort(function(a,b){var c,g,h,j,i=m.length,k=f[a]._aSortData,o=f[b]._aSortData;for(h=0;h<i;h++)if(j=m[h],c=k[j.col],g=o[j.col],j=d[j.type+"-"+j.dir]||d["string-"+j.dir],c=j(c,g),0!==c)return c;c=e[a];
        g=e[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,e=a.aoColumns,d=T(a),a=a.oLanguage.oAria,f=0,g=e.length;f<g;f++){c=e[f];var h=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==f?(i.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=h[d[0].index+1]||h[0]):c=h[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",b)}}function Ua(a,b,c,e){var d=a.aaSorting,f=a.aoColumns[b].asSorting,
        g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof d[0]&&(d=a.aaSorting=[d]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,D(d,"0")),-1!==c?(b=g(d[c],!0),null===b?d.splice(c,1):(d[c][1]=f[b],d[c]._idx=b)):(d.push([b,f[0],0]),d[d.length-1]._idx=0)):d.length&&d[0][0]==b?(b=g(d[0]),d.length=1,d[0][1]=f[b],d[0]._idx=b):(d.length=0,d.push([b,f[0]]),d[0]._idx=0);N(a);"function"==typeof e&&e(a)}function Oa(a,b,c,e){var d=a.aoColumns[c];Va(b,{},function(b){!1!==
    d.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Ua(a,c,b.shiftKey,e);"ssp"!==B(a)&&C(a,!1)},0)):Ua(a,c,b.shiftKey,e))})}function xa(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,e=T(a),d=a.oFeatures,f,g;if(d.bSort&&d.bSortClasses){d=0;for(f=b.length;d<f;d++)g=b[d].src,h(D(a.aoData,"anCells",g)).removeClass(c+(2>d?d+1:3));d=0;for(f=e.length;d<f;d++)g=e[d].src,h(D(a.aoData,"anCells",g)).addClass(c+(2>d?d+1:3))}a.aLastSort=e}function Ib(a,b){var c=a.aoColumns[b],e=o.ext.order[c.sSortDataType],
        d;e&&(d=e.call(a.oInstance,a,b,$(a,b)));for(var f,g=o.ext.type.order[c.sType+"-pre"],h=0,i=a.aoData.length;h<i;h++)if(c=a.aoData[h],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||e)f=e?d[h]:y(a,h,b,"sort"),c._aSortData[b]=g?g(f):f}function ya(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),search:zb(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,e){return{visible:b.bVisible,search:zb(a.aoPreSearchCols[e])}})};
        w(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Kb(a){var b,c,e=a.aoColumns;if(a.oFeatures.bStateSave){var d=a.fnStateLoadCallback.call(a.oInstance,a);if(d&&d.time&&(b=w(a,"aoStateLoadParams","stateLoadParams",[a,d]),-1===h.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&d.time<+new Date-1E3*b)&&e.length===d.columns.length))){a.oLoadedState=h.extend(!0,{},d);a._iDisplayStart=d.start;a.iInitDisplayStart=d.start;a._iDisplayLength=d.length;
        a.aaSorting=[];h.each(d.order,function(b,c){a.aaSorting.push(c[0]>=e.length?[0,c[1]]:c)});h.extend(a.oPreviousSearch,Ab(d.search));b=0;for(c=d.columns.length;b<c;b++){var f=d.columns[b];e[b].bVisible=f.visible;h.extend(a.aoPreSearchCols[b],Ab(f.search))}w(a,"aoStateLoaded","stateLoaded",[a,d])}}}function za(a){var b=o.settings,a=h.inArray(a,D(b,"nTable"));return-1!==a?b[a]:null}function R(a,b,c,e){c="DataTables warning: "+(null!==a?"table id="+a.sTableId+" - ":"")+c;e&&(c+=". For more information about this error, please see http://datatables.net/tn/"+
    e);if(b)Ea.console&&console.log&&console.log(c);else if(b=o.ext,b=b.sErrMode||b.errMode,w(a,null,"error",[a,e,c]),"alert"==b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,e,c)}}function E(a,b,c,e){h.isArray(c)?h.each(c,function(c,f){h.isArray(f)?E(a,b,f[0],f[1]):E(a,b,f)}):(e===k&&(e=c),b[c]!==k&&(a[e]=b[c]))}function Lb(a,b,c){var e,d;for(d in b)b.hasOwnProperty(d)&&(e=b[d],h.isPlainObject(e)?(h.isPlainObject(a[d])||(a[d]={}),h.extend(!0,a[d],e)):a[d]=c&&"data"!==d&&"aaData"!==
    d&&h.isArray(e)?e.slice():e);return a}function Va(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,b,c,e){c&&a[b].push({fn:c,sName:e})}function w(a,b,c,e){var d=[];b&&(d=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,e)}));null!==c&&h(a.nTable).trigger(c+".dt",e);return d}function Sa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),e=a._iDisplayLength;
        b>=c&&(b=c-e);b-=b%e;if(-1===e||0>b)b=0;a._iDisplayStart=b}function Pa(a,b){var c=a.renderer,e=o.ext.renderer[b];return h.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"===typeof c?e[c]||e._:e._}function B(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Wa(a,b){var c=[],c=Mb.numbers_length,e=Math.floor(c/2);b<=c?c=U(0,b):a<=e?(c=U(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-e?c=U(b-(c-2),b):(c=U(a-1,a+2),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),
        c.splice(0,0,0));c.DT_el="span";return c}function db(a){h.each({num:function(b){return Aa(b,a)},"num-fmt":function(b){return Aa(b,a,Xa)},"html-num":function(b){return Aa(b,a,Ba)},"html-num-fmt":function(b){return Aa(b,a,Ba,Xa)}},function(b,c){x.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(x.type.search[b+a]=x.type.search.html)})}function Nb(a){return function(){var b=[za(this[o.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return o.ext.internal[a].apply(this,b)}}var o,x,t,r,u,Ya=
    {},Ob=/[\r\n]/g,Ba=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,Yb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Xa=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,I=function(a){return!a||!0===a||"-"===a?!0:!1},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){Ya[b]||(Ya[b]=RegExp(va(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Ya[b],"."):a},Za=function(a,b,c){var e="string"===typeof a;b&&e&&(a=Qb(a,b));c&&e&&
    (a=a.replace(Xa,""));return I(a)||!isNaN(parseFloat(a))&&isFinite(a)},Rb=function(a,b,c){return I(a)?!0:!(I(a)||"string"===typeof a)?null:Za(a.replace(Ba,""),b,c)?!0:null},D=function(a,b,c){var e=[],d=0,f=a.length;if(c!==k)for(;d<f;d++)a[d]&&a[d][b]&&e.push(a[d][b][c]);else for(;d<f;d++)a[d]&&e.push(a[d][b]);return e},ia=function(a,b,c,e){var d=[],f=0,g=b.length;if(e!==k)for(;f<g;f++)a[b[f]][c]&&d.push(a[b[f]][c][e]);else for(;f<g;f++)d.push(a[b[f]][c]);return d},U=function(a,b){var c=[],e;b===k?
        (b=0,e=a):(e=b,b=a);for(var d=b;d<e;d++)c.push(d);return c},Sb=function(a){for(var b=[],c=0,e=a.length;c<e;c++)a[c]&&b.push(a[c]);return b},Na=function(a){var b=[],c,e,d=a.length,f,g=0;e=0;a:for(;e<d;e++){c=a[e];for(f=0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b},A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ba=/\[.*?\]$/,S=/\(\)$/,wa=h("<div>")[0],Zb=wa.textContent!==k,$b=/<.*?>/g;o=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,
        b).data()};this.api=function(a){return a?new t(za(this[x.iApiIndex])):new t(this)};this.fnAddData=function(a,b){var c=this.api(!0),e=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===k||b)&&c.draw();return e.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===k||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&Y(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=
        function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),d=a.settings()[0],h=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,h);(c===k||c)&&e.draw();return h};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(!a)};this.fnFilter=function(a,b,c,e,d,h){d=this.api(!0);null===b||b===k?d.search(a,c,e,h):d.column(b).search(a,c,e,h);d.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var e=a.nodeName?
        a.nodeName.toLowerCase():"";return b!==k||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=
        function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return za(this[x.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,e,d){var h=this.api(!0);
        c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(d===k||d)&&h.columns.adjust();(e===k||e)&&h.draw();return 0};this.fnVersionCheck=x.fnVersionCheck;var b=this,c=a===k,e=this.length;c&&(a={});this.oApi=this.internal=x.internal;for(var d in o.ext.internal)d&&(this[d]=Nb(d));this.each(function(){var d={},d=1<e?Lb(d,a,!0):a,g=0,j,i=this.getAttribute("id"),m=!1,l=o.defaults,p=h(this);if("table"!=this.nodeName.toLowerCase())R(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l);
        fb(l.column);H(l,l,!0);H(l.column,l.column,!0);H(l,h.extend(d,p.data()));var n=o.settings,g=0;for(j=n.length;g<j;g++){var r=n[g];if(r.nTable==this||r.nTHead.parentNode==this||r.nTFoot&&r.nTFoot.parentNode==this){g=d.bRetrieve!==k?d.bRetrieve:l.bRetrieve;if(c||g)return r.oInstance;if(d.bDestroy!==k?d.bDestroy:l.bDestroy){r.oInstance.fnDestroy();break}else{R(r,0,"Cannot reinitialise DataTable",3);return}}if(r.sTableId==this.id){n.splice(g,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+
        o.ext._unique++;var q=h.extend(!0,{},o.models.oSettings,{nTable:this,oApi:b.internal,oInit:d,sDestroyWidth:p[0].style.width,sInstance:i,sTableId:i});n.push(q);q.oInstance=1===b.length?b:p.dataTable();eb(d);d.oLanguage&&O(d.oLanguage);d.aLengthMenu&&!d.iDisplayLength&&(d.iDisplayLength=h.isArray(d.aLengthMenu[0])?d.aLengthMenu[0][0]:d.aLengthMenu[0]);d=Lb(h.extend(!0,{},l),d);E(q.oFeatures,d,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));
        E(q,d,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);E(q.oScroll,d,[["sScrollX","sX"],["sScrollXInner",
            "sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);E(q.oLanguage,d,"fnInfoCallback");z(q,"aoDrawCallback",d.fnDrawCallback,"user");z(q,"aoServerParams",d.fnServerParams,"user");z(q,"aoStateSaveParams",d.fnStateSaveParams,"user");z(q,"aoStateLoadParams",d.fnStateLoadParams,"user");z(q,"aoStateLoaded",d.fnStateLoaded,"user");z(q,"aoRowCallback",d.fnRowCallback,"user");z(q,"aoRowCreatedCallback",d.fnCreatedRow,"user");z(q,"aoHeaderCallback",d.fnHeaderCallback,"user");z(q,"aoFooterCallback",
            d.fnFooterCallback,"user");z(q,"aoInitComplete",d.fnInitComplete,"user");z(q,"aoPreDrawCallback",d.fnPreDrawCallback,"user");i=q.oClasses;d.bJQueryUI?(h.extend(i,o.ext.oJUIClasses,d.oClasses),d.sDom===l.sDom&&"lfrtip"===l.sDom&&(q.sDom='<"H"lfr>t<"F"ip>'),q.renderer)?h.isPlainObject(q.renderer)&&!q.renderer.header&&(q.renderer.header="jqueryui"):q.renderer="jqueryui":h.extend(i,o.ext.classes,d.oClasses);p.addClass(i.sTable);if(""!==q.oScroll.sX||""!==q.oScroll.sY)q.oScroll.iBarWidth=Hb();!0===q.oScroll.sX&&
        (q.oScroll.sX="100%");q.iInitDisplayStart===k&&(q.iInitDisplayStart=d.iDisplayStart,q._iDisplayStart=d.iDisplayStart);null!==d.iDeferLoading&&(q.bDeferLoading=!0,g=h.isArray(d.iDeferLoading),q._iRecordsDisplay=g?d.iDeferLoading[0]:d.iDeferLoading,q._iRecordsTotal=g?d.iDeferLoading[1]:d.iDeferLoading);var t=q.oLanguage;h.extend(!0,t,d.oLanguage);""!==t.sUrl&&(h.ajax({dataType:"json",url:t.sUrl,success:function(a){O(a);H(l.oLanguage,a);h.extend(true,t,a);ga(q)},error:function(){ga(q)}}),m=!0);null===
        d.asStripeClasses&&(q.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=q.asStripeClasses,s=h("tbody tr",this).eq(0);-1!==h.inArray(!0,h.map(g,function(a){return s.hasClass(a)}))&&(h("tbody tr",this).removeClass(g.join(" ")),q.asDestroyStripes=g.slice());n=[];g=this.getElementsByTagName("thead");0!==g.length&&(da(q.aoHeader,g[0]),n=qa(q));if(null===d.aoColumns){r=[];g=0;for(j=n.length;g<j;g++)r.push(null)}else r=d.aoColumns;g=0;for(j=r.length;g<j;g++)Fa(q,n?n[g]:null);ib(q,d.aoColumnDefs,r,function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b){ka(q,a,b)});if(s.length){var u=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h.each(na(q,s[0]).cells,function(a,b){var c=q.aoColumns[a];if(c.mData===a){var e=u(b,"sort")||u(b,"order"),d=u(b,"filter")||u(b,"search");if(e!==null||d!==null){c.mData={_:a+".display",sort:e!==null?a+".@data-"+e:k,type:e!==null?a+".@data-"+e:k,filter:d!==null?a+".@data-"+d:k};ka(q,a)}}})}var v=q.oFeatures;d.bStateSave&&(v.bStateSave=!0,Kb(q,d),z(q,"aoDrawCallback",ya,"state_save"));if(d.aaSorting===k){n=
            q.aaSorting;g=0;for(j=n.length;g<j;g++)n[g][1]=q.aoColumns[g].asSorting[0]}xa(q);v.bSort&&z(q,"aoDrawCallback",function(){if(q.bSorted){var a=T(q),b={};h.each(a,function(a,c){b[c.src]=c.dir});w(q,null,"order",[q,a,b]);Jb(q)}});z(q,"aoDrawCallback",function(){(q.bSorted||B(q)==="ssp"||v.bDeferRender)&&xa(q)},"sc");gb(q);g=p.children("caption").each(function(){this._captionSide=p.css("caption-side")});j=p.children("thead");0===j.length&&(j=h("<thead/>").appendTo(this));q.nTHead=j[0];j=p.children("tbody");
        0===j.length&&(j=h("<tbody/>").appendTo(this));q.nTBody=j[0];j=p.children("tfoot");if(0===j.length&&0<g.length&&(""!==q.oScroll.sX||""!==q.oScroll.sY))j=h("<tfoot/>").appendTo(this);0===j.length||0===j.children().length?p.addClass(i.sNoFooter):0<j.length&&(q.nTFoot=j[0],da(q.aoFooter,q.nTFoot));if(d.aaData)for(g=0;g<d.aaData.length;g++)J(q,d.aaData[g]);else(q.bDeferLoading||"dom"==B(q))&&ma(q,h(q.nTBody).children("tr"));q.aiDisplay=q.aiDisplayMaster.slice();q.bInitialised=!0;!1===m&&ga(q)}});b=null;
        return this};var Tb=[],v=Array.prototype,cc=function(a){var b,c,e=o.settings,d=h.map(e,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=h.inArray(a,d),-1!==b?[e[b]]:null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,d);return-1!==b?e[b]:null}).toArray()};t=function(a,b){if(!this instanceof t)throw"DT API must be constructed as a new object";
        var c=[],e=function(a){(a=cc(a))&&c.push.apply(c,a)};if(h.isArray(a))for(var d=0,f=a.length;d<f;d++)e(a[d]);else e(a);this.context=Na(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector={rows:null,cols:null,opts:null};t.extend(this,this,Tb)};o.Api=t;t.prototype={concat:v.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new t(b[a],this[a]):null},filter:function(a){var b=[];
        if(v.filter)b=v.filter.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new t(this.context,b)},flatten:function(){var a=[];return new t(this.context,a.concat.apply(a,this.toArray()))},join:v.join,indexOf:v.indexOf||function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var d=[],f,g,h,i,m,l=this.context,p,n,o=this.selector;"string"===typeof a&&(e=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<
    h;g++){var q=new t(l[g]);if("table"===b)f=c.call(q,l[g],g),f!==k&&d.push(f);else if("columns"===b||"rows"===b)f=c.call(q,l[g],this[g],g),f!==k&&d.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b){n=this[g];"column-rows"===b&&(p=Ca(l[g],o.opts));i=0;for(m=n.length;i<m;i++)f=n[i],f="cell"===b?c.call(q,l[g],f.row,f.column,g,i):c.call(q,l[g],f,g,i,p),f!==k&&d.push(f)}}return d.length||e?(a=new t(l,a?d.concat.apply([],d):d),b=a.selector,b.rows=o.rows,b.cols=o.cols,b.opts=o.opts,a):
        this},lastIndexOf:v.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(v.map)b=v.map.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)b.push(a.call(this,this[c],c));return new t(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:v.pop,push:v.push,reduce:v.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:v.reduceRight||function(a,b){return hb(this,a,b,this.length-1,
        -1,-1)},reverse:v.reverse,selector:null,shift:v.shift,sort:v.sort,splice:v.splice,toArray:function(){return v.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},unique:function(){return new t(this.context,Na(this))},unshift:v.unshift};t.extend=function(a,b,c){if(c.length&&b&&(b instanceof t||b.__dt_wrapper)){var e,d,f,g=function(a,b,c){return function(){var e=b.apply(a,arguments);t.extend(e,e,c.methodExt);return e}};e=0;for(d=c.length;e<d;e++)f=c[e],b[f.name]="function"===
    typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,t.extend(a,b[f.name],f.propExt)}};t.register=r=function(a,b){if(h.isArray(a))for(var c=0,e=a.length;c<e;c++)t.register(a[c],b);else for(var d=a.split("."),f=Tb,g,j,c=0,e=d.length;c<e;c++){g=(j=-1!==d[c].indexOf("()"))?d[c].replace("()",""):d[c];var i;a:{i=0;for(var m=f.length;i<m;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===e-1?i.val=b:f=j?i.methodExt:i.propExt}};
    t.registerPlural=u=function(a,b,c){t.register(a,c);t.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof t?a.length?h.isArray(a[0])?new t(a.context,a[0]):a[0]:k:a})};r("tables()",function(a){var b;if(a){b=t;var c=this.context;if("number"===typeof a)a=[c[a]];else var e=h.map(c,function(a){return a.nTable}),a=h(e).filter(a).map(function(){var a=h.inArray(this,e);return c[a]}).toArray();b=new b(a)}else b=this;return b});r("table()",function(a){var a=this.tables(a),b=
        a.context;return b.length?new t(b[0]):a});u("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});u("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});u("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});u("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});u("tables().containers()",
        "table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});r("draw()",function(a){return this.iterator("table",function(b){N(b,!1===a)})});r("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})});r("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(e/c),start:b,
        end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}});r("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){"ssp"==B(a)?N(a,b):(C(a,!0),ra(a,[],function(c){oa(a);for(var c=sa(a,c),e=0,g=c.length;e<g;e++)J(a,c[e]);N(a,b);C(a,!1)}));if(c){var e=new t(a);e.one("draw",function(){c(e.ajax.json())})}};r("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});
    r("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});r("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});r("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});r("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Ub(c,
        !1===b,a)})});var $a=function(a,b){var c=[],e,d,f,g,j,i;e=typeof a;if(!a||"string"===e||"function"===e||a.length===k)a=[a];f=0;for(g=a.length;f<g;f++){d=a[f]&&a[f].split?a[f].split(","):[a[f]];j=0;for(i=d.length;j<i;j++)(e=b("string"===typeof d[j]?h.trim(d[j]):d[j]))&&e.length&&c.push.apply(c,e)}return c},ab=function(a){a||(a={});a.filter&&!a.search&&(a.search=a.filter);return{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<
        a[b].length)return a[0]=a[b],a.length=1,a.context=[a.context[b]],a;a.length=0;return a},Ca=function(a,b){var c,e,d,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;e=b.order;d=b.page;if("ssp"==B(a))return"removed"===j?[]:U(0,c.length);if("current"==d){c=a._iDisplayStart;for(e=a.fnDisplayEnd();c<e;c++)f.push(g[c])}else if("current"==e||"applied"==e)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===h.inArray(a,g)?a:null});else if("index"==e||"original"==e){c=0;for(e=a.aoData.length;c<
    e;c++)"none"==j?f.push(c):(d=h.inArray(c,g),(-1===d&&"removed"==j||0<=d&&"applied"==j)&&f.push(c))}return f};r("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=b;return $a(a,function(a){var b=Pb(a);if(b!==null&&!d)return[b];var j=Ca(c,d);if(b!==null&&h.inArray(b,j)!==-1)return[b];if(!a)return j;if(typeof a==="function")return h.map(j,function(b){var d=c.aoData[b];return a(b,d._aData,d.nTr)?b:null});b=Sb(ia(c.aoData,j,"nTr"));return a.nodeName&&
    h.inArray(a,b)!==-1?[a._DT_RowIndex]:h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()})},1);c.selector.rows=a;c.selector.opts=b;return c});r("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)});r("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ia(a.aoData,b,"_aData")},1)});u("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var e=b.aoData[c];return"search"===a?e._aFilterData:
        e._aSortData},1)});u("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ca(b,c,a)})});u("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});u("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var d=b.aoData;d.splice(c,1);for(var f=0,g=d.length;f<g;f++)null!==d[f].nTr&&(d[f].nTr._DT_RowIndex=f);h.inArray(c,b.aiDisplay);pa(b.aiDisplayMaster,c);pa(b.aiDisplay,
        c);pa(a[e],c,!1);Sa(b)})});r("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(J(b,c));return h},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});r("row()",function(a,b){return bb(this.rows(a,b))});r("row().data()",function(a){var b=this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;ca(b[0],
        this[0],"data");return this});r("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});r("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?ma(b,a)[0]:J(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==k?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=k,c._details=k))},Vb=function(a,b){var c=
        a.context;if(c.length&&a.length){var e=c[0].aoData[a[0]];if(e._details){(e._detailsShow=b)?e._details.insertAfter(e.nTr):e._details.detach();var d=c[0],f=new t(d),g=d.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<D(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){d===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(d===b)for(var c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 e=aa(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",e)}),f.on("destroy.dt.DT_details",function(a,b){if(d===b)for(var c=0,e=g.length;c<e;c++)g[c]._details&&cb(f,c)}))}}};r("row().child()",function(a,b){var c=this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)cb(this);else if(c.length&&this.length){var e=c[0],c=c[0].aoData[this[0]],d=[],f=function(a,b){if(a.nodeName&&"tr"===a.nodeName.toLowerCase())d.push(a);
    else{var c=h("<tr><td/></tr>").addClass(b);h("td",c).addClass(b).html(a)[0].colSpan=aa(e);d.push(c[0])}};if(h.isArray(a)||a instanceof h)for(var g=0,j=a.length;g<j;g++)f(a[g],b);else f(a,b);c._details&&c._details.remove();c._details=h(d);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});r(["row().child.show()","row().child().show()"],function(){Vb(this,!0);return this});r(["row().child.hide()","row().child().hide()"],function(){Vb(this,!1);return this});r(["row().child.remove()","row().child().remove()"],
        function(){cb(this);return this});r("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var dc=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,e,d){for(var c=[],e=0,f=d.length;e<f;e++)c.push(y(a,d[e],b));return c};r("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=a,f=b,g=c.aoColumns,j=D(g,"sName"),i=D(g,"nTh");return $a(d,function(a){var b=Pb(a);if(a===
        "")return U(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var d=Ca(c,f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,d),i[f])?f:null})}var k=typeof a==="string"?a.match(dc):"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],10);if(b<0){var o=h.map(g,function(a,b){return a.bVisible?b:null});return[o[o.length+b]]}return[la(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null})}else return h(i).filter(a).map(function(){return h.inArray(this,
        i)}).toArray()})},1);c.selector.cols=a;c.selector.opts=b;return c});u("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});u("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});u("columns().data()","column().data()",function(){return this.iterator("column-rows",Wb,1)});u("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",
        function(a,b){return a.aoColumns[b].mData},1)});u("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,e,d,f){return ia(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});u("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,e,d){return ia(a.aoData,d,"anCells",b)},1)});u("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(c,e){if(a===k)return c.aoColumns[e].bVisible;
        var d=c.aoColumns,f=d[e],g=c.aoData,j,i,m;if(a!==k&&f.bVisible!==a){if(a){var l=h.inArray(!0,D(d,"bVisible"),e+1);j=0;for(i=g.length;j<i;j++)m=g[j].nTr,d=g[j].anCells,m&&m.insertBefore(d[e],d[l]||null)}else h(D(c.aoData,"anCells",e)).detach();f.bVisible=a;ea(c,c.aoHeader);ea(c,c.aoFooter);if(b===k||b)X(c),(c.oScroll.sX||c.oScroll.sY)&&Y(c);w(c,null,"column-visibility",[c,e,a]);ya(c)}})});u("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===
    a?$(b,c):c},1)});r("columns.adjust()",function(){return this.iterator("table",function(a){X(a)},1)});r("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return la(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}});r("column()",function(a,b){return bb(this.columns(a,b))});r("cells()",function(a,b,c){h.isPlainObject(a)&&(typeof a.row!==k?(c=b,b=null):(c=a,a=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",
        function(b){var e=a,d=ab(c),f=b.aoData,g=Ca(b,d),d=Sb(ia(f,g,"anCells")),j=h([].concat.apply([],d)),i,l=b.aoColumns.length,m,o,r,t,s,u;return $a(e,function(a){var c=typeof a==="function";if(a===null||a===k||c){m=[];o=0;for(r=g.length;o<r;o++){i=g[o];for(t=0;t<l;t++){s={row:i,column:t};if(c){u=b.aoData[i];a(s,y(b,i,t),u.anCells[t])&&m.push(s)}else m.push(s)}}return m}return h.isPlainObject(a)?[a]:j.filter(a).map(function(a,b){i=b.parentNode._DT_RowIndex;return{row:i,column:h.inArray(b,f[i].anCells)}}).toArray()})});
        var e=this.columns(b,c),d=this.rows(a,c),f,g,j,i,m,l=this.iterator("table",function(a,b){f=[];g=0;for(j=d[b].length;g<j;g++){i=0;for(m=e[b].length;i<m;i++)f.push({row:d[b][g],column:e[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});u("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b].anCells)?a[c]:k},1)});r("cells().data()",function(){return this.iterator("cell",function(a,b,c){return y(a,b,c)},1)});u("cells().cache()",
        "cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,e){return b.aoData[c][a][e]},1)});u("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,e){return y(b,c,e,a)},1)});u("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)});u("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  c,e){ca(b,c,a,e)})});r("cell()",function(a,b,c){return bb(this.cells(a,b,c))});r("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?y(b[0],c[0].row,c[0].column):k;Ia(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});r("order()",function(a,b){var c=this.context;if(a===k)return 0!==c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:h.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=
        a.slice()})});r("order.listener()",function(a,b,c){return this.iterator("table",function(e){Oa(e,a,b,c)})});r(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var d=[];h.each(b[e],function(b,c){d.push([c,a])});c.aaSorting=d})});r("search()",function(a,b,c,e){var d=this.context;return a===k?0!==d.length?d[0].oPreviousSearch.sSearch:k:this.iterator("table",function(d){d.oFeatures.bFilter&&fa(d,h.extend({},d.oPreviousSearch,{sSearch:a+"",bRegex:null===
    b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),1)})});u("columns().search()","column().search()",function(a,b,c,e){return this.iterator("column",function(d,f){var g=d.aoPreSearchCols;if(a===k)return g[f].sSearch;d.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),fa(d,d.oPreviousSearch,1))})});r("state()",function(){return this.context.length?this.context[0].oSavedState:null});r("state.clear()",function(){return this.iterator("table",
        function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});r("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});r("state.save()",function(){return this.iterator("table",function(a){ya(a)})});o.versionCheck=o.fnVersionCheck=function(a){for(var b=o.version.split("."),a=a.split("."),c,e,d=0,f=a.length;d<f;d++)if(c=parseInt(b[d],10)||0,e=parseInt(a[d],10)||0,c!==e)return c>e;return!0};o.isDataTable=o.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;h.each(o.settings,
        function(a,d){if(d.nTable===b||h("table",d.nScrollHead)[0]===b||h("table",d.nScrollFoot)[0]===b)c=!0});return c};o.tables=o.fnTables=function(a){return h.map(o.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable})};o.util={throttle:ua,escapeRegex:va};o.camelToHungarian=H;r("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,b){r(b+"()",function(){var a=Array.prototype.slice.call(arguments);
        a[0].match(/\.dt\b/)||(a[0]+=".dt");var e=h(this.tables().nodes());e[b].apply(e,a);return this})});r("clear()",function(){return this.iterator("table",function(a){oa(a)})});r("settings()",function(){return new t(this.context,this.context)});r("data()",function(){return this.iterator("table",function(a){return D(a.aoData,"_aData")}).flatten()});r("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,e=b.oClasses,d=b.nTable,f=b.nTBody,g=b.nTHead,j=
        b.nTFoot,i=h(d),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),p;b.bDestroying=!0;w(b,"aoDestroyCallback","destroy",[b]);a||(new t(b)).columns().visible(!0);k.unbind(".DT").find(":not(tbody *)").unbind(".DT");h(Ea).unbind(".DT-"+b.sInstance);d!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&d!=j.parentNode&&(i.children("tfoot").detach(),i.append(j));i.detach();k.detach();b.aaSorting=[];b.aaSortingFixed=[];xa(b);h(l).removeClass(b.asStripeClasses.join(" "));h("th, td",
        g).removeClass(e.sSortable+" "+e.sSortableAsc+" "+e.sSortableDesc+" "+e.sSortableNone);b.bJUI&&(h("th span."+e.sSortIcon+", td span."+e.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+e.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));!a&&c&&c.insertBefore(d,b.nTableReinsertBefore);f.children().detach();f.append(l);i.css("width",b.sDestroyWidth).removeClass(e.sTable);(p=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%
    p])});c=h.inArray(b,o.settings);-1!==c&&o.settings.splice(c,1)})});o.version="1.10.5";o.settings=[];o.models={};o.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};o.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};o.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,
        nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};o.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,
        bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+
        a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},
            oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"<span class='icon-search74'></span>",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},
            o.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};V(o.defaults);o.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};V(o.defaults.column);
    o.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],
        aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],
        aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==B(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},
        fnRecordsDisplay:function(){return"ssp"==B(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,e=this.aiDisplay.length,d=this.oFeatures,f=d.bPaginate;return d.bServerSide?!1===f||-1===a?b+e:Math.min(b+a,this._iRecordsDisplay):!f||c>e||-1===a?e:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};o.ext=x={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},
        legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:o.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:o.version};h.extend(x,{afnFiltering:x.search,aTypes:x.type.detect,ofnSearch:x.type.search,oSort:x.type.order,afnSortData:x.order,aoFeatures:x.feature,oApi:x.internal,oStdClasses:x.classes,oPagination:x.pager});h.extend(o.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",
        sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",
        sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Da="",Da="",F=Da+"ui-state-default",ja=Da+"css_right ui-icon ui-icon-",Xb=Da+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";
    h.extend(o.ext.oJUIClasses,o.ext.classes,{sPageButton:"fg-button ui-button "+F,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:F+" sorting_asc",sSortDesc:F+" sorting_desc",sSortable:F+" sorting",sSortableAsc:F+" sorting_asc_disabled",sSortableDesc:F+" sorting_desc_disabled",sSortableNone:F+" sorting_disabled",sSortJUIAsc:ja+"triangle-1-n",sSortJUIDesc:ja+"triangle-1-s",
        sSortJUI:ja+"carat-2-n-s",sSortJUIAscAllowed:ja+"carat-1-n",sSortJUIDescAllowed:ja+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+F,sScrollFoot:"dataTables_scrollFoot "+F,sHeaderTH:F,sFooterTH:F,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+" ui-corner-bl ui-corner-br"});var Mb=o.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b){return["previous",Wa(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Wa(a,b),"next","last"]},_numbers:Wa,numbers_length:7});h.extend(!0,o.ext.renderer,{pageButton:{_:function(a,b,c,e,d,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i,k,l=0,o=function(b,e){var n,r,t,s,u=function(b){Ta(a,b.data.action,true)};n=0;for(r=e.length;n<r;n++){s=e[n];if(h.isArray(s)){t=h("<"+(s.DT_el||"div")+"/>").appendTo(b);o(t,s)}else{k=i="";switch(s){case "ellipsis":b.append("<span>&hellip;</span>");
        break;case "first":i=j.sFirst;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "previous":i=j.sPrevious;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "next":i=j.sNext;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;case "last":i=j.sLast;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;default:i=s+1;k=d===s?g.sPageButtonActive:""}if(i){t=h("<a>",{"class":g.sPageButton+" "+k,"aria-controls":a.sTableId,"data-dt-idx":l,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(i).appendTo(b);
        Va(t,{action:s},u);l++}}}},n;try{n=h(P.activeElement).data("dt-idx")}catch(r){}o(h(b).empty(),e);n&&h(b).find("[data-dt-idx="+n+"]").focus()}}});h.extend(o.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||I(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;
        return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return I(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);h.extend(o.ext.type.search,{html:function(a){return I(a)?a:"string"===typeof a?a.replace(Ob," ").replace(Ba,""):""},string:function(a){return I(a)?a:"string"===typeof a?a.replace(Ob," "):a}});var Aa=function(a,b,c,e){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Qb(a,b));a.replace&&(c&&(a=a.replace(c,"")),
    e&&(a=a.replace(e,"")));return 1*a};h.extend(x.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return I(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return I(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});db("");h.extend(!0,o.ext.renderer,{header:{_:function(a,b,c,e){h(a.nTable).on("order.dt.DT",function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               f,g,h){if(a===f){d=c.idx;b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,e){h("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(e.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(d,f,g,h){if(a===f){d=c.idx;b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass);
        b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass(h[d]=="asc"?e.sSortJUIAsc:h[d]=="desc"?e.sSortJUIDesc:c.sSortingClassJUI)}})}}});o.render={number:function(a,b,c,e){return{display:function(d){var f=0>d?"-":"",d=Math.abs(parseFloat(d)),g=parseInt(d,10),d=c?b+(d-g).toFixed(c).substring(2):"";return f+(e||"")+g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+d}}}};h.extend(o.ext.internal,{_fnExternApiFunc:Nb,
        _fnBuildAjax:ra,_fnAjaxUpdate:kb,_fnAjaxParameters:tb,_fnAjaxUpdateDraw:ub,_fnAjaxDataSrc:sa,_fnAddColumn:Fa,_fnColumnOptions:ka,_fnAdjustColumnSizing:X,_fnVisibleToColumnIndex:la,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:Z,_fnColumnTypes:Ha,_fnApplyColumnDefs:ib,_fnHungarianMap:V,_fnCamelToHungarian:H,_fnLanguageCompat:O,_fnBrowserDetect:gb,_fnAddData:J,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:y,_fnSetCellData:Ia,_fnSplitObjNotation:Ka,_fnGetObjectDataFn:W,_fnSetObjectDataFn:Q,_fnGetDataMaster:La,_fnClearTable:oa,_fnDeleteIndex:pa,_fnInvalidate:ca,_fnGetRowElements:na,_fnCreateTr:Ja,_fnBuildHead:jb,_fnDrawHead:ea,_fnDraw:M,_fnReDraw:N,_fnAddOptionsHtml:mb,_fnDetectHeader:da,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:ob,_fnFilterComplete:fa,_fnFilterCustom:xb,_fnFilterColumn:wb,_fnFilter:vb,_fnFilterCreateSearch:Qa,_fnEscapeRegex:va,
        _fnFilterData:yb,_fnFeatureHtmlInfo:rb,_fnUpdateInfo:Bb,_fnInfoMacros:Cb,_fnInitialise:ga,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:nb,_fnFeatureHtmlPaginate:sb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:pb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:qb,_fnScrollDraw:Y,_fnApplyToChildren:G,_fnCalculateColumnWidths:Ga,_fnThrottle:ua,_fnConvertToWidth:Db,_fnScrollingWidthAdjust:Fb,_fnGetWidestNode:Eb,_fnGetMaxLenString:Gb,_fnStringToCss:s,_fnScrollBarWidth:Hb,_fnSortFlatten:T,_fnSort:lb,
        _fnSortAria:Jb,_fnSortListener:Ua,_fnSortAttachListener:Oa,_fnSortingClasses:xa,_fnSortData:Ib,_fnSaveState:ya,_fnLoadState:Kb,_fnSettingsFromNode:za,_fnLog:R,_fnMap:E,_fnBindAction:Va,_fnCallbackReg:z,_fnCallbackFire:w,_fnLengthOverflow:Sa,_fnRenderer:Pa,_fnDataSource:B,_fnRowAttributes:Ma,_fnCalculateEnd:function(){}});h.fn.dataTable=o;h.fn.dataTableSettings=o.settings;h.fn.dataTableExt=o.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(o,function(a,b){h.fn.DataTable[a]=
        b});return h.fn.dataTable};"function"===typeof define&&define.amd?define("datatables",["jquery"],O):"object"===typeof exports?module.exports=O(require("./jquery")):jQuery&&!jQuery.fn.dataTable&&O(jQuery)})(window,document);
},{"./jquery":57}],57:[function(require,module,exports){
/*!
 * jQuery JavaScript Library v2.1.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-18T15:11Z
 */

(function( global, factory ) {

	if ( typeof module === "object" && typeof module.exports === "object" ) {
		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//

var arr = [];

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
	// Use the correct document accordingly with window argument (sandbox)
	document = window.document,

	version = "2.1.3",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android<4.1
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {
	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num != null ?

			// Return just the one element from the set
			( num < 0 ? this[ num + this.length ] : this[ num ] ) :

			// Return all the elements in a clean array
			slice.call( this );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray,

	isWindow: function( obj ) {
		return obj != null && obj === obj.window;
	},

	isNumeric: function( obj ) {
		// parseFloat NaNs numeric-cast false positives (null|true|false|"")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		// adding 1 corrects loss of precision from parseFloat (#15100)
		return !jQuery.isArray( obj ) && (obj - parseFloat( obj ) + 1) >= 0;
	},

	isPlainObject: function( obj ) {
		// Not plain objects:
		// - Any object or value whose internal [[Class]] property is not "[object Object]"
		// - DOM nodes
		// - window
		if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		if ( obj.constructor &&
				!hasOwn.call( obj.constructor.prototype, "isPrototypeOf" ) ) {
			return false;
		}

		// If the function hasn't returned already, we're confident that
		// |obj| is a plain object, created by {} or constructed with new Object
		return true;
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}
		// Support: Android<4.0, iOS<6 (functionish RegExp)
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call(obj) ] || "object" :
			typeof obj;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		var script,
			indirect = eval;

		code = jQuery.trim( code );

		if ( code ) {
			// If the code includes a valid, prologue position
			// strict mode pragma, execute code by injecting a
			// script tag into the document.
			if ( code.indexOf("use strict") === 1 ) {
				script = document.createElement("script");
				script.text = code;
				document.head.appendChild( script ).parentNode.removeChild( script );
			} else {
			// Otherwise, avoid the DOM node creation, insertion
			// and removal by using an indirect global eval
				indirect( code );
			}
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Support: IE9-11+
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	// args is for internal usage only
	each: function( obj, callback, args ) {
		var value,
			i = 0,
			length = obj.length,
			isArray = isArraylike( obj );

		if ( args ) {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			}
		}

		return obj;
	},

	// Support: Android<4.1
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArraylike( Object(arr) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value,
			i = 0,
			length = elems.length,
			isArray = isArraylike( elems ),
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: Date.now,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
});

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

function isArraylike( obj ) {
	var length = obj.length,
		type = jQuery.type( obj );

	if ( type === "function" || jQuery.isWindow( obj ) ) {
		return false;
	}

	if ( obj.nodeType === 1 && length ) {
		return true;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// General-purpose constants
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// http://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",
	// http://www.w3.org/TR/css3-syntax/#characters
	characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Loosely modeled on CSS identifier characters
	// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = characterEncoding.replace( "w", "w#" ),

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + characterEncoding + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,
	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var match, elem, m, nodeType,
		// QSA vars
		i, groups, old, nid, newContext, newSelector;

	if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
		setDocument( context );
	}

	context = context || document;
	results = results || [];
	nodeType = context.nodeType;

	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	if ( !seed && documentIsHTML ) {

		// Try to shortcut find operations when possible (e.g., not under DocumentFragment)
		if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {
			// Speed-up: Sizzle("#ID")
			if ( (m = match[1]) ) {
				if ( nodeType === 9 ) {
					elem = context.getElementById( m );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document (jQuery #6963)
					if ( elem && elem.parentNode ) {
						// Handle the case where IE, Opera, and Webkit return items
						// by name instead of ID
						if ( elem.id === m ) {
							results.push( elem );
							return results;
						}
					} else {
						return results;
					}
				} else {
					// Context is not a document
					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
						contains( context, elem ) && elem.id === m ) {
						results.push( elem );
						return results;
					}
				}

			// Speed-up: Sizzle("TAG")
			} else if ( match[2] ) {
				push.apply( results, context.getElementsByTagName( selector ) );
				return results;

			// Speed-up: Sizzle(".CLASS")
			} else if ( (m = match[3]) && support.getElementsByClassName ) {
				push.apply( results, context.getElementsByClassName( m ) );
				return results;
			}
		}

		// QSA path
		if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
			nid = old = expando;
			newContext = context;
			newSelector = nodeType !== 1 && selector;

			// qSA works strangely on Element-rooted queries
			// We can work around this by specifying an extra ID on the root
			// and working up from there (Thanks to Andrew Dupont for the technique)
			// IE 8 doesn't work on object elements
			if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
				groups = tokenize( selector );

				if ( (old = context.getAttribute("id")) ) {
					nid = old.replace( rescape, "\\$&" );
				} else {
					context.setAttribute( "id", nid );
				}
				nid = "[id='" + nid + "'] ";

				i = groups.length;
				while ( i-- ) {
					groups[i] = nid + toSelector( groups[i] );
				}
				newContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;
				newSelector = groups.join(",");
			}

			if ( newSelector ) {
				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch(qsaError) {
				} finally {
					if ( !old ) {
						context.removeAttribute("id");
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = attrs.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, parent,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// If no document and documentElement is available, return
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Set our document
	document = doc;
	docElem = doc.documentElement;
	parent = doc.defaultView;

	// Support: IE>8
	// If iframe document is assigned to "document" variable and if iframe has been reloaded,
	// IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
	// IE6-8 do not support the defaultView property so parent will be undefined
	if ( parent && parent !== parent.top ) {
		// IE11 does not have attachEvent, so all must suffer
		if ( parent.addEventListener ) {
			parent.addEventListener( "unload", unloadHandler, false );
		} else if ( parent.attachEvent ) {
			parent.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Support tests
	---------------------------------------------------------------------- */
	documentIsHTML = !isXML( doc );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( doc.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( doc.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var m = context.getElementById( id );
				// Check parentNode to catch when Blackberry 4.6 returns
				// nodes that are no longer in the document #6963
				return m && m.parentNode ? [ m ] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\f]' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( div.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.2+, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.7+
			if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibing-combinator selector` fails
			if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( div ) {
			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = doc.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( div.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully does not implement inclusive descendent
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === doc ? -1 :
				b === doc ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return doc;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, outerCache, node, diff, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {
							// Seek `elem` from a previously-cached index
							outerCache = parent[ expando ] || (parent[ expando ] = {});
							cache = outerCache[ type ] || [];
							nodeIndex = cache[0] === dirruns && cache[1];
							diff = cache[0] === dirruns && cache[2];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						// Use previously-cached element index if available
						} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
							diff = cache[1];

						// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
						} else {
							// Use the same loop as above to seek `elem` from the start
							while ( (node = ++nodeIndex && node && node[ dir ] ||
								(diff = nodeIndex = 0) || start.pop()) ) {

								if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
									// Cache the index of each encountered element
									if ( useCache ) {
										(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
									}

									if ( node === elem ) {
										break;
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});
						if ( (oldCache = outerCache[ dir ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							outerCache[ dir ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context !== document && context;
			}

			// Add elements passing elementMatchers directly to results
			// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// Apply set filters to unmatched elements
			matchedCount += i;
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is no seed and only one group
	if ( match.length === 1 ) {

		// Take a shortcut and set the context if the root selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				support.getById && context.nodeType === 9 && documentIsHTML &&
				Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = (/^<(\w+)\s*\/?>(?:<\/\1>|)$/);



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		});

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		});

	}

	if ( typeof qualifier === "string" ) {
		if ( risSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( indexOf.call( qualifier, elem ) >= 0 ) !== not;
	});
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	return elems.length === 1 && elem.nodeType === 1 ?
		jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
		jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
			return elem.nodeType === 1;
		}));
};

jQuery.fn.extend({
	find: function( selector ) {
		var i,
			len = this.length,
			ret = [],
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter(function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			}) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow(this, selector || [], false) );
	},
	not: function( selector ) {
		return this.pushStack( winnow(this, selector || [], true) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
});


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	init = jQuery.fn.init = function( selector, context ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[0] === "<" && selector[ selector.length - 1 ] === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[1],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {
							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[2] );

					// Support: Blackberry 4.6
					// gEBID returns nodes no longer in the document (#6963)
					if ( elem && elem.parentNode ) {
						// Inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return typeof rootjQuery.ready !== "undefined" ?
				rootjQuery.ready( selector ) :
				// Execute immediately if ready is not present
				selector( jQuery );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,
	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.extend({
	dir: function( elem, dir, until ) {
		var matched = [],
			truncate = until !== undefined;

		while ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {
			if ( elem.nodeType === 1 ) {
				if ( truncate && jQuery( elem ).is( until ) ) {
					break;
				}
				matched.push( elem );
			}
		}
		return matched;
	},

	sibling: function( n, elem ) {
		var matched = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				matched.push( n );
			}
		}

		return matched;
	}
});

jQuery.fn.extend({
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter(function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
				// Always skip document fragments
				if ( cur.nodeType < 11 && (pos ?
					pos.index(cur) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector(cur, selectors)) ) {

					matched.push( cur );
					break;
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.unique(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter(selector)
		);
	}
});

function sibling( cur, dir ) {
	while ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return elem.contentDocument || jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {
			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.unique( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
});
var rnotwhite = (/\S+/g);



// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
	var object = optionsCache[ options ] = {};
	jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	});
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		( optionsCache[ options ] || createOptions( options ) ) :
		jQuery.extend( {}, options );

	var // Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list was already fired
		fired,
		// Flag to know if list is currently firing
		firing,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = !options.once && [],
		// Fire callbacks
		fire = function( data ) {
			memory = options.memory && data;
			fired = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			firing = true;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
					memory = false; // To prevent further calls using add
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( stack ) {
					if ( stack.length ) {
						fire( stack.shift() );
					}
				} else if ( memory ) {
					list = [];
				} else {
					self.disable();
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					// First, we save the current length
					var start = list.length;
					(function add( args ) {
						jQuery.each( args, function( _, arg ) {
							var type = jQuery.type( arg );
							if ( type === "function" ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && type !== "string" ) {
								// Inspect recursively
								add( arg );
							}
						});
					})( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away
					} else if ( memory ) {
						firingStart = start;
						fire( memory );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );
							// Handle firing indexes
							if ( firing ) {
								if ( index <= firingLength ) {
									firingLength--;
								}
								if ( index <= firingIndex ) {
									firingIndex--;
								}
							}
						}
					});
				}
				return this;
			},
			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				firingLength = 0;
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( list && ( !fired || stack ) ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					if ( firing ) {
						stack.push( args );
					} else {
						fire( args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.extend({

	Deferred: function( func ) {
		var tuples = [
				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks("memory") ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[1] ](function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.done( newDefer.resolve )
										.fail( newDefer.reject )
										.progress( newDefer.notify );
								} else {
									newDefer[ tuple[ 0 ] + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
								}
							});
						});
						fns = null;
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[1] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(function() {
					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[0] ] = function() {
				deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[0] + "With" ] = list.fireWith;
		});

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// Add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject )
						.progress( updateFunc( i, progressContexts, progressValues ) );
				} else {
					--remaining;
				}
			}
		}

		// If we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
});


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {
	// Add the callback
	jQuery.ready.promise().done( fn );

	return this;
};

jQuery.extend({
	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.triggerHandler ) {
			jQuery( document ).triggerHandler( "ready" );
			jQuery( document ).off( "ready" );
		}
	}
});

/**
 * The ready event handler and self cleanup method
 */
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed, false );
	window.removeEventListener( "load", completed, false );
	jQuery.ready();
}

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called after the browser event has already occurred.
		// We once tried to use readyState "interactive" here, but it caused issues like the one
		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			setTimeout( jQuery.ready );

		} else {

			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed, false );
		}
	}
	return readyList.promise( obj );
};

// Kick off the DOM ready check even if the user does not
jQuery.ready.promise();




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {
			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
			}
		}
	}

	return chainable ?
		elems :

		// Gets
		bulk ?
			fn.call( elems ) :
			len ? fn( elems[0], key ) : emptyGet;
};


/**
 * Determines whether an object can have data
 */
jQuery.acceptData = function( owner ) {
	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	/* jshint -W018 */
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};


function Data() {
	// Support: Android<4,
	// Old WebKit does not have Object.preventExtensions/freeze method,
	// return new empty object instead with no [[set]] accessor
	Object.defineProperty( this.cache = {}, 0, {
		get: function() {
			return {};
		}
	});

	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;
Data.accepts = jQuery.acceptData;

Data.prototype = {
	key: function( owner ) {
		// We can accept data for non-element nodes in modern browsers,
		// but we should not, see #8335.
		// Always return the key for a frozen object.
		if ( !Data.accepts( owner ) ) {
			return 0;
		}

		var descriptor = {},
			// Check if the owner object already has a cache key
			unlock = owner[ this.expando ];

		// If not, create one
		if ( !unlock ) {
			unlock = Data.uid++;

			// Secure it in a non-enumerable, non-writable property
			try {
				descriptor[ this.expando ] = { value: unlock };
				Object.defineProperties( owner, descriptor );

			// Support: Android<4
			// Fallback to a less secure definition
			} catch ( e ) {
				descriptor[ this.expando ] = unlock;
				jQuery.extend( owner, descriptor );
			}
		}

		// Ensure the cache object
		if ( !this.cache[ unlock ] ) {
			this.cache[ unlock ] = {};
		}

		return unlock;
	},
	set: function( owner, data, value ) {
		var prop,
			// There may be an unlock assigned to this node,
			// if there is no entry for this "owner", create one inline
			// and set the unlock as though an owner entry had always existed
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		// Handle: [ owner, key, value ] args
		if ( typeof data === "string" ) {
			cache[ data ] = value;

		// Handle: [ owner, { properties } ] args
		} else {
			// Fresh assignments by object are shallow copied
			if ( jQuery.isEmptyObject( cache ) ) {
				jQuery.extend( this.cache[ unlock ], data );
			// Otherwise, copy the properties one-by-one to the cache object
			} else {
				for ( prop in data ) {
					cache[ prop ] = data[ prop ];
				}
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		// Either a valid cache is found, or will be created.
		// New caches will be created and the unlock returned,
		// allowing direct access to the newly created
		// empty data object. A valid owner object must be provided.
		var cache = this.cache[ this.key( owner ) ];

		return key === undefined ?
			cache : cache[ key ];
	},
	access: function( owner, key, value ) {
		var stored;
		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				((key && typeof key === "string") && value === undefined) ) {

			stored = this.get( owner, key );

			return stored !== undefined ?
				stored : this.get( owner, jQuery.camelCase(key) );
		}

		// [*]When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i, name, camel,
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		if ( key === undefined ) {
			this.cache[ unlock ] = {};

		} else {
			// Support array or space separated string of keys
			if ( jQuery.isArray( key ) ) {
				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = key.concat( key.map( jQuery.camelCase ) );
			} else {
				camel = jQuery.camelCase( key );
				// Try the string as a key before any manipulation
				if ( key in cache ) {
					name = [ key, camel ];
				} else {
					// If a key with the spaces exists, use it.
					// Otherwise, create an array by matching non-whitespace
					name = camel;
					name = name in cache ?
						[ name ] : ( name.match( rnotwhite ) || [] );
				}
			}

			i = name.length;
			while ( i-- ) {
				delete cache[ name[ i ] ];
			}
		}
	},
	hasData: function( owner ) {
		return !jQuery.isEmptyObject(
			this.cache[ owner[ this.expando ] ] || {}
		);
	},
	discard: function( owner ) {
		if ( owner[ this.expando ] ) {
			delete this.cache[ owner[ this.expando ] ];
		}
	}
};
var data_priv = new Data();

var data_user = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /([A-Z])/g;

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :
					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			data_user.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend({
	hasData: function( elem ) {
		return data_user.hasData( elem ) || data_priv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return data_user.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		data_user.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to data_priv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return data_priv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		data_priv.remove( elem, name );
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = data_user.get( elem );

				if ( elem.nodeType === 1 && !data_priv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE11+
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice(5) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					data_priv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each(function() {
				data_user.set( this, key );
			});
		}

		return access( this, function( value ) {
			var data,
				camelKey = jQuery.camelCase( key );

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {
				// Attempt to get data from the cache
				// with the key as-is
				data = data_user.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to get data from the cache
				// with the key camelized
				data = data_user.get( elem, camelKey );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, camelKey, undefined );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each(function() {
				// First, attempt to store a copy or reference of any
				// data that might've been store with a camelCased key.
				var data = data_user.get( this, camelKey );

				// For HTML5 data-* attribute interop, we have to
				// store property names with dashes in a camelCase form.
				// This might not apply to all properties...*
				data_user.set( this, camelKey, value );

				// *... In the case of properties that might _actually_
				// have dashes, we need to also store a copy of that
				// unchanged property.
				if ( key.indexOf("-") !== -1 && data !== undefined ) {
					data_user.set( this, key, value );
				}
			});
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each(function() {
			data_user.remove( this, key );
		});
	}
});


jQuery.extend({
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = data_priv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray( data ) ) {
					queue = data_priv.access( elem, type, jQuery.makeArray(data) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return data_priv.get( elem, key ) || data_priv.access( elem, key, {
			empty: jQuery.Callbacks("once memory").add(function() {
				data_priv.remove( elem, [ type + "queue", key ] );
			})
		});
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[0], type );
		}

		return data === undefined ?
			this :
			this.each(function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[0] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = data_priv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
});
var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;

var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {
		// isHidden might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;
		return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
	};

var rcheckableType = (/^(?:checkbox|radio)$/i);



(function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Safari<=5.1
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Safari<=5.1, Android<4.2
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<=11+
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
})();
var strundefined = typeof undefined;



support.focusinBubbles = "onfocusin" in window;


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !(events = elemData.events) ) {
			events = elemData.events = {};
		}
		if ( !(eventHandle = elemData.handle) ) {
			eventHandle = elemData.handle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !(handlers = events[ type ]) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.hasData( elem ) && data_priv.get( elem );

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;
			data_priv.remove( elem, "events" );
		}
	},

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf(".") >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf(":") < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join(".");
		event.namespace_re = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === (elem.ownerDocument || document) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( data_priv.get( cur, "events" ) || {} )[ event.type ] && data_priv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && jQuery.acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
				jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, j, ret, matched, handleObj,
			handlerQueue = [],
			args = slice.call( arguments ),
			handlers = ( data_priv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
							.apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( (event.result = ret) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, matches, sel, handleObj,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		// Avoid non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.disabled !== true || event.type !== "click" ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) >= 0 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push({ elem: cur, handlers: matches });
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
		}

		return handlerQueue;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: Cordova 2.5 (WebKit) (#13255)
		// All events should have a target; Cordova deviceready doesn't
		if ( !event.target ) {
			event.target = document;
		}

		// Support: Safari 6.0+, Chrome<28
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		load: {
			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {
			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {
			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle, false );
	}
};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&
				// Support: Android<4.0
				src.returnValue === false ?
			returnTrue :
			returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && e.preventDefault ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && e.stopPropagation ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && e.stopImmediatePropagation ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
// Support: Chrome 15+
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
});

// Support: Firefox, Chrome, Safari
// Create "bubbling" focus and blur events
if ( !support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				data_priv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					data_priv.remove( doc, fix );

				} else {
					data_priv.access( doc, fix, attaches );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {
				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on( types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		var elem = this[0];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
});


var
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	rtagName = /<([\w:]+)/,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style|link)/i,
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /^$|\/(?:java|ecma)script/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,

	// We have to close these tags to support XHTML (#13200)
	wrapMap = {

		// Support: IE9
		option: [ 1, "<select multiple='multiple'>", "</select>" ],

		thead: [ 1, "<table>", "</table>" ],
		col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

		_default: [ 0, "", "" ]
	};

// Support: IE9
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: 1.x compatibility
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName("tbody")[0] ||
			elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );

	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute("type");
	}

	return elem;
}

// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		data_priv.set(
			elems[ i ], "globalEval", !refElements || data_priv.get( refElements[ i ], "globalEval" )
		);
	}
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( data_priv.hasData( src ) ) {
		pdataOld = data_priv.access( src );
		pdataCur = data_priv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( data_user.hasData( src ) ) {
		udataOld = data_user.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		data_user.set( dest, udataCur );
	}
}

function getAll( context, tag ) {
	var ret = context.getElementsByTagName ? context.getElementsByTagName( tag || "*" ) :
			context.querySelectorAll ? context.querySelectorAll( tag || "*" ) :
			[];

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], ret ) :
		ret;
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	buildFragment: function( elems, context, scripts, selection ) {
		var elem, tmp, tag, wrap, contains, j,
			fragment = context.createDocumentFragment(),
			nodes = [],
			i = 0,
			l = elems.length;

		for ( ; i < l; i++ ) {
			elem = elems[ i ];

			if ( elem || elem === 0 ) {

				// Add nodes directly
				if ( jQuery.type( elem ) === "object" ) {
					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

				// Convert non-html into a text node
				} else if ( !rhtml.test( elem ) ) {
					nodes.push( context.createTextNode( elem ) );

				// Convert html into DOM nodes
				} else {
					tmp = tmp || fragment.appendChild( context.createElement("div") );

					// Deserialize a standard representation
					tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;
					tmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[ 2 ];

					// Descend through wrappers to the right content
					j = wrap[ 0 ];
					while ( j-- ) {
						tmp = tmp.lastChild;
					}

					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, tmp.childNodes );

					// Remember the top-level container
					tmp = fragment.firstChild;

					// Ensure the created nodes are orphaned (#12392)
					tmp.textContent = "";
				}
			}
		}

		// Remove wrapper from fragment
		fragment.textContent = "";

		i = 0;
		while ( (elem = nodes[ i++ ]) ) {

			// #4087 - If origin and destination elements are the same, and this is
			// that element, do not do anything
			if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
				continue;
			}

			contains = jQuery.contains( elem.ownerDocument, elem );

			// Append to fragment
			tmp = getAll( fragment.appendChild( elem ), "script" );

			// Preserve script evaluation history
			if ( contains ) {
				setGlobalEval( tmp );
			}

			// Capture executables
			if ( scripts ) {
				j = 0;
				while ( (elem = tmp[ j++ ]) ) {
					if ( rscriptType.test( elem.type || "" ) ) {
						scripts.push( elem );
					}
				}
			}
		}

		return fragment;
	},

	cleanData: function( elems ) {
		var data, elem, type, key,
			special = jQuery.event.special,
			i = 0;

		for ( ; (elem = elems[ i ]) !== undefined; i++ ) {
			if ( jQuery.acceptData( elem ) ) {
				key = elem[ data_priv.expando ];

				if ( key && (data = data_priv.cache[ key ]) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}
					if ( data_priv.cache[ key ] ) {
						// Discard any remaining `private` data
						delete data_priv.cache[ key ];
					}
				}
			}
			// Discard any remaining `user` data
			delete data_user.cache[ elem[ data_user.expando ] ];
		}
	}
});

jQuery.fn.extend({
	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each(function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				});
		}, null, value, arguments.length );
	},

	append: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		});
	},

	before: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		});
	},

	after: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		});
	},

	remove: function( selector, keepData /* Internal Use Only */ ) {
		var elem,
			elems = selector ? jQuery.filter( selector, this ) : this,
			i = 0;

		for ( ; (elem = elems[i]) != null; i++ ) {
			if ( !keepData && elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem ) );
			}

			if ( elem.parentNode ) {
				if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
					setGlobalEval( getAll( elem, "script" ) );
				}
				elem.parentNode.removeChild( elem );
			}
		}

		return this;
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map(function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = value.replace( rxhtmlTag, "<$1></$2>" );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var arg = arguments[ 0 ];

		// Make the changes, replacing each context element with the new content
		this.domManip( arguments, function( elem ) {
			arg = this.parentNode;

			jQuery.cleanData( getAll( this ) );

			if ( arg ) {
				arg.replaceChild( elem, this );
			}
		});

		// Force removal if there was no new content (e.g., from empty arguments)
		return arg && (arg.length || arg.nodeType) ? this : this.remove();
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, callback ) {

		// Flatten any nested arrays
		args = concat.apply( [], args );

		var fragment, first, scripts, hasScripts, node, doc,
			i = 0,
			l = this.length,
			set = this,
			iNoClone = l - 1,
			value = args[ 0 ],
			isFunction = jQuery.isFunction( value );

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( isFunction ||
				( l > 1 && typeof value === "string" &&
					!support.checkClone && rchecked.test( value ) ) ) {
			return this.each(function( index ) {
				var self = set.eq( index );
				if ( isFunction ) {
					args[ 0 ] = value.call( this, index, self.html() );
				}
				self.domManip( args, callback );
			});
		}

		if ( l ) {
			fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			if ( first ) {
				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
				hasScripts = scripts.length;

				// Use the original fragment for the last item instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				for ( ; i < l; i++ ) {
					node = fragment;

					if ( i !== iNoClone ) {
						node = jQuery.clone( node, true, true );

						// Keep references to cloned scripts for later restoration
						if ( hasScripts ) {
							// Support: QtWebKit
							// jQuery.merge because push.apply(_, arraylike) throws
							jQuery.merge( scripts, getAll( node, "script" ) );
						}
					}

					callback.call( this[ i ], node, i );
				}

				if ( hasScripts ) {
					doc = scripts[ scripts.length - 1 ].ownerDocument;

					// Reenable scripts
					jQuery.map( scripts, restoreScript );

					// Evaluate executable scripts on first document insertion
					for ( i = 0; i < hasScripts; i++ ) {
						node = scripts[ i ];
						if ( rscriptType.test( node.type || "" ) &&
							!data_priv.access( node, "globalEval" ) && jQuery.contains( doc, node ) ) {

							if ( node.src ) {
								// Optional AJAX dependency, but won't run scripts if not present
								if ( jQuery._evalUrl ) {
									jQuery._evalUrl( node.src );
								}
							} else {
								jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
							}
						}
					}
				}
			}
		}

		return this;
	}
});

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: QtWebKit
			// .get() because push.apply(_, arraylike) throws
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
});


var iframe,
	elemdisplay = {};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */
// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
	var style,
		elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

		// getDefaultComputedStyle might be reliably used only on attached element
		display = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?

			// Use of this method is a temporary fix (more like optimization) until something better comes along,
			// since it was removed from specification and supported only in FF
			style.display : jQuery.css( elem[ 0 ], "display" );

	// We don't have any data stored on the element,
	// so use "detach" method as fast way to get rid of the element
	elem.detach();

	return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {

			// Use the already-created iframe if possible
			iframe = (iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" )).appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = iframe[ 0 ].contentDocument;

			// Support: IE
			doc.write();
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}
var rmargin = (/^margin/);

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {
		// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		if ( elem.ownerDocument.defaultView.opener ) {
			return elem.ownerDocument.defaultView.getComputedStyle( elem, null );
		}

		return window.getComputedStyle( elem, null );
	};



function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		style = elem.style;

	computed = computed || getStyles( elem );

	// Support: IE9
	// getPropertyValue is only needed for .css('filter') (#12537)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];
	}

	if ( computed ) {

		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// Support: iOS < 6
		// A tribute to the "awesome hack by Dean Edwards"
		// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
		// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
		if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?
		// Support: IE
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {
	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {
				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return (this.get = hookFn).apply( this, arguments );
		}
	};
}


(function() {
	var pixelPositionVal, boxSizingReliableVal,
		docElem = document.documentElement,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	if ( !div.style ) {
		return;
	}

	// Support: IE9-11+
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;" +
		"position:absolute";
	container.appendChild( div );

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computePixelPositionAndBoxSizingReliable() {
		div.style.cssText =
			// Support: Firefox<29, Android 2.3
			// Vendor-prefix box-sizing
			"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" +
			"box-sizing:border-box;display:block;margin-top:1%;top:1%;" +
			"border:1px;padding:1px;width:4px;position:absolute";
		div.innerHTML = "";
		docElem.appendChild( container );

		var divStyle = window.getComputedStyle( div, null );
		pixelPositionVal = divStyle.top !== "1%";
		boxSizingReliableVal = divStyle.width === "4px";

		docElem.removeChild( container );
	}

	// Support: node.js jsdom
	// Don't assume that getComputedStyle is a property of the global object
	if ( window.getComputedStyle ) {
		jQuery.extend( support, {
			pixelPosition: function() {

				// This test is executed only once but we still do memoizing
				// since we can use the boxSizingReliable pre-computing.
				// No need to check if the test was already performed, though.
				computePixelPositionAndBoxSizingReliable();
				return pixelPositionVal;
			},
			boxSizingReliable: function() {
				if ( boxSizingReliableVal == null ) {
					computePixelPositionAndBoxSizingReliable();
				}
				return boxSizingReliableVal;
			},
			reliableMarginRight: function() {

				// Support: Android 2.3
				// Check if div with explicit width and no margin-right incorrectly
				// gets computed margin-right based on width of container. (#3333)
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// This support function is only executed once so no memoizing is needed.
				var ret,
					marginDiv = div.appendChild( document.createElement( "div" ) );

				// Reset CSS: box-sizing; display; margin; border; padding
				marginDiv.style.cssText = div.style.cssText =
					// Support: Firefox<29, Android 2.3
					// Vendor-prefix box-sizing
					"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
					"box-sizing:content-box;display:block;margin:0;border:0;padding:0";
				marginDiv.style.marginRight = marginDiv.style.width = "0";
				div.style.width = "1px";
				docElem.appendChild( container );

				ret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );

				docElem.removeChild( container );
				div.removeChild( marginDiv );

				return ret;
			}
		});
	}
})();


// A method for quickly swapping in/out CSS properties to get correct calculations.
jQuery.swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var
	// Swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rnumsplit = new RegExp( "^(" + pnum + ")(.*)$", "i" ),
	rrelNum = new RegExp( "^([+-])=(" + pnum + ")", "i" ),

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in style ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[0].toUpperCase() + name.slice(1),
		origName = name,
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in style ) {
			return name;
		}
	}

	return origName;
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?
		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?
		// If we already have the right measurement, avoid augmentation
		4 :
		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {
		// Both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {
			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// At this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {
			// At this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// At this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// Some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {
		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test(val) ) {
			return val;
		}

		// Check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox &&
			( support.boxSizingReliable() || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// Use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = data_priv.get( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {
			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = data_priv.access( elem, "olddisplay", defaultDisplay(elem.nodeName) );
			}
		} else {
			hidden = isHidden( elem );

			if ( display !== "none" || !hidden ) {
				data_priv.set( elem, "olddisplay", hidden ? display : jQuery.css( elem, "display" ) );
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.extend({

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		"float": "cssFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// Support: IE9-11+
			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {
				style[ name ] = value;
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
		}
		return val;
	}
});

jQuery.each([ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) && elem.offsetWidth === 0 ?
					jQuery.swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, name, extra );
					}) :
					getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var styles = extra && getStyles( elem );
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				) : 0
			);
		}
	};
});

// Support: Android 2.3
jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
	function( elem, computed ) {
		if ( computed ) {
			return jQuery.swap( elem, { "display": "inline-block" },
				curCSS, [ elem, "marginRight" ] );
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each({
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split(" ") : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
});

jQuery.fn.extend({
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each(function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		});
	}
});


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || "swing";
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem[ tween.prop ] != null &&
				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );
			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {
			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE9
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	}
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" ),
	rrun = /queueHooks$/,
	animationPrefilters = [ defaultPrefilter ],
	tweeners = {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value ),
				target = tween.cur(),
				parts = rfxnum.exec( value ),
				unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

				// Starting value computation is required for potential unit mismatches
				start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
					rfxnum.exec( jQuery.css( tween.elem, prop ) ),
				scale = 1,
				maxIterations = 20;

			if ( start && start[ 3 ] !== unit ) {
				// Trust units reported by jQuery.css
				unit = unit || start[ 3 ];

				// Make sure we update the tween properties later on
				parts = parts || [];

				// Iteratively approximate from a nonzero starting point
				start = +target || 1;

				do {
					// If previous iteration zeroed out, double until we get *something*.
					// Use string for doubling so we don't accidentally see scale as unchanged below
					scale = scale || ".5";

					// Adjust and apply
					start = start / scale;
					jQuery.style( tween.elem, prop, start + unit );

				// Update scale, tolerating zero or NaN from tween.cur(),
				// break the loop if scale is unchanged or perfect, or if we've just had enough
				} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
			}

			// Update tween properties
			if ( parts ) {
				start = tween.start = +start || +target || 0;
				tween.unit = unit;
				// If a +=/-= token was provided, we're doing a relative animation
				tween.end = parts[ 1 ] ?
					start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
					+parts[ 2 ];
			}

			return tween;
		} ]
	};

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout(function() {
		fxNow = undefined;
	});
	return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( (tween = collection[ index ].call( animation, prop, value )) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = data_priv.get( elem, "fxshow" );

	// Handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always(function() {
			// Ensure the complete handler is called before this completes
			anim.always(function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			});
		});
	}

	// Height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE9-10 do not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		display = jQuery.css( elem, "display" );

		// Test default display if display is currently "none"
		checkDisplay = display === "none" ?
			data_priv.get( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

		if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {
			style.display = "inline-block";
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always(function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		});
	}

	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

		// Any non-fx value stops us from restoring the original display value
		} else {
			display = undefined;
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = data_priv.access( elem, "fxshow", {} );
		}

		// Store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done(function() {
				jQuery( elem ).hide();
			});
		}
		anim.done(function() {
			var prop;

			data_priv.remove( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		});
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}

	// If this is a noop like .hide().hide(), restore an overwritten display value
	} else if ( (display === "none" ? defaultDisplay( elem.nodeName ) : display) === "inline" ) {
		style.display = display;
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = animationPrefilters.length,
		deferred = jQuery.Deferred().always( function() {
			// Don't match elem in the :animated selector
			delete tick.elem;
		}),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
				// Support: Android 2.3
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ]);

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise({
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, { specialEasing: {} }, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,
					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		}),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		})
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.split(" ");
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			tweeners[ prop ] = tweeners[ prop ] || [];
			tweeners[ prop ].unshift( callback );
		}
	},

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			animationPrefilters.unshift( callback );
		} else {
			animationPrefilters.push( callback );
		}
	}
});

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend({
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate({ opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {
				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || data_priv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = data_priv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		});
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each(function() {
			var index,
				data = data_priv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		});
	}
});

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
});

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx("show"),
	slideUp: genFx("hide"),
	slideToggle: genFx("toggle"),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];
		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	if ( timer() ) {
		jQuery.fx.start();
	} else {
		jQuery.timers.pop();
	}
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,
	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = setTimeout( next, time );
		hooks.stop = function() {
			clearTimeout( timeout );
		};
	});
};


(function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: iOS<=5.1, Android<=4.2+
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE<=11+
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: Android<=2.3
	// Options inside disabled selects are incorrectly marked as disabled
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE<=11+
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
})();


var nodeHook, boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend({
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	}
});

jQuery.extend({
	attr: function( elem, name, value ) {
		var hooks, ret,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === strundefined ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );

			} else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, value + "" );
				return value;
			}

		} else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {
			ret = jQuery.find.attr( elem, name );

			// Non-existent attributes return null, we normalize to undefined
			return ret == null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( (name = attrNames[i++]) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {
					// Set corresponding property to false
					elem[ propName ] = false;
				}

				elem.removeAttribute( name );
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					jQuery.nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	}
});

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle;
		if ( !isXML ) {
			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ name ];
			attrHandle[ name ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				name.toLowerCase() :
				null;
			attrHandle[ name ] = handle;
		}
		return ret;
	};
});




var rfocusable = /^(?:input|select|textarea|button)$/i;

jQuery.fn.extend({
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each(function() {
			delete this[ jQuery.propFix[ name ] || name ];
		});
	}
});

jQuery.extend({
	propFix: {
		"for": "htmlFor",
		"class": "className"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
				ret :
				( elem[ name ] = value );

		} else {
			return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
				ret :
				elem[ name ];
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				return elem.hasAttribute( "tabindex" ) || rfocusable.test( elem.nodeName ) || elem.href ?
					elem.tabIndex :
					-1;
			}
		}
	}
});

if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		}
	};
}

jQuery.each([
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
});




var rclass = /[\t\r\n\f]/g;

jQuery.fn.extend({
	addClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call( this, j, this.className ) );
			});
		}

		if ( proceed ) {
			// The disjunction here is for better compressibility (see removeClass)
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					" "
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = arguments.length === 0 || typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call( this, j, this.className ) );
			});
		}
		if ( proceed ) {
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					""
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = value ? jQuery.trim( cur ) : "";
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// Toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					classNames = value.match( rnotwhite ) || [];

				while ( (className = classNames[ i++ ]) ) {
					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( type === strundefined || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					data_priv.set( this, "__className__", this.className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				this.className = this.className || value === false ? "" : data_priv.get( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
				return true;
			}
		}

		return false;
	}
});




var rreturn = /\r/g;

jQuery.fn.extend({
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// Handle most common string cases
					ret.replace(rreturn, "") :
					// Handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :
					// Support: IE10-11+
					// option.text throws exceptions (#14686, #14858)
					jQuery.trim( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// IE6-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&
							// Don't return options that are disabled or in a disabled optgroup
							( support.optDisabled ? !option.disabled : option.getAttribute( "disabled" ) === null ) &&
							( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];
					if ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {
						optionSet = true;
					}
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
});

// Radios and checkboxes getter/setter
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute("value") === null ? "on" : elem.value;
		};
	}
});




// Return jQuery for attributes-only inclusion


jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
});

jQuery.fn.extend({
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
	}
});


var nonce = jQuery.now();

var rquery = (/\?/);



// Support: Android 2.3
// Workaround failure to string-cast null input
jQuery.parseJSON = function( data ) {
	return JSON.parse( data + "" );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, tmp;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE9
	try {
		tmp = new DOMParser();
		xml = tmp.parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Document location
	ajaxLocation = window.location.href,

	// Segment location into parts
	ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {
			// For each dataType in the dataTypeExpression
			while ( (dataType = dataTypes[i++]) ) {
				// Prepend if requested
				if ( dataType[0] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					(structure[ dataType ] = structure[ dataType ] || []).unshift( func );

				// Otherwise append
				} else {
					(structure[ dataType ] = structure[ dataType ] || []).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		});
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},
		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

		// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {
								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s[ "throws" ] ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend({

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: ajaxLocation,
		type: "GET",
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,
			// URL without anti-cache param
			cacheURL,
			// Response headers
			responseHeadersString,
			responseHeaders,
			// timeout handle
			timeoutTimer,
			// Cross-domain detection vars
			parts,
			// To know if global events are to be dispatched
			fireGlobals,
			// Loop variable
			i,
			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks("once memory"),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// The jqXHR state
			state = 0,
			// Default abort message
			strAbort = "canceled",
			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( (match = rheaders.exec( responseHeadersString )) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {
								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {
							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" )
			.replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

		// A cross-domain request is in order when we have a protocol:host:port mismatch
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger("ajaxStart");
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout(function() {
					jqXHR.abort("timeout");
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader("Last-Modified");
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader("etag");
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {
				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger("ajaxStop");
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// Shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		});
	};
});


jQuery._evalUrl = function( url ) {
	return jQuery.ajax({
		url: url,
		type: "GET",
		dataType: "script",
		async: false,
		global: false,
		"throws": true
	});
};


jQuery.fn.extend({
	wrapAll: function( html ) {
		var wrap;

		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapAll( html.call(this, i) );
			});
		}

		if ( this[ 0 ] ) {

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each(function( i ) {
			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	}
});


jQuery.expr.filters.hidden = function( elem ) {
	// Support: Opera <= 12.12
	// Opera reports offsetWidths and offsetHeights less than zero on some elements
	return elem.offsetWidth <= 0 && elem.offsetHeight <= 0;
};
jQuery.expr.filters.visible = function( elem ) {
	return !jQuery.expr.filters.hidden( elem );
};




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// Item is non-scalar (array or object), encode its numeric index.
				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {
			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		});

	} else {
		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend({
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map(function() {
			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		})
		.filter(function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		})
		.map(function( i, elem ) {
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ) {
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});


jQuery.ajaxSettings.xhr = function() {
	try {
		return new XMLHttpRequest();
	} catch( e ) {}
};

var xhrId = 0,
	xhrCallbacks = {},
	xhrSuccessStatus = {
		// file protocol always yields status code 0, assume 200
		0: 200,
		// Support: IE9
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

// Support: IE9
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
if ( window.attachEvent ) {
	window.attachEvent( "onunload", function() {
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]();
		}
	});
}

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport(function( options ) {
	var callback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr(),
					id = ++xhrId;

				xhr.open( options.type, options.url, options.async, options.username, options.password );

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers["X-Requested-With"] ) {
					headers["X-Requested-With"] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							delete xhrCallbacks[ id ];
							callback = xhr.onload = xhr.onerror = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {
								complete(
									// file: protocol always yields status 0; see #8605, #14207
									xhr.status,
									xhr.statusText
								);
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,
									// Support: IE9
									// Accessing binary-data responseText throws an exception
									// (#11426)
									typeof xhr.responseText === "string" ? {
										text: xhr.responseText
									} : undefined,
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				xhr.onerror = callback("error");

				// Create the abort callback
				callback = xhrCallbacks[ id ] = callback("abort");

				try {
					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {
					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /(?:java|ecma)script/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {
	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery("<script>").prop({
					async: true,
					charset: s.scriptCharset,
					src: s.url
				}).on(
					"load error",
					callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					}
				);
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always(function() {
			// Restore preexisting value
			window[ callbackName ] = overwritten;

			// Save back as free
			if ( s[ callbackName ] ) {
				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		});

		// Delegate to script
		return "script";
	}
});




// data: string of html
// context (optional): If specified, the fragment will be created in this context, defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}
	context = context || document;

	var parsed = rsingleTag.exec( data ),
		scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[1] ) ];
	}

	parsed = jQuery.buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, type, response,
		self = this,
		off = url.indexOf(" ");

	if ( off >= 0 ) {
		selector = jQuery.trim( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax({
			url: url,

			// if "type" variable is undefined, then "GET" method will be used
			type: type,
			dataType: "html",
			data: params
		}).done(function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		}).complete( callback && function( jqXHR, status ) {
			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
		});
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
});




jQuery.expr.filters.animated = function( elem ) {
	return jQuery.grep(jQuery.timers, function( fn ) {
		return elem === fn.elem;
	}).length;
};




var docElem = window.document.documentElement;

/**
 * Gets a window from an element
 */
function getWindow( elem ) {
	return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
}

jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf("auto") > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend({
	offset: function( options ) {
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each(function( i ) {
					jQuery.offset.setOffset( this, options, i );
				});
		}

		var docElem, win,
			elem = this[ 0 ],
			box = { top: 0, left: 0 },
			doc = elem && elem.ownerDocument;

		if ( !doc ) {
			return;
		}

		docElem = doc.documentElement;

		// Make sure it's not a disconnected DOM node
		if ( !jQuery.contains( docElem, elem ) ) {
			return box;
		}

		// Support: BlackBerry 5, iOS 3 (original iPhone)
		// If we don't have gBCR, just use 0,0 rather than error
		if ( typeof elem.getBoundingClientRect !== strundefined ) {
			box = elem.getBoundingClientRect();
		}
		win = getWindow( doc );
		return {
			top: box.top + win.pageYOffset - docElem.clientTop,
			left: box.left + win.pageXOffset - docElem.clientLeft
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {
			// Assume getBoundingClientRect is there when computed position is fixed
			offset = elem.getBoundingClientRect();

		} else {
			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || docElem;

			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position" ) === "static" ) ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || docElem;
		});
	}
});

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : window.pageXOffset,
					top ? val : window.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
});

// Support: Safari<7+, Chrome<37+
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );
				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
});


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {
					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?
					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	});
});


// The number of elements contained in the matched element set
jQuery.fn.size = function() {
	return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( typeof define === "function" && define.amd ) {
	define( "jquery", [], function() {
		return jQuery;
	});
}




var
	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === strundefined ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;

}));

},{}],58:[function(require,module,exports){
/*!
 @package noty - jQuery Notification Plugin
 @version version: 2.3.4
 @contributors https://github.com/needim/noty/graphs/contributors

 @documentation Examples and Documentation - http://needim.github.com/noty/

 @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php
 */
(function(){
    "use strict";

    var jQuery = require("./jquery");
    var $noty = "";

    (function($){
        if(typeof Object.create !== 'function') {
            Object.create = function(o) {
                function F() {
                }

                F.prototype = o;
                return new F();
            };
        }

        var NotyObject = {

            init: function(options) {

                // Mix in the passed in options with the default options
                this.options = $.extend({}, $.noty.defaults, options);

                this.options.layout = (this.options.custom) ? $.noty.layouts['inline'] : $.noty.layouts[this.options.layout];

                if($.noty.themes[this.options.theme])
                    this.options.theme = $.noty.themes[this.options.theme];
                else
                    options.themeClassName = this.options.theme;

                delete options.layout;
                delete options.theme;

                this.options = $.extend({}, this.options, this.options.layout.options);
                this.options.id = 'noty_' + (new Date().getTime() * Math.floor(Math.random() * 1000000));

                this.options = $.extend({}, this.options, options);

                // Build the noty dom initial structure
                this._build();

                // return this so we can chain/use the bridge with less code.
                return this;
            }, // end init

            _build: function() {

                // Generating noty bar
                var $bar = $('<div class="noty_bar noty_type_' + this.options.type + '"></div>').attr('id', this.options.id);
                $bar.append(this.options.template).find('.noty_text').html(this.options.text);

                this.$bar = (this.options.layout.parent.object !== null) ? $(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar) : $bar;

                if(this.options.themeClassName)
                    this.$bar.addClass(this.options.themeClassName).addClass('noty_container_type_' + this.options.type);

                // Set buttons if available
                if(this.options.buttons) {

                    // If we have button disable closeWith & timeout options
                    this.options.closeWith = [];
                    this.options.timeout = false;

                    var $buttons = $('<div/>').addClass('noty_buttons');

                    (this.options.layout.parent.object !== null) ? this.$bar.find('.noty_bar').append($buttons) : this.$bar.append($buttons);

                    var self = this;

                    $.each(this.options.buttons, function(i, button) {
                        var $button = $('<button/>').addClass((button.addClass) ? button.addClass : 'gray').html(button.text).attr('id', button.id ? button.id : 'button-' + i)
                            .appendTo(self.$bar.find('.noty_buttons'))
                            .on('click', function(event) {
                                if($.isFunction(button.onClick)) {
                                    button.onClick.call($button, self, event);
                                }
                            });
                    });
                }

                // For easy access
                this.$message = this.$bar.find('.noty_message');
                this.$closeButton = this.$bar.find('.noty_close');
                this.$buttons = this.$bar.find('.noty_buttons');

                $.noty.store[this.options.id] = this; // store noty for api

            }, // end _build

            show: function() {

                var self = this;

                (self.options.custom) ? self.options.custom.find(self.options.layout.container.selector).append(self.$bar) : $(self.options.layout.container.selector).append(self.$bar);

                if(self.options.theme && self.options.theme.style)
                    self.options.theme.style.apply(self);

                ($.type(self.options.layout.css) === 'function') ? this.options.layout.css.apply(self.$bar) : self.$bar.css(this.options.layout.css || {});

                self.$bar.addClass(self.options.layout.addClass);

                self.options.layout.container.style.apply($(self.options.layout.container.selector));

                self.showing = true;

                if(self.options.theme && self.options.theme.style)
                    self.options.theme.callback.onShow.apply(this);

                if($.inArray('click', self.options.closeWith) > -1)
                    self.$bar.css('cursor', 'pointer').one('click', function(evt) {
                        self.stopPropagation(evt);
                        if(self.options.callback.onCloseClick) {
                            self.options.callback.onCloseClick.apply(self);
                        }
                        self.close();
                    });

                if($.inArray('hover', self.options.closeWith) > -1)
                    self.$bar.one('mouseenter', function() {
                        self.close();
                    });

                if($.inArray('button', self.options.closeWith) > -1)
                    self.$closeButton.one('click', function(evt) {
                        self.stopPropagation(evt);
                        self.close();
                    });

                if($.inArray('button', self.options.closeWith) == -1)
                    self.$closeButton.remove();

                if(self.options.callback.onShow)
                    self.options.callback.onShow.apply(self);

                if (typeof self.options.animation.open == 'string') {
                    self.$bar.css('height', self.$bar.innerHeight());
                    self.$bar.show().addClass(self.options.animation.open).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
                        if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);
                        self.showing = false;
                        self.shown = true;
                    });

                } else {
                    self.$bar.animate(
                        self.options.animation.open,
                        self.options.animation.speed,
                        self.options.animation.easing,
                        function() {
                            if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);
                            self.showing = false;
                            self.shown = true;
                        });
                }

                // If noty is have a timeout option
                if(self.options.timeout)
                    self.$bar.delay(self.options.timeout).promise().done(function() {
                        self.close();
                    });

                return this;

            }, // end show

            close: function() {

                if(this.closed) return;
                if(this.$bar && this.$bar.hasClass('i-am-closing-now')) return;

                var self = this;

                if(this.showing) {
                    self.$bar.queue(
                        function() {
                            self.close.apply(self);
                        }
                    );
                    return;
                }

                if(!this.shown && !this.showing) { // If we are still waiting in the queue just delete from queue
                    var queue = [];
                    $.each($.noty.queue, function(i, n) {
                        if(n.options.id != self.options.id) {
                            queue.push(n);
                        }
                    });
                    $.noty.queue = queue;
                    return;
                }

                self.$bar.addClass('i-am-closing-now');

                if(self.options.callback.onClose) {
                    self.options.callback.onClose.apply(self);
                }

                if (typeof self.options.animation.close == 'string') {
                    self.$bar.addClass(self.options.animation.close).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
                        if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);
                        self.closeCleanUp();
                    });
                } else {
                    self.$bar.clearQueue().stop().animate(
                        self.options.animation.close,
                        self.options.animation.speed,
                        self.options.animation.easing,
                        function() {
                            if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);
                        })
                        .promise().done(function() {
                            self.closeCleanUp();
                        });
                }

            }, // end close

            closeCleanUp: function() {

                var self = this;

                // Modal Cleaning
                if(self.options.modal) {
                    $.notyRenderer.setModalCount(-1);
                    if($.notyRenderer.getModalCount() == 0) $('.noty_modal').fadeOut('fast', function() {
                        $(this).remove();
                    });
                }

                // Layout Cleaning
                $.notyRenderer.setLayoutCountFor(self, -1);
                if($.notyRenderer.getLayoutCountFor(self) == 0) $(self.options.layout.container.selector).remove();

                // Make sure self.$bar has not been removed before attempting to remove it
                if(typeof self.$bar !== 'undefined' && self.$bar !== null) {

                    if (typeof self.options.animation.close == 'string') {
                        self.$bar.css('transition', 'all 100ms ease').css('border', 0).css('margin', 0).height(0);
                        self.$bar.one('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function() {
                            self.$bar.remove();
                            self.$bar = null;
                            self.closed = true;

                            if(self.options.theme.callback && self.options.theme.callback.onClose) {
                                self.options.theme.callback.onClose.apply(self);
                            }
                        });
                    } else {
                        self.$bar.remove();
                        self.$bar = null;
                        self.closed = true;
                    }
                }

                delete $.noty.store[self.options.id]; // deleting noty from store

                if(self.options.theme.callback && self.options.theme.callback.onClose) {
                    self.options.theme.callback.onClose.apply(self);
                }

                if(!self.options.dismissQueue) {
                    // Queue render
                    $.noty.ontap = true;

                    $.notyRenderer.render();
                }

                if(self.options.maxVisible > 0 && self.options.dismissQueue) {
                    $.notyRenderer.render();
                }

            }, // end close clean up

            setText: function(text) {
                if(!this.closed) {
                    this.options.text = text;
                    this.$bar.find('.noty_text').html(text);
                }
                return this;
            },

            setType: function(type) {
                if(!this.closed) {
                    this.options.type = type;
                    this.options.theme.style.apply(this);
                    this.options.theme.callback.onShow.apply(this);
                }
                return this;
            },

            setTimeout: function(time) {
                if(!this.closed) {
                    var self = this;
                    this.options.timeout = time;
                    self.$bar.delay(self.options.timeout).promise().done(function() {
                        self.close();
                    });
                }
                return this;
            },

            stopPropagation: function(evt) {
                evt = evt || window.event;
                if(typeof evt.stopPropagation !== "undefined") {
                    evt.stopPropagation();
                }
                else {
                    evt.cancelBubble = true;
                }
            },

            closed : false,
            showing: false,
            shown  : false

        }; // end NotyObject

        $.notyRenderer = {};

        $.notyRenderer.init = function(options) {

            // Renderer creates a new noty
            var notification = Object.create(NotyObject).init(options);

            if(notification.options.killer)
                $.noty.closeAll();

            (notification.options.force) ? $.noty.queue.unshift(notification) : $.noty.queue.push(notification);

            $.notyRenderer.render();

            return ($.noty.returns == 'object') ? notification : notification.options.id;
        };

        $.notyRenderer.render = function() {

            var instance = $.noty.queue[0];

            if($.type(instance) === 'object') {
                if(instance.options.dismissQueue) {
                    if(instance.options.maxVisible > 0) {
                        if($(instance.options.layout.container.selector + ' li').length < instance.options.maxVisible) {
                            $.notyRenderer.show($.noty.queue.shift());
                        }
                        else {

                        }
                    }
                    else {
                        $.notyRenderer.show($.noty.queue.shift());
                    }
                }
                else {
                    if($.noty.ontap) {
                        $.notyRenderer.show($.noty.queue.shift());
                        $.noty.ontap = false;
                    }
                }
            }
            else {
                $.noty.ontap = true; // Queue is over
            }

        };

        $.notyRenderer.show = function(notification) {

            if(notification.options.modal) {
                $.notyRenderer.createModalFor(notification);
                $.notyRenderer.setModalCount(+1);
            }

            // Where is the container?
            if(notification.options.custom) {
                if(notification.options.custom.find(notification.options.layout.container.selector).length == 0) {
                    notification.options.custom.append($(notification.options.layout.container.object).addClass('i-am-new'));
                }
                else {
                    notification.options.custom.find(notification.options.layout.container.selector).removeClass('i-am-new');
                }
            }
            else {
                if($(notification.options.layout.container.selector).length == 0) {
                    $('body').append($(notification.options.layout.container.object).addClass('i-am-new'));
                }
                else {
                    $(notification.options.layout.container.selector).removeClass('i-am-new');
                }
            }

            $.notyRenderer.setLayoutCountFor(notification, +1);

            notification.show();
        };

        $.notyRenderer.createModalFor = function(notification) {
            if($('.noty_modal').length == 0) {
                var modal = $('<div/>').addClass('noty_modal').addClass(notification.options.theme).data('noty_modal_count', 0);

                if(notification.options.theme.modal && notification.options.theme.modal.css)
                    modal.css(notification.options.theme.modal.css);

                modal.prependTo($('body')).fadeIn('fast');

                if($.inArray('backdrop', notification.options.closeWith) > -1)
                    modal.on('click', function(e) {
                        $.noty.closeAll();
                    });
            }
        };

        $.notyRenderer.getLayoutCountFor = function(notification) {
            return $(notification.options.layout.container.selector).data('noty_layout_count') || 0;
        };

        $.notyRenderer.setLayoutCountFor = function(notification, arg) {
            return $(notification.options.layout.container.selector).data('noty_layout_count', $.notyRenderer.getLayoutCountFor(notification) + arg);
        };

        $.notyRenderer.getModalCount = function() {
            return $('.noty_modal').data('noty_modal_count') || 0;
        };

        $.notyRenderer.setModalCount = function(arg) {
            return $('.noty_modal').data('noty_modal_count', $.notyRenderer.getModalCount() + arg);
        };

        // This is for custom container
        $.fn.noty = function(options) {
            options.custom = $(this);
            return $.notyRenderer.init(options);
        };

        $.noty = {};
        $.noty.queue = [];
        $.noty.ontap = true;
        $.noty.layouts = {};
        $.noty.themes = {};
        $.noty.returns = 'object';
        $.noty.store = {};

        $.noty.get = function(id) {
            return $.noty.store.hasOwnProperty(id) ? $.noty.store[id] : false;
        };

        $.noty.close = function(id) {
            return $.noty.get(id) ? $.noty.get(id).close() : false;
        };

        $.noty.setText = function(id, text) {
            return $.noty.get(id) ? $.noty.get(id).setText(text) : false;
        };

        $.noty.setType = function(id, type) {
            return $.noty.get(id) ? $.noty.get(id).setType(type) : false;
        };

        $.noty.clearQueue = function() {
            $.noty.queue = [];
        };

        $.noty.closeAll = function() {
            $.noty.clearQueue();
            $.each($.noty.store, function(id, noty) {
                noty.close();
            });
        };

        var windowAlert = window.alert;

        $.noty.consumeAlert = function(options) {
            window.alert = function(text) {
                if(options)
                    options.text = text;
                else
                    options = {text: text};

                $.notyRenderer.init(options);
            };
        };

        $.noty.stopConsumeAlert = function() {
            window.alert = windowAlert;
        };

        $.noty.defaults = {
            layout      : 'center',
            theme       : 'relax',
            type        : 'alert',
            text        : '',
            dismissQueue: true,
            template    : '<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
            animation   : {
                open  : {height: 'toggle'},
                close : {height: 'toggle'},
                easing: 'swing',
                speed : 500
            },
            timeout     : false,
            force       : false,
            modal       : false,
            maxVisible  : 5,
            killer      : false,
            closeWith   : ['click'],
            callback    : {
                onShow      : function() {
                },
                afterShow   : function() {
                },
                onClose     : function() {
                },
                afterClose  : function() {
                },
                onCloseClick: function() {
                }
            },
            buttons     : false
        };

        //  Layouts
        $.noty.layouts.top = {
            name     : 'top',
            options  : {},
            container: {
                object  : '<ul id="noty_top_layout_container" />',
                selector: 'ul#noty_top_layout_container',
                style   : function() {
                    $(this).css({
                        top          : 0,
                        left         : '5%',
                        position     : 'fixed',
                        width        : '90%',
                        height       : 'auto',
                        margin       : 0,
                        padding      : 0,
                        listStyleType: 'none',
                        zIndex       : 9999999
                    });
                }
            },
            parent   : {
                object  : '<li />',
                selector: 'li',
                css     : {}
            },
            css      : {
                display: 'none'
            },
            addClass : ''
        };
        $.noty.layouts.center = {
            name     : 'center',
            options  : { // overrides options

            },
            container: {
                object  : '<ul id="noty_center_layout_container" />',
                selector: 'ul#noty_center_layout_container',
                style   : function() {
                    $(this).css({
                        position     : 'fixed',
                        width        : '310px',
                        height       : 'auto',
                        margin       : 0,
                        padding      : 0,
                        listStyleType: 'none',
                        zIndex       : 10000000
                    });

                    // getting hidden height
                    var dupe = $(this).clone().css({visibility: "hidden", display: "block", position: "absolute", top: 0, left: 0}).attr('id', 'dupe');
                    $("body").append(dupe);
                    dupe.find('.i-am-closing-now').remove();
                    dupe.find('li').css('display', 'block');
                    var actual_height = dupe.height();
                    dupe.remove();

                    if($(this).hasClass('i-am-new')) {
                        $(this).css({
                            left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',
                            top : (window.innerHeight - actual_height) / 2 + 'px'
                        });
                    }
                    else {
                        $(this).animate({
                            left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',
                            top : (window.innerHeight - actual_height) / 2 + 'px'
                        }, 500);
                    }

                }
            },
            parent   : {
                object  : '<li />',
                selector: 'li',
                css     : {}
            },
            css      : {
                display: 'none',
                width  : '310px'
            },
            addClass : ''
        };
        //  Themes
        $.noty.themes.relax = {
            name    : 'relax',
            helpers : {},
            modal   : {
                css: {
                    position       : 'fixed',
                    width          : '100%',
                    height         : '100%',
                    backgroundColor: '#000',
                    zIndex         : 10000,
                    opacity        : 0.6,
                    display        : 'none',
                    left           : 0,
                    top            : 0
                }
            },
            style   : function() {

                this.$bar.css({
                    overflow    : 'hidden',
                    margin      : '4px 0',
                    borderRadius: '2px'
                });

                this.$message.css({
                    fontSize  : '14px',
                    lineHeight: '16px',
                    textAlign : 'center',
                    padding   : '10px',
                    width     : 'auto',
                    position  : 'relative'
                });

                this.$closeButton.css({
                    position  : 'absolute',
                    top       : 4, right: 4,
                    width     : 10, height: 10,
                    background: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",
                    display   : 'none',
                    cursor    : 'pointer'
                });

                this.$buttons.css({
                    padding        : 5,
                    textAlign      : 'right',
                    borderTop      : '1px solid #ccc',
                    backgroundColor: '#fff'
                });

                this.$buttons.find('button').css({
                    marginLeft: 5
                });

                this.$buttons.find('button:first').css({
                    marginLeft: 0
                });

                this.$bar.on({
                    mouseenter: function() {
                        $(this).find('.noty_close').stop().fadeTo('normal', 1);
                    },
                    mouseleave: function() {
                        $(this).find('.noty_close').stop().fadeTo('normal', 0);
                    }
                });

                switch(this.options.layout.name) {
                    case 'top':
                        this.$bar.css({
                            borderBottom: '2px solid #eee',
                            borderLeft  : '2px solid #eee',
                            borderRight : '2px solid #eee',
                            borderTop   : '2px solid #eee',
                            boxShadow   : "0 2px 4px rgba(0, 0, 0, 0.1)"
                        });
                        break;
                    case 'topCenter':
                    case 'center':
                    case 'bottomCenter':
                    case 'inline':
                        this.$bar.css({
                            border   : '1px solid #eee',
                            boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                        });
                        this.$message.css({fontSize: '13px', textAlign: 'center'});
                        break;
                    case 'topLeft':
                    case 'topRight':
                    case 'bottomLeft':
                    case 'bottomRight':
                    case 'centerLeft':
                    case 'centerRight':
                        this.$bar.css({
                            border   : '1px solid #eee',
                            boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                        });
                        this.$message.css({fontSize: '13px', textAlign: 'left'});
                        break;
                    case 'bottom':
                        this.$bar.css({
                            borderTop   : '2px solid #eee',
                            borderLeft  : '2px solid #eee',
                            borderRight : '2px solid #eee',
                            borderBottom: '2px solid #eee',
                            boxShadow   : "0 -2px 4px rgba(0, 0, 0, 0.1)"
                        });
                        break;
                    default:
                        this.$bar.css({
                            border   : '2px solid #eee',
                            boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)"
                        });
                        break;
                }

                switch(this.options.type) {
                    case 'alert':
                    case 'notification':
                        this.$bar.css({backgroundColor: '#FFF', borderColor: '#dedede', color: '#444'});
                        break;
                    case 'warning':
                        this.$bar.css({backgroundColor: '#FFEAA8', borderColor: '#FFC237', color: '#826200'});
                        this.$buttons.css({borderTop: '1px solid #FFC237'});
                        break;
                    case 'error':
                        this.$bar.css({backgroundColor: '#FF8181', borderColor: '#e25353', color: '#FFF'});
                        this.$message.css({fontWeight: 'bold'});
                        this.$buttons.css({borderTop: '1px solid darkred'});
                        break;
                    case 'information':
                        this.$bar.css({backgroundColor: '#78C5E7', borderColor: '#3badd6', color: '#FFF'});
                        this.$buttons.css({borderTop: '1px solid #0B90C4'});
                        break;
                    case 'success':
                        this.$bar.css({backgroundColor: '#BCF5BC', borderColor: '#7cdd77', color: 'darkgreen'});
                        this.$buttons.css({borderTop: '1px solid #50C24E'});
                        break;
                    default:
                        this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});
                        break;
                }
            },
            callback: {
                onShow : function() {

                },
                onClose: function() {

                }
            }
        };


        $(window).on('resize', function() {
            $.each($.noty.layouts, function(index, layout) {
                layout.container.style.apply($(layout.container.selector));
            });
        });

        $noty = $.noty;

    })(jQuery);
    // Helpers

    module.exports.noty = function (options) {
        return jQuery.notyRenderer.init(options);
    };
    module.exports.$noty = $noty;

})();
},{"./jquery":57}],59:[function(require,module,exports){
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
/*global ActiveXObject */

// AMD support

var jQuery = require("./jquery");

(function (factory) {
    "use strict";
    if (typeof define === 'function' && define.amd) {
        // using AMD; register as anon module
        define(['jquery'], factory);
    } else {
        // no AMD; invoke directly
        factory( (typeof(jQuery) != 'undefined') ? jQuery : window.Zepto );
    }
}

(function($) {
    "use strict";

    /*
     Usage Note:
     -----------
     Do not use both ajaxSubmit and ajaxForm on the same form.  These
     functions are mutually exclusive.  Use ajaxSubmit if you want
     to bind your own submit handler to the form.  For example,

     $(document).ready(function() {
     $('#myForm').on('submit', function(e) {
     e.preventDefault(); // <-- important
     $(this).ajaxSubmit({
     target: '#output'
     });
     });
     });

     Use ajaxForm when you want the plugin to manage all the event binding
     for you.  For example,

     $(document).ready(function() {
     $('#myForm').ajaxForm({
     target: '#output'
     });
     });

     You can also use ajaxForm with delegation (requires jQuery v1.7+), so the
     form does not have to exist when you invoke ajaxForm:

     $('#myForm').ajaxForm({
     delegation: true,
     target: '#output'
     });

     When using ajaxForm, the ajaxSubmit function will be invoked for you
     at the appropriate time.
     */

    /**
     * Feature detection
     */
    var feature = {};
    feature.fileapi = $("<input type='file'/>").get(0).files !== undefined;
    feature.formdata = window.FormData !== undefined;

    var hasProp = !!$.fn.prop;

// attr2 uses prop when it can but checks the return type for
// an expected string.  this accounts for the case where a form 
// contains inputs with names like "action" or "method"; in those
// cases "prop" returns the element
    $.fn.attr2 = function() {
        if ( ! hasProp ) {
            return this.attr.apply(this, arguments);
        }
        var val = this.prop.apply(this, arguments);
        if ( ( val && val.jquery ) || typeof val === 'string' ) {
            return val;
        }
        return this.attr.apply(this, arguments);
    };

    /**
     * ajaxSubmit() provides a mechanism for immediately submitting
     * an HTML form using AJAX.
     */
    $.fn.ajaxSubmit = function(options) {
        /*jshint scripturl:true */

        // fast fail if nothing selected (http://dev.jquery.com/ticket/2752)
        if (!this.length) {
            log('ajaxSubmit: skipping submit process - no element selected');
            return this;
        }

        var method, action, url, $form = this;

        if (typeof options == 'function') {
            options = { success: options };
        }
        else if ( options === undefined ) {
            options = {};
        }

        method = options.type || this.attr2('method');
        action = options.url  || this.attr2('action');

        url = (typeof action === 'string') ? $.trim(action) : '';
        url = url || window.location.href || '';
        if (url) {
            // clean url (don't include hash vaue)
            url = (url.match(/^([^#]+)/)||[])[1];
        }

        options = $.extend(true, {
            url:  url,
            success: $.ajaxSettings.success,
            type: method || $.ajaxSettings.type,
            iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'
        }, options);

        // hook for manipulating the form data before it is extracted;
        // convenient for use with rich editors like tinyMCE or FCKEditor
        var veto = {};
        this.trigger('form-pre-serialize', [this, options, veto]);
        if (veto.veto) {
            log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');
            return this;
        }

        // provide opportunity to alter form data before it is serialized
        if (options.beforeSerialize && options.beforeSerialize(this, options) === false) {
            log('ajaxSubmit: submit aborted via beforeSerialize callback');
            return this;
        }

        var traditional = options.traditional;
        if ( traditional === undefined ) {
            traditional = $.ajaxSettings.traditional;
        }

        var elements = [];
        var qx, a = this.formToArray(options.semantic, elements);
        if (options.data) {
            options.extraData = options.data;
            qx = $.param(options.data, traditional);
        }

        // give pre-submit callback an opportunity to abort the submit
        if (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {
            log('ajaxSubmit: submit aborted via beforeSubmit callback');
            return this;
        }

        // fire vetoable 'validate' event
        this.trigger('form-submit-validate', [a, this, options, veto]);
        if (veto.veto) {
            log('ajaxSubmit: submit vetoed via form-submit-validate trigger');
            return this;
        }

        var q = $.param(a, traditional);
        if (qx) {
            q = ( q ? (q + '&' + qx) : qx );
        }
        if (options.type.toUpperCase() == 'GET') {
            options.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;
            options.data = null;  // data is null for 'get'
        }
        else {
            options.data = q; // data is the query string for 'post'
        }

        var callbacks = [];
        if (options.resetForm) {
            callbacks.push(function() { $form.resetForm(); });
        }
        if (options.clearForm) {
            callbacks.push(function() { $form.clearForm(options.includeHidden); });
        }

        // perform a load on the target only if dataType is not provided
        if (!options.dataType && options.target) {
            var oldSuccess = options.success || function(){};
            callbacks.push(function(data) {
                var fn = options.replaceTarget ? 'replaceWith' : 'html';
                $(options.target)[fn](data).each(oldSuccess, arguments);
            });
        }
        else if (options.success) {
            callbacks.push(options.success);
        }

        options.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg
            var context = options.context || this ;    // jQuery 1.4+ supports scope context
            for (var i=0, max=callbacks.length; i < max; i++) {
                callbacks[i].apply(context, [data, status, xhr || $form, $form]);
            }
        };

        if (options.error) {
            var oldError = options.error;
            options.error = function(xhr, status, error) {
                var context = options.context || this;
                oldError.apply(context, [xhr, status, error, $form]);
            };
        }

        if (options.complete) {
            var oldComplete = options.complete;
            options.complete = function(xhr, status) {
                var context = options.context || this;
                oldComplete.apply(context, [xhr, status, $form]);
            };
        }

        // are there files to upload?

        // [value] (issue #113), also see comment:
        // https://github.com/malsup/form/commit/588306aedba1de01388032d5f42a60159eea9228#commitcomment-2180219
        var fileInputs = $('input[type=file]:enabled', this).filter(function() { return $(this).val() !== ''; });

        var hasFileInputs = fileInputs.length > 0;
        var mp = 'multipart/form-data';
        var multipart = ($form.attr('enctype') == mp || $form.attr('encoding') == mp);

        var fileAPI = feature.fileapi && feature.formdata;
        log("fileAPI :" + fileAPI);
        var shouldUseFrame = (hasFileInputs || multipart) && !fileAPI;

        var jqxhr;

        // options.iframe allows user to force iframe mode
        // 06-NOV-09: now defaulting to iframe mode if file input is detected
        if (options.iframe !== false && (options.iframe || shouldUseFrame)) {
            // hack to fix Safari hang (thanks to Tim Molendijk for this)
            // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d
            if (options.closeKeepAlive) {
                $.get(options.closeKeepAlive, function() {
                    jqxhr = fileUploadIframe(a);
                });
            }
            else {
                jqxhr = fileUploadIframe(a);
            }
        }
        else if ((hasFileInputs || multipart) && fileAPI) {
            jqxhr = fileUploadXhr(a);
        }
        else {
            jqxhr = $.ajax(options);
        }

        $form.removeData('jqxhr').data('jqxhr', jqxhr);

        // clear element array
        for (var k=0; k < elements.length; k++) {
            elements[k] = null;
        }

        // fire 'notify' event
        this.trigger('form-submit-notify', [this, options]);
        return this;

        // utility fn for deep serialization
        function deepSerialize(extraData){
            var serialized = $.param(extraData, options.traditional).split('&');
            var len = serialized.length;
            var result = [];
            var i, part;
            for (i=0; i < len; i++) {
                // #252; undo param space replacement
                serialized[i] = serialized[i].replace(/\+/g,' ');
                part = serialized[i].split('=');
                // #278; use array instead of object storage, favoring array serializations
                result.push([decodeURIComponent(part[0]), decodeURIComponent(part[1])]);
            }
            return result;
        }

        // XMLHttpRequest Level 2 file uploads (big hat tip to francois2metz)
        function fileUploadXhr(a) {
            var formdata = new FormData();

            for (var i=0; i < a.length; i++) {
                formdata.append(a[i].name, a[i].value);
            }

            if (options.extraData) {
                var serializedData = deepSerialize(options.extraData);
                for (i=0; i < serializedData.length; i++) {
                    if (serializedData[i]) {
                        formdata.append(serializedData[i][0], serializedData[i][1]);
                    }
                }
            }

            options.data = null;

            var s = $.extend(true, {}, $.ajaxSettings, options, {
                contentType: false,
                processData: false,
                cache: false,
                type: method || 'POST'
            });

            if (options.uploadProgress) {
                // workaround because jqXHR does not expose upload property
                s.xhr = function() {
                    var xhr = $.ajaxSettings.xhr();
                    if (xhr.upload) {
                        xhr.upload.addEventListener('progress', function(event) {
                            var percent = 0;
                            var position = event.loaded || event.position; /*event.position is deprecated*/
                            var total = event.total;
                            if (event.lengthComputable) {
                                percent = Math.ceil(position / total * 100);
                            }
                            options.uploadProgress(event, position, total, percent);
                        }, false);
                    }
                    return xhr;
                };
            }

            s.data = null;
            var beforeSend = s.beforeSend;
            s.beforeSend = function(xhr, o) {
                //Send FormData() provided by user
                if (options.formData) {
                    o.data = options.formData;
                }
                else {
                    o.data = formdata;
                }
                if(beforeSend) {
                    beforeSend.call(this, xhr, o);
                }
            };
            return $.ajax(s);
        }

        // private function for handling file uploads (hat tip to YAHOO!)
        function fileUploadIframe(a) {
            var form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;
            var deferred = $.Deferred();

            // #341
            deferred.abort = function(status) {
                xhr.abort(status);
            };

            if (a) {
                // ensure that every serialized input is still enabled
                for (i=0; i < elements.length; i++) {
                    el = $(elements[i]);
                    if ( hasProp ) {
                        el.prop('disabled', false);
                    }
                    else {
                        el.removeAttr('disabled');
                    }
                }
            }

            s = $.extend(true, {}, $.ajaxSettings, options);
            s.context = s.context || s;
            id = 'jqFormIO' + (new Date().getTime());
            if (s.iframeTarget) {
                $io = $(s.iframeTarget);
                n = $io.attr2('name');
                if (!n) {
                    $io.attr2('name', id);
                }
                else {
                    id = n;
                }
            }
            else {
                $io = $('<iframe name="' + id + '" src="'+ s.iframeSrc +'" />');
                $io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });
            }
            io = $io[0];


            xhr = { // mock object
                aborted: 0,
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: 'n/a',
                getAllResponseHeaders: function() {},
                getResponseHeader: function() {},
                setRequestHeader: function() {},
                abort: function(status) {
                    var e = (status === 'timeout' ? 'timeout' : 'aborted');
                    log('aborting upload... ' + e);
                    this.aborted = 1;

                    try { // #214, #257
                        if (io.contentWindow.document.execCommand) {
                            io.contentWindow.document.execCommand('Stop');
                        }
                    }
                    catch(ignore) {}

                    $io.attr('src', s.iframeSrc); // abort op in progress
                    xhr.error = e;
                    if (s.error) {
                        s.error.call(s.context, xhr, e, status);
                    }
                    if (g) {
                        $.event.trigger("ajaxError", [xhr, s, e]);
                    }
                    if (s.complete) {
                        s.complete.call(s.context, xhr, e);
                    }
                }
            };

            g = s.global;
            // trigger ajax global events so that activity/block indicators work like normal
            if (g && 0 === $.active++) {
                $.event.trigger("ajaxStart");
            }
            if (g) {
                $.event.trigger("ajaxSend", [xhr, s]);
            }

            if (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {
                if (s.global) {
                    $.active--;
                }
                deferred.reject();
                return deferred;
            }
            if (xhr.aborted) {
                deferred.reject();
                return deferred;
            }

            // add submitting element to data if we know it
            sub = form.clk;
            if (sub) {
                n = sub.name;
                if (n && !sub.disabled) {
                    s.extraData = s.extraData || {};
                    s.extraData[n] = sub.value;
                    if (sub.type == "image") {
                        s.extraData[n+'.x'] = form.clk_x;
                        s.extraData[n+'.y'] = form.clk_y;
                    }
                }
            }

            var CLIENT_TIMEOUT_ABORT = 1;
            var SERVER_ABORT = 2;

            function getDoc(frame) {
                /* it looks like contentWindow or contentDocument do not
                 * carry the protocol property in ie8, when running under ssl
                 * frame.document is the only valid response document, since
                 * the protocol is know but not on the other two objects. strange?
                 * "Same origin policy" http://en.wikipedia.org/wiki/Same_origin_policy
                 */

                var doc = null;

                // IE8 cascading access check
                try {
                    if (frame.contentWindow) {
                        doc = frame.contentWindow.document;
                    }
                } catch(err) {
                    // IE8 access denied under ssl & missing protocol
                    log('cannot get iframe.contentWindow document: ' + err);
                }

                if (doc) { // successful getting content
                    return doc;
                }

                try { // simply checking may throw in ie8 under ssl or mismatched protocol
                    doc = frame.contentDocument ? frame.contentDocument : frame.document;
                } catch(err) {
                    // last attempt
                    log('cannot get iframe.contentDocument: ' + err);
                    doc = frame.document;
                }
                return doc;
            }

            // Rails CSRF hack (thanks to Yvan Barthelemy)
            var csrf_token = $('meta[name=csrf-token]').attr('content');
            var csrf_param = $('meta[name=csrf-param]').attr('content');
            if (csrf_param && csrf_token) {
                s.extraData = s.extraData || {};
                s.extraData[csrf_param] = csrf_token;
            }

            // take a breath so that pending repaints get some cpu time before the upload starts
            function doSubmit() {
                // make sure form attrs are set
                var t = $form.attr2('target'),
                    a = $form.attr2('action'),
                    mp = 'multipart/form-data',
                    et = $form.attr('enctype') || $form.attr('encoding') || mp;

                // update form attrs in IE friendly way
                form.setAttribute('target',id);
                if (!method || /post/i.test(method) ) {
                    form.setAttribute('method', 'POST');
                }
                if (a != s.url) {
                    form.setAttribute('action', s.url);
                }

                // ie borks in some cases when setting encoding
                if (! s.skipEncodingOverride && (!method || /post/i.test(method))) {
                    $form.attr({
                        encoding: 'multipart/form-data',
                        enctype:  'multipart/form-data'
                    });
                }

                // support timout
                if (s.timeout) {
                    timeoutHandle = setTimeout(function() { timedOut = true; cb(CLIENT_TIMEOUT_ABORT); }, s.timeout);
                }

                // look for server aborts
                function checkState() {
                    try {
                        var state = getDoc(io).readyState;
                        log('state = ' + state);
                        if (state && state.toLowerCase() == 'uninitialized') {
                            setTimeout(checkState,50);
                        }
                    }
                    catch(e) {
                        log('Server abort: ' , e, ' (', e.name, ')');
                        cb(SERVER_ABORT);
                        if (timeoutHandle) {
                            clearTimeout(timeoutHandle);
                        }
                        timeoutHandle = undefined;
                    }
                }

                // add "extra" data to form if provided in options
                var extraInputs = [];
                try {
                    if (s.extraData) {
                        for (var n in s.extraData) {
                            if (s.extraData.hasOwnProperty(n)) {
                                // if using the $.param format that allows for multiple values with the same name
                                if($.isPlainObject(s.extraData[n]) && s.extraData[n].hasOwnProperty('name') && s.extraData[n].hasOwnProperty('value')) {
                                    extraInputs.push(
                                        $('<input type="hidden" name="'+s.extraData[n].name+'">').val(s.extraData[n].value)
                                            .appendTo(form)[0]);
                                } else {
                                    extraInputs.push(
                                        $('<input type="hidden" name="'+n+'">').val(s.extraData[n])
                                            .appendTo(form)[0]);
                                }
                            }
                        }
                    }

                    if (!s.iframeTarget) {
                        // add iframe to doc and submit the form
                        $io.appendTo('body');
                    }
                    if (io.attachEvent) {
                        io.attachEvent('onload', cb);
                    }
                    else {
                        io.addEventListener('load', cb, false);
                    }
                    setTimeout(checkState,15);

                    try {
                        form.submit();
                    } catch(err) {
                        // just in case form has element with name/id of 'submit'
                        var submitFn = document.createElement('form').submit;
                        submitFn.apply(form);
                    }
                }
                finally {
                    // reset attrs and remove "extra" input elements
                    form.setAttribute('action',a);
                    form.setAttribute('enctype', et); // #380
                    if(t) {
                        form.setAttribute('target', t);
                    } else {
                        $form.removeAttr('target');
                    }
                    $(extraInputs).remove();
                }
            }

            if (s.forceSync) {
                doSubmit();
            }
            else {
                setTimeout(doSubmit, 10); // this lets dom updates render
            }

            var data, doc, domCheckCount = 50, callbackProcessed;

            function cb(e) {
                if (xhr.aborted || callbackProcessed) {
                    return;
                }

                doc = getDoc(io);
                if(!doc) {
                    log('cannot access response document');
                    e = SERVER_ABORT;
                }
                if (e === CLIENT_TIMEOUT_ABORT && xhr) {
                    xhr.abort('timeout');
                    deferred.reject(xhr, 'timeout');
                    return;
                }
                else if (e == SERVER_ABORT && xhr) {
                    xhr.abort('server abort');
                    deferred.reject(xhr, 'error', 'server abort');
                    return;
                }

                if (!doc || doc.location.href == s.iframeSrc) {
                    // response not received yet
                    if (!timedOut) {
                        return;
                    }
                }
                if (io.detachEvent) {
                    io.detachEvent('onload', cb);
                }
                else {
                    io.removeEventListener('load', cb, false);
                }

                var status = 'success', errMsg;
                try {
                    if (timedOut) {
                        throw 'timeout';
                    }

                    var isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);
                    log('isXml='+isXml);
                    if (!isXml && window.opera && (doc.body === null || !doc.body.innerHTML)) {
                        if (--domCheckCount) {
                            // in some browsers (Opera) the iframe DOM is not always traversable when
                            // the onload callback fires, so we loop a bit to accommodate
                            log('requeing onLoad callback, DOM not available');
                            setTimeout(cb, 250);
                            return;
                        }
                        // let this fall through because server response could be an empty document
                        //log('Could not access iframe DOM after mutiple tries.');
                        //throw 'DOMException: not available';
                    }

                    //log('response detected');
                    var docRoot = doc.body ? doc.body : doc.documentElement;
                    xhr.responseText = docRoot ? docRoot.innerHTML : null;
                    xhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;
                    if (isXml) {
                        s.dataType = 'xml';
                    }
                    xhr.getResponseHeader = function(header){
                        var headers = {'content-type': s.dataType};
                        return headers[header.toLowerCase()];
                    };
                    // support for XHR 'status' & 'statusText' emulation :
                    if (docRoot) {
                        xhr.status = Number( docRoot.getAttribute('status') ) || xhr.status;
                        xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;
                    }

                    var dt = (s.dataType || '').toLowerCase();
                    var scr = /(json|script|text)/.test(dt);
                    if (scr || s.textarea) {
                        // see if user embedded response in textarea
                        var ta = doc.getElementsByTagName('textarea')[0];
                        if (ta) {
                            xhr.responseText = ta.value;
                            // support for XHR 'status' & 'statusText' emulation :
                            xhr.status = Number( ta.getAttribute('status') ) || xhr.status;
                            xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;
                        }
                        else if (scr) {
                            // account for browsers injecting pre around json response
                            var pre = doc.getElementsByTagName('pre')[0];
                            var b = doc.getElementsByTagName('body')[0];
                            if (pre) {
                                xhr.responseText = pre.textContent ? pre.textContent : pre.innerText;
                            }
                            else if (b) {
                                xhr.responseText = b.textContent ? b.textContent : b.innerText;
                            }
                        }
                    }
                    else if (dt == 'xml' && !xhr.responseXML && xhr.responseText) {
                        xhr.responseXML = toXml(xhr.responseText);
                    }

                    try {
                        data = httpData(xhr, dt, s);
                    }
                    catch (err) {
                        status = 'parsererror';
                        xhr.error = errMsg = (err || status);
                    }
                }
                catch (err) {
                    log('error caught: ',err);
                    status = 'error';
                    xhr.error = errMsg = (err || status);
                }

                if (xhr.aborted) {
                    log('upload aborted');
                    status = null;
                }

                if (xhr.status) { // we've set xhr.status
                    status = (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) ? 'success' : 'error';
                }

                // ordering of these callbacks/triggers is odd, but that's how $.ajax does it
                if (status === 'success') {
                    if (s.success) {
                        s.success.call(s.context, data, 'success', xhr);
                    }
                    deferred.resolve(xhr.responseText, 'success', xhr);
                    if (g) {
                        $.event.trigger("ajaxSuccess", [xhr, s]);
                    }
                }
                else if (status) {
                    if (errMsg === undefined) {
                        errMsg = xhr.statusText;
                    }
                    if (s.error) {
                        s.error.call(s.context, xhr, status, errMsg);
                    }
                    deferred.reject(xhr, 'error', errMsg);
                    if (g) {
                        $.event.trigger("ajaxError", [xhr, s, errMsg]);
                    }
                }

                if (g) {
                    $.event.trigger("ajaxComplete", [xhr, s]);
                }

                if (g && ! --$.active) {
                    $.event.trigger("ajaxStop");
                }

                if (s.complete) {
                    s.complete.call(s.context, xhr, status);
                }

                callbackProcessed = true;
                if (s.timeout) {
                    clearTimeout(timeoutHandle);
                }

                // clean up
                setTimeout(function() {
                    if (!s.iframeTarget) {
                        $io.remove();
                    }
                    else { //adding else to clean up existing iframe response.
                        $io.attr('src', s.iframeSrc);
                    }
                    xhr.responseXML = null;
                }, 100);
            }

            var toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)
                    if (window.ActiveXObject) {
                        doc = new ActiveXObject('Microsoft.XMLDOM');
                        doc.async = 'false';
                        doc.loadXML(s);
                    }
                    else {
                        doc = (new DOMParser()).parseFromString(s, 'text/xml');
                    }
                    return (doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror') ? doc : null;
                };
            var parseJSON = $.parseJSON || function(s) {
                    /*jslint evil:true */
                    return window['eval']('(' + s + ')');
                };

            var httpData = function( xhr, type, s ) { // mostly lifted from jq1.4.4

                var ct = xhr.getResponseHeader('content-type') || '',
                    xml = type === 'xml' || !type && ct.indexOf('xml') >= 0,
                    data = xml ? xhr.responseXML : xhr.responseText;

                if (xml && data.documentElement.nodeName === 'parsererror') {
                    if ($.error) {
                        $.error('parsererror');
                    }
                }
                if (s && s.dataFilter) {
                    data = s.dataFilter(data, type);
                }
                if (typeof data === 'string') {
                    if (type === 'json' || !type && ct.indexOf('json') >= 0) {
                        data = parseJSON(data);
                    } else if (type === "script" || !type && ct.indexOf("javascript") >= 0) {
                        $.globalEval(data);
                    }
                }
                return data;
            };

            return deferred;
        }
    };

    /**
     * ajaxForm() provides a mechanism for fully automating form submission.
     *
     * The advantages of using this method instead of ajaxSubmit() are:
     *
     * 1: This method will include coordinates for <input type="image" /> elements (if the element
     *    is used to submit the form).
     * 2. This method will include the submit element's name/value data (for the element that was
     *    used to submit the form).
     * 3. This method binds the submit() method to the form for you.
     *
     * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely
     * passes the options argument along after properly binding events for submit elements and
     * the form itself.
     */
    $.fn.ajaxForm = function(options) {
        options = options || {};
        options.delegation = options.delegation && $.isFunction($.fn.on);

        // in jQuery 1.3+ we can fix mistakes with the ready state
        if (!options.delegation && this.length === 0) {
            var o = { s: this.selector, c: this.context };
            if (!$.isReady && o.s) {
                log('DOM not ready, queuing ajaxForm');
                $(function() {
                    $(o.s,o.c).ajaxForm(options);
                });
                return this;
            }
            // is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()
            log('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));
            return this;
        }

        if ( options.delegation ) {
            $(document)
                .off('submit.form-plugin', this.selector, doAjaxSubmit)
                .off('click.form-plugin', this.selector, captureSubmittingElement)
                .on('submit.form-plugin', this.selector, options, doAjaxSubmit)
                .on('click.form-plugin', this.selector, options, captureSubmittingElement);
            return this;
        }

        return this.ajaxFormUnbind()
            .bind('submit.form-plugin', options, doAjaxSubmit)
            .bind('click.form-plugin', options, captureSubmittingElement);
    };

// private event handlers
    function doAjaxSubmit(e) {
        /*jshint validthis:true */
        var options = e.data;
        if (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed
            e.preventDefault();
            $(e.target).ajaxSubmit(options); // #365
        }
    }

    function captureSubmittingElement(e) {
        /*jshint validthis:true */
        var target = e.target;
        var $el = $(target);
        if (!($el.is("[type=submit],[type=image]"))) {
            // is this a child element of the submit el?  (ex: a span within a button)
            var t = $el.closest('[type=submit]');
            if (t.length === 0) {
                return;
            }
            target = t[0];
        }
        var form = this;
        form.clk = target;
        if (target.type == 'image') {
            if (e.offsetX !== undefined) {
                form.clk_x = e.offsetX;
                form.clk_y = e.offsetY;
            } else if (typeof $.fn.offset == 'function') {
                var offset = $el.offset();
                form.clk_x = e.pageX - offset.left;
                form.clk_y = e.pageY - offset.top;
            } else {
                form.clk_x = e.pageX - target.offsetLeft;
                form.clk_y = e.pageY - target.offsetTop;
            }
        }
        // clear form vars
        setTimeout(function() { form.clk = form.clk_x = form.clk_y = null; }, 100);
    }


// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm
    $.fn.ajaxFormUnbind = function() {
        return this.unbind('submit.form-plugin click.form-plugin');
    };

    /**
     * formToArray() gathers form element data into an array of objects that can
     * be passed to any of the following ajax functions: $.get, $.post, or load.
     * Each object in the array has both a 'name' and 'value' property.  An example of
     * an array for a simple login form might be:
     *
     * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]
     *
     * It is this array that is passed to pre-submit callback functions provided to the
     * ajaxSubmit() and ajaxForm() methods.
     */
    $.fn.formToArray = function(semantic, elements) {
        var a = [];
        if (this.length === 0) {
            return a;
        }

        var form = this[0];
        var formId = this.attr('id');
        var els = semantic ? form.getElementsByTagName('*') : form.elements;
        var els2;

        if (els && !/MSIE [678]/.test(navigator.userAgent)) { // #390
            els = $(els).get();  // convert to standard array
        }

        // #386; account for inputs outside the form which use the 'form' attribute
        if ( formId ) {
            els2 = $(':input[form="' + formId + '"]').get(); // hat tip @thet
            if ( els2.length ) {
                els = (els || []).concat(els2);
            }
        }

        if (!els || !els.length) {
            return a;
        }

        var i,j,n,v,el,max,jmax;
        for(i=0, max=els.length; i < max; i++) {
            el = els[i];
            n = el.name;
            if (!n || el.disabled) {
                continue;
            }

            if (semantic && form.clk && el.type == "image") {
                // handle image inputs on the fly when semantic == true
                if(form.clk == el) {
                    a.push({name: n, value: $(el).val(), type: el.type });
                    a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});
                }
                continue;
            }

            v = $.fieldValue(el, true);
            if (v && v.constructor == Array) {
                if (elements) {
                    elements.push(el);
                }
                for(j=0, jmax=v.length; j < jmax; j++) {
                    a.push({name: n, value: v[j]});
                }
            }
            else if (feature.fileapi && el.type == 'file') {
                if (elements) {
                    elements.push(el);
                }
                var files = el.files;
                if (files.length) {
                    for (j=0; j < files.length; j++) {
                        a.push({name: n, value: files[j], type: el.type});
                    }
                }
                else {
                    // #180
                    a.push({ name: n, value: '', type: el.type });
                }
            }
            else if (v !== null && typeof v != 'undefined') {
                if (elements) {
                    elements.push(el);
                }
                a.push({name: n, value: v, type: el.type, required: el.required});
            }
        }

        if (!semantic && form.clk) {
            // input type=='image' are not found in elements array! handle it here
            var $input = $(form.clk), input = $input[0];
            n = input.name;
            if (n && !input.disabled && input.type == 'image') {
                a.push({name: n, value: $input.val()});
                a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});
            }
        }
        return a;
    };

    /**
     * Serializes form data into a 'submittable' string. This method will return a string
     * in the format: name1=value1&amp;name2=value2
     */
    $.fn.formSerialize = function(semantic) {
        //hand off to jQuery.param for proper encoding
        return $.param(this.formToArray(semantic));
    };

    /**
     * Serializes all field elements in the jQuery object into a query string.
     * This method will return a string in the format: name1=value1&amp;name2=value2
     */
    $.fn.fieldSerialize = function(successful) {
        var a = [];
        this.each(function() {
            var n = this.name;
            if (!n) {
                return;
            }
            var v = $.fieldValue(this, successful);
            if (v && v.constructor == Array) {
                for (var i=0,max=v.length; i < max; i++) {
                    a.push({name: n, value: v[i]});
                }
            }
            else if (v !== null && typeof v != 'undefined') {
                a.push({name: this.name, value: v});
            }
        });
        //hand off to jQuery.param for proper encoding
        return $.param(a);
    };

    /**
     * Returns the value(s) of the element in the matched set.  For example, consider the following form:
     *
     *  <form><fieldset>
     *      <input name="A" type="text" />
     *      <input name="A" type="text" />
     *      <input name="B" type="checkbox" value="B1" />
     *      <input name="B" type="checkbox" value="B2"/>
     *      <input name="C" type="radio" value="C1" />
     *      <input name="C" type="radio" value="C2" />
     *  </fieldset></form>
     *
     *  var v = $('input[type=text]').fieldValue();
     *  // if no values are entered into the text inputs
     *  v == ['','']
     *  // if values entered into the text inputs are 'foo' and 'bar'
     *  v == ['foo','bar']
     *
     *  var v = $('input[type=checkbox]').fieldValue();
     *  // if neither checkbox is checked
     *  v === undefined
     *  // if both checkboxes are checked
     *  v == ['B1', 'B2']
     *
     *  var v = $('input[type=radio]').fieldValue();
     *  // if neither radio is checked
     *  v === undefined
     *  // if first radio is checked
     *  v == ['C1']
     *
     * The successful argument controls whether or not the field element must be 'successful'
     * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).
     * The default value of the successful argument is true.  If this value is false the value(s)
     * for each element is returned.
     *
     * Note: This method *always* returns an array.  If no valid value can be determined the
     *    array will be empty, otherwise it will contain one or more values.
     */
    $.fn.fieldValue = function(successful) {
        for (var val=[], i=0, max=this.length; i < max; i++) {
            var el = this[i];
            var v = $.fieldValue(el, successful);
            if (v === null || typeof v == 'undefined' || (v.constructor == Array && !v.length)) {
                continue;
            }
            if (v.constructor == Array) {
                $.merge(val, v);
            }
            else {
                val.push(v);
            }
        }
        return val;
    };

    /**
     * Returns the value of the field element.
     */
    $.fieldValue = function(el, successful) {
        var n = el.name, t = el.type, tag = el.tagName.toLowerCase();
        if (successful === undefined) {
            successful = true;
        }

        if (successful && (!n || el.disabled || t == 'reset' || t == 'button' ||
            (t == 'checkbox' || t == 'radio') && !el.checked ||
            (t == 'submit' || t == 'image') && el.form && el.form.clk != el ||
            tag == 'select' && el.selectedIndex == -1)) {
            return null;
        }

        if (tag == 'select') {
            var index = el.selectedIndex;
            if (index < 0) {
                return null;
            }
            var a = [], ops = el.options;
            var one = (t == 'select-one');
            var max = (one ? index+1 : ops.length);
            for(var i=(one ? index : 0); i < max; i++) {
                var op = ops[i];
                if (op.selected) {
                    var v = op.value;
                    if (!v) { // extra pain for IE...
                        v = (op.attributes && op.attributes.value && !(op.attributes.value.specified)) ? op.text : op.value;
                    }
                    if (one) {
                        return v;
                    }
                    a.push(v);
                }
            }
            return a;
        }
        return $(el).val();
    };

    /**
     * Clears the form data.  Takes the following actions on the form's input fields:
     *  - input text fields will have their 'value' property set to the empty string
     *  - select elements will have their 'selectedIndex' property set to -1
     *  - checkbox and radio inputs will have their 'checked' property set to false
     *  - inputs of type submit, button, reset, and hidden will *not* be effected
     *  - button elements will *not* be effected
     */
    $.fn.clearForm = function(includeHidden) {
        return this.each(function() {
            $('input,select,textarea', this).clearFields(includeHidden);
        });
    };

    /**
     * Clears the selected form elements.
     */
    $.fn.clearFields = $.fn.clearInputs = function(includeHidden) {
        var re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list
        return this.each(function() {
            var t = this.type, tag = this.tagName.toLowerCase();
            if (re.test(t) || tag == 'textarea') {
                this.value = '';
            }
            else if (t == 'checkbox' || t == 'radio') {
                this.checked = false;
            }
            else if (tag == 'select') {
                this.selectedIndex = -1;
            }
            else if (t == "file") {
                if (/MSIE/.test(navigator.userAgent)) {
                    $(this).replaceWith($(this).clone(true));
                } else {
                    $(this).val('');
                }
            }
            else if (includeHidden) {
                // includeHidden can be the value true, or it can be a selector string
                // indicating a special test; for example:
                //  $('#myForm').clearForm('.special:hidden')
                // the above would clean hidden inputs that have the class of 'special'
                if ( (includeHidden === true && /hidden/.test(t)) ||
                    (typeof includeHidden == 'string' && $(this).is(includeHidden)) ) {
                    this.value = '';
                }
            }
        });
    };

    /**
     * Resets the form data.  Causes all form elements to be reset to their original value.
     */
    $.fn.resetForm = function() {
        return this.each(function() {
            // guard against an input with the name of 'reset'
            // note that IE reports the reset function as an 'object'
            if (typeof this.reset == 'function' || (typeof this.reset == 'object' && !this.reset.nodeType)) {
                this.reset();
            }
        });
    };

    /**
     * Enables or disables any matching elements.
     */
    $.fn.enable = function(b) {
        if (b === undefined) {
            b = true;
        }
        return this.each(function() {
            this.disabled = !b;
        });
    };

    /**
     * Checks/unchecks any matching checkboxes or radio buttons and
     * selects/deselects and matching option elements.
     */
    $.fn.selected = function(select) {
        if (select === undefined) {
            select = true;
        }
        return this.each(function() {
            var t = this.type;
            if (t == 'checkbox' || t == 'radio') {
                this.checked = select;
            }
            else if (this.tagName.toLowerCase() == 'option') {
                var $sel = $(this).parent('select');
                if (select && $sel[0] && $sel[0].type == 'select-one') {
                    // deselect all other options
                    $sel.find('option').selected(false);
                }
                this.selected = select;
            }
        });
    };

// expose debug var
    $.fn.ajaxSubmit.debug = false;

// helper fn for console logging
    function log() {
        if (!$.fn.ajaxSubmit.debug) {
            return;
        }
        var msg = '[jquery.form] ' + Array.prototype.join.call(arguments,'');
        if (window.console && window.console.log) {
            window.console.log(msg);
        }
        else if (window.opera && window.opera.postError) {
            window.opera.postError(msg);
        }
    }

}));
},{"./jquery":57}],60:[function(require,module,exports){
(function (global){
//! moment.js
//! version : 2.9.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

(function (undefined) {
    /************************************
     Constants
     ************************************/

    var moment,
        VERSION = '2.9.0',
    // the global-scope this is NOT the global object in Node.js
        globalScope = (typeof global !== 'undefined' && (typeof window === 'undefined' || window === global.window)) ? global : this,
        oldGlobalMoment,
        round = Math.round,
        hasOwnProperty = Object.prototype.hasOwnProperty,
        i,

        YEAR = 0,
        MONTH = 1,
        DATE = 2,
        HOUR = 3,
        MINUTE = 4,
        SECOND = 5,
        MILLISECOND = 6,

    // internal storage for locale config files
        locales = {},

    // extra moment internal properties (plugins register props here)
        momentProperties = [],

    // check for nodeJS
        hasModule = (typeof module !== 'undefined' && module && module.exports),

    // ASP.NET json date format regex
        aspNetJsonRegex = /^\/?Date\((\-?\d+)/i,
        aspNetTimeSpanJsonRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
        isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,

    // format tokens
        formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
        localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,

    // parsing token regexes
        parseTokenOneOrTwoDigits = /\d\d?/, // 0 - 99
        parseTokenOneToThreeDigits = /\d{1,3}/, // 0 - 999
        parseTokenOneToFourDigits = /\d{1,4}/, // 0 - 9999
        parseTokenOneToSixDigits = /[+\-]?\d{1,6}/, // -999,999 - 999,999
        parseTokenDigits = /\d+/, // nonzero number of digits
        parseTokenWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, // any word (or two) characters or numbers including two/three word month in arabic.
        parseTokenTimezone = /Z|[\+\-]\d\d:?\d\d/gi, // +00:00 -00:00 +0000 -0000 or Z
        parseTokenT = /T/i, // T (ISO separator)
        parseTokenOffsetMs = /[\+\-]?\d+/, // 1234567890123
        parseTokenTimestampMs = /[\+\-]?\d+(\.\d{1,3})?/, // 123456789 123456789.123

    //strict parsing regexes
        parseTokenOneDigit = /\d/, // 0 - 9
        parseTokenTwoDigits = /\d\d/, // 00 - 99
        parseTokenThreeDigits = /\d{3}/, // 000 - 999
        parseTokenFourDigits = /\d{4}/, // 0000 - 9999
        parseTokenSixDigits = /[+-]?\d{6}/, // -999,999 - 999,999
        parseTokenSignedNumber = /[+-]?\d+/, // -inf - inf

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
        isoRegex = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,

        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',

        isoDates = [
            ['YYYYYY-MM-DD', /[+-]\d{6}-\d{2}-\d{2}/],
            ['YYYY-MM-DD', /\d{4}-\d{2}-\d{2}/],
            ['GGGG-[W]WW-E', /\d{4}-W\d{2}-\d/],
            ['GGGG-[W]WW', /\d{4}-W\d{2}/],
            ['YYYY-DDD', /\d{4}-\d{3}/]
        ],

    // iso time formats and regexes
        isoTimes = [
            ['HH:mm:ss.SSSS', /(T| )\d\d:\d\d:\d\d\.\d+/],
            ['HH:mm:ss', /(T| )\d\d:\d\d:\d\d/],
            ['HH:mm', /(T| )\d\d:\d\d/],
            ['HH', /(T| )\d\d/]
        ],

    // timezone chunker '+10:00' > ['10', '00'] or '-1530' > ['-', '15', '30']
        parseTimezoneChunker = /([\+\-]|\d\d)/gi,

    // getter and setter names
        proxyGettersAndSetters = 'Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),
        unitMillisecondFactors = {
            'Milliseconds' : 1,
            'Seconds' : 1e3,
            'Minutes' : 6e4,
            'Hours' : 36e5,
            'Days' : 864e5,
            'Months' : 2592e6,
            'Years' : 31536e6
        },

        unitAliases = {
            ms : 'millisecond',
            s : 'second',
            m : 'minute',
            h : 'hour',
            d : 'day',
            D : 'date',
            w : 'week',
            W : 'isoWeek',
            M : 'month',
            Q : 'quarter',
            y : 'year',
            DDD : 'dayOfYear',
            e : 'weekday',
            E : 'isoWeekday',
            gg: 'weekYear',
            GG: 'isoWeekYear'
        },

        camelFunctions = {
            dayofyear : 'dayOfYear',
            isoweekday : 'isoWeekday',
            isoweek : 'isoWeek',
            weekyear : 'weekYear',
            isoweekyear : 'isoWeekYear'
        },

    // format function strings
        formatFunctions = {},

    // default relative time thresholds
        relativeTimeThresholds = {
            s: 45,  // seconds to minute
            m: 45,  // minutes to hour
            h: 22,  // hours to day
            d: 26,  // days to month
            M: 11   // months to year
        },

    // tokens to ordinalize and pad
        ordinalizeTokens = 'DDD w W M D d'.split(' '),
        paddedTokens = 'M D H h m s w W'.split(' '),

        formatTokenFunctions = {
            M    : function () {
                return this.month() + 1;
            },
            MMM  : function (format) {
                return this.localeData().monthsShort(this, format);
            },
            MMMM : function (format) {
                return this.localeData().months(this, format);
            },
            D    : function () {
                return this.date();
            },
            DDD  : function () {
                return this.dayOfYear();
            },
            d    : function () {
                return this.day();
            },
            dd   : function (format) {
                return this.localeData().weekdaysMin(this, format);
            },
            ddd  : function (format) {
                return this.localeData().weekdaysShort(this, format);
            },
            dddd : function (format) {
                return this.localeData().weekdays(this, format);
            },
            w    : function () {
                return this.week();
            },
            W    : function () {
                return this.isoWeek();
            },
            YY   : function () {
                return leftZeroFill(this.year() % 100, 2);
            },
            YYYY : function () {
                return leftZeroFill(this.year(), 4);
            },
            YYYYY : function () {
                return leftZeroFill(this.year(), 5);
            },
            YYYYYY : function () {
                var y = this.year(), sign = y >= 0 ? '+' : '-';
                return sign + leftZeroFill(Math.abs(y), 6);
            },
            gg   : function () {
                return leftZeroFill(this.weekYear() % 100, 2);
            },
            gggg : function () {
                return leftZeroFill(this.weekYear(), 4);
            },
            ggggg : function () {
                return leftZeroFill(this.weekYear(), 5);
            },
            GG   : function () {
                return leftZeroFill(this.isoWeekYear() % 100, 2);
            },
            GGGG : function () {
                return leftZeroFill(this.isoWeekYear(), 4);
            },
            GGGGG : function () {
                return leftZeroFill(this.isoWeekYear(), 5);
            },
            e : function () {
                return this.weekday();
            },
            E : function () {
                return this.isoWeekday();
            },
            a    : function () {
                return this.localeData().meridiem(this.hours(), this.minutes(), true);
            },
            A    : function () {
                return this.localeData().meridiem(this.hours(), this.minutes(), false);
            },
            H    : function () {
                return this.hours();
            },
            h    : function () {
                return this.hours() % 12 || 12;
            },
            m    : function () {
                return this.minutes();
            },
            s    : function () {
                return this.seconds();
            },
            S    : function () {
                return toInt(this.milliseconds() / 100);
            },
            SS   : function () {
                return leftZeroFill(toInt(this.milliseconds() / 10), 2);
            },
            SSS  : function () {
                return leftZeroFill(this.milliseconds(), 3);
            },
            SSSS : function () {
                return leftZeroFill(this.milliseconds(), 3);
            },
            Z    : function () {
                var a = this.utcOffset(),
                    b = '+';
                if (a < 0) {
                    a = -a;
                    b = '-';
                }
                return b + leftZeroFill(toInt(a / 60), 2) + ':' + leftZeroFill(toInt(a) % 60, 2);
            },
            ZZ   : function () {
                var a = this.utcOffset(),
                    b = '+';
                if (a < 0) {
                    a = -a;
                    b = '-';
                }
                return b + leftZeroFill(toInt(a / 60), 2) + leftZeroFill(toInt(a) % 60, 2);
            },
            z : function () {
                return this.zoneAbbr();
            },
            zz : function () {
                return this.zoneName();
            },
            x    : function () {
                return this.valueOf();
            },
            X    : function () {
                return this.unix();
            },
            Q : function () {
                return this.quarter();
            }
        },

        deprecations = {},

        lists = ['months', 'monthsShort', 'weekdays', 'weekdaysShort', 'weekdaysMin'],

        updateInProgress = false;

    // Pick the first defined of two or three arguments. dfl comes from
    // default.
    function dfl(a, b, c) {
        switch (arguments.length) {
            case 2: return a != null ? a : b;
            case 3: return a != null ? a : b != null ? b : c;
            default: throw new Error('Implement me');
        }
    }

    function hasOwnProp(a, b) {
        return hasOwnProperty.call(a, b);
    }

    function defaultParsingFlags() {
        // We need to deep clone this object, and es5 standard is not very
        // helpful.
        return {
            empty : false,
            unusedTokens : [],
            unusedInput : [],
            overflow : -2,
            charsLeftOver : 0,
            nullInput : false,
            invalidMonth : null,
            invalidFormat : false,
            userInvalidated : false,
            iso: false
        };
    }

    function printMsg(msg) {
        if (moment.suppressDeprecationWarnings === false &&
            typeof console !== 'undefined' && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;
        return extend(function () {
            if (firstTime) {
                printMsg(msg);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    function deprecateSimple(name, msg) {
        if (!deprecations[name]) {
            printMsg(msg);
            deprecations[name] = true;
        }
    }

    function padToken(func, count) {
        return function (a) {
            return leftZeroFill(func.call(this, a), count);
        };
    }
    function ordinalizeToken(func, period) {
        return function (a) {
            return this.localeData().ordinal(func.call(this, a), period);
        };
    }

    function monthDiff(a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        return -(wholeMonthDiff + adjust);
    }

    while (ordinalizeTokens.length) {
        i = ordinalizeTokens.pop();
        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i], i);
    }
    while (paddedTokens.length) {
        i = paddedTokens.pop();
        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);
    }
    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);


    function meridiemFixWrap(locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // thie is not supposed to happen
            return hour;
        }
    }

    /************************************
     Constructors
     ************************************/

    function Locale() {
    }

    // Moment prototype object
    function Moment(config, skipOverflow) {
        if (skipOverflow !== false) {
            checkOverflow(config);
        }
        copyConfig(this, config);
        this._d = new Date(+config._d);
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            moment.updateOffset(this);
            updateInProgress = false;
        }
    }

    // Duration Constructor
    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
        seconds * 1e3 + // 1000
        minutes * 6e4 + // 1000 * 60
        hours * 36e5; // 1000 * 60 * 60
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
        weeks * 7;
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
        quarters * 3 +
        years * 12;

        this._data = {};

        this._locale = moment.localeData();

        this._bubble();
    }

    /************************************
     Helpers
     ************************************/


    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function copyConfig(to, from) {
        var i, prop, val;

        if (typeof from._isAMomentObject !== 'undefined') {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (typeof from._i !== 'undefined') {
            to._i = from._i;
        }
        if (typeof from._f !== 'undefined') {
            to._f = from._f;
        }
        if (typeof from._l !== 'undefined') {
            to._l = from._l;
        }
        if (typeof from._strict !== 'undefined') {
            to._strict = from._strict;
        }
        if (typeof from._tzm !== 'undefined') {
            to._tzm = from._tzm;
        }
        if (typeof from._isUTC !== 'undefined') {
            to._isUTC = from._isUTC;
        }
        if (typeof from._offset !== 'undefined') {
            to._offset = from._offset;
        }
        if (typeof from._pf !== 'undefined') {
            to._pf = from._pf;
        }
        if (typeof from._locale !== 'undefined') {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i in momentProperties) {
                prop = momentProperties[i];
                val = from[prop];
                if (typeof val !== 'undefined') {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.ceil(number);
        } else {
            return Math.floor(number);
        }
    }

    // left zero fill a number
    // see http://jsperf.com/left-zero-filling for performance comparison
    function leftZeroFill(number, targetLength, forceSign) {
        var output = '' + Math.abs(number),
            sign = number >= 0;

        while (output.length < targetLength) {
            output = '0' + output;
        }
        return (sign ? (forceSign ? '+' : '') : '-') + output;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
        (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        other = makeAs(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = moment.duration(val, period);
            addOrSubtractDurationFromMoment(this, dur, direction);
            return this;
        };
    }

    function addOrSubtractDurationFromMoment(mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = duration._days,
            months = duration._months;
        updateOffset = updateOffset == null ? true : updateOffset;

        if (milliseconds) {
            mom._d.setTime(+mom._d + milliseconds * isAdding);
        }
        if (days) {
            rawSetter(mom, 'Date', rawGetter(mom, 'Date') + days * isAdding);
        }
        if (months) {
            rawMonthSetter(mom, rawGetter(mom, 'Month') + months * isAdding);
        }
        if (updateOffset) {
            moment.updateOffset(mom, days || months);
        }
    }

    // check if is an array
    function isArray(input) {
        return Object.prototype.toString.call(input) === '[object Array]';
    }

    function isDate(input) {
        return Object.prototype.toString.call(input) === '[object Date]' ||
            input instanceof Date;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function normalizeUnits(units) {
        if (units) {
            var lowered = units.toLowerCase().replace(/(.)s$/, '$1');
            units = unitAliases[units] || camelFunctions[lowered] || lowered;
        }
        return units;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    function makeList(field) {
        var count, setter;

        if (field.indexOf('week') === 0) {
            count = 7;
            setter = 'day';
        }
        else if (field.indexOf('month') === 0) {
            count = 12;
            setter = 'month';
        }
        else {
            return;
        }

        moment[field] = function (format, index) {
            var i, getter,
                method = moment._locale[field],
                results = [];

            if (typeof format === 'number') {
                index = format;
                format = undefined;
            }

            getter = function (i) {
                var m = moment().utc().set(setter, i);
                return method.call(moment._locale, m, format || '');
            };

            if (index != null) {
                return getter(index);
            }
            else {
                for (i = 0; i < count; i++) {
                    results.push(getter(i));
                }
                return results;
            }
        };
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            if (coercedNumber >= 0) {
                value = Math.floor(coercedNumber);
            } else {
                value = Math.ceil(coercedNumber);
            }
        }

        return value;
    }

    function daysInMonth(year, month) {
        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
    }

    function weeksInYear(year, dow, doy) {
        return weekOfYear(moment([year, 11, 31 + dow - doy]), dow, doy).week;
    }

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    function checkOverflow(m) {
        var overflow;
        if (m._a && m._pf.overflow === -2) {
            overflow =
                m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH :
                    m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE :
                        m._a[HOUR] < 0 || m._a[HOUR] > 24 ||
                        (m._a[HOUR] === 24 && (m._a[MINUTE] !== 0 ||
                        m._a[SECOND] !== 0 ||
                        m._a[MILLISECOND] !== 0)) ? HOUR :
                            m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE :
                                m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND :
                                    m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND :
                                        -1;

            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }

            m._pf.overflow = overflow;
        }
    }

    function isValid(m) {
        if (m._isValid == null) {
            m._isValid = !isNaN(m._d.getTime()) &&
            m._pf.overflow < 0 &&
            !m._pf.empty &&
            !m._pf.invalidMonth &&
            !m._pf.nullInput &&
            !m._pf.invalidFormat &&
            !m._pf.userInvalidated;

            if (m._strict) {
                m._isValid = m._isValid &&
                m._pf.charsLeftOver === 0 &&
                m._pf.unusedTokens.length === 0 &&
                m._pf.bigHour === undefined;
            }
        }
        return m._isValid;
    }

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return null;
    }

    function loadLocale(name) {
        var oldLocale = null;
        if (!locales[name] && hasModule) {
            try {
                oldLocale = moment.locale();
                require('./locale/' + name);
                // because defineLocale currently also sets the global locale, we want to undo that for lazy loaded locales
                moment.locale(oldLocale);
            } catch (e) { }
        }
        return locales[name];
    }

    // Return a moment from input, that is local/utc/utcOffset equivalent to
    // model.
    function makeAs(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (moment.isMoment(input) || isDate(input) ?
                +input : +moment(input)) - (+res);
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(+res._d + diff);
            moment.updateOffset(res, false);
            return res;
        } else {
            return moment(input).local();
        }
    }

    /************************************
     Locale
     ************************************/


    extend(Locale.prototype, {

        set : function (config) {
            var prop, i;
            for (i in config) {
                prop = config[i];
                if (typeof prop === 'function') {
                    this[i] = prop;
                } else {
                    this['_' + i] = prop;
                }
            }
            // Lenient ordinal parsing accepts just a number in addition to
            // number + (possibly) stuff coming from _ordinalParseLenient.
            this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + /\d{1,2}/.source);
        },

        _months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        months : function (m) {
            return this._months[m.month()];
        },

        _monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        monthsShort : function (m) {
            return this._monthsShort[m.month()];
        },

        monthsParse : function (monthName, format, strict) {
            var i, mom, regex;

            if (!this._monthsParse) {
                this._monthsParse = [];
                this._longMonthsParse = [];
                this._shortMonthsParse = [];
            }

            for (i = 0; i < 12; i++) {
                // make the regex if we don't have it already
                mom = moment.utc([2000, i]);
                if (strict && !this._longMonthsParse[i]) {
                    this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                    this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
                }
                if (!strict && !this._monthsParse[i]) {
                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
                }
                // test the regex
                if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                    return i;
                } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                    return i;
                } else if (!strict && this._monthsParse[i].test(monthName)) {
                    return i;
                }
            }
        },

        _weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdays : function (m) {
            return this._weekdays[m.day()];
        },

        _weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysShort : function (m) {
            return this._weekdaysShort[m.day()];
        },

        _weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        weekdaysMin : function (m) {
            return this._weekdaysMin[m.day()];
        },

        weekdaysParse : function (weekdayName) {
            var i, mom, regex;

            if (!this._weekdaysParse) {
                this._weekdaysParse = [];
            }

            for (i = 0; i < 7; i++) {
                // make the regex if we don't have it already
                if (!this._weekdaysParse[i]) {
                    mom = moment([2000, 1]).day(i);
                    regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                    this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
                }
                // test the regex
                if (this._weekdaysParse[i].test(weekdayName)) {
                    return i;
                }
            }
        },

        _longDateFormat : {
            LTS : 'h:mm:ss A',
            LT : 'h:mm A',
            L : 'MM/DD/YYYY',
            LL : 'MMMM D, YYYY',
            LLL : 'MMMM D, YYYY LT',
            LLLL : 'dddd, MMMM D, YYYY LT'
        },
        longDateFormat : function (key) {
            var output = this._longDateFormat[key];
            if (!output && this._longDateFormat[key.toUpperCase()]) {
                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {
                    return val.slice(1);
                });
                this._longDateFormat[key] = output;
            }
            return output;
        },

        isPM : function (input) {
            // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
            // Using charAt should be more compatible.
            return ((input + '').toLowerCase().charAt(0) === 'p');
        },

        _meridiemParse : /[ap]\.?m?\.?/i,
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'pm' : 'PM';
            } else {
                return isLower ? 'am' : 'AM';
            }
        },


        _calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        calendar : function (key, mom, now) {
            var output = this._calendar[key];
            return typeof output === 'function' ? output.apply(mom, [now]) : output;
        },

        _relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },

        relativeTime : function (number, withoutSuffix, string, isFuture) {
            var output = this._relativeTime[string];
            return (typeof output === 'function') ?
                output(number, withoutSuffix, string, isFuture) :
                output.replace(/%d/i, number);
        },

        pastFuture : function (diff, output) {
            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);
        },

        ordinal : function (number) {
            return this._ordinal.replace('%d', number);
        },
        _ordinal : '%d',
        _ordinalParse : /\d{1,2}/,

        preparse : function (string) {
            return string;
        },

        postformat : function (string) {
            return string;
        },

        week : function (mom) {
            return weekOfYear(mom, this._week.dow, this._week.doy).week;
        },

        _week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        },

        firstDayOfWeek : function () {
            return this._week.dow;
        },

        firstDayOfYear : function () {
            return this._week.doy;
        },

        _invalidDate: 'Invalid date',
        invalidDate: function () {
            return this._invalidDate;
        }
    });

    /************************************
     Formatting
     ************************************/


    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '';
            for (i = 0; i < length; i++) {
                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());

        if (!formatFunctions[format]) {
            formatFunctions[format] = makeFormatFunction(format);
        }

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }


    /************************************
     Parsing
     ************************************/


    // get the regex to find the next token
    function getParseRegexForToken(token, config) {
        var a, strict = config._strict;
        switch (token) {
            case 'Q':
                return parseTokenOneDigit;
            case 'DDDD':
                return parseTokenThreeDigits;
            case 'YYYY':
            case 'GGGG':
            case 'gggg':
                return strict ? parseTokenFourDigits : parseTokenOneToFourDigits;
            case 'Y':
            case 'G':
            case 'g':
                return parseTokenSignedNumber;
            case 'YYYYYY':
            case 'YYYYY':
            case 'GGGGG':
            case 'ggggg':
                return strict ? parseTokenSixDigits : parseTokenOneToSixDigits;
            case 'S':
                if (strict) {
                    return parseTokenOneDigit;
                }
            /* falls through */
            case 'SS':
                if (strict) {
                    return parseTokenTwoDigits;
                }
            /* falls through */
            case 'SSS':
                if (strict) {
                    return parseTokenThreeDigits;
                }
            /* falls through */
            case 'DDD':
                return parseTokenOneToThreeDigits;
            case 'MMM':
            case 'MMMM':
            case 'dd':
            case 'ddd':
            case 'dddd':
                return parseTokenWord;
            case 'a':
            case 'A':
                return config._locale._meridiemParse;
            case 'x':
                return parseTokenOffsetMs;
            case 'X':
                return parseTokenTimestampMs;
            case 'Z':
            case 'ZZ':
                return parseTokenTimezone;
            case 'T':
                return parseTokenT;
            case 'SSSS':
                return parseTokenDigits;
            case 'MM':
            case 'DD':
            case 'YY':
            case 'GG':
            case 'gg':
            case 'HH':
            case 'hh':
            case 'mm':
            case 'ss':
            case 'ww':
            case 'WW':
                return strict ? parseTokenTwoDigits : parseTokenOneOrTwoDigits;
            case 'M':
            case 'D':
            case 'd':
            case 'H':
            case 'h':
            case 'm':
            case 's':
            case 'w':
            case 'W':
            case 'e':
            case 'E':
                return parseTokenOneOrTwoDigits;
            case 'Do':
                return strict ? config._locale._ordinalParse : config._locale._ordinalParseLenient;
            default :
                a = new RegExp(regexpEscape(unescapeFormat(token.replace('\\', '')), 'i'));
                return a;
        }
    }

    function utcOffsetFromString(string) {
        string = string || '';
        var possibleTzMatches = (string.match(parseTokenTimezone) || []),
            tzChunk = possibleTzMatches[possibleTzMatches.length - 1] || [],
            parts = (tzChunk + '').match(parseTimezoneChunker) || ['-', 0, 0],
            minutes = +(parts[1] * 60) + toInt(parts[2]);

        return parts[0] === '+' ? minutes : -minutes;
    }

    // function to convert string input to date
    function addTimeToArrayFromToken(token, input, config) {
        var a, datePartArray = config._a;

        switch (token) {
            // QUARTER
            case 'Q':
                if (input != null) {
                    datePartArray[MONTH] = (toInt(input) - 1) * 3;
                }
                break;
            // MONTH
            case 'M' : // fall through to MM
            case 'MM' :
                if (input != null) {
                    datePartArray[MONTH] = toInt(input) - 1;
                }
                break;
            case 'MMM' : // fall through to MMMM
            case 'MMMM' :
                a = config._locale.monthsParse(input, token, config._strict);
                // if we didn't find a month name, mark the date as invalid.
                if (a != null) {
                    datePartArray[MONTH] = a;
                } else {
                    config._pf.invalidMonth = input;
                }
                break;
            // DAY OF MONTH
            case 'D' : // fall through to DD
            case 'DD' :
                if (input != null) {
                    datePartArray[DATE] = toInt(input);
                }
                break;
            case 'Do' :
                if (input != null) {
                    datePartArray[DATE] = toInt(parseInt(
                        input.match(/\d{1,2}/)[0], 10));
                }
                break;
            // DAY OF YEAR
            case 'DDD' : // fall through to DDDD
            case 'DDDD' :
                if (input != null) {
                    config._dayOfYear = toInt(input);
                }

                break;
            // YEAR
            case 'YY' :
                datePartArray[YEAR] = moment.parseTwoDigitYear(input);
                break;
            case 'YYYY' :
            case 'YYYYY' :
            case 'YYYYYY' :
                datePartArray[YEAR] = toInt(input);
                break;
            // AM / PM
            case 'a' : // fall through to A
            case 'A' :
                config._meridiem = input;
                // config._isPm = config._locale.isPM(input);
                break;
            // HOUR
            case 'h' : // fall through to hh
            case 'hh' :
                config._pf.bigHour = true;
            /* falls through */
            case 'H' : // fall through to HH
            case 'HH' :
                datePartArray[HOUR] = toInt(input);
                break;
            // MINUTE
            case 'm' : // fall through to mm
            case 'mm' :
                datePartArray[MINUTE] = toInt(input);
                break;
            // SECOND
            case 's' : // fall through to ss
            case 'ss' :
                datePartArray[SECOND] = toInt(input);
                break;
            // MILLISECOND
            case 'S' :
            case 'SS' :
            case 'SSS' :
            case 'SSSS' :
                datePartArray[MILLISECOND] = toInt(('0.' + input) * 1000);
                break;
            // UNIX OFFSET (MILLISECONDS)
            case 'x':
                config._d = new Date(toInt(input));
                break;
            // UNIX TIMESTAMP WITH MS
            case 'X':
                config._d = new Date(parseFloat(input) * 1000);
                break;
            // TIMEZONE
            case 'Z' : // fall through to ZZ
            case 'ZZ' :
                config._useUTC = true;
                config._tzm = utcOffsetFromString(input);
                break;
            // WEEKDAY - human
            case 'dd':
            case 'ddd':
            case 'dddd':
                a = config._locale.weekdaysParse(input);
                // if we didn't get a weekday name, mark the date as invalid
                if (a != null) {
                    config._w = config._w || {};
                    config._w['d'] = a;
                } else {
                    config._pf.invalidWeekday = input;
                }
                break;
            // WEEK, WEEK DAY - numeric
            case 'w':
            case 'ww':
            case 'W':
            case 'WW':
            case 'd':
            case 'e':
            case 'E':
                token = token.substr(0, 1);
            /* falls through */
            case 'gggg':
            case 'GGGG':
            case 'GGGGG':
                token = token.substr(0, 2);
                if (input) {
                    config._w = config._w || {};
                    config._w[token] = toInt(input);
                }
                break;
            case 'gg':
            case 'GG':
                config._w = config._w || {};
                config._w[token] = moment.parseTwoDigitYear(input);
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = dfl(w.GG, config._a[YEAR], weekOfYear(moment(), 1, 4).year);
            week = dfl(w.W, 1);
            weekday = dfl(w.E, 1);
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            weekYear = dfl(w.gg, config._a[YEAR], weekOfYear(moment(), dow, doy).year);
            week = dfl(w.w, 1);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < dow) {
                    ++week;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);

        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function dateFromConfig(config) {
        var i, date, input = [], currentDate, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear) {
            yearToUse = dfl(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse)) {
                config._pf._overflowDayOfYear = true;
            }

            date = makeUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);
        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }
    }

    function dateFromObject(config) {
        var normalizedInput;

        if (config._d) {
            return;
        }

        normalizedInput = normalizeObjectUnits(config._i);
        config._a = [
            normalizedInput.year,
            normalizedInput.month,
            normalizedInput.day || normalizedInput.date,
            normalizedInput.hour,
            normalizedInput.minute,
            normalizedInput.second,
            normalizedInput.millisecond
        ];

        dateFromConfig(config);
    }

    function currentDateArray(config) {
        var now = new Date();
        if (config._useUTC) {
            return [
                now.getUTCFullYear(),
                now.getUTCMonth(),
                now.getUTCDate()
            ];
        } else {
            return [now.getFullYear(), now.getMonth(), now.getDate()];
        }
    }

    // date from string and format string
    function makeDateFromStringAndFormat(config) {
        if (config._f === moment.ISO_8601) {
            parseISO(config);
            return;
        }

        config._a = [];
        config._pf.empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    config._pf.unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    config._pf.empty = false;
                }
                else {
                    config._pf.unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                config._pf.unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        config._pf.charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            config._pf.unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._pf.bigHour === true && config._a[HOUR] <= 12) {
            config._pf.bigHour = undefined;
        }
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR],
            config._meridiem);
        dateFromConfig(config);
        checkOverflow(config);
    }

    function unescapeFormat(s) {
        return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        });
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function regexpEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    // date from string and array of format strings
    function makeDateFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            config._pf.invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._pf = defaultParsingFlags();
            tempConfig._f = config._f[i];
            makeDateFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += tempConfig._pf.charsLeftOver;

            //or tokens
            currentScore += tempConfig._pf.unusedTokens.length * 10;

            tempConfig._pf.score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    // date from iso format
    function parseISO(config) {
        var i, l,
            string = config._i,
            match = isoRegex.exec(string);

        if (match) {
            config._pf.iso = true;
            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(string)) {
                    // match[5] should be 'T' or undefined
                    config._f = isoDates[i][0] + (match[6] || ' ');
                    break;
                }
            }
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(string)) {
                    config._f += isoTimes[i][0];
                    break;
                }
            }
            if (string.match(parseTokenTimezone)) {
                config._f += 'Z';
            }
            makeDateFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function makeDateFromString(config) {
        parseISO(config);
        if (config._isValid === false) {
            delete config._isValid;
            moment.createFromInputFallback(config);
        }
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function makeDateFromInput(config) {
        var input = config._i, matched;
        if (input === undefined) {
            config._d = new Date();
        } else if (isDate(input)) {
            config._d = new Date(+input);
        } else if ((matched = aspNetJsonRegex.exec(input)) !== null) {
            config._d = new Date(+matched[1]);
        } else if (typeof input === 'string') {
            makeDateFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            dateFromConfig(config);
        } else if (typeof(input) === 'object') {
            dateFromObject(config);
        } else if (typeof(input) === 'number') {
            // from milliseconds
            config._d = new Date(input);
        } else {
            moment.createFromInputFallback(config);
        }
    }

    function makeDate(y, m, d, h, M, s, ms) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var date = new Date(y, m, d, h, M, s, ms);

        //the date constructor doesn't accept years < 1970
        if (y < 1970) {
            date.setFullYear(y);
        }
        return date;
    }

    function makeUTCDate(y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        if (y < 1970) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    function parseWeekday(input, locale) {
        if (typeof input === 'string') {
            if (!isNaN(input)) {
                input = parseInt(input, 10);
            }
            else {
                input = locale.weekdaysParse(input);
                if (typeof input !== 'number') {
                    return null;
                }
            }
        }
        return input;
    }

    /************************************
     Relative Time
     ************************************/


    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime(posNegDuration, withoutSuffix, locale) {
        var duration = moment.duration(posNegDuration).abs(),
            seconds = round(duration.as('s')),
            minutes = round(duration.as('m')),
            hours = round(duration.as('h')),
            days = round(duration.as('d')),
            months = round(duration.as('M')),
            years = round(duration.as('y')),

            args = seconds < relativeTimeThresholds.s && ['s', seconds] ||
                minutes === 1 && ['m'] ||
                minutes < relativeTimeThresholds.m && ['mm', minutes] ||
                hours === 1 && ['h'] ||
                hours < relativeTimeThresholds.h && ['hh', hours] ||
                days === 1 && ['d'] ||
                days < relativeTimeThresholds.d && ['dd', days] ||
                months === 1 && ['M'] ||
                months < relativeTimeThresholds.M && ['MM', months] ||
                years === 1 && ['y'] || ['yy', years];

        args[2] = withoutSuffix;
        args[3] = +posNegDuration > 0;
        args[4] = locale;
        return substituteTimeAgo.apply({}, args);
    }


    /************************************
     Week of Year
     ************************************/


    // firstDayOfWeek       0 = sun, 6 = sat
    //                      the day of the week that starts the week
    //                      (usually sunday or monday)
    // firstDayOfWeekOfYear 0 = sun, 6 = sat
    //                      the first week is the week that contains the first
    //                      of this day of the week
    //                      (eg. ISO weeks use thursday (4))
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var end = firstDayOfWeekOfYear - firstDayOfWeek,
            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),
            adjustedMoment;


        if (daysToDayOfWeek > end) {
            daysToDayOfWeek -= 7;
        }

        if (daysToDayOfWeek < end - 7) {
            daysToDayOfWeek += 7;
        }

        adjustedMoment = moment(mom).add(daysToDayOfWeek, 'd');
        return {
            week: Math.ceil(adjustedMoment.dayOfYear() / 7),
            year: adjustedMoment.year()
        };
    }

    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
        var d = makeUTCDate(year, 0, 1).getUTCDay(), daysToAdd, dayOfYear;

        d = d === 0 ? 7 : d;
        weekday = weekday != null ? weekday : firstDayOfWeek;
        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);
        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;

        return {
            year: dayOfYear > 0 ? year : year - 1,
            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear
        };
    }

    /************************************
     Top Level Functions
     ************************************/

    function makeMoment(config) {
        var input = config._i,
            format = config._f,
            res;

        config._locale = config._locale || moment.localeData(config._l);

        if (input === null || (format === undefined && input === '')) {
            return moment.invalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (moment.isMoment(input)) {
            return new Moment(input, true);
        } else if (format) {
            if (isArray(format)) {
                makeDateFromStringAndArray(config);
            } else {
                makeDateFromStringAndFormat(config);
            }
        } else {
            makeDateFromInput(config);
        }

        res = new Moment(config);
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    moment = function (input, format, locale, strict) {
        var c;

        if (typeof(locale) === 'boolean') {
            strict = locale;
            locale = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c = {};
        c._isAMomentObject = true;
        c._i = input;
        c._f = format;
        c._l = locale;
        c._strict = strict;
        c._isUTC = false;
        c._pf = defaultParsingFlags();

        return makeMoment(c);
    };

    moment.suppressDeprecationWarnings = false;

    moment.createFromInputFallback = deprecate(
        'moment construction falls back to js Date. This is ' +
        'discouraged and will be removed in upcoming major ' +
        'release. Please refer to ' +
        'https://github.com/moment/moment/issues/1407 for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return moment();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    moment.min = function () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    };

    moment.max = function () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    };

    // creating with utc
    moment.utc = function (input, format, locale, strict) {
        var c;

        if (typeof(locale) === 'boolean') {
            strict = locale;
            locale = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c = {};
        c._isAMomentObject = true;
        c._useUTC = true;
        c._isUTC = true;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;
        c._pf = defaultParsingFlags();

        return makeMoment(c).utc();
    };

    // creating with unix timestamp (in seconds)
    moment.unix = function (input) {
        return moment(input * 1000);
    };

    // duration
    moment.duration = function (input, key) {
        var duration = input,
        // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            parseIso,
            diffRes;

        if (moment.isDuration(input)) {
            duration = {
                ms: input._milliseconds,
                d: input._days,
                M: input._months
            };
        } else if (typeof input === 'number') {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetTimeSpanJsonRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y: 0,
                d: toInt(match[DATE]) * sign,
                h: toInt(match[HOUR]) * sign,
                m: toInt(match[MINUTE]) * sign,
                s: toInt(match[SECOND]) * sign,
                ms: toInt(match[MILLISECOND]) * sign
            };
        } else if (!!(match = isoDurationRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            parseIso = function (inp) {
                // We'd normally use ~~inp for this, but unfortunately it also
                // converts floats to ints.
                // inp may be undefined, so careful calling replace on it.
                var res = inp && parseFloat(inp.replace(',', '.'));
                // apply sign while we're at it
                return (isNaN(res) ? 0 : res) * sign;
            };
            duration = {
                y: parseIso(match[2]),
                M: parseIso(match[3]),
                d: parseIso(match[4]),
                h: parseIso(match[5]),
                m: parseIso(match[6]),
                s: parseIso(match[7]),
                w: parseIso(match[8])
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' &&
            ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(moment(duration.from), moment(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (moment.isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    };

    // version number
    moment.version = VERSION;

    // default format
    moment.defaultFormat = isoFormat;

    // constant that refers to the ISO standard
    moment.ISO_8601 = function () {};

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    moment.momentProperties = momentProperties;

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    moment.updateOffset = function () {};

    // This function allows you to set a threshold for relative time strings
    moment.relativeTimeThreshold = function (threshold, limit) {
        if (relativeTimeThresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return relativeTimeThresholds[threshold];
        }
        relativeTimeThresholds[threshold] = limit;
        return true;
    };

    moment.lang = deprecate(
        'moment.lang is deprecated. Use moment.locale instead.',
        function (key, value) {
            return moment.locale(key, value);
        }
    );

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    moment.locale = function (key, values) {
        var data;
        if (key) {
            if (typeof(values) !== 'undefined') {
                data = moment.defineLocale(key, values);
            }
            else {
                data = moment.localeData(key);
            }

            if (data) {
                moment.duration._locale = moment._locale = data;
            }
        }

        return moment._locale._abbr;
    };

    moment.defineLocale = function (name, values) {
        if (values !== null) {
            values.abbr = name;
            if (!locales[name]) {
                locales[name] = new Locale();
            }
            locales[name].set(values);

            // backwards compat for now: also set the locale
            moment.locale(name);

            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    };

    moment.langData = deprecate(
        'moment.langData is deprecated. Use moment.localeData instead.',
        function (key) {
            return moment.localeData(key);
        }
    );

    // returns locale data
    moment.localeData = function (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return moment._locale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    };

    // compare moment object
    moment.isMoment = function (obj) {
        return obj instanceof Moment ||
            (obj != null && hasOwnProp(obj, '_isAMomentObject'));
    };

    // for typechecking Duration objects
    moment.isDuration = function (obj) {
        return obj instanceof Duration;
    };

    for (i = lists.length - 1; i >= 0; --i) {
        makeList(lists[i]);
    }

    moment.normalizeUnits = function (units) {
        return normalizeUnits(units);
    };

    moment.invalid = function (flags) {
        var m = moment.utc(NaN);
        if (flags != null) {
            extend(m._pf, flags);
        }
        else {
            m._pf.userInvalidated = true;
        }

        return m;
    };

    moment.parseZone = function () {
        return moment.apply(null, arguments).parseZone();
    };

    moment.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    moment.isDate = isDate;

    /************************************
     Moment Prototype
     ************************************/


    extend(moment.fn = Moment.prototype, {

        clone : function () {
            return moment(this);
        },

        valueOf : function () {
            return +this._d - ((this._offset || 0) * 60000);
        },

        unix : function () {
            return Math.floor(+this / 1000);
        },

        toString : function () {
            return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
        },

        toDate : function () {
            return this._offset ? new Date(+this) : this._d;
        },

        toISOString : function () {
            var m = moment(this).utc();
            if (0 < m.year() && m.year() <= 9999) {
                if ('function' === typeof Date.prototype.toISOString) {
                    // native implementation is ~50x faster, use it when we can
                    return this.toDate().toISOString();
                } else {
                    return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
                }
            } else {
                return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
            }
        },

        toArray : function () {
            var m = this;
            return [
                m.year(),
                m.month(),
                m.date(),
                m.hours(),
                m.minutes(),
                m.seconds(),
                m.milliseconds()
            ];
        },

        isValid : function () {
            return isValid(this);
        },

        isDSTShifted : function () {
            if (this._a) {
                return this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0;
            }

            return false;
        },

        parsingFlags : function () {
            return extend({}, this._pf);
        },

        invalidAt: function () {
            return this._pf.overflow;
        },

        utc : function (keepLocalTime) {
            return this.utcOffset(0, keepLocalTime);
        },

        local : function (keepLocalTime) {
            if (this._isUTC) {
                this.utcOffset(0, keepLocalTime);
                this._isUTC = false;

                if (keepLocalTime) {
                    this.subtract(this._dateUtcOffset(), 'm');
                }
            }
            return this;
        },

        format : function (inputString) {
            var output = formatMoment(this, inputString || moment.defaultFormat);
            return this.localeData().postformat(output);
        },

        add : createAdder(1, 'add'),

        subtract : createAdder(-1, 'subtract'),

        diff : function (input, units, asFloat) {
            var that = makeAs(input, this),
                zoneDiff = (that.utcOffset() - this.utcOffset()) * 6e4,
                anchor, diff, output, daysAdjust;

            units = normalizeUnits(units);

            if (units === 'year' || units === 'month' || units === 'quarter') {
                output = monthDiff(this, that);
                if (units === 'quarter') {
                    output = output / 3;
                } else if (units === 'year') {
                    output = output / 12;
                }
            } else {
                diff = this - that;
                output = units === 'second' ? diff / 1e3 : // 1000
                    units === 'minute' ? diff / 6e4 : // 1000 * 60
                        units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60
                            units === 'day' ? (diff - zoneDiff) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
                                units === 'week' ? (diff - zoneDiff) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
                                    diff;
            }
            return asFloat ? output : absRound(output);
        },

        from : function (time, withoutSuffix) {
            return moment.duration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        },

        fromNow : function (withoutSuffix) {
            return this.from(moment(), withoutSuffix);
        },

        calendar : function (time) {
            // We want to compare the start of today, vs this.
            // Getting start-of-today depends on whether we're locat/utc/offset
            // or not.
            var now = time || moment(),
                sod = makeAs(now, this).startOf('day'),
                diff = this.diff(sod, 'days', true),
                format = diff < -6 ? 'sameElse' :
                    diff < -1 ? 'lastWeek' :
                        diff < 0 ? 'lastDay' :
                            diff < 1 ? 'sameDay' :
                                diff < 2 ? 'nextDay' :
                                    diff < 7 ? 'nextWeek' : 'sameElse';
            return this.format(this.localeData().calendar(format, this, moment(now)));
        },

        isLeapYear : function () {
            return isLeapYear(this.year());
        },

        isDST : function () {
            return (this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset());
        },

        day : function (input) {
            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            if (input != null) {
                input = parseWeekday(input, this.localeData());
                return this.add(input - day, 'd');
            } else {
                return day;
            }
        },

        month : makeAccessor('Month', true),

        startOf : function (units) {
            units = normalizeUnits(units);
            // the following switch intentionally omits break keywords
            // to utilize falling through the cases.
            switch (units) {
                case 'year':
                    this.month(0);
                /* falls through */
                case 'quarter':
                case 'month':
                    this.date(1);
                /* falls through */
                case 'week':
                case 'isoWeek':
                case 'day':
                    this.hours(0);
                /* falls through */
                case 'hour':
                    this.minutes(0);
                /* falls through */
                case 'minute':
                    this.seconds(0);
                /* falls through */
                case 'second':
                    this.milliseconds(0);
                /* falls through */
            }

            // weeks are a special case
            if (units === 'week') {
                this.weekday(0);
            } else if (units === 'isoWeek') {
                this.isoWeekday(1);
            }

            // quarters are also special
            if (units === 'quarter') {
                this.month(Math.floor(this.month() / 3) * 3);
            }

            return this;
        },

        endOf: function (units) {
            units = normalizeUnits(units);
            if (units === undefined || units === 'millisecond') {
                return this;
            }
            return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
        },

        isAfter: function (input, units) {
            var inputMs;
            units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
            if (units === 'millisecond') {
                input = moment.isMoment(input) ? input : moment(input);
                return +this > +input;
            } else {
                inputMs = moment.isMoment(input) ? +input : +moment(input);
                return inputMs < +this.clone().startOf(units);
            }
        },

        isBefore: function (input, units) {
            var inputMs;
            units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
            if (units === 'millisecond') {
                input = moment.isMoment(input) ? input : moment(input);
                return +this < +input;
            } else {
                inputMs = moment.isMoment(input) ? +input : +moment(input);
                return +this.clone().endOf(units) < inputMs;
            }
        },

        isBetween: function (from, to, units) {
            return this.isAfter(from, units) && this.isBefore(to, units);
        },

        isSame: function (input, units) {
            var inputMs;
            units = normalizeUnits(units || 'millisecond');
            if (units === 'millisecond') {
                input = moment.isMoment(input) ? input : moment(input);
                return +this === +input;
            } else {
                inputMs = +moment(input);
                return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));
            }
        },

        min: deprecate(
            'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',
            function (other) {
                other = moment.apply(null, arguments);
                return other < this ? this : other;
            }
        ),

        max: deprecate(
            'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',
            function (other) {
                other = moment.apply(null, arguments);
                return other > this ? this : other;
            }
        ),

        zone : deprecate(
            'moment().zone is deprecated, use moment().utcOffset instead. ' +
            'https://github.com/moment/moment/issues/1779',
            function (input, keepLocalTime) {
                if (input != null) {
                    if (typeof input !== 'string') {
                        input = -input;
                    }

                    this.utcOffset(input, keepLocalTime);

                    return this;
                } else {
                    return -this.utcOffset();
                }
            }
        ),

        // keepLocalTime = true means only change the timezone, without
        // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
        // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
        // +0200, so we adjust the time as needed, to be valid.
        //
        // Keeping the time actually adds/subtracts (one hour)
        // from the actual represented time. That is why we call updateOffset
        // a second time. In case it wants us to change the offset again
        // _changeInProgress == true case, then we have to adjust, because
        // there is no such time in the given timezone.
        utcOffset : function (input, keepLocalTime) {
            var offset = this._offset || 0,
                localAdjust;
            if (input != null) {
                if (typeof input === 'string') {
                    input = utcOffsetFromString(input);
                }
                if (Math.abs(input) < 16) {
                    input = input * 60;
                }
                if (!this._isUTC && keepLocalTime) {
                    localAdjust = this._dateUtcOffset();
                }
                this._offset = input;
                this._isUTC = true;
                if (localAdjust != null) {
                    this.add(localAdjust, 'm');
                }
                if (offset !== input) {
                    if (!keepLocalTime || this._changeInProgress) {
                        addOrSubtractDurationFromMoment(this,
                            moment.duration(input - offset, 'm'), 1, false);
                    } else if (!this._changeInProgress) {
                        this._changeInProgress = true;
                        moment.updateOffset(this, true);
                        this._changeInProgress = null;
                    }
                }

                return this;
            } else {
                return this._isUTC ? offset : this._dateUtcOffset();
            }
        },

        isLocal : function () {
            return !this._isUTC;
        },

        isUtcOffset : function () {
            return this._isUTC;
        },

        isUtc : function () {
            return this._isUTC && this._offset === 0;
        },

        zoneAbbr : function () {
            return this._isUTC ? 'UTC' : '';
        },

        zoneName : function () {
            return this._isUTC ? 'Coordinated Universal Time' : '';
        },

        parseZone : function () {
            if (this._tzm) {
                this.utcOffset(this._tzm);
            } else if (typeof this._i === 'string') {
                this.utcOffset(utcOffsetFromString(this._i));
            }
            return this;
        },

        hasAlignedHourOffset : function (input) {
            if (!input) {
                input = 0;
            }
            else {
                input = moment(input).utcOffset();
            }

            return (this.utcOffset() - input) % 60 === 0;
        },

        daysInMonth : function () {
            return daysInMonth(this.year(), this.month());
        },

        dayOfYear : function (input) {
            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;
            return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
        },

        quarter : function (input) {
            return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
        },

        weekYear : function (input) {
            var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
            return input == null ? year : this.add((input - year), 'y');
        },

        isoWeekYear : function (input) {
            var year = weekOfYear(this, 1, 4).year;
            return input == null ? year : this.add((input - year), 'y');
        },

        week : function (input) {
            var week = this.localeData().week(this);
            return input == null ? week : this.add((input - week) * 7, 'd');
        },

        isoWeek : function (input) {
            var week = weekOfYear(this, 1, 4).week;
            return input == null ? week : this.add((input - week) * 7, 'd');
        },

        weekday : function (input) {
            var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
            return input == null ? weekday : this.add(input - weekday, 'd');
        },

        isoWeekday : function (input) {
            // behaves the same as moment#day except
            // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
            // as a setter, sunday should belong to the previous week.
            return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);
        },

        isoWeeksInYear : function () {
            return weeksInYear(this.year(), 1, 4);
        },

        weeksInYear : function () {
            var weekInfo = this.localeData()._week;
            return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
        },

        get : function (units) {
            units = normalizeUnits(units);
            return this[units]();
        },

        set : function (units, value) {
            var unit;
            if (typeof units === 'object') {
                for (unit in units) {
                    this.set(unit, units[unit]);
                }
            }
            else {
                units = normalizeUnits(units);
                if (typeof this[units] === 'function') {
                    this[units](value);
                }
            }
            return this;
        },

        // If passed a locale key, it will set the locale for this
        // instance.  Otherwise, it will return the locale configuration
        // variables for this instance.
        locale : function (key) {
            var newLocaleData;

            if (key === undefined) {
                return this._locale._abbr;
            } else {
                newLocaleData = moment.localeData(key);
                if (newLocaleData != null) {
                    this._locale = newLocaleData;
                }
                return this;
            }
        },

        lang : deprecate(
            'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
            function (key) {
                if (key === undefined) {
                    return this.localeData();
                } else {
                    return this.locale(key);
                }
            }
        ),

        localeData : function () {
            return this._locale;
        },

        _dateUtcOffset : function () {
            // On Firefox.24 Date#getTimezoneOffset returns a floating point.
            // https://github.com/moment/moment/pull/1871
            return -Math.round(this._d.getTimezoneOffset() / 15) * 15;
        }

    });

    function rawMonthSetter(mom, value) {
        var dayOfMonth;

        // TODO: Move this out of here!
        if (typeof value === 'string') {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (typeof value !== 'number') {
                return mom;
            }
        }

        dayOfMonth = Math.min(mom.date(),
            daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function rawGetter(mom, unit) {
        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();
    }

    function rawSetter(mom, unit, value) {
        if (unit === 'Month') {
            return rawMonthSetter(mom, value);
        } else {
            return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
        }
    }

    function makeAccessor(unit, keepTime) {
        return function (value) {
            if (value != null) {
                rawSetter(this, unit, value);
                moment.updateOffset(this, keepTime);
                return this;
            } else {
                return rawGetter(this, unit);
            }
        };
    }

    moment.fn.millisecond = moment.fn.milliseconds = makeAccessor('Milliseconds', false);
    moment.fn.second = moment.fn.seconds = makeAccessor('Seconds', false);
    moment.fn.minute = moment.fn.minutes = makeAccessor('Minutes', false);
    // Setting the hour should keep the time, because the user explicitly
    // specified which hour he wants. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    moment.fn.hour = moment.fn.hours = makeAccessor('Hours', true);
    // moment.fn.month is defined separately
    moment.fn.date = makeAccessor('Date', true);
    moment.fn.dates = deprecate('dates accessor is deprecated. Use date instead.', makeAccessor('Date', true));
    moment.fn.year = makeAccessor('FullYear', true);
    moment.fn.years = deprecate('years accessor is deprecated. Use year instead.', makeAccessor('FullYear', true));

    // add plural methods
    moment.fn.days = moment.fn.day;
    moment.fn.months = moment.fn.month;
    moment.fn.weeks = moment.fn.week;
    moment.fn.isoWeeks = moment.fn.isoWeek;
    moment.fn.quarters = moment.fn.quarter;

    // add aliased format methods
    moment.fn.toJSON = moment.fn.toISOString;

    // alias isUtc for dev-friendliness
    moment.fn.isUTC = moment.fn.isUtc;

    /************************************
     Duration Prototype
     ************************************/


    function daysToYears (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        return days * 400 / 146097;
    }

    function yearsToDays (years) {
        // years * 365 + absRound(years / 4) -
        //     absRound(years / 100) + absRound(years / 400);
        return years * 146097 / 400;
    }

    extend(moment.duration.fn = Duration.prototype, {

        _bubble : function () {
            var milliseconds = this._milliseconds,
                days = this._days,
                months = this._months,
                data = this._data,
                seconds, minutes, hours, years = 0;

            // The following code bubbles up values, see the tests for
            // examples of what that means.
            data.milliseconds = milliseconds % 1000;

            seconds = absRound(milliseconds / 1000);
            data.seconds = seconds % 60;

            minutes = absRound(seconds / 60);
            data.minutes = minutes % 60;

            hours = absRound(minutes / 60);
            data.hours = hours % 24;

            days += absRound(hours / 24);

            // Accurately convert days to years, assume start from year 0.
            years = absRound(daysToYears(days));
            days -= absRound(yearsToDays(years));

            // 30 days to a month
            // TODO (iskren): Use anchor date (like 1st Jan) to compute this.
            months += absRound(days / 30);
            days %= 30;

            // 12 months -> 1 year
            years += absRound(months / 12);
            months %= 12;

            data.days = days;
            data.months = months;
            data.years = years;
        },

        abs : function () {
            this._milliseconds = Math.abs(this._milliseconds);
            this._days = Math.abs(this._days);
            this._months = Math.abs(this._months);

            this._data.milliseconds = Math.abs(this._data.milliseconds);
            this._data.seconds = Math.abs(this._data.seconds);
            this._data.minutes = Math.abs(this._data.minutes);
            this._data.hours = Math.abs(this._data.hours);
            this._data.months = Math.abs(this._data.months);
            this._data.years = Math.abs(this._data.years);

            return this;
        },

        weeks : function () {
            return absRound(this.days() / 7);
        },

        valueOf : function () {
            return this._milliseconds +
                this._days * 864e5 +
                (this._months % 12) * 2592e6 +
                toInt(this._months / 12) * 31536e6;
        },

        humanize : function (withSuffix) {
            var output = relativeTime(this, !withSuffix, this.localeData());

            if (withSuffix) {
                output = this.localeData().pastFuture(+this, output);
            }

            return this.localeData().postformat(output);
        },

        add : function (input, val) {
            // supports only 2.0-style add(1, 's') or add(moment)
            var dur = moment.duration(input, val);

            this._milliseconds += dur._milliseconds;
            this._days += dur._days;
            this._months += dur._months;

            this._bubble();

            return this;
        },

        subtract : function (input, val) {
            var dur = moment.duration(input, val);

            this._milliseconds -= dur._milliseconds;
            this._days -= dur._days;
            this._months -= dur._months;

            this._bubble();

            return this;
        },

        get : function (units) {
            units = normalizeUnits(units);
            return this[units.toLowerCase() + 's']();
        },

        as : function (units) {
            var days, months;
            units = normalizeUnits(units);

            if (units === 'month' || units === 'year') {
                days = this._days + this._milliseconds / 864e5;
                months = this._months + daysToYears(days) * 12;
                return units === 'month' ? months : months / 12;
            } else {
                // handle milliseconds separately because of floating point math errors (issue #1867)
                days = this._days + Math.round(yearsToDays(this._months / 12));
                switch (units) {
                    case 'week': return days / 7 + this._milliseconds / 6048e5;
                    case 'day': return days + this._milliseconds / 864e5;
                    case 'hour': return days * 24 + this._milliseconds / 36e5;
                    case 'minute': return days * 24 * 60 + this._milliseconds / 6e4;
                    case 'second': return days * 24 * 60 * 60 + this._milliseconds / 1000;
                    // Math.floor prevents floating point math errors here
                    case 'millisecond': return Math.floor(days * 24 * 60 * 60 * 1000) + this._milliseconds;
                    default: throw new Error('Unknown unit ' + units);
                }
            }
        },

        lang : moment.fn.lang,
        locale : moment.fn.locale,

        toIsoString : deprecate(
            'toIsoString() is deprecated. Please use toISOString() instead ' +
            '(notice the capitals)',
            function () {
                return this.toISOString();
            }
        ),

        toISOString : function () {
            // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
            var years = Math.abs(this.years()),
                months = Math.abs(this.months()),
                days = Math.abs(this.days()),
                hours = Math.abs(this.hours()),
                minutes = Math.abs(this.minutes()),
                seconds = Math.abs(this.seconds() + this.milliseconds() / 1000);

            if (!this.asSeconds()) {
                // this is the same as C#'s (Noda) and python (isodate)...
                // but not other JS (goog.date)
                return 'P0D';
            }

            return (this.asSeconds() < 0 ? '-' : '') +
                'P' +
                (years ? years + 'Y' : '') +
                (months ? months + 'M' : '') +
                (days ? days + 'D' : '') +
                ((hours || minutes || seconds) ? 'T' : '') +
                (hours ? hours + 'H' : '') +
                (minutes ? minutes + 'M' : '') +
                (seconds ? seconds + 'S' : '');
        },

        localeData : function () {
            return this._locale;
        },

        toJSON : function () {
            return this.toISOString();
        }
    });

    moment.duration.fn.toString = moment.duration.fn.toISOString;

    function makeDurationGetter(name) {
        moment.duration.fn[name] = function () {
            return this._data[name];
        };
    }

    for (i in unitMillisecondFactors) {
        if (hasOwnProp(unitMillisecondFactors, i)) {
            makeDurationGetter(i.toLowerCase());
        }
    }

    moment.duration.fn.asMilliseconds = function () {
        return this.as('ms');
    };
    moment.duration.fn.asSeconds = function () {
        return this.as('s');
    };
    moment.duration.fn.asMinutes = function () {
        return this.as('m');
    };
    moment.duration.fn.asHours = function () {
        return this.as('h');
    };
    moment.duration.fn.asDays = function () {
        return this.as('d');
    };
    moment.duration.fn.asWeeks = function () {
        return this.as('weeks');
    };
    moment.duration.fn.asMonths = function () {
        return this.as('M');
    };
    moment.duration.fn.asYears = function () {
        return this.as('y');
    };

    /************************************
     Default Locale
     ************************************/


        // Set default locale, other locale will inherit from English.
    moment.locale('en', {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                    (b === 1) ? 'st' :
                        (b === 2) ? 'nd' :
                            (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    /* EMBED_LOCALES */

    /************************************
     Exposing Moment
     ************************************/

    function makeGlobal(shouldDeprecate) {
        /*global ender:false */
        if (typeof ender !== 'undefined') {
            return;
        }
        oldGlobalMoment = globalScope.moment;
        if (shouldDeprecate) {
            globalScope.moment = deprecate(
                'Accessing Moment through the global scope is ' +
                'deprecated, and will be removed in an upcoming ' +
                'release.',
                moment);
        } else {
            globalScope.moment = moment;
        }
    }

    // CommonJS module is defined
    if (hasModule) {
        module.exports = moment;
    } else if (typeof define === 'function' && define.amd) {
        define(function (require, exports, module) {
            if (module.config && module.config() && module.config().noGlobal === true) {
                // release the global variable
                globalScope.moment = oldGlobalMoment;
            }

            return moment;
        });
        makeGlobal(true);
    } else {
        makeGlobal();
    }
}).call(this);
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],61:[function(require,module,exports){
/*! pace 1.0.2 */
(function() {
    var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,
        __slice = [].slice,
        __hasProp = {}.hasOwnProperty,
        __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
        __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

    defaultOptions = {
        catchupTime: 100,
        initialRate: .03,
        minTime: 250,
        ghostTime: 100,
        maxProgressPerFrame: 20,
        easeFactor: 1.25,
        startOnPageLoad: true,
        restartOnPushState: true,
        restartOnRequestAfter: 500,
        target: 'body',
        elements: {
            checkInterval: 100,
            selectors: ['body']
        },
        eventLag: {
            minSamples: 10,
            sampleCount: 3,
            lagThreshold: 3
        },
        ajax: {
            trackMethods: ['GET', 'POST'],
            trackWebSockets: true,
            ignoreURLs: []
        }
    };

    now = function() {
        var _ref;
        return (_ref = typeof performance !== "undefined" && performance !== null ? typeof performance.now === "function" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);
    };

    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

    cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;

    if (requestAnimationFrame == null) {
        requestAnimationFrame = function(fn) {
            return setTimeout(fn, 50);
        };
        cancelAnimationFrame = function(id) {
            return clearTimeout(id);
        };
    }

    runAnimation = function(fn) {
        var last, tick;
        last = now();
        tick = function() {
            var diff;
            diff = now() - last;
            if (diff >= 33) {
                last = now();
                return fn(diff, function() {
                    return requestAnimationFrame(tick);
                });
            } else {
                return setTimeout(tick, 33 - diff);
            }
        };
        return tick();
    };

    result = function() {
        var args, key, obj;
        obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
        if (typeof obj[key] === 'function') {
            return obj[key].apply(obj, args);
        } else {
            return obj[key];
        }
    };

    extend = function() {
        var key, out, source, sources, val, _i, _len;
        out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        for (_i = 0, _len = sources.length; _i < _len; _i++) {
            source = sources[_i];
            if (source) {
                for (key in source) {
                    if (!__hasProp.call(source, key)) continue;
                    val = source[key];
                    if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {
                        extend(out[key], val);
                    } else {
                        out[key] = val;
                    }
                }
            }
        }
        return out;
    };

    avgAmplitude = function(arr) {
        var count, sum, v, _i, _len;
        sum = count = 0;
        for (_i = 0, _len = arr.length; _i < _len; _i++) {
            v = arr[_i];
            sum += Math.abs(v);
            count++;
        }
        return sum / count;
    };

    getFromDOM = function(key, json) {
        var data, e, el;
        if (key == null) {
            key = 'options';
        }
        if (json == null) {
            json = true;
        }
        el = document.querySelector("[data-pace-" + key + "]");
        if (!el) {
            return;
        }
        data = el.getAttribute("data-pace-" + key);
        if (!json) {
            return data;
        }
        try {
            return JSON.parse(data);
        } catch (_error) {
            e = _error;
            return typeof console !== "undefined" && console !== null ? console.error("Error parsing inline pace options", e) : void 0;
        }
    };

    Evented = (function() {
        function Evented() {}

        Evented.prototype.on = function(event, handler, ctx, once) {
            var _base;
            if (once == null) {
                once = false;
            }
            if (this.bindings == null) {
                this.bindings = {};
            }
            if ((_base = this.bindings)[event] == null) {
                _base[event] = [];
            }
            return this.bindings[event].push({
                handler: handler,
                ctx: ctx,
                once: once
            });
        };

        Evented.prototype.once = function(event, handler, ctx) {
            return this.on(event, handler, ctx, true);
        };

        Evented.prototype.off = function(event, handler) {
            var i, _ref, _results;
            if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {
                return;
            }
            if (handler == null) {
                return delete this.bindings[event];
            } else {
                i = 0;
                _results = [];
                while (i < this.bindings[event].length) {
                    if (this.bindings[event][i].handler === handler) {
                        _results.push(this.bindings[event].splice(i, 1));
                    } else {
                        _results.push(i++);
                    }
                }
                return _results;
            }
        };

        Evented.prototype.trigger = function() {
            var args, ctx, event, handler, i, once, _ref, _ref1, _results;
            event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if ((_ref = this.bindings) != null ? _ref[event] : void 0) {
                i = 0;
                _results = [];
                while (i < this.bindings[event].length) {
                    _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;
                    handler.apply(ctx != null ? ctx : this, args);
                    if (once) {
                        _results.push(this.bindings[event].splice(i, 1));
                    } else {
                        _results.push(i++);
                    }
                }
                return _results;
            }
        };

        return Evented;

    })();

    Pace = window.Pace || {};

    window.Pace = Pace;

    extend(Pace, Evented.prototype);

    options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());

    _ref = ['ajax', 'document', 'eventLag', 'elements'];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        source = _ref[_i];
        if (options[source] === true) {
            options[source] = defaultOptions[source];
        }
    }

    NoTargetError = (function(_super) {
        __extends(NoTargetError, _super);

        function NoTargetError() {
            _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);
            return _ref1;
        }

        return NoTargetError;

    })(Error);

    Bar = (function() {
        function Bar() {
            this.progress = 0;
        }

        Bar.prototype.getElement = function() {
            var targetElement;
            if (this.el == null) {
                targetElement = document.querySelector(options.target);
                if (!targetElement) {
                    throw new NoTargetError;
                }
                this.el = document.createElement('div');
                this.el.className = "pace pace-active";
                document.body.className = document.body.className.replace(/pace-done/g, '');
                document.body.className += ' pace-running';
                this.el.innerHTML = '<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';
                if (targetElement.firstChild != null) {
                    targetElement.insertBefore(this.el, targetElement.firstChild);
                } else {
                    targetElement.appendChild(this.el);
                }
            }
            return this.el;
        };

        Bar.prototype.finish = function() {
            var el;
            el = this.getElement();
            el.className = el.className.replace('pace-active', '');
            el.className += ' pace-inactive';
            document.body.className = document.body.className.replace('pace-running', '');
            return document.body.className += ' pace-done';
        };

        Bar.prototype.update = function(prog) {
            this.progress = prog;
            return this.render();
        };

        Bar.prototype.destroy = function() {
            try {
                this.getElement().parentNode.removeChild(this.getElement());
            } catch (_error) {
                NoTargetError = _error;
            }
            return this.el = void 0;
        };

        Bar.prototype.render = function() {
            var el, key, progressStr, transform, _j, _len1, _ref2;
            if (document.querySelector(options.target) == null) {
                return false;
            }
            el = this.getElement();
            transform = "translate3d(" + this.progress + "%, 0, 0)";
            _ref2 = ['webkitTransform', 'msTransform', 'transform'];
            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                key = _ref2[_j];
                el.children[0].style[key] = transform;
            }
            if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {
                el.children[0].setAttribute('data-progress-text', "" + (this.progress | 0) + "%");
                if (this.progress >= 100) {
                    progressStr = '99';
                } else {
                    progressStr = this.progress < 10 ? "0" : "";
                    progressStr += this.progress | 0;
                }
                el.children[0].setAttribute('data-progress', "" + progressStr);
            }
            return this.lastRenderedProgress = this.progress;
        };

        Bar.prototype.done = function() {
            return this.progress >= 100;
        };

        return Bar;

    })();

    Events = (function() {
        function Events() {
            this.bindings = {};
        }

        Events.prototype.trigger = function(name, val) {
            var binding, _j, _len1, _ref2, _results;
            if (this.bindings[name] != null) {
                _ref2 = this.bindings[name];
                _results = [];
                for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                    binding = _ref2[_j];
                    _results.push(binding.call(this, val));
                }
                return _results;
            }
        };

        Events.prototype.on = function(name, fn) {
            var _base;
            if ((_base = this.bindings)[name] == null) {
                _base[name] = [];
            }
            return this.bindings[name].push(fn);
        };

        return Events;

    })();

    _XMLHttpRequest = window.XMLHttpRequest;

    _XDomainRequest = window.XDomainRequest;

    _WebSocket = window.WebSocket;

    extendNative = function(to, from) {
        var e, key, _results;
        _results = [];
        for (key in from.prototype) {
            try {
                if ((to[key] == null) && typeof from[key] !== 'function') {
                    if (typeof Object.defineProperty === 'function') {
                        _results.push(Object.defineProperty(to, key, {
                            get: function() {
                                return from.prototype[key];
                            },
                            configurable: true,
                            enumerable: true
                        }));
                    } else {
                        _results.push(to[key] = from.prototype[key]);
                    }
                } else {
                    _results.push(void 0);
                }
            } catch (_error) {
                e = _error;
            }
        }
        return _results;
    };

    ignoreStack = [];

    Pace.ignore = function() {
        var args, fn, ret;
        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        ignoreStack.unshift('ignore');
        ret = fn.apply(null, args);
        ignoreStack.shift();
        return ret;
    };

    Pace.track = function() {
        var args, fn, ret;
        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        ignoreStack.unshift('track');
        ret = fn.apply(null, args);
        ignoreStack.shift();
        return ret;
    };

    shouldTrack = function(method) {
        var _ref2;
        if (method == null) {
            method = 'GET';
        }
        if (ignoreStack[0] === 'track') {
            return 'force';
        }
        if (!ignoreStack.length && options.ajax) {
            if (method === 'socket' && options.ajax.trackWebSockets) {
                return true;
            } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {
                return true;
            }
        }
        return false;
    };

    RequestIntercept = (function(_super) {
        __extends(RequestIntercept, _super);

        function RequestIntercept() {
            var monitorXHR,
                _this = this;
            RequestIntercept.__super__.constructor.apply(this, arguments);
            monitorXHR = function(req) {
                var _open;
                _open = req.open;
                return req.open = function(type, url, async) {
                    if (shouldTrack(type)) {
                        _this.trigger('request', {
                            type: type,
                            url: url,
                            request: req
                        });
                    }
                    return _open.apply(req, arguments);
                };
            };
            window.XMLHttpRequest = function(flags) {
                var req;
                req = new _XMLHttpRequest(flags);
                monitorXHR(req);
                return req;
            };
            try {
                extendNative(window.XMLHttpRequest, _XMLHttpRequest);
            } catch (_error) {}
            if (_XDomainRequest != null) {
                window.XDomainRequest = function() {
                    var req;
                    req = new _XDomainRequest;
                    monitorXHR(req);
                    return req;
                };
                try {
                    extendNative(window.XDomainRequest, _XDomainRequest);
                } catch (_error) {}
            }
            if ((_WebSocket != null) && options.ajax.trackWebSockets) {
                window.WebSocket = function(url, protocols) {
                    var req;
                    if (protocols != null) {
                        req = new _WebSocket(url, protocols);
                    } else {
                        req = new _WebSocket(url);
                    }
                    if (shouldTrack('socket')) {
                        _this.trigger('request', {
                            type: 'socket',
                            url: url,
                            protocols: protocols,
                            request: req
                        });
                    }
                    return req;
                };
                try {
                    extendNative(window.WebSocket, _WebSocket);
                } catch (_error) {}
            }
        }

        return RequestIntercept;

    })(Events);

    _intercept = null;

    getIntercept = function() {
        if (_intercept == null) {
            _intercept = new RequestIntercept;
        }
        return _intercept;
    };

    shouldIgnoreURL = function(url) {
        var pattern, _j, _len1, _ref2;
        _ref2 = options.ajax.ignoreURLs;
        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            pattern = _ref2[_j];
            if (typeof pattern === 'string') {
                if (url.indexOf(pattern) !== -1) {
                    return true;
                }
            } else {
                if (pattern.test(url)) {
                    return true;
                }
            }
        }
        return false;
    };

    getIntercept().on('request', function(_arg) {
        var after, args, request, type, url;
        type = _arg.type, request = _arg.request, url = _arg.url;
        if (shouldIgnoreURL(url)) {
            return;
        }
        if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {
            args = arguments;
            after = options.restartOnRequestAfter || 0;
            if (typeof after === 'boolean') {
                after = 0;
            }
            return setTimeout(function() {
                var stillActive, _j, _len1, _ref2, _ref3, _results;
                if (type === 'socket') {
                    stillActive = request.readyState < 2;
                } else {
                    stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);
                }
                if (stillActive) {
                    Pace.restart();
                    _ref3 = Pace.sources;
                    _results = [];
                    for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
                        source = _ref3[_j];
                        if (source instanceof AjaxMonitor) {
                            source.watch.apply(source, args);
                            break;
                        } else {
                            _results.push(void 0);
                        }
                    }
                    return _results;
                }
            }, after);
        }
    });

    AjaxMonitor = (function() {
        function AjaxMonitor() {
            var _this = this;
            this.elements = [];
            getIntercept().on('request', function() {
                return _this.watch.apply(_this, arguments);
            });
        }

        AjaxMonitor.prototype.watch = function(_arg) {
            var request, tracker, type, url;
            type = _arg.type, request = _arg.request, url = _arg.url;
            if (shouldIgnoreURL(url)) {
                return;
            }
            if (type === 'socket') {
                tracker = new SocketRequestTracker(request);
            } else {
                tracker = new XHRRequestTracker(request);
            }
            return this.elements.push(tracker);
        };

        return AjaxMonitor;

    })();

    XHRRequestTracker = (function() {
        function XHRRequestTracker(request) {
            var event, size, _j, _len1, _onreadystatechange, _ref2,
                _this = this;
            this.progress = 0;
            if (window.ProgressEvent != null) {
                size = null;
                request.addEventListener('progress', function(evt) {
                    if (evt.lengthComputable) {
                        return _this.progress = 100 * evt.loaded / evt.total;
                    } else {
                        return _this.progress = _this.progress + (100 - _this.progress) / 2;
                    }
                }, false);
                _ref2 = ['load', 'abort', 'timeout', 'error'];
                for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                    event = _ref2[_j];
                    request.addEventListener(event, function() {
                        return _this.progress = 100;
                    }, false);
                }
            } else {
                _onreadystatechange = request.onreadystatechange;
                request.onreadystatechange = function() {
                    var _ref3;
                    if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {
                        _this.progress = 100;
                    } else if (request.readyState === 3) {
                        _this.progress = 50;
                    }
                    return typeof _onreadystatechange === "function" ? _onreadystatechange.apply(null, arguments) : void 0;
                };
            }
        }

        return XHRRequestTracker;

    })();

    SocketRequestTracker = (function() {
        function SocketRequestTracker(request) {
            var event, _j, _len1, _ref2,
                _this = this;
            this.progress = 0;
            _ref2 = ['error', 'open'];
            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                event = _ref2[_j];
                request.addEventListener(event, function() {
                    return _this.progress = 100;
                }, false);
            }
        }

        return SocketRequestTracker;

    })();

    ElementMonitor = (function() {
        function ElementMonitor(options) {
            var selector, _j, _len1, _ref2;
            if (options == null) {
                options = {};
            }
            this.elements = [];
            if (options.selectors == null) {
                options.selectors = [];
            }
            _ref2 = options.selectors;
            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                selector = _ref2[_j];
                this.elements.push(new ElementTracker(selector));
            }
        }

        return ElementMonitor;

    })();

    ElementTracker = (function() {
        function ElementTracker(selector) {
            this.selector = selector;
            this.progress = 0;
            this.check();
        }

        ElementTracker.prototype.check = function() {
            var _this = this;
            if (document.querySelector(this.selector)) {
                return this.done();
            } else {
                return setTimeout((function() {
                    return _this.check();
                }), options.elements.checkInterval);
            }
        };

        ElementTracker.prototype.done = function() {
            return this.progress = 100;
        };

        return ElementTracker;

    })();

    DocumentMonitor = (function() {
        DocumentMonitor.prototype.states = {
            loading: 0,
            interactive: 50,
            complete: 100
        };

        function DocumentMonitor() {
            var _onreadystatechange, _ref2,
                _this = this;
            this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;
            _onreadystatechange = document.onreadystatechange;
            document.onreadystatechange = function() {
                if (_this.states[document.readyState] != null) {
                    _this.progress = _this.states[document.readyState];
                }
                return typeof _onreadystatechange === "function" ? _onreadystatechange.apply(null, arguments) : void 0;
            };
        }

        return DocumentMonitor;

    })();

    EventLagMonitor = (function() {
        function EventLagMonitor() {
            var avg, interval, last, points, samples,
                _this = this;
            this.progress = 0;
            avg = 0;
            samples = [];
            points = 0;
            last = now();
            interval = setInterval(function() {
                var diff;
                diff = now() - last - 50;
                last = now();
                samples.push(diff);
                if (samples.length > options.eventLag.sampleCount) {
                    samples.shift();
                }
                avg = avgAmplitude(samples);
                if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {
                    _this.progress = 100;
                    return clearInterval(interval);
                } else {
                    return _this.progress = 100 * (3 / (avg + 3));
                }
            }, 50);
        }

        return EventLagMonitor;

    })();

    Scaler = (function() {
        function Scaler(source) {
            this.source = source;
            this.last = this.sinceLastUpdate = 0;
            this.rate = options.initialRate;
            this.catchup = 0;
            this.progress = this.lastProgress = 0;
            if (this.source != null) {
                this.progress = result(this.source, 'progress');
            }
        }

        Scaler.prototype.tick = function(frameTime, val) {
            var scaling;
            if (val == null) {
                val = result(this.source, 'progress');
            }
            if (val >= 100) {
                this.done = true;
            }
            if (val === this.last) {
                this.sinceLastUpdate += frameTime;
            } else {
                if (this.sinceLastUpdate) {
                    this.rate = (val - this.last) / this.sinceLastUpdate;
                }
                this.catchup = (val - this.progress) / options.catchupTime;
                this.sinceLastUpdate = 0;
                this.last = val;
            }
            if (val > this.progress) {
                this.progress += this.catchup * frameTime;
            }
            scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);
            this.progress += scaling * this.rate * frameTime;
            this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);
            this.progress = Math.max(0, this.progress);
            this.progress = Math.min(100, this.progress);
            this.lastProgress = this.progress;
            return this.progress;
        };

        return Scaler;

    })();

    sources = null;

    scalers = null;

    bar = null;

    uniScaler = null;

    animation = null;

    cancelAnimation = null;

    Pace.running = false;

    handlePushState = function() {
        if (options.restartOnPushState) {
            return Pace.restart();
        }
    };

    if (window.history.pushState != null) {
        _pushState = window.history.pushState;
        window.history.pushState = function() {
            handlePushState();
            return _pushState.apply(window.history, arguments);
        };
    }

    if (window.history.replaceState != null) {
        _replaceState = window.history.replaceState;
        window.history.replaceState = function() {
            handlePushState();
            return _replaceState.apply(window.history, arguments);
        };
    }

    SOURCE_KEYS = {
        ajax: AjaxMonitor,
        elements: ElementMonitor,
        document: DocumentMonitor,
        eventLag: EventLagMonitor
    };

    (init = function() {
        var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;
        Pace.sources = sources = [];
        _ref2 = ['ajax', 'elements', 'document', 'eventLag'];
        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            type = _ref2[_j];
            if (options[type] !== false) {
                sources.push(new SOURCE_KEYS[type](options[type]));
            }
        }
        _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];
        for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {
            source = _ref4[_k];
            sources.push(new source(options));
        }
        Pace.bar = bar = new Bar;
        scalers = [];
        return uniScaler = new Scaler;
    })();

    Pace.stop = function() {
        Pace.trigger('stop');
        Pace.running = false;
        bar.destroy();
        cancelAnimation = true;
        if (animation != null) {
            if (typeof cancelAnimationFrame === "function") {
                cancelAnimationFrame(animation);
            }
            animation = null;
        }
        return init();
    };

    Pace.restart = function() {
        Pace.trigger('restart');
        Pace.stop();
        return Pace.start();
    };

    Pace.go = function() {
        var start;
        Pace.running = true;
        bar.render();
        start = now();
        cancelAnimation = false;
        return animation = runAnimation(function(frameTime, enqueueNextFrame) {
            var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;
            remaining = 100 - bar.progress;
            count = sum = 0;
            done = true;
            for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {
                source = sources[i];
                scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];
                elements = (_ref2 = source.elements) != null ? _ref2 : [source];
                for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {
                    element = elements[j];
                    scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);
                    done &= scaler.done;
                    if (scaler.done) {
                        continue;
                    }
                    count++;
                    sum += scaler.tick(frameTime);
                }
            }
            avg = sum / count;
            bar.update(uniScaler.tick(frameTime, avg));
            if (bar.done() || done || cancelAnimation) {
                bar.update(100);
                Pace.trigger('done');
                return setTimeout(function() {
                    bar.finish();
                    Pace.running = false;
                    return Pace.trigger('hide');
                }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));
            } else {
                return enqueueNextFrame();
            }
        });
    };

    Pace.start = function(_options) {
        extend(options, _options);
        Pace.running = true;
        try {
            bar.render();
        } catch (_error) {
            NoTargetError = _error;
        }
        if (!document.querySelector('.pace')) {
            return setTimeout(Pace.start, 50);
        } else {
            Pace.trigger('start');
            return Pace.go();
        }
    };

    if (typeof define === 'function' && define.amd) {
        define(['pace'], function() {
            return Pace;
        });
    } else if (typeof exports === 'object') {
        module.exports = Pace;
    } else {
        if (options.startOnPageLoad) {
            Pace.start();
        }
    }

}).call(this);
},{}],62:[function(require,module,exports){
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.4.1
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */

/* global window, document, define, jQuery, setInterval, clearInterval */

(function(factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('./jquery'));
    } else {
        factory(jQuery);
    }

}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this,
                dataSettings, responsiveSettings, breakpoint;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return '<button type="button" data-role="none">' + (i + 1) + '</button>';
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rtl: false,
                slide: '',
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                variableWidth: false,
                vertical: false,
                waitForAnimate: true
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.hidden = "hidden";
            _.paused = false;
            _.positionProp = null;
            _.respondTo = null;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = "visibilitychange";
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, dataSettings, settings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;
            responsiveSettings = _.options.responsive || null;

            if (responsiveSettings && responsiveSettings.length > -1) {
                _.respondTo = _.options.respondTo || "window";
                for (breakpoint in responsiveSettings) {
                    if (responsiveSettings.hasOwnProperty(breakpoint)) {
                        _.breakpoints.push(responsiveSettings[
                            breakpoint].breakpoint);
                        _.breakpointSettings[responsiveSettings[
                            breakpoint].breakpoint] =
                            responsiveSettings[breakpoint].settings;
                    }
                }
                _.breakpoints.sort(function(a, b) {
                    if(_.options.mobileFirst === true) {
                        return a - b;
                    } else {
                        return b - a;
                    }
                });
            }

            if (typeof document.mozHidden !== "undefined") {
                _.hidden = "mozHidden";
                _.visibilityChange = "mozvisibilitychange";
            } else if (typeof document.msHidden !== "undefined") {
                _.hidden = "msHidden";
                _.visibilityChange = "msvisibilitychange";
            } else if (typeof document.webkitHidden !== "undefined") {
                _.hidden = "webkitHidden";
                _.visibilityChange = "webkitvisibilitychange";
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;

            _.init();

            _.checkResponsive(true);

        }

        return Slick;

    }());

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr("data-slick-index",index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function(){
        var _ = this;
        if(_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({height: targetHeight},_.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {}, _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.asNavFor = function(index) {
        var _ = this, asNavFor = _.options.asNavFor !== null ? $(_.options.asNavFor).slick('getSlick') : null;
        if(asNavFor !== null) asNavFor.slideHandler(index, true);
    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

        if (_.slideCount > _.options.slidesToShow && _.paused !== true) {
            _.autoPlayTimer = setInterval(_.autoPlayIterator,
                _.options.autoplaySpeed);
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;
        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this;

        if (_.options.infinite === false) {

            if (_.direction === 1) {

                if ((_.currentSlide + 1) === _.slideCount -
                    1) {
                    _.direction = 0;
                }

                _.slideHandler(_.currentSlide + _.options.slidesToScroll);

            } else {

                if ((_.currentSlide - 1 === 0)) {

                    _.direction = 1;

                }

                _.slideHandler(_.currentSlide - _.options.slidesToScroll);

            }

        } else {

            _.slideHandler(_.currentSlide + _.options.slidesToScroll);

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow = $(_.options.prevArrow);
            _.$nextArrow = $(_.options.nextArrow);

            if (_.htmlExpr.test(_.options.prevArrow)) {
                _.$prevArrow.appendTo(_.options.appendArrows);
            }

            if (_.htmlExpr.test(_.options.nextArrow)) {
                _.$nextArrow.appendTo(_.options.appendArrows);
            }

            if (_.options.infinite !== true) {
                _.$prevArrow.addClass('slick-disabled');
            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dotString;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            dotString = '<ul class="' + _.options.dotsClass + '">';

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dotString += '<li>' + _.options.customPaging.call(this, _, i) + '</li>';
            }

            dotString += '</ul>';

            _.$dots = $(dotString).appendTo(
                _.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active').attr("aria-hidden","false");

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides = _.$slider.children(_.options.slide +
            ':not(.slick-cloned)').addClass(
            'slick-slide');
        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element).attr("data-slick-index",index);
        });

        _.$slidesCache = _.$slides;

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div aria-live="polite" class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();

        if (_.options.accessibility === true) {
            _.$list.prop('tabIndex', 0);
        }

        _.setSlideClasses(typeof this.currentSlide === 'number' ? this.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.checkResponsive = function(initial) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();
        if (_.respondTo === "window") {
          respondToWidth = windowWidth;
        } else if (_.respondTo === "slider") {
          respondToWidth = sliderWidth;
        } else if (_.respondTo === "min") {
          respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if (_.originalSettings.responsive && _.originalSettings
            .responsive.length > -1 && _.originalSettings.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if(_.breakpointSettings[targetBreakpoint] === "unslick") {
                            _.unslick();
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if(initial === true)
                                _.currentSlide = _.options.initialSlide;
                            _.refresh();
                        }
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if(_.breakpointSettings[targetBreakpoint] === "unslick") {
                        _.unslick();
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if(initial === true)
                            _.currentSlide = _.options.initialSlide;
                        _.refresh();
                    }
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if(initial === true)
                        _.currentSlide = _.options.initialSlide;
                    _.refresh();
                }
            }

        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.target),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        $target.is('a') && event.preventDefault();

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide  - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $(event.target).parent().index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this, navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if(index > navigables[navigables.length -1]){
            index = navigables[navigables.length -1];
        } else {
            for(var n in navigables) {
                if(index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if(_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function() {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        $('.slick-cloned', _.$slider).remove();
        if (_.$dots) {
            _.$dots.remove();
        }
        if (_.$prevArrow && (typeof _.options.prevArrow !== 'object')) {
            _.$prevArrow.remove();
        }
        if (_.$nextArrow && (typeof _.options.nextArrow !== 'object')) {
            _.$nextArrow.remove();
        }


        _.$slides.removeClass('slick-slide slick-active slick-center slick-visible')
            .attr("aria-hidden","true")
            .removeAttr('data-slick-index')
            .css({
                position: '',
                left: '',
                top: '',
                zIndex: '',
                opacity: '',
                width: ''
            });

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');

        _.$list.off('.slick');
        $(window).off('.slick-' + _.instanceUid);
        $(document).off('.slick-' + _.instanceUid);

        _.$slider.html(_.$slides);

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = "";

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: 1000
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: 1000
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if(_.options.infinite === true) {
            pagerQty = Math.ceil(_.slideCount / _.options.slidesToScroll);
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else {
            while (breakPoint < _.slideCount){
                ++pagerQty;
                breakPoint = counter + _.options.slidesToShow;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll  : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight();

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if(slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if(slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow){
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;

            if (_.options.centerMode === true) {
                if(_.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this, breakPoint = 0, counter = 0, indexes = [], max;

        if(_.options.infinite === false) {
            max = _.slideCount - _.options.slidesToShow + 1;
            if (_.options.centerMode === true) max = _.slideCount;
        } else {
            breakPoint = _.slideCount * -1;
            counter = _.slideCount * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max){
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll  : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this, slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if(_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide){
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function() {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
        }

        //_.$slider.trigger("init", [ _ ]);

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.on('click.slick', {
                message: 'previous'
            }, _.changeSlide);
            _.$nextArrow.on('click.slick', {
                message: 'next'
            }, _.changeSlide);
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);
        }

        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.options.autoplay === true) {
            $('li', _.$dots)
                .on('mouseenter.slick', function(){
                    _.paused = true;
                    _.autoPlayClear();
                })
                .on('mouseleave.slick', function(){
                    _.paused = false;
                    _.autoPlay();
                });
        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        if (_.options.autoplay === true) {

            $(document).on(_.visibilityChange, function(){
                _.visibility();
            });

            if( _.options.pauseOnHover === true ) {

                _.$list.on('mouseenter.slick', function(){
                    _.paused = true;
                    _.autoPlayClear();
                });
                _.$list.on('mouseleave.slick', function(){
                    _.paused = false;
                    _.autoPlay();
                });

            }

        }

        if(_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if(_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, function() {
            _.checkResponsive();
            _.setPosition();
        });

        $(window).on('resize.slick.slick-' + _.instanceUid, function() {
            if ($(window).width() !== _.windowWidth) {
                clearTimeout(_.windowDelay);
                _.windowDelay = window.setTimeout(function() {
                    _.windowWidth = $(window).width();
                    _.checkResponsive();
                    _.setPosition();
                }, 50);
            }
        });

        $('*[draggable!=true]', _.$slideTrack).on('dragstart', function(e){ e.preventDefault(); });

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

        if (_.options.autoplay === true) {

            _.autoPlay();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;

        if (event.keyCode === 37 && _.options.accessibility === true) {
            _.changeSlide({
                data: {
                    message: 'previous'
                }
            });
        } else if (event.keyCode === 39 && _.options.accessibility === true) {
            _.changeSlide({
                data: {
                    message: 'next'
                }
            });
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {
            $('img[data-lazy]', imagesScope).each(function() {
                var image = $(this),
                    imageSource = $(this).attr('data-lazy');

                image
                  .load(function() { image.animate({ opacity: 1 }, 200); })
                  .css({ opacity: 0 })
                  .attr('src', imageSource)
                  .removeAttr('data-lazy')
                  .removeClass('slick-loading');
            });
        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow/2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow/2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow/2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = rangeStart + _.options.slidesToShow;
            if (_.options.fade === true ) {
                if(rangeStart > 0) rangeStart--;
                if(rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        loadImages(loadRange);

          if (_.slideCount <= _.options.slidesToShow){
              cloneRange = _.$slider.find('.slick-slide');
              loadImages(cloneRange);
          }else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.paused = false;
        _.autoPlay();

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        _.$slider.trigger("afterChange", [ _, index]);

        _.animating = false;

        _.setPosition();

        _.swipeLeft = null;

        if (_.options.autoplay === true && _.paused === false) {
            _.autoPlay();
        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.progressiveLazyLoad = function() {

        var _ = this,
            imgCount, targetImage;

        imgCount = $('img[data-lazy]', _.$slider).length;

        if (imgCount > 0) {
            targetImage = $('img[data-lazy]', _.$slider).first();
            targetImage.attr('src', targetImage.attr('data-lazy')).removeClass('slick-loading').load(function() {
                targetImage.removeAttr('data-lazy');
                _.progressiveLazyLoad();

                if( _.options.adaptiveHeight === true ) {
                    _.setPosition();
                }
            })
         .error(function () {
          targetImage.removeAttr('data-lazy');
          _.progressiveLazyLoad();
         });
        }

    };

    Slick.prototype.refresh = function() {

        var _ = this,
            currentSlide = _.currentSlide;

        _.destroy();

        $.extend(_, _.initials);

        _.init();

        _.changeSlide({
            data: {
                message: 'index',
                index: currentSlide
            }
        }, true);

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides = _.$slideTrack.children(_.options.slide).addClass(
            'slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.setProps();

        _.setupInfinite();

        _.buildArrows();

        _.updateArrows();

        _.initArrowEvents();

        _.buildDots();

        _.updateDots();

        _.initDotEvents();

        if(_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(0);

        _.setPosition();

        _.$slider.trigger("reInit", [ _ ]);

    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if(removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {}, x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if(_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            var trackWidth = 0;
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.children('.slick-slide').each(function(){
                trackWidth += _.listWidth;
            });
            _.$slideTrack.width(Math.ceil(trackWidth) + 1);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: 800,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: 800,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: 900,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if(_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption = Slick.prototype.slickSetOption = function(option, value, refresh) {

        var _ = this;
        _.options[option] = value;

        if (refresh === true) {
            _.unload();
            _.reinit();
        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger("setPosition", [ _ ]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if(_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = "-o-transform";
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = "-moz-transform";
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = "-webkit-transform";
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = "-ms-transform";
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = "transform";
            _.transitionType = 'transition';
        }
        _.transformsEnabled = (_.animType !== null && _.animType !== false);

    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        _.$slider.find('.slick-slide').removeClass('slick-active').attr("aria-hidden","true").removeClass('slick-center');
        allSlides = _.$slider.find('.slick-slide');

        if (_.options.centerMode === true) {

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if(_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {
                    _.$slides.slice(index - centerOffset, index + centerOffset + 1).addClass('slick-active').attr("aria-hidden","false");
                } else {
                    indexOffset = _.options.slidesToShow + index;
                    allSlides.slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2).addClass('slick-active').attr("aria-hidden","false");
                }

                if (index === 0) {
                    allSlides.eq(allSlides.length - 1 - _.options.slidesToShow).addClass('slick-center');
                } else if (index === _.slideCount - 1) {
                    allSlides.eq(_.options.slidesToShow).addClass('slick-center');
                }

            }

            _.$slides.eq(index).addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {
                _.$slides.slice(index, index + _.options.slidesToShow).addClass('slick-active').attr("aria-hidden","false");
            } else if ( allSlides.length <= _.options.slidesToShow ) {
                allSlides.addClass('slick-active').attr("aria-hidden","false");
            } else {
                remainder = _.slideCount%_.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;
                if(_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {
                    allSlides.slice(indexOffset-(_.options.slidesToShow-remainder), indexOffset + remainder).addClass('slick-active').attr("aria-hidden","false");
                } else {
                    allSlides.slice(indexOffset, indexOffset + _.options.slidesToShow).addClass('slick-active').attr("aria-hidden","false");
                }
            }

        }

        if (_.options.lazyLoad === 'ondemand') {
            _.lazyLoad();
        }

    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                    infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex-_.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex+_.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;
        var index = parseInt($(event.target).parents('.slick-slide').attr("data-slick-index"));
        if(!index) index = 0;

        if(_.slideCount <= _.options.slidesToShow){
            _.$slider.find('.slick-slide').removeClass('slick-active').attr("aria-hidden","true");
            _.$slides.eq(index).addClass('slick-active').attr("aria-hidden","false");
            if(_.options.centerMode === true) {
                _.$slider.find('.slick-slide').removeClass('slick-center');
                _.$slides.eq(index).addClass('slick-center');
            }
            _.asNavFor(index);
            return;
        }
        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index,sync,dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if(_.options.fade === false) {
                targetSlide = _.currentSlide;
                if(dontAnimate!==true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if(_.options.fade === false) {
                targetSlide = _.currentSlide;
                if(dontAnimate!==true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if (_.options.autoplay === true) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger("beforeChange", [ _ , _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if(dontAnimate!==true) {
                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });
            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if(dontAnimate!==true) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this, slideCount;

        _.dragging = false;

        _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true;

        if (_.touchObject.curX === undefined) {
            return false;
        }

        if (_.touchObject.edgeHit === true) {
            _.$slider.trigger("edge", [  _, _.swipeDirection()]);
        }

        if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {

            switch (_.swipeDirection()) {
                case 'left':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount();
                    _.slideHandler(slideCount);
                    _.currentDirection = 0;
                    _.touchObject = {};
                    _.$slider.trigger("swipe", [ _, "left"]);
                    break;

                case 'right':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount();
                    _.slideHandler(slideCount);
                    _.currentDirection = 1;
                    _.touchObject = {};
                    _.$slider.trigger("swipe", [ _, "right"]);
                    break;
            }
        } else {
            if(_.touchObject.startX !== _.touchObject.curX) {
                _.slideHandler(_.currentSlide);
                _.touchObject = {};
            }
        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
           return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
           return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        swipeDirection = _.swipeDirection();

        if (swipeDirection === 'vertical') {
            return;
        }

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);

        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === "right") || (_.currentSlide >= _.getDotCount() && swipeDirection === "left")) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();
        if (_.$dots) {
            _.$dots.remove();
        }
        if (_.$prevArrow && (typeof _.options.prevArrow !== 'object')) {
            _.$prevArrow.remove();
        }
        if (_.$nextArrow && (typeof _.options.nextArrow !== 'object')) {
            _.$nextArrow.remove();
        }
        _.$slides.removeClass('slick-slide slick-active slick-visible').attr("aria-hidden","true").css('width', '');

    };

    Slick.prototype.unslick = function() {

        var _ = this;
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this, centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if (_.options.arrows === true && _.options.infinite !==
            true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.removeClass('slick-disabled');
            _.$nextArrow.removeClass('slick-disabled');
            if (_.currentSlide === 0) {
                _.$prevArrow.addClass('slick-disabled');
                _.$nextArrow.removeClass('slick-disabled');
            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {
                _.$nextArrow.addClass('slick-disabled');
                _.$prevArrow.removeClass('slick-disabled');
            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {
                _.$nextArrow.addClass('slick-disabled');
                _.$prevArrow.removeClass('slick-disabled');
            }
        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots.find('li').removeClass('slick-active').attr("aria-hidden","true");
            _.$dots.find('li').eq(Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass('slick-active').attr("aria-hidden","false");

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if( document[ _.hidden ] ) {
            _.paused = true;
            _.autoPlayClear();
        } else {
            _.paused = false;
            _.autoPlay();
        }

    };

    $.fn.slick = function() {
        var _ = this, opt = arguments[0], args = Array.prototype.slice.call(arguments,1), l = _.length, i = 0, ret;
        for(i; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick =  new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
                if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

    $(function(){
        $('[data-slick]').slick();
    });

}));

},{"./jquery":57}],63:[function(require,module,exports){
//    underi18n v1.0.0

//    (c) 2012 Yiorgis Gozadinos
//    underi18n is distributed under the MIT license.
//    http://github.com/ggozad/underi18n

(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], function () {
            return (root.underi18n = factory());
        });
    } else {
        // Browser globals
        root.underi18n = factory();
    }

}(this, function () {

    var underi18n = {

        MessageFactory: (function () {
            var MessageFactory = function (catalog) {
                this.translate = function (msgid, keywords) {
                    var msgstr  = catalog[msgid] ? catalog[msgid] : msgid;
                    if (keywords) {
                        for (var key in keywords) {
                            msgstr = msgstr.replace('${'+key+'}', keywords[key]);
                        }
                    }
                    return msgstr;
                };
            };
            return function (catalog) {
                return new MessageFactory(catalog).translate;
            };
        })(),

        template: function (str, factory) {
            var s = this.templateSettings;
            return str.replace(s.translate, function (match, code) {
                return factory(
                    code
                        .replace(/^\s+|\s+$/g, '')
                );
            }).replace(/\$\{(.*?)\}/g, function (m, c) {
                return s.i18nVarLeftDel + c + s.i18nVarRightDel;
            });
        },

        templateSettings: {
            translate: /<%_([\s\S]+?)%>/g,
            i18nVarLeftDel: '<%=',
            i18nVarRightDel: '%>'
        }
    };

    return underi18n;
}));


},{}],64:[function(require,module,exports){
//     Underscore.js 1.7.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

    // Baseline setup
    // --------------

    // Establish the root object, `window` in the browser, or `exports` on the server.
    var root = this;

    // Save the previous value of the `_` variable.
    var previousUnderscore = root._;

    // Save bytes in the minified (but not gzipped) version:
    var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

    // Create quick reference variables for speed access to core prototypes.
    var
        push             = ArrayProto.push,
        slice            = ArrayProto.slice,
        concat           = ArrayProto.concat,
        toString         = ObjProto.toString,
        hasOwnProperty   = ObjProto.hasOwnProperty;

    // All **ECMAScript 5** native function implementations that we hope to use
    // are declared here.
    var
        nativeIsArray      = Array.isArray,
        nativeKeys         = Object.keys,
        nativeBind         = FuncProto.bind;

    // Create a safe reference to the Underscore object for use below.
    var _ = function(obj) {
        if (obj instanceof _) return obj;
        if (!(this instanceof _)) return new _(obj);
        this._wrapped = obj;
    };

    // Export the Underscore object for **Node.js**, with
    // backwards-compatibility for the old `require()` API. If we're in
    // the browser, add `_` as a global object.
    if (typeof exports !== 'undefined') {
        if (typeof module !== 'undefined' && module.exports) {
            exports = module.exports = _;
        }
        exports._ = _;
    } else {
        root._ = _;
    }

    // Current version.
    _.VERSION = '1.7.0';

    // Internal function that returns an efficient (for current engines) version
    // of the passed-in callback, to be repeatedly applied in other Underscore
    // functions.
    var createCallback = function(func, context, argCount) {
        if (context === void 0) return func;
        switch (argCount == null ? 3 : argCount) {
            case 1: return function(value) {
                return func.call(context, value);
            };
            case 2: return function(value, other) {
                return func.call(context, value, other);
            };
            case 3: return function(value, index, collection) {
                return func.call(context, value, index, collection);
            };
            case 4: return function(accumulator, value, index, collection) {
                return func.call(context, accumulator, value, index, collection);
            };
        }
        return function() {
            return func.apply(context, arguments);
        };
    };

    // A mostly-internal function to generate callbacks that can be applied
    // to each element in a collection, returning the desired result  either
    // identity, an arbitrary callback, a property matcher, or a property accessor.
    _.iteratee = function(value, context, argCount) {
        if (value == null) return _.identity;
        if (_.isFunction(value)) return createCallback(value, context, argCount);
        if (_.isObject(value)) return _.matches(value);
        return _.property(value);
    };

    // Collection Functions
    // --------------------

    // The cornerstone, an `each` implementation, aka `forEach`.
    // Handles raw objects in addition to array-likes. Treats all
    // sparse array-likes as if they were dense.
    _.each = _.forEach = function(obj, iteratee, context) {
        if (obj == null) return obj;
        iteratee = createCallback(iteratee, context);
        var i, length = obj.length;
        if (length === +length) {
            for (i = 0; i < length; i++) {
                iteratee(obj[i], i, obj);
            }
        } else {
            var keys = _.keys(obj);
            for (i = 0, length = keys.length; i < length; i++) {
                iteratee(obj[keys[i]], keys[i], obj);
            }
        }
        return obj;
    };

    // Return the results of applying the iteratee to each element.
    _.map = _.collect = function(obj, iteratee, context) {
        if (obj == null) return [];
        iteratee = _.iteratee(iteratee, context);
        var keys = obj.length !== +obj.length && _.keys(obj),
            length = (keys || obj).length,
            results = Array(length),
            currentKey;
        for (var index = 0; index < length; index++) {
            currentKey = keys ? keys[index] : index;
            results[index] = iteratee(obj[currentKey], currentKey, obj);
        }
        return results;
    };

    var reduceError = 'Reduce of empty array with no initial value';

    // **Reduce** builds up a single result from a list of values, aka `inject`,
    // or `foldl`.
    _.reduce = _.foldl = _.inject = function(obj, iteratee, memo, context) {
        if (obj == null) obj = [];
        iteratee = createCallback(iteratee, context, 4);
        var keys = obj.length !== +obj.length && _.keys(obj),
            length = (keys || obj).length,
            index = 0, currentKey;
        if (arguments.length < 3) {
            if (!length) throw new TypeError(reduceError);
            memo = obj[keys ? keys[index++] : index++];
        }
        for (; index < length; index++) {
            currentKey = keys ? keys[index] : index;
            memo = iteratee(memo, obj[currentKey], currentKey, obj);
        }
        return memo;
    };

    // The right-associative version of reduce, also known as `foldr`.
    _.reduceRight = _.foldr = function(obj, iteratee, memo, context) {
        if (obj == null) obj = [];
        iteratee = createCallback(iteratee, context, 4);
        var keys = obj.length !== + obj.length && _.keys(obj),
            index = (keys || obj).length,
            currentKey;
        if (arguments.length < 3) {
            if (!index) throw new TypeError(reduceError);
            memo = obj[keys ? keys[--index] : --index];
        }
        while (index--) {
            currentKey = keys ? keys[index] : index;
            memo = iteratee(memo, obj[currentKey], currentKey, obj);
        }
        return memo;
    };

    // Return the first value which passes a truth test. Aliased as `detect`.
    _.find = _.detect = function(obj, predicate, context) {
        var result;
        predicate = _.iteratee(predicate, context);
        _.some(obj, function(value, index, list) {
            if (predicate(value, index, list)) {
                result = value;
                return true;
            }
        });
        return result;
    };

    // Return all the elements that pass a truth test.
    // Aliased as `select`.
    _.filter = _.select = function(obj, predicate, context) {
        var results = [];
        if (obj == null) return results;
        predicate = _.iteratee(predicate, context);
        _.each(obj, function(value, index, list) {
            if (predicate(value, index, list)) results.push(value);
        });
        return results;
    };

    // Return all the elements for which a truth test fails.
    _.reject = function(obj, predicate, context) {
        return _.filter(obj, _.negate(_.iteratee(predicate)), context);
    };

    // Determine whether all of the elements match a truth test.
    // Aliased as `all`.
    _.every = _.all = function(obj, predicate, context) {
        if (obj == null) return true;
        predicate = _.iteratee(predicate, context);
        var keys = obj.length !== +obj.length && _.keys(obj),
            length = (keys || obj).length,
            index, currentKey;
        for (index = 0; index < length; index++) {
            currentKey = keys ? keys[index] : index;
            if (!predicate(obj[currentKey], currentKey, obj)) return false;
        }
        return true;
    };

    // Determine if at least one element in the object matches a truth test.
    // Aliased as `any`.
    _.some = _.any = function(obj, predicate, context) {
        if (obj == null) return false;
        predicate = _.iteratee(predicate, context);
        var keys = obj.length !== +obj.length && _.keys(obj),
            length = (keys || obj).length,
            index, currentKey;
        for (index = 0; index < length; index++) {
            currentKey = keys ? keys[index] : index;
            if (predicate(obj[currentKey], currentKey, obj)) return true;
        }
        return false;
    };

    // Determine if the array or object contains a given value (using `===`).
    // Aliased as `include`.
    _.contains = _.include = function(obj, target) {
        if (obj == null) return false;
        if (obj.length !== +obj.length) obj = _.values(obj);
        return _.indexOf(obj, target) >= 0;
    };

    // Invoke a method (with arguments) on every item in a collection.
    _.invoke = function(obj, method) {
        var args = slice.call(arguments, 2);
        var isFunc = _.isFunction(method);
        return _.map(obj, function(value) {
            return (isFunc ? method : value[method]).apply(value, args);
        });
    };

    // Convenience version of a common use case of `map`: fetching a property.
    _.pluck = function(obj, key) {
        return _.map(obj, _.property(key));
    };

    // Convenience version of a common use case of `filter`: selecting only objects
    // containing specific `key:value` pairs.
    _.where = function(obj, attrs) {
        return _.filter(obj, _.matches(attrs));
    };

    // Convenience version of a common use case of `find`: getting the first object
    // containing specific `key:value` pairs.
    _.findWhere = function(obj, attrs) {
        return _.find(obj, _.matches(attrs));
    };

    // Return the maximum element (or element-based computation).
    _.max = function(obj, iteratee, context) {
        var result = -Infinity, lastComputed = -Infinity,
            value, computed;
        if (iteratee == null && obj != null) {
            obj = obj.length === +obj.length ? obj : _.values(obj);
            for (var i = 0, length = obj.length; i < length; i++) {
                value = obj[i];
                if (value > result) {
                    result = value;
                }
            }
        } else {
            iteratee = _.iteratee(iteratee, context);
            _.each(obj, function(value, index, list) {
                computed = iteratee(value, index, list);
                if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
                    result = value;
                    lastComputed = computed;
                }
            });
        }
        return result;
    };

    // Return the minimum element (or element-based computation).
    _.min = function(obj, iteratee, context) {
        var result = Infinity, lastComputed = Infinity,
            value, computed;
        if (iteratee == null && obj != null) {
            obj = obj.length === +obj.length ? obj : _.values(obj);
            for (var i = 0, length = obj.length; i < length; i++) {
                value = obj[i];
                if (value < result) {
                    result = value;
                }
            }
        } else {
            iteratee = _.iteratee(iteratee, context);
            _.each(obj, function(value, index, list) {
                computed = iteratee(value, index, list);
                if (computed < lastComputed || computed === Infinity && result === Infinity) {
                    result = value;
                    lastComputed = computed;
                }
            });
        }
        return result;
    };

    // Shuffle a collection, using the modern version of the
    // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).
    _.shuffle = function(obj) {
        var set = obj && obj.length === +obj.length ? obj : _.values(obj);
        var length = set.length;
        var shuffled = Array(length);
        for (var index = 0, rand; index < length; index++) {
            rand = _.random(0, index);
            if (rand !== index) shuffled[index] = shuffled[rand];
            shuffled[rand] = set[index];
        }
        return shuffled;
    };

    // Sample **n** random values from a collection.
    // If **n** is not specified, returns a single random element.
    // The internal `guard` argument allows it to work with `map`.
    _.sample = function(obj, n, guard) {
        if (n == null || guard) {
            if (obj.length !== +obj.length) obj = _.values(obj);
            return obj[_.random(obj.length - 1)];
        }
        return _.shuffle(obj).slice(0, Math.max(0, n));
    };

    // Sort the object's values by a criterion produced by an iteratee.
    _.sortBy = function(obj, iteratee, context) {
        iteratee = _.iteratee(iteratee, context);
        return _.pluck(_.map(obj, function(value, index, list) {
            return {
                value: value,
                index: index,
                criteria: iteratee(value, index, list)
            };
        }).sort(function(left, right) {
            var a = left.criteria;
            var b = right.criteria;
            if (a !== b) {
                if (a > b || a === void 0) return 1;
                if (a < b || b === void 0) return -1;
            }
            return left.index - right.index;
        }), 'value');
    };

    // An internal function used for aggregate "group by" operations.
    var group = function(behavior) {
        return function(obj, iteratee, context) {
            var result = {};
            iteratee = _.iteratee(iteratee, context);
            _.each(obj, function(value, index) {
                var key = iteratee(value, index, obj);
                behavior(result, value, key);
            });
            return result;
        };
    };

    // Groups the object's values by a criterion. Pass either a string attribute
    // to group by, or a function that returns the criterion.
    _.groupBy = group(function(result, value, key) {
        if (_.has(result, key)) result[key].push(value); else result[key] = [value];
    });

    // Indexes the object's values by a criterion, similar to `groupBy`, but for
    // when you know that your index values will be unique.
    _.indexBy = group(function(result, value, key) {
        result[key] = value;
    });

    // Counts instances of an object that group by a certain criterion. Pass
    // either a string attribute to count by, or a function that returns the
    // criterion.
    _.countBy = group(function(result, value, key) {
        if (_.has(result, key)) result[key]++; else result[key] = 1;
    });

    // Use a comparator function to figure out the smallest index at which
    // an object should be inserted so as to maintain order. Uses binary search.
    _.sortedIndex = function(array, obj, iteratee, context) {
        iteratee = _.iteratee(iteratee, context, 1);
        var value = iteratee(obj);
        var low = 0, high = array.length;
        while (low < high) {
            var mid = low + high >>> 1;
            if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
        }
        return low;
    };

    // Safely create a real, live array from anything iterable.
    _.toArray = function(obj) {
        if (!obj) return [];
        if (_.isArray(obj)) return slice.call(obj);
        if (obj.length === +obj.length) return _.map(obj, _.identity);
        return _.values(obj);
    };

    // Return the number of elements in an object.
    _.size = function(obj) {
        if (obj == null) return 0;
        return obj.length === +obj.length ? obj.length : _.keys(obj).length;
    };

    // Split a collection into two arrays: one whose elements all satisfy the given
    // predicate, and one whose elements all do not satisfy the predicate.
    _.partition = function(obj, predicate, context) {
        predicate = _.iteratee(predicate, context);
        var pass = [], fail = [];
        _.each(obj, function(value, key, obj) {
            (predicate(value, key, obj) ? pass : fail).push(value);
        });
        return [pass, fail];
    };

    // Array Functions
    // ---------------

    // Get the first element of an array. Passing **n** will return the first N
    // values in the array. Aliased as `head` and `take`. The **guard** check
    // allows it to work with `_.map`.
    _.first = _.head = _.take = function(array, n, guard) {
        if (array == null) return void 0;
        if (n == null || guard) return array[0];
        if (n < 0) return [];
        return slice.call(array, 0, n);
    };

    // Returns everything but the last entry of the array. Especially useful on
    // the arguments object. Passing **n** will return all the values in
    // the array, excluding the last N. The **guard** check allows it to work with
    // `_.map`.
    _.initial = function(array, n, guard) {
        return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
    };

    // Get the last element of an array. Passing **n** will return the last N
    // values in the array. The **guard** check allows it to work with `_.map`.
    _.last = function(array, n, guard) {
        if (array == null) return void 0;
        if (n == null || guard) return array[array.length - 1];
        return slice.call(array, Math.max(array.length - n, 0));
    };

    // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
    // Especially useful on the arguments object. Passing an **n** will return
    // the rest N values in the array. The **guard**
    // check allows it to work with `_.map`.
    _.rest = _.tail = _.drop = function(array, n, guard) {
        return slice.call(array, n == null || guard ? 1 : n);
    };

    // Trim out all falsy values from an array.
    _.compact = function(array) {
        return _.filter(array, _.identity);
    };

    // Internal implementation of a recursive `flatten` function.
    var flatten = function(input, shallow, strict, output) {
        if (shallow && _.every(input, _.isArray)) {
            return concat.apply(output, input);
        }
        for (var i = 0, length = input.length; i < length; i++) {
            var value = input[i];
            if (!_.isArray(value) && !_.isArguments(value)) {
                if (!strict) output.push(value);
            } else if (shallow) {
                push.apply(output, value);
            } else {
                flatten(value, shallow, strict, output);
            }
        }
        return output;
    };

    // Flatten out an array, either recursively (by default), or just one level.
    _.flatten = function(array, shallow) {
        return flatten(array, shallow, false, []);
    };

    // Return a version of the array that does not contain the specified value(s).
    _.without = function(array) {
        return _.difference(array, slice.call(arguments, 1));
    };

    // Produce a duplicate-free version of the array. If the array has already
    // been sorted, you have the option of using a faster algorithm.
    // Aliased as `unique`.
    _.uniq = _.unique = function(array, isSorted, iteratee, context) {
        if (array == null) return [];
        if (!_.isBoolean(isSorted)) {
            context = iteratee;
            iteratee = isSorted;
            isSorted = false;
        }
        if (iteratee != null) iteratee = _.iteratee(iteratee, context);
        var result = [];
        var seen = [];
        for (var i = 0, length = array.length; i < length; i++) {
            var value = array[i];
            if (isSorted) {
                if (!i || seen !== value) result.push(value);
                seen = value;
            } else if (iteratee) {
                var computed = iteratee(value, i, array);
                if (_.indexOf(seen, computed) < 0) {
                    seen.push(computed);
                    result.push(value);
                }
            } else if (_.indexOf(result, value) < 0) {
                result.push(value);
            }
        }
        return result;
    };

    // Produce an array that contains the union: each distinct element from all of
    // the passed-in arrays.
    _.union = function() {
        return _.uniq(flatten(arguments, true, true, []));
    };

    // Produce an array that contains every item shared between all the
    // passed-in arrays.
    _.intersection = function(array) {
        if (array == null) return [];
        var result = [];
        var argsLength = arguments.length;
        for (var i = 0, length = array.length; i < length; i++) {
            var item = array[i];
            if (_.contains(result, item)) continue;
            for (var j = 1; j < argsLength; j++) {
                if (!_.contains(arguments[j], item)) break;
            }
            if (j === argsLength) result.push(item);
        }
        return result;
    };

    // Take the difference between one array and a number of other arrays.
    // Only the elements present in just the first array will remain.
    _.difference = function(array) {
        var rest = flatten(slice.call(arguments, 1), true, true, []);
        return _.filter(array, function(value){
            return !_.contains(rest, value);
        });
    };

    // Zip together multiple lists into a single array -- elements that share
    // an index go together.
    _.zip = function(array) {
        if (array == null) return [];
        var length = _.max(arguments, 'length').length;
        var results = Array(length);
        for (var i = 0; i < length; i++) {
            results[i] = _.pluck(arguments, i);
        }
        return results;
    };

    // Converts lists into objects. Pass either a single array of `[key, value]`
    // pairs, or two parallel arrays of the same length -- one of keys, and one of
    // the corresponding values.
    _.object = function(list, values) {
        if (list == null) return {};
        var result = {};
        for (var i = 0, length = list.length; i < length; i++) {
            if (values) {
                result[list[i]] = values[i];
            } else {
                result[list[i][0]] = list[i][1];
            }
        }
        return result;
    };

    // Return the position of the first occurrence of an item in an array,
    // or -1 if the item is not included in the array.
    // If the array is large and already in sort order, pass `true`
    // for **isSorted** to use binary search.
    _.indexOf = function(array, item, isSorted) {
        if (array == null) return -1;
        var i = 0, length = array.length;
        if (isSorted) {
            if (typeof isSorted == 'number') {
                i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;
            } else {
                i = _.sortedIndex(array, item);
                return array[i] === item ? i : -1;
            }
        }
        for (; i < length; i++) if (array[i] === item) return i;
        return -1;
    };

    _.lastIndexOf = function(array, item, from) {
        if (array == null) return -1;
        var idx = array.length;
        if (typeof from == 'number') {
            idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);
        }
        while (--idx >= 0) if (array[idx] === item) return idx;
        return -1;
    };

    // Generate an integer Array containing an arithmetic progression. A port of
    // the native Python `range()` function. See
    // [the Python documentation](http://docs.python.org/library/functions.html#range).
    _.range = function(start, stop, step) {
        if (arguments.length <= 1) {
            stop = start || 0;
            start = 0;
        }
        step = step || 1;

        var length = Math.max(Math.ceil((stop - start) / step), 0);
        var range = Array(length);

        for (var idx = 0; idx < length; idx++, start += step) {
            range[idx] = start;
        }

        return range;
    };

    // Function (ahem) Functions
    // ------------------

    // Reusable constructor function for prototype setting.
    var Ctor = function(){};

    // Create a function bound to a given object (assigning `this`, and arguments,
    // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
    // available.
    _.bind = function(func, context) {
        var args, bound;
        if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
        if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
        args = slice.call(arguments, 2);
        bound = function() {
            if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));
            Ctor.prototype = func.prototype;
            var self = new Ctor;
            Ctor.prototype = null;
            var result = func.apply(self, args.concat(slice.call(arguments)));
            if (_.isObject(result)) return result;
            return self;
        };
        return bound;
    };

    // Partially apply a function by creating a version that has had some of its
    // arguments pre-filled, without changing its dynamic `this` context. _ acts
    // as a placeholder, allowing any combination of arguments to be pre-filled.
    _.partial = function(func) {
        var boundArgs = slice.call(arguments, 1);
        return function() {
            var position = 0;
            var args = boundArgs.slice();
            for (var i = 0, length = args.length; i < length; i++) {
                if (args[i] === _) args[i] = arguments[position++];
            }
            while (position < arguments.length) args.push(arguments[position++]);
            return func.apply(this, args);
        };
    };

    // Bind a number of an object's methods to that object. Remaining arguments
    // are the method names to be bound. Useful for ensuring that all callbacks
    // defined on an object belong to it.
    _.bindAll = function(obj) {
        var i, length = arguments.length, key;
        if (length <= 1) throw new Error('bindAll must be passed function names');
        for (i = 1; i < length; i++) {
            key = arguments[i];
            obj[key] = _.bind(obj[key], obj);
        }
        return obj;
    };

    // Memoize an expensive function by storing its results.
    _.memoize = function(func, hasher) {
        var memoize = function(key) {
            var cache = memoize.cache;
            var address = hasher ? hasher.apply(this, arguments) : key;
            if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
            return cache[address];
        };
        memoize.cache = {};
        return memoize;
    };

    // Delays a function for the given number of milliseconds, and then calls
    // it with the arguments supplied.
    _.delay = function(func, wait) {
        var args = slice.call(arguments, 2);
        return setTimeout(function(){
            return func.apply(null, args);
        }, wait);
    };

    // Defers a function, scheduling it to run after the current call stack has
    // cleared.
    _.defer = function(func) {
        return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));
    };

    // Returns a function, that, when invoked, will only be triggered at most once
    // during a given window of time. Normally, the throttled function will run
    // as much as it can, without ever going more than once per `wait` duration;
    // but if you'd like to disable the execution on the leading edge, pass
    // `{leading: false}`. To disable execution on the trailing edge, ditto.
    _.throttle = function(func, wait, options) {
        var context, args, result;
        var timeout = null;
        var previous = 0;
        if (!options) options = {};
        var later = function() {
            previous = options.leading === false ? 0 : _.now();
            timeout = null;
            result = func.apply(context, args);
            if (!timeout) context = args = null;
        };
        return function() {
            var now = _.now();
            if (!previous && options.leading === false) previous = now;
            var remaining = wait - (now - previous);
            context = this;
            args = arguments;
            if (remaining <= 0 || remaining > wait) {
                clearTimeout(timeout);
                timeout = null;
                previous = now;
                result = func.apply(context, args);
                if (!timeout) context = args = null;
            } else if (!timeout && options.trailing !== false) {
                timeout = setTimeout(later, remaining);
            }
            return result;
        };
    };

    // Returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.
    _.debounce = function(func, wait, immediate) {
        var timeout, args, context, timestamp, result;

        var later = function() {
            var last = _.now() - timestamp;

            if (last < wait && last > 0) {
                timeout = setTimeout(later, wait - last);
            } else {
                timeout = null;
                if (!immediate) {
                    result = func.apply(context, args);
                    if (!timeout) context = args = null;
                }
            }
        };

        return function() {
            context = this;
            args = arguments;
            timestamp = _.now();
            var callNow = immediate && !timeout;
            if (!timeout) timeout = setTimeout(later, wait);
            if (callNow) {
                result = func.apply(context, args);
                context = args = null;
            }

            return result;
        };
    };

    // Returns the first function passed as an argument to the second,
    // allowing you to adjust arguments, run code before and after, and
    // conditionally execute the original function.
    _.wrap = function(func, wrapper) {
        return _.partial(wrapper, func);
    };

    // Returns a negated version of the passed-in predicate.
    _.negate = function(predicate) {
        return function() {
            return !predicate.apply(this, arguments);
        };
    };

    // Returns a function that is the composition of a list of functions, each
    // consuming the return value of the function that follows.
    _.compose = function() {
        var args = arguments;
        var start = args.length - 1;
        return function() {
            var i = start;
            var result = args[start].apply(this, arguments);
            while (i--) result = args[i].call(this, result);
            return result;
        };
    };

    // Returns a function that will only be executed after being called N times.
    _.after = function(times, func) {
        return function() {
            if (--times < 1) {
                return func.apply(this, arguments);
            }
        };
    };

    // Returns a function that will only be executed before being called N times.
    _.before = function(times, func) {
        var memo;
        return function() {
            if (--times > 0) {
                memo = func.apply(this, arguments);
            } else {
                func = null;
            }
            return memo;
        };
    };

    // Returns a function that will be executed at most one time, no matter how
    // often you call it. Useful for lazy initialization.
    _.once = _.partial(_.before, 2);

    // Object Functions
    // ----------------

    // Retrieve the names of an object's properties.
    // Delegates to **ECMAScript 5**'s native `Object.keys`
    _.keys = function(obj) {
        if (!_.isObject(obj)) return [];
        if (nativeKeys) return nativeKeys(obj);
        var keys = [];
        for (var key in obj) if (_.has(obj, key)) keys.push(key);
        return keys;
    };

    // Retrieve the values of an object's properties.
    _.values = function(obj) {
        var keys = _.keys(obj);
        var length = keys.length;
        var values = Array(length);
        for (var i = 0; i < length; i++) {
            values[i] = obj[keys[i]];
        }
        return values;
    };

    // Convert an object into a list of `[key, value]` pairs.
    _.pairs = function(obj) {
        var keys = _.keys(obj);
        var length = keys.length;
        var pairs = Array(length);
        for (var i = 0; i < length; i++) {
            pairs[i] = [keys[i], obj[keys[i]]];
        }
        return pairs;
    };

    // Invert the keys and values of an object. The values must be serializable.
    _.invert = function(obj) {
        var result = {};
        var keys = _.keys(obj);
        for (var i = 0, length = keys.length; i < length; i++) {
            result[obj[keys[i]]] = keys[i];
        }
        return result;
    };

    // Return a sorted list of the function names available on the object.
    // Aliased as `methods`
    _.functions = _.methods = function(obj) {
        var names = [];
        for (var key in obj) {
            if (_.isFunction(obj[key])) names.push(key);
        }
        return names.sort();
    };

    // Extend a given object with all the properties in passed-in object(s).
    _.extend = function(obj) {
        if (!_.isObject(obj)) return obj;
        var source, prop;
        for (var i = 1, length = arguments.length; i < length; i++) {
            source = arguments[i];
            for (prop in source) {
                if (hasOwnProperty.call(source, prop)) {
                    obj[prop] = source[prop];
                }
            }
        }
        return obj;
    };

    // Return a copy of the object only containing the whitelisted properties.
    _.pick = function(obj, iteratee, context) {
        var result = {}, key;
        if (obj == null) return result;
        if (_.isFunction(iteratee)) {
            iteratee = createCallback(iteratee, context);
            for (key in obj) {
                var value = obj[key];
                if (iteratee(value, key, obj)) result[key] = value;
            }
        } else {
            var keys = concat.apply([], slice.call(arguments, 1));
            obj = new Object(obj);
            for (var i = 0, length = keys.length; i < length; i++) {
                key = keys[i];
                if (key in obj) result[key] = obj[key];
            }
        }
        return result;
    };

    // Return a copy of the object without the blacklisted properties.
    _.omit = function(obj, iteratee, context) {
        if (_.isFunction(iteratee)) {
            iteratee = _.negate(iteratee);
        } else {
            var keys = _.map(concat.apply([], slice.call(arguments, 1)), String);
            iteratee = function(value, key) {
                return !_.contains(keys, key);
            };
        }
        return _.pick(obj, iteratee, context);
    };

    // Fill in a given object with default properties.
    _.defaults = function(obj) {
        if (!_.isObject(obj)) return obj;
        for (var i = 1, length = arguments.length; i < length; i++) {
            var source = arguments[i];
            for (var prop in source) {
                if (obj[prop] === void 0) obj[prop] = source[prop];
            }
        }
        return obj;
    };

    // Create a (shallow-cloned) duplicate of an object.
    _.clone = function(obj) {
        if (!_.isObject(obj)) return obj;
        return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
    };

    // Invokes interceptor with the obj, and then returns obj.
    // The primary purpose of this method is to "tap into" a method chain, in
    // order to perform operations on intermediate results within the chain.
    _.tap = function(obj, interceptor) {
        interceptor(obj);
        return obj;
    };

    // Internal recursive comparison function for `isEqual`.
    var eq = function(a, b, aStack, bStack) {
        // Identical objects are equal. `0 === -0`, but they aren't identical.
        // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
        if (a === b) return a !== 0 || 1 / a === 1 / b;
        // A strict comparison is necessary because `null == undefined`.
        if (a == null || b == null) return a === b;
        // Unwrap any wrapped objects.
        if (a instanceof _) a = a._wrapped;
        if (b instanceof _) b = b._wrapped;
        // Compare `[[Class]]` names.
        var className = toString.call(a);
        if (className !== toString.call(b)) return false;
        switch (className) {
            // Strings, numbers, regular expressions, dates, and booleans are compared by value.
            case '[object RegExp]':
            // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
            case '[object String]':
                // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
                // equivalent to `new String("5")`.
                return '' + a === '' + b;
            case '[object Number]':
                // `NaN`s are equivalent, but non-reflexive.
                // Object(NaN) is equivalent to NaN
                if (+a !== +a) return +b !== +b;
                // An `egal` comparison is performed for other numeric values.
                return +a === 0 ? 1 / +a === 1 / b : +a === +b;
            case '[object Date]':
            case '[object Boolean]':
                // Coerce dates and booleans to numeric primitive values. Dates are compared by their
                // millisecond representations. Note that invalid dates with millisecond representations
                // of `NaN` are not equivalent.
                return +a === +b;
        }
        if (typeof a != 'object' || typeof b != 'object') return false;
        // Assume equality for cyclic structures. The algorithm for detecting cyclic
        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
        var length = aStack.length;
        while (length--) {
            // Linear search. Performance is inversely proportional to the number of
            // unique nested structures.
            if (aStack[length] === a) return bStack[length] === b;
        }
        // Objects with different constructors are not equivalent, but `Object`s
        // from different frames are.
        var aCtor = a.constructor, bCtor = b.constructor;
        if (
            aCtor !== bCtor &&
                // Handle Object.create(x) cases
            'constructor' in a && 'constructor' in b &&
            !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
            _.isFunction(bCtor) && bCtor instanceof bCtor)
        ) {
            return false;
        }
        // Add the first object to the stack of traversed objects.
        aStack.push(a);
        bStack.push(b);
        var size, result;
        // Recursively compare objects and arrays.
        if (className === '[object Array]') {
            // Compare array lengths to determine if a deep comparison is necessary.
            size = a.length;
            result = size === b.length;
            if (result) {
                // Deep compare the contents, ignoring non-numeric properties.
                while (size--) {
                    if (!(result = eq(a[size], b[size], aStack, bStack))) break;
                }
            }
        } else {
            // Deep compare objects.
            var keys = _.keys(a), key;
            size = keys.length;
            // Ensure that both objects contain the same number of properties before comparing deep equality.
            result = _.keys(b).length === size;
            if (result) {
                while (size--) {
                    // Deep compare each member
                    key = keys[size];
                    if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
                }
            }
        }
        // Remove the first object from the stack of traversed objects.
        aStack.pop();
        bStack.pop();
        return result;
    };

    // Perform a deep comparison to check if two objects are equal.
    _.isEqual = function(a, b) {
        return eq(a, b, [], []);
    };

    // Is a given array, string, or object empty?
    // An "empty" object has no enumerable own-properties.
    _.isEmpty = function(obj) {
        if (obj == null) return true;
        if (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) return obj.length === 0;
        for (var key in obj) if (_.has(obj, key)) return false;
        return true;
    };

    // Is a given value a DOM element?
    _.isElement = function(obj) {
        return !!(obj && obj.nodeType === 1);
    };

    // Is a given value an array?
    // Delegates to ECMA5's native Array.isArray
    _.isArray = nativeIsArray || function(obj) {
        return toString.call(obj) === '[object Array]';
    };

    // Is a given variable an object?
    _.isObject = function(obj) {
        var type = typeof obj;
        return type === 'function' || type === 'object' && !!obj;
    };

    // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.
    _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {
        _['is' + name] = function(obj) {
            return toString.call(obj) === '[object ' + name + ']';
        };
    });

    // Define a fallback version of the method in browsers (ahem, IE), where
    // there isn't any inspectable "Arguments" type.
    if (!_.isArguments(arguments)) {
        _.isArguments = function(obj) {
            return _.has(obj, 'callee');
        };
    }

    // Optimize `isFunction` if appropriate. Work around an IE 11 bug.
    if (typeof /./ !== 'function') {
        _.isFunction = function(obj) {
            return typeof obj == 'function' || false;
        };
    }

    // Is a given object a finite number?
    _.isFinite = function(obj) {
        return isFinite(obj) && !isNaN(parseFloat(obj));
    };

    // Is the given value `NaN`? (NaN is the only number which does not equal itself).
    _.isNaN = function(obj) {
        return _.isNumber(obj) && obj !== +obj;
    };

    // Is a given value a boolean?
    _.isBoolean = function(obj) {
        return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
    };

    // Is a given value equal to null?
    _.isNull = function(obj) {
        return obj === null;
    };

    // Is a given variable undefined?
    _.isUndefined = function(obj) {
        return obj === void 0;
    };

    // Shortcut function for checking if an object has a given property directly
    // on itself (in other words, not on a prototype).
    _.has = function(obj, key) {
        return obj != null && hasOwnProperty.call(obj, key);
    };

    // Utility Functions
    // -----------------

    // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
    // previous owner. Returns a reference to the Underscore object.
    _.noConflict = function() {
        root._ = previousUnderscore;
        return this;
    };

    // Keep the identity function around for default iteratees.
    _.identity = function(value) {
        return value;
    };

    // Predicate-generating functions. Often useful outside of Underscore.
    _.constant = function(value) {
        return function() {
            return value;
        };
    };

    _.noop = function(){};

    _.property = function(key) {
        return function(obj) {
            return obj[key];
        };
    };

    // Returns a predicate for checking whether an object has a given set of `key:value` pairs.
    _.matches = function(attrs) {
        var pairs = _.pairs(attrs), length = pairs.length;
        return function(obj) {
            if (obj == null) return !length;
            obj = new Object(obj);
            for (var i = 0; i < length; i++) {
                var pair = pairs[i], key = pair[0];
                if (pair[1] !== obj[key] || !(key in obj)) return false;
            }
            return true;
        };
    };

    // Run a function **n** times.
    _.times = function(n, iteratee, context) {
        var accum = Array(Math.max(0, n));
        iteratee = createCallback(iteratee, context, 1);
        for (var i = 0; i < n; i++) accum[i] = iteratee(i);
        return accum;
    };

    // Return a random integer between min and max (inclusive).
    _.random = function(min, max) {
        if (max == null) {
            max = min;
            min = 0;
        }
        return min + Math.floor(Math.random() * (max - min + 1));
    };

    // A (possibly faster) way to get the current timestamp as an integer.
    _.now = Date.now || function() {
        return new Date().getTime();
    };

    // List of HTML entities for escaping.
    var escapeMap = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#x27;',
        '`': '&#x60;'
    };
    var unescapeMap = _.invert(escapeMap);

    // Functions for escaping and unescaping strings to/from HTML interpolation.
    var createEscaper = function(map) {
        var escaper = function(match) {
            return map[match];
        };
        // Regexes for identifying a key that needs to be escaped
        var source = '(?:' + _.keys(map).join('|') + ')';
        var testRegexp = RegExp(source);
        var replaceRegexp = RegExp(source, 'g');
        return function(string) {
            string = string == null ? '' : '' + string;
            return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
        };
    };
    _.escape = createEscaper(escapeMap);
    _.unescape = createEscaper(unescapeMap);

    // If the value of the named `property` is a function then invoke it with the
    // `object` as context; otherwise, return it.
    _.result = function(object, property) {
        if (object == null) return void 0;
        var value = object[property];
        return _.isFunction(value) ? object[property]() : value;
    };

    // Generate a unique integer id (unique within the entire client session).
    // Useful for temporary DOM ids.
    var idCounter = 0;
    _.uniqueId = function(prefix) {
        var id = ++idCounter + '';
        return prefix ? prefix + id : id;
    };

    // By default, Underscore uses ERB-style template delimiters, change the
    // following template settings to use alternative delimiters.
    _.templateSettings = {
        evaluate    : /<%([\s\S]+?)%>/g,
        interpolate : /<%=([\s\S]+?)%>/g,
        escape      : /<%-([\s\S]+?)%>/g
    };

    // When customizing `templateSettings`, if you don't want to define an
    // interpolation, evaluation or escaping regex, we need one that is
    // guaranteed not to match.
    var noMatch = /(.)^/;

    // Certain characters need to be escaped so that they can be put into a
    // string literal.
    var escapes = {
        "'":      "'",
        '\\':     '\\',
        '\r':     'r',
        '\n':     'n',
        '\u2028': 'u2028',
        '\u2029': 'u2029'
    };

    var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

    var escapeChar = function(match) {
        return '\\' + escapes[match];
    };

    // JavaScript micro-templating, similar to John Resig's implementation.
    // Underscore templating handles arbitrary delimiters, preserves whitespace,
    // and correctly escapes quotes within interpolated code.
    // NB: `oldSettings` only exists for backwards compatibility.
    _.template = function(text, settings, oldSettings) {
        if (!settings && oldSettings) settings = oldSettings;
        settings = _.defaults({}, settings, _.templateSettings);

        // Combine delimiters into one regular expression via alternation.
        var matcher = RegExp([
            (settings.escape || noMatch).source,
            (settings.interpolate || noMatch).source,
            (settings.evaluate || noMatch).source
        ].join('|') + '|$', 'g');

        // Compile the template source, escaping string literals appropriately.
        var index = 0;
        var source = "__p+='";
        text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
            source += text.slice(index, offset).replace(escaper, escapeChar);
            index = offset + match.length;

            if (escape) {
                source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
            } else if (interpolate) {
                source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
            } else if (evaluate) {
                source += "';\n" + evaluate + "\n__p+='";
            }

            // Adobe VMs need the match returned to produce the correct offest.
            return match;
        });
        source += "';\n";

        // If a variable is not specified, place data values in local scope.
        if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

        source = "var __t,__p='',__j=Array.prototype.join," +
        "print=function(){__p+=__j.call(arguments,'');};\n" +
        source + 'return __p;\n';

        try {
            var render = new Function(settings.variable || 'obj', '_', source);
        } catch (e) {
            e.source = source;
            throw e;
        }

        var template = function(data) {
            return render.call(this, data, _);
        };

        // Provide the compiled source as a convenience for precompilation.
        var argument = settings.variable || 'obj';
        template.source = 'function(' + argument + '){\n' + source + '}';

        return template;
    };

    // Add a "chain" function. Start chaining a wrapped Underscore object.
    _.chain = function(obj) {
        var instance = _(obj);
        instance._chain = true;
        return instance;
    };

    // OOP
    // ---------------
    // If Underscore is called as a function, it returns a wrapped object that
    // can be used OO-style. This wrapper holds altered versions of all the
    // underscore functions. Wrapped objects may be chained.

    // Helper function to continue chaining intermediate results.
    var result = function(obj) {
        return this._chain ? _(obj).chain() : obj;
    };

    // Add your own custom functions to the Underscore object.
    _.mixin = function(obj) {
        _.each(_.functions(obj), function(name) {
            var func = _[name] = obj[name];
            _.prototype[name] = function() {
                var args = [this._wrapped];
                push.apply(args, arguments);
                return result.call(this, func.apply(_, args));
            };
        });
    };

    // Add all of the Underscore functions to the wrapper object.
    _.mixin(_);

    // Add all mutator Array functions to the wrapper.
    _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            var obj = this._wrapped;
            method.apply(obj, arguments);
            if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
            return result.call(this, obj);
        };
    });

    // Add all accessor Array functions to the wrapper.
    _.each(['concat', 'join', 'slice'], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            return result.call(this, method.apply(this._wrapped, arguments));
        };
    });

    // Extracts the result from a wrapped and chained object.
    _.prototype.value = function() {
        return this._wrapped;
    };

    // AMD registration happens at the end for compatibility with AMD loaders
    // that may not enforce next-turn semantics on modules. Even though general
    // practice for AMD registration is to be anonymous, underscore registers
    // as a named module because, like jQuery, it is a base library that is
    // popular enough to be bundled in a third party lib, but not be part of
    // an AMD load request. Those cases could generate an error when an
    // anonymous define() is called outside of a loader request.
    if (typeof define === 'function' && define.amd) {
        define('underscore', [], function() {
            return _;
        });
    }
}.call(this));
},{}],65:[function(require,module,exports){
(function() {
    "use strict";

    module.exports = function () {

        var $ = require('../lib/jquery');
        var Backbone = require('../lib/backbone');
        var NotyMsg = require('../utils/noty_msg');
        var Utils;

        var ModelCalls = {};
        ModelCalls.init = function(){
            Utils = require('../utils/utils');
        };
        //********** POST *****************

        ModelCalls.POST = function(modelObj){

            var serverCall = Backbone.sync("create", modelObj, {
                headers : {
                    'x-csrf-token' : Utils.token,
                    'x-lang' : window.langSelected
                },
                success: function(response){
                    console.log('Success,');
                    console.log(response);
                    Utils.token = serverCall.getResponseHeader("x-csrf");
                    modelObj.processResponse(response);
                },
                error: function(response){
                    console.log('Error,');
                    console.log(response);

                    Utils.token = serverCall.getResponseHeader("x-csrf");
                    var errText = "";
                    if(typeof response.responseJSON != "undefined"){
                        errText = response.responseJSON.responseData.message;
                    }else if(response.status == 401){
                        errText = "Session has expired. Please login again.";
                    }else{
                        errText = response.statusText;
                    }

                    NotyMsg.errorMsg(errText);
                    if(response.status == 401){
                        Utils.sessionLogout();
                    }
                }
            });
        };

        //********** POST *****************

        ModelCalls.LOGIN_POST = function(modelObj){

            var serverCall = Backbone.sync("create", modelObj, {
                headers : {
                    'x-csrf-token' : Utils.token,
                    'x-lang' : window.langSelected
                },
                success: function(response){
                    console.log('Success,');
                    console.log(response);
                    Utils.token = serverCall.getResponseHeader("x-csrf");
                    modelObj.processResponse(response);
                },
                error: function(response){
                    console.log('Error,');
                    console.log(response);

                    $("input, button, select, a").prop("disabled",false);

                    Utils.token = serverCall.getResponseHeader("x-csrf");
                    var errText = "";
                    if(typeof response.responseJSON != "undefined"){
                        errText = response.responseJSON.responseData.message;
                    }else if(response.status == 401){
                        errText = "Session has expired. Please login again.";
                    }else{
                        errText = response.statusText;
                    }

                    NotyMsg.errorMsg(errText);
                    if(response.status == 401){
                        Utils.sessionLogout();
                    }
                }
            });
        };

        //********** GET *****************

        ModelCalls.GET = function(modelObj){
            var serverCall = Backbone.sync("read", modelObj, {
                headers : {
                    'x-csrf-token' : Utils.token,
                    'x-lang' : window.langSelected
                },
                success: function(response){
                    console.log('Success,');
                    console.log(response);
                    Utils.token = serverCall.getResponseHeader("x-csrf");
                    modelObj.processResponse(response);
                },
                error: function(response){
                    console.log('Error,');
                    console.log(response);
                    Utils.token = serverCall.getResponseHeader("x-csrf");

                    var errText = "";
                    if(typeof response.responseJSON != "undefined"){
                        errText = response.responseJSON.responseData.message;
                    }else{
                        errText = response.statusText;
                    }

                    NotyMsg.errorMsg(errText);
                }
            });
        };

        return ModelCalls;
    }();
})();
},{"../lib/backbone":17,"../lib/jquery":57,"../utils/noty_msg":71,"../utils/utils":74}],66:[function(require,module,exports){
(function() {
    "use strict";

    module.exports = function () {

        var Backbone = require('../lib/backbone');
        //var AppViewCollection = require('../app/app_view_collection');
        var AppApiUrl = require('../app/app_api_url');
        var Model_Calls = require("./model_calls");
        var AppNextStep = require('../app/app_next_step');

        var Model_Collection = {};
        Model_Collection.init = function(){
            Model_Calls.init();
        };
        //********** Login Model *****************

        var LoginModel = Backbone.Model.extend({

            url : AppApiUrl.login,

            defaults:{
                'userName'        : "",
                'password'        : ""
            },

            processRequest: function(){
                Model_Calls.LOGIN_POST(this);
            },
            processResponse: function(response){
                AppNextStep.login(response);
            }
        });
        Model_Collection.getLoginModel = function(data){
            return (new LoginModel(data));
        };
        //---------- END ----------
        // ********** Languages Model *****************

        var LanguagesList = Backbone.Model.extend({

            url : AppApiUrl.languageList,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.languageList(response);
            }
        });
        Model_Collection.getLanguagesList = function(data){
            return (new LanguagesList(data));
        };
        //---------- END ----------
        // ********** Logout Model *****************

        var LogoutModel = Backbone.Model.extend({

            url : AppApiUrl.logout,

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.logout(response);
            }
        });
        Model_Collection.getLogoutModel = function(data){
            return (new LogoutModel(data));
        };
        //---------- END ----------
        //********** Get User Id / Pass Rules Model *****************

        var UserIdPassRulesModel = Backbone.Model.extend({

            url : AppApiUrl.userIdPassRules,

            processRequest: function(){
                Model_Calls.GET(this);
            },
            processResponse: function(response){
                AppNextStep.userIdPassRules(response);
            }
        });
        Model_Collection.getUserIdPassRulesModel = function(data){
            return (new UserIdPassRulesModel(data));
        };
        //---------- END ----------


        // ********** First Time Login Model *****************
        var FirstLoginChangeModel = Backbone.Model.extend({

            url : AppApiUrl.firstLoginChange,

            defaults:{
                "userName" : "",
                "password" : "",
                "checkUserId" : "",
                "securityQuestion" : [{
                    "question" : "",
                    "answer" : ""
                }]
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.firstLoginChange(response);
            }
        });
        Model_Collection.getFirstLoginChangeModel = function(data){
            return (new FirstLoginChangeModel(data));
        };
        //---------- END ----------
        // ********** MFA Security Q Model *****************
        var MFASecurityQModel = Backbone.Model.extend({

            url : AppApiUrl.mfaSecurityQ,

            defaults:{
                "securityQuestion":{
                    "questionId" : '',
                    "question" : ''
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.mfaSecurityQ(response);
            }
        });
        Model_Collection.getMFASecurityQModel = function(data){
            return (new MFASecurityQModel(data));
        };
        //---------- END ----------
        // ********** Submit MFA Security Q Model *****************
        var MFASubmitAnswerModel = Backbone.Model.extend({

            url : AppApiUrl.mfaAnswer,

            defaults:{
                "securityQuestion":{
                    "questionId" : '',
                    "question" : '',
                    "answer" : ''
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.mfaAnswer(response);
            }
        });
        Model_Collection.getMFASubmitAnswerModel = function(data){
            return (new MFASubmitAnswerModel(data));
        };
        //---------- END ----------
        // ********** Forgot Password User Id Validate Model *****************
        var ValidateUserIdModel = Backbone.Model.extend({

            url : AppApiUrl.validateUserId,

            defaults:{
                "userName" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.validateUserId(response);
            }
        });
        Model_Collection.getValidateUserIdModel = function(data){
            return (new ValidateUserIdModel(data));
        };
        //---------- END ----------
        // ********** Forgot Password Security Question Validate Model *****************
        var ValidateSecurityQModel = Backbone.Model.extend({

            url : AppApiUrl.validateSecurityQ,

            defaults:{
                "userId" : "",
                "securityQuestion" : []
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.validateSecurityQ(response);
            }
        });
        Model_Collection.getValidateSecurityQModel = function(data){
            return (new ValidateSecurityQModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  Account Details and Enquiry
        // **********************************************************************************

        //********** Customer Enquiry Model ( Acc Overview )*****************
        var CustomerEnquiryModel = Backbone.Model.extend({

            url : AppApiUrl.customerEnquiry,

            defaults:{
                'customerId'        : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.customerEnquiry(response);
            }
        });
        Model_Collection.getCustomerEnquiryModel = function(data){
            return (new CustomerEnquiryModel(data));
        };
        //---------- END ----------
        // ********** Update Customer Enquiry Model ( Acc Overview )*****************

        var UpdateCustomerEnquiryModel = Backbone.Model.extend({

            url : AppApiUrl.customerEnquiry,

            defaults:{
                'customerId'        : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.updateCustomerEnquiry(response);
            }
        });
        Model_Collection.getUpdateCustomerEnquiryModel = function(data){
            return (new UpdateCustomerEnquiryModel(data));
        };
        //---------- END ----------

        // ********** Account Enquiry Model ( Acc Details )*****************

        var AccountEnquiryModel = Backbone.Model.extend({

            url : AppApiUrl.accountEnquiry,

            defaults:{
                'accountNo'        : "",
                'accountCategory'        : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.accountEnquiry(response);
            }
        });
        Model_Collection.getAccountEnquiryModel = function(data){
            return (new AccountEnquiryModel(data));
        };
        //---------- END ----------

        // ********** Transaction Enquiry Model ( Acc Details )*****************

        var TransactionEnquiryModel = Backbone.Model.extend({

            url : AppApiUrl.transactionEnquiry,

            defaults:{
                'accountNo'         : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.transactionEnquiry(response);
            }
        });
        Model_Collection.getTransactionEnquiryModel = function(data){
            return (new TransactionEnquiryModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  Services
        // **********************************************************************************

        // ********** List Security Questions Model *****************
        var GetSecurityQuestionsModel = Backbone.Model.extend({

            url : AppApiUrl.listSecurityQ,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.securityQReceived(response);
            }
        });
        Model_Collection.getSecurityQuestionsModel = function(data){
            return (new GetSecurityQuestionsModel(data));
        };
        //---------- END ----------

        // ********** Populate Selected Security Questions Model *****************
        var SelectedQAModel = Backbone.Model.extend({

            url : AppApiUrl.selectedSecurityQ,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.selectedSecurityQ(response);
            }
        });
        Model_Collection.getSelectedQAModel = function(data){
            return (new SelectedQAModel(data));
        };
        //---------- END ----------

        // ********** Change Password Model *****************
        var ChangePasswordModel = Backbone.Model.extend({

            url : AppApiUrl.changePassword,

            defaults:{
                "currentPassword" : "",
                "newPassword" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.changePassword(response);
            }
        });
        Model_Collection.getChangePasswordModel = function(data){
            return (new ChangePasswordModel(data));
        };
        //---------- END ----------
        // ********** Change Security Question Model *****************
        var ChangeSecurityQModel = Backbone.Model.extend({

            url : AppApiUrl.changeSecurityQ,

            defaults:{
                "securityQuestion" : []
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.changeSecurityQ(response);
            }
        });
        Model_Collection.getChangeSecurityQModel = function(data){
            return (new ChangeSecurityQModel(data));
        };
        //---------- END ----------
        // ********** Change Personal Details Model *****************
        var ChangeDetailsModel = Backbone.Model.extend({

            url : AppApiUrl.changePersonalDetails,

            defaults:{
                "userName" :"",
                "AddressLine1" :"",
                "AddressLine2" :"",
                "city" :"",
                "state" :"",
                "zip" :"",
                "country" :"",
                "homePhone" :"",
                "workPhone" :"",
                "cellPhone" :"",
                "emailId" :""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.changePersonalDetails(response);
            }
        });
        Model_Collection.getChangeDetailsModel = function(data){
            return (new ChangeDetailsModel(data));
        };
        //---------- END ----------
        // ********** Change Personal Details Model *****************
        var OrderChecksModel = Backbone.Model.extend({

            url : AppApiUrl.orderChecks,

            defaults:{
                "accountNo" : "",
                "startingCheckNo" : "",
                "noOfBoxes" : "",
                "design" : "",
                "style" : "",
                "comments" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.orderChecks(response);
            }
        });
        Model_Collection.getOrderChecksModel = function(data){
            return (new OrderChecksModel(data));
        };
        //---------- END ----------
        // ********** Stop Payment Model *****************
        var StopPaymentModel = Backbone.Model.extend({

            url : AppApiUrl.stopPayment,

            defaults:{
                "accountNo" : "",
                "paymentType" : "",
                "transaction" : "",
                "reason" : "",
                "comments" : "",
                "checkInfo" : "",
                "achInfo" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.stopPayment(response);
            }
        });
        Model_Collection.getStopPaymentModel = function(data){
            return (new StopPaymentModel(data));
        };
        //---------- END ----------
        // ********** Stop Payment List Model *****************
        var StopPaymentListModel = Backbone.Model.extend({

            url : AppApiUrl.stopPaymentList,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.stopPaymentList(response);
            }
        });
        Model_Collection.getStopPaymentListModel = function(data){
            return (new StopPaymentListModel(data));
        };
        //---------- END ----------
        // ********** Session Report Model *****************
        var SessionsReportModel = Backbone.Model.extend({

            url : AppApiUrl.sessionsReport,

            defaults:{
                "listedUserId" : "",
                "moduleType" : [],
                "fromDate" : "",
                "toDate" : "",
                "download" : ""  /*"no|csv|tsv|pdf"*/
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.sessionsReport(response);
            }
        });
        Model_Collection.getSessionsReportModel = function(data){
            return (new SessionsReportModel(data));
        };
        //---------- END ----------
        // ********** Add Alert Model *****************
        var AddAlertModel = Backbone.Model.extend({

            url : AppApiUrl.addAlert,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.addAlert(response);
            }
        });
        Model_Collection.getAddAlertModel = function(data){
            return (new AddAlertModel(data));
        };
        //---------- END ----------
        // ********** Edit Alert Model *****************
        var EditAlertModel = Backbone.Model.extend({

            url : AppApiUrl.editAlert,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAlert(response);
            }
        });
        Model_Collection.getEditAlertModel = function(data){
            return (new EditAlertModel(data));
        };
        //---------- END ----------
        // ********** Alerts List Model *****************
        var AlertsListModel = Backbone.Model.extend({

            url : AppApiUrl.alertsList,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.alertsList(response);
            }
        });
        Model_Collection.getAlertsListModel = function(data){
            return (new AlertsListModel(data));
        };
        //---------- END ----------
        // ********** Delete Alert Model *****************
        var DeleteAlertModel = Backbone.Model.extend({

            url : AppApiUrl.deleteAlert,

            defaults:{
                alertList : [{
                    alertId : ""
                }]
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteAlert(response);
            }
        });
        Model_Collection.getDeleteAlertModel = function(data){
            return (new DeleteAlertModel(data));
        };
        //---------- END ----------
        // ********** Add Reminder Model *****************
        var AddReminderModel = Backbone.Model.extend({

            url : AppApiUrl.addReminder,

            defaults:{
                "reminderDate"      : "",
                "schedule"          : "",
                "reminderMessage"   : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.addReminder(response);
            }
        });
        Model_Collection.getAddReminderModel = function(data){
            return (new AddReminderModel(data));
        };
        //---------- END ----------
        // ********** Edit Reminder Model *****************
        var EditReminderModel = Backbone.Model.extend({

            url : AppApiUrl.editReminder,

            defaults:{
                "reminderId"        :"",
                "reminderDate"      : "",
                "schedule"          : "",
                "reminderMessage"   : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editReminder(response);
            }
        });
        Model_Collection.getEditReminderModel = function(data){
            return (new EditReminderModel(data));
        };
        //---------- END ----------
        // ********** Reminders List Model *****************
        var RemindersListModel = Backbone.Model.extend({

            url : AppApiUrl.remindersList,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.remindersList(response);
            }
        });
        Model_Collection.getRemindersListModel = function(data){
            return (new RemindersListModel(data));
        };
        //---------- END ----------
        // ********** Delete Reminder Model *****************
        var DeleteReminderModel = Backbone.Model.extend({

            url : AppApiUrl.deleteReminder,

            defaults:{
                reminderList : [{
                    reminderId : ""
                }]
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteReminder(response);
            }
        });
        Model_Collection.getDeleteReminderModel = function(data){
            return (new DeleteReminderModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  Funds Transfer
        // **********************************************************************************

        // ********** Funds Transfer Model ( Acc Details )*****************
        var FundsTransferModel = Backbone.Model.extend({

            url : AppApiUrl.fundsTransfer,

            defaults:{
                "remarks": "",
                "checkNo": "",
                "description": "",
                "transactionDate": "",
                "transactionTime": "",
                "debitFrom": "",
                "creditTo": "",
                paySchedule :"",
                frequency : "",
                expirationDate: ""

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.fundsTransfer(response);
            }
        });
        Model_Collection.getFundsTransferModel = function(data){
            return (new FundsTransferModel(data));
        };
        //---------- END ----------
        // ********** Pending Transfer Model ( Acc Details )*****************
        var PendingTransferModel = Backbone.Model.extend({

            url : AppApiUrl.pendingTransfer,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.pendingTransfer(response);
            }
        });
        Model_Collection.getPendingTransferModel = function(data){
            return (new PendingTransferModel(data));
        };
        //---------- END ----------
        // ********** Delete Pending Transfer Model ( Acc Details )*****************
        var DeletePendingTransferModel = Backbone.Model.extend({

            url : AppApiUrl.deletePendingTransfer,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deletePendingTransfer(response);
            }
        });
        Model_Collection.getDeletePendingTransferModel = function(data){
            return (new DeletePendingTransferModel(data));
        };
        //---------- END ----------
        // ********** Edit Pending Transfer Model ( Acc Details )*****************
        var EditFundsTransferModel = Backbone.Model.extend({

            url : AppApiUrl.editFundsTransfer,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editFundsTransfer(response);
            }
        });
        Model_Collection.getEditFundsTransferModel = function(data){
            return (new EditFundsTransferModel(data));
        };
        //---------- END ----------

        // ********** Pay Veris Model ( Acc Details )*****************

        var PayVerisModel = Backbone.Model.extend({

            url : AppApiUrl.payVeris,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.payVeris(response);
            }
        });
        Model_Collection.getPayVerisModel = function(data){
            return (new PayVerisModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  ACH TRANSFER
        // **********************************************************************************

        // ********** ACH Batch Summary Model *****************
        var AllACHBatchSummaryModel = Backbone.Model.extend({

            url : AppApiUrl.listAllAchBatch,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.allAchBatchSummary(response);
            }
        });
        Model_Collection.getAllACHBatchSummaryModel = function(data){
            return (new AllACHBatchSummaryModel(data));
        };
        //---------- END ----------
        // ********** List of Pending ACH Batch Model *****************

        var ACHBatchSummaryModel = Backbone.Model.extend({

            url : AppApiUrl.listPendingAchBatch,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.achBatchSummary(response);
            }
        });
        Model_Collection.getACHBatchSummaryModel = function(data){
            return (new ACHBatchSummaryModel(data));
        };
        //---------- END ----------
        // ********** List of Editable ACH Batch Model *****************

        var EditableACHBatchSummaryModel = Backbone.Model.extend({

            url : AppApiUrl.listEditableAchBatch,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editableAchBatchSummary(response);
            }
        });
        Model_Collection.getEditableACHBatchSummaryModel = function(data){
            return (new EditableACHBatchSummaryModel(data));
        };
        //---------- END ----------

        // ********** ACH Create Batch Model *****************

        var ACHCreateBatchModel = Backbone.Model.extend({

            url : AppApiUrl.createAchBatch,

            defaults:{
                "batchName"                     : "",
                "secCode"                       : "",
                "accountNo"                     : "",
                "companyName"                   : "",
                "companyDiscretionaryData"      : "",
                "companyId"                     : "",
                "companyDescription"            : "",
                "dateScheduled"                 : "",
                "scheduleType"                  : "",
                "frequency"                     : "",
                "dateScheduledProcess"          : "",
                "expirationDate"                : "",

                "batchDescription"              : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.achCreateBatch(response);
            }
        });
        Model_Collection.getACHCreateBatchModel = function(data){
            return (new ACHCreateBatchModel(data));
        };
        //---------- END ----------
        // ********** ACH Edit Batch Model *****************

        var ACHEditBatchModel = Backbone.Model.extend({

            url : AppApiUrl.editAchBatch,

            defaults:{
                "batchId"                     : "",
                "batchName"                     : "",
                "secCode"                       : "",
                "accountNo"                     : "",
                "companyName"                   : "",
                "companyDiscretionaryData"      : "",
                "companyId"                     : "",
                "companyDescription"            : "",
                "dateScheduled"                 : "",
                "frequency"                     : "",
                "dateScheduledProcess"          : "",
                "expirationDate"                : "",

                "batchDescription"              : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAchBatch(response);
            }
        });
        Model_Collection.getACHEditBatchModel = function(data){
            return (new ACHEditBatchModel(data));
        };
        //---------- END ----------

        // ********** Delete ACH Batch Model *****************
        var DeleteACHBatchModel = Backbone.Model.extend({

            url : AppApiUrl.deleteAchBatch,

            defaults:{
                "batchRemoveList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteAchBatch(response);
            }
        });
        Model_Collection.getDeleteACHBatchModel = function(data){
            return (new DeleteACHBatchModel(data));
        };
        //---------- END ----------

        // ********** List ACH Batch Recipients  Model *****************
        var ListACHBatchRecipientsModel = Backbone.Model.extend({

            url : AppApiUrl.listAchBatchRecipients,

            defaults:{
                "batchId" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.listAchBatchRecipients(response);
            }
        });
        Model_Collection.getListACHBatchRecipientsModel = function(data){
            return (new ListACHBatchRecipientsModel(data));
        };
        //---------- END ----------

        // ********** ACH Batch Summary Model *****************
        var CreateACHBatchRecipientModel = Backbone.Model.extend({

            url : AppApiUrl.createAchBatchRecipient,

            defaults:{
                "batchId"                   : "",
                "batchName"                 : "",
                "recipientName"             : "",
                "accountNo"                 : "",
                "routingNumber"             : "",
                "amount"                    : "",
                "transactionCode"           : "",
                "expirationDate"            : "",
                "addenda"                   : "",

                "identity"            : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.createAchBatchRecipients(response);
            }
        });
        Model_Collection.getCreateACHBatchRecipientModel = function(data){
            return (new CreateACHBatchRecipientModel(data));
        };
        //---------- END ----------
        // ********** ACH Edit Recipient Model *****************

        var ACHEditRecipientModel = Backbone.Model.extend({

            url : AppApiUrl.editAchRecipient,

            defaults:{
                "batchId"                   : "",
                "batchName"                 : "",
                "recipientId"               : "",
                "recipientName"             : "",
                "accountNo"                 : "",
                "routingNumber"             : "",
                "amount"                    : "",
                "transactionCode"           : "",
                "expirationDate"            : "",
                "addenda"                   : "",

                "identity"            : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAchRecipient(response);
            }
        });
        Model_Collection.getACHEditRecipientModel = function(data){
            return (new ACHEditRecipientModel(data));
        };
        //---------- END ----------

        // ********** Delete ACH Batch Recipient Model *****************

        var DeleteACHBatchRecipientModel = Backbone.Model.extend({

            url : AppApiUrl.deleteAchBatchRecipient,

            defaults:{
                "recipientRemoveList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteAchRecipient(response);
            }
        });
        Model_Collection.getDeleteACHBatchRecipientModel = function(data){
            return (new DeleteACHBatchRecipientModel(data));
        };
        //---------- END ----------


        // ********** ACH Batch Summary Model *****************

        var RoutingNoModel = Backbone.Model.extend({

            url : AppApiUrl.routingNo,

            defaults:{
                "bankName"                  : "",
                "stateCode"                 : "",
                "city"                      : ""

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.routingNo(response);
            }
        });
        Model_Collection.getRoutingNoModel = function(data){
            return (new RoutingNoModel(data));
        };
        //---------- END ----------


        // ********** Approve ACH Batch Model *****************

        var ApproveACHBatchModel = Backbone.Model.extend({

            url : AppApiUrl.approveAchBatch,

            defaults:{
                "authorizeList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.approveAchBatch(response);
            }
        });
        Model_Collection.getApproveACHBatchModel = function(data){
            return (new ApproveACHBatchModel(data));
        };
        //---------- END ----------
        // ********** Decline ACH Batch Model *****************

        var DeclineACHBatchModel = Backbone.Model.extend({

            url : AppApiUrl.declineAchBatch,

            defaults:{
                "declineList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.declineAchBatch(response);
            }
        });
        Model_Collection.getDeclineACHBatchModel = function(data){
            return (new DeclineACHBatchModel(data));
        };
        //---------- END ----------
        // ********** Include Recipient Model *****************

        var IncludeRecipientModel = Backbone.Model.extend({

            url : AppApiUrl.includeRecipient,

            defaults:{
                "recipientIncludeList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.includeRecipient(response);
            }
        });
        Model_Collection.getIncludeRecipientModel = function(data){
            return (new IncludeRecipientModel(data));
        };
        //---------- END ----------
        // ********** Exclude Recipient Model *****************

        var ExcludeRecipientModel = Backbone.Model.extend({

            url : AppApiUrl.excludeRecipient,

            defaults:{
                "recipientExcludeList" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.excludeRecipient(response);
            }
        });
        Model_Collection.getExcludeRecipientModel = function(data){
            return (new ExcludeRecipientModel(data));
        };
        //---------- END ----------
        // ********** List ACH FIle Import Auth *****************

        var ACHFileImportAuthModel = Backbone.Model.extend({

            url : AppApiUrl.achFileImportAuth,

            defaults:{

            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.achFileImportAuth(response);
            }
        });
        Model_Collection.getACHFileImportAuthModel = function(data){
            return (new ACHFileImportAuthModel(data));
        };
        //---------- END ----------
        // ********** Process ACH File Import Auth *****************

        var ProcessACHFileImportAuthModel = Backbone.Model.extend({

            url : AppApiUrl.processAchFileImportAuth,

            defaults:{
                batchList : []
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.processAchFileImportAuth(response);
            }
        });
        Model_Collection.getProcessACHFileImportAuthModel = function(data){
            return (new ProcessACHFileImportAuthModel(data));
        };
        //---------- END ----------
        // ********** Process ACH File Import Auth *****************

        var DeleteACHFileImportAuthModel = Backbone.Model.extend({

            url : AppApiUrl.deleteAchFileImportAuth,

            defaults:{
                batchRemoveList : []
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteAchFileImportAuth(response);
            }
        });
        Model_Collection.getDeleteACHFileImportAuthModel = function(data){
            return (new DeleteACHFileImportAuthModel(data));
        };
        //---------- END ----------

        // ********** List ACH File Batch *****************

        var ListACHFileBatchModel = Backbone.Model.extend({

            url : AppApiUrl.listAchFileBatch,

            defaults:{
                fileId : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.listFileBatches(response);
            }
        });
        Model_Collection.getListACHFileBatchModel = function(data){
            return (new ListACHFileBatchModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  WIRE TRANSFER
        // **********************************************************************************

        // ********** Register Beneficiary Model *****************
        var RegisterBeneficiaryModel = Backbone.Model.extend({

            url : AppApiUrl.registerBeneficiary,

            defaults:{
                "beneficiaryName" : "",
                "addressLine1": "",
                "addressLine2": "",
                "city": "",
                "state": "",
                "zip": "",
                "country": "",
                "specialInstruction": {
                    "instruction1": "",
                    "instruction2": "",
                    "instruction3": "",
                    "instruction4": ""
                },
                "recipientBankInfo": {
                    "accountNo": "",
                    "bankRoutingNo": "",
                    "bankName": "",
                    "specialInstruction": {
                        "instruction1": "",
                        "instruction2": ""
                    }
                },
                "intermediateBank" : {
                    "bankRoutingNo" : "",
                    "bankName" : ""
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.registerBeneficiary(response);
            }
        });
        Model_Collection.getRegisterBeneficiaryModel = function(data){
            return (new RegisterBeneficiaryModel(data));
        };
        //---------- END ----------

        // ********** Register Beneficiary Model *****************
        var EditRegisteredBeneficiaryModel = Backbone.Model.extend({

            url : AppApiUrl.editRegisteredBeneficiary,

            defaults:{
                "beneficiaryName" : "",
                "addressLine1": "",
                "addressLine2": "",
                "city": "",
                "state": "",
                "zip": "",
                "country": "",
                "specialInstruction": {
                    "instruction1": "",
                    "instruction2": "",
                    "instruction3": "",
                    "instruction4": ""
                },
                "recipientBankInfo": {
                    "accountNo": "",
                    "bankRoutingNo": "",
                    "bankName": "",
                    "specialInstruction": {
                        "instruction1": "",
                        "instruction2": ""
                    }
                },
                "intermediateBank" : {
                    "bankRoutingNo" : "",
                    "bankName" : ""
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editRegisteredBeneficiary(response);
            }
        });
        Model_Collection.getEditRegisteredBeneficiaryModel = function(data){
            return (new EditRegisteredBeneficiaryModel(data));
        };
        //---------- END ----------

        // ********** List Registered Beneficiaries Model *****************
        var ListRegisteredBeneficiariesModel = Backbone.Model.extend({

            url : AppApiUrl.listRegisteredBeneficiaries,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.listRegisteredBeneficiaries(response);
            }
        });
        Model_Collection.getListRegisteredBeneficiariesModel = function(data){
            return (new ListRegisteredBeneficiariesModel(data));
        };
        //---------- END ----------

        // ********** Delete Beneficiary Model *****************
        var DeleteBeneficiaryModel = Backbone.Model.extend({

            url : AppApiUrl.deleteBeneficiary,

            defaults:{
                beneficiaryList : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteBeneficiary(response);
            }
        });
        Model_Collection.getDeleteBeneficiaryModel = function(data){
            return (new DeleteBeneficiaryModel(data));
        };
        //---------- END ----------

        // ********** Wire Transfer Request Model *****************
        var WireTransferRequestModel = Backbone.Model.extend({

            url : AppApiUrl.wireTransferRequest,

            defaults:{
                "beneficiaryId" : "",
                "fromAccount" : "",
                "amount" : "",
                "scheduledInfo" : {
                    "scheduledDate" : "",
                    "scheduledType" : "",
                    "frequency" : "",
                    "expiryDate" : ""
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.wireTransferRequest(response);
            }
        });
        Model_Collection.getWireTransferRequestModel = function(data){
            return (new WireTransferRequestModel(data));
        };
        //---------- END ----------
        // ********** Wire Transfer Request List Model *****************
        var WireTransferReqListModel = Backbone.Model.extend({

            url : AppApiUrl.wireTransferReqList,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.wireTransferReqList(response);
            }
        });
        Model_Collection.getWireTransferReqListModel = function(data){
            return (new WireTransferReqListModel(data));
        };
        //---------- END ----------
        // ********** Process Wire Transfer Request Model *****************
        var ProcessWireTransReqModel = Backbone.Model.extend({

            url : AppApiUrl.processWireTransfer,

            defaults:{
                wireTransferList : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.processWireTransfer(response);
            }
        });
        Model_Collection.getProcessWireTransReqModel = function(data){
            return (new ProcessWireTransReqModel(data));
        };
        //---------- END ----------
        // ********** Delete Wire Transfer Request Model *****************
        var DeleteWireTransReqModel = Backbone.Model.extend({

            url : AppApiUrl.deleteWireTransfer,

            defaults:{
                wireTransferList : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteWireTransfer(response);
            }
        });
        Model_Collection.getDeleteWireTransReqModel = function(data){
            return (new DeleteWireTransReqModel(data));
        };
        //---------- END ----------

        // **********************************************************************************
        //  USER MANAGEMENT
        // **********************************************************************************

        // ********** Users List Model *****************
        var UsersListModel = Backbone.Model.extend({

            url : AppApiUrl.listUsers,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.listUsers(response);
            }
        });
        Model_Collection.getUserListModel = function(data){
            return (new UsersListModel(data));
        };
        //---------- END ----------
        // ********** Check User name availability Model *****************
        var CheckUserNameAvailModel = Backbone.Model.extend({

            url : AppApiUrl.userNameAvail,

            defaults:{
                "userName" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.userNameAvail(response);
            }
        });
        Model_Collection.getCheckUserNameAvailModel = function(data){
            return (new CheckUserNameAvailModel(data));
        };
        //---------- END ----------
        // ********** Create New User Model *****************
        var CreateNewUserModel = Backbone.Model.extend({

            url : AppApiUrl.createNewUser,

            defaults: {
                "customerId": "",
                "customerName": "",
                "userName": "",
                "emailId": "",
                "mobileNo": "",
                "customerType": "",
                "userViewAccess": {
                    "Accounts": {"Overview": "", "Details": "", "History": "", "Statements": ""},
                    "Payments": {"FundsTransfer": "", "BillPay": "", "PendingTransfer" : ""},
                    "Services": {
                        "ChangePersonalInfo": "",
                        "ChangeSecurityQuestion": "",
                        "ChangePassword": "",
                        "StopPayments": "",
                        "OrderChecks": "",
                        "Reminders": "",
                        "BankMail": "",
                        "Alerts": "",
                        "SessionsReport": ""
                    },
                    "Calculators": {"Loan": "", "Savings": "", "Retirement": "", "Bond": ""},
                    "CashManagementACH": {
                        "ACHBatchSummary": "",
                        "CreateNewBatch": "",
                        "ACHRecipients": "",
                        "ACHBatchAuthorization": "",
                        "ACHFileImport": "",
                        "ACHFileImportAuthorization": ""
                    },
                    "CashManagementWireTransfer": {
                        "RegisterBeneficiary": "",
                        "ListBeneficiary": "",
                        "WireTransferRequest": "",
                        "WireTransferAuthorization": ""
                    },
                    "UserManagement": {"Users": "", "CreateNewUsers": ""}
                },
                "userAccountAccess": [{
                    accountNo: '',
                    accountType: '',
                    bankId: '',
                    branchName: ''
                }],
                "userTransferAccess": [{
                    accountNo: '',
                    accountType: '',
                    bankId: '',
                    branchName: ''
                }],
                "userLimits": {
                    "achLimits": {
                        "achCreditLimitPerTranc": '',
                        "achCreditLimitPerDay": '',
                        "achDebitLimitPerTranc": '',
                        "achDebitLimitPerDay": '',
                        "restrictEdit": ""
                    },
                    "fundsLimits": {"fundsLimitPerTranc": '', "fundsLimitPerDay": ''},
                    "wireLimits": {"wireLimitPerTranc": '', "wireLimitPerDay": '', "restrictEdit": ""}
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.createNewUser(response);
            }
        });
        Model_Collection.getCreateNewUserModel = function(data){
            return (new CreateNewUserModel(data));
        };
        //---------- END ----------
        // ********** Reset User List Model *****************
        var ResetUserModel = Backbone.Model.extend({

            url : AppApiUrl.resetUser,

            defaults:{
                "listedUserId" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.resetUser(response);
            }
        });
        Model_Collection.getResetUserModel = function(data){
            return (new ResetUserModel(data));
        };
        //---------- END ----------
        // ********** Delete User Model *****************
        var DeleteUserModel = Backbone.Model.extend({

            url : AppApiUrl.deleteUser,

            defaults:{
                "listedUserId" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteUser(response);
            }
        });
        Model_Collection.getDeleteUserModel = function(data){
            return (new DeleteUserModel(data));
        };
        //---------- END ----------

        // ********** Edit (Access to Accounts) User Model *****************
        var EditAccessToAccModel = Backbone.Model.extend({

            url : AppApiUrl.editAccessToAcc,

            defaults:{
                "listedUserId" : '',
                "accountAccess" : {
                    "accountsAccess" : [{
                        accountNo : '',
                        accountType : '',
                        bankId : '',
                        branchName : ''
                    }],
                    "accountsTransferAccess" : [{
                        accountNo : '',
                        accountType : '',
                        bankId : '',
                        branchName : ''
                    }]
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAccessToAcc(response);
            }
        });
        Model_Collection.getEditAccessToAccModel = function(data){
            return (new EditAccessToAccModel(data));
        };
        //---------- END ----------
        // ********** Edit (Access to Pages) User Model *****************
        var EditAccessToPagesModel = Backbone.Model.extend({

            url : AppApiUrl.editAccessToPages,

            defaults:{
                "listedUserId" : '',
                "userViewAccess": {
                    "Accounts": {"Overview": "", "Details": "", "History": "", "Statements": ""},
                    "Payments": {"FundsTransfer": "", "BillPay": "", "PendingTransfer": ""},
                    "Services": {
                        "ChangePersonalInfo": "",
                        "ChangeSecurityQuestion": "",
                        "ChangePassword": "",
                        "StopPayments": "",
                        "OrderChecks": "",
                        "Reminders": "",
                        "BankMail": "",
                        "Alerts": "",
                        "SessionsReport": ""
                    },
                    "Calculators": {"Loan": "", "Savings": "", "Retirement": "", "Bond": ""},
                    "CashManagementACH": {
                        "ACHBatchSummary": "",
                        "CreateNewBatch": "",
                        "ACHRecipients": "",
                        "ACHBatchAuthorization": "",
                        "ACHFileImport": "",
                        "ACHFileImportAuthorization": ""
                    },
                    "CashManagementWireTransfer": {
                        "RegisterBeneficiary": "",
                        "ListBeneficiary": "",
                        "WireTransferRequest": "",
                        "WireTransferAuthorization": ""
                    },
                    "UserManagement": {"Users": "", "CreateNewUsers": ""}
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAccessToPages(response);
            }
        });
        Model_Collection.getEditAccessToPagesModel = function(data){
            return (new EditAccessToPagesModel(data));
        };
        //---------- END ----------
        // ********** Edit (Access to Transaction Limits) User Model *****************
        var EditAccessToTransLimitsModel = Backbone.Model.extend({

            url : AppApiUrl.editAccessToTransLimits,

            defaults:{
                "listedUserId" : '',
                "userLimits": {
                    "achLimits": {
                        "achCreditLimitPerTranc": '',
                        "achCreditLimitPerDay": '',
                        "achDebitLimitPerTranc": '',
                        "achDebitLimitPerDay": '',
                        "restrictEdit": ""
                    },
                    "fundsLimits": {"fundsLimitPerTranc": '', "fundsLimitPerDay": ''},
                    "wireLimits": {"wireLimitPerTranc": '', "wireLimitPerDay": '', "restrictEdit": ""}
                }
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAccessToTransLimits(response);
            }
        });
        Model_Collection.getEditAccessToTransLimitsModel = function(data){
            return (new EditAccessToTransLimitsModel(data));
        };
        //---------- END ----------
        // ********** Edit (Access to Security Question) User Model *****************
        var EditAccessToSecQModel = Backbone.Model.extend({

            url : AppApiUrl.editAccessToSecQ,

            defaults:{
                "listedUserId" : '',
                "securityQuestion" : [{
                    "questionId" : '',
                    "question" : '',
                    "answer" : ''
                }]
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.editAccessToSecQ(response);
            }
        });
        Model_Collection.getEditAccessToSecQModel = function(data){
            return (new EditAccessToSecQModel(data));
        };
        //---------- END ----------

        //****   Calculators

        // ********** Bond Calculator Model *****************
        var BondCalcModel = Backbone.Model.extend({

            url : AppApiUrl.bondCalc,

            defaults:{
                "series"                : "",
                "issueDate"             : "",
                "denomination"          : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.bondCalc(response);
            }
        });
        Model_Collection.getBondCalcModel = function(data){
            return (new BondCalcModel(data));
        };
        //---------- END ----------


        // **********  E - Mails  *****************
        // Send Email
        var SendMailModel = Backbone.Model.extend({

            url : AppApiUrl.sendMail,

            defaults:{
                "message"   : "",
                "subject"   : "",
                "files"     : []
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.sendMail(response);
            }
        });
        Model_Collection.getSendMailModel = function(data){
            return (new SendMailModel(data));
        };
        //---------- END ----------
        // View Email
        var ReplyMsgModel = Backbone.Model.extend({

            url : AppApiUrl.replyMail,

            defaults:{
                "messageId"                 : "",
                "message"                   : "",
                "subject"                   : "",
                "files"                     : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.replyMail(response);
            }
        });
        Model_Collection.getReplyMsgModel = function(data){
            return (new ReplyMsgModel(data));
        };
        //---------- END ----------
        // Inbox
        var InboxMsgsModel = Backbone.Model.extend({

            url : AppApiUrl.inboxMsgs,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.inboxMsgs(response);
            }
        });
        Model_Collection.getInboxMsgsModel = function(data){
            return (new InboxMsgsModel(data));
        };
        //---------- END ----------
        // Mail Read
        var MailReadModel = Backbone.Model.extend({

            url : AppApiUrl.mailRead,

            defaults:{
                "messageId" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.mailRead(response);
            }
        });
        Model_Collection.getMailReadModel = function(data){
            return (new MailReadModel(data));
        };
        //---------- END ----------
        // Sent
        var SentMsgsModel = Backbone.Model.extend({

            url : AppApiUrl.sentMsgs,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.sentMsgs(response);
            }
        });
        Model_Collection.getSentMsgsModel = function(data){
            return (new SentMsgsModel(data));
        };
        //---------- END ----------
        // Trash
        var TrashMsgsModel = Backbone.Model.extend({

            url : AppApiUrl.trashMsgs,

            defaults:{},

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.trashMsgs(response);
            }
        });
        Model_Collection.getTrashMsgsModel = function(data){
            return (new TrashMsgsModel(data));
        };
        //---------- END ----------
        // Delete Msg
        var DeleteMsgModel = Backbone.Model.extend({

            url : AppApiUrl.deleteMsg,

            defaults:{
                "trashMessage" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteMsg(response);
            }
        });
        Model_Collection.getDeleteMsgModel = function(data){
            return (new DeleteMsgModel(data));
        };
        //---------- END ----------
        // Delete Msg From Trash
        var DeleteTrashMsgModel = Backbone.Model.extend({

            url : AppApiUrl.deleteTrashMsg,

            defaults:{
                "deleteMessage" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.deleteTrashMsg(response);
            }
        });
        Model_Collection.getDeleteTrashMsgModel = function(data){
            return (new DeleteTrashMsgModel(data));
        };
        //---------- END ----------

        // Get Statements Model
        var StatementsModel = Backbone.Model.extend({

            url : AppApiUrl.statements,

            defaults:{
                "accountNumber"             : "",
                "fromDate"                  : "",
                "toDate"                    : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.statements(response);
            }
        });
        Model_Collection.getStatementsModel = function(data){
            return (new StatementsModel(data));
        };
        //---------- END ----------

        // Get Statement File Model
        var StatementFileModel = Backbone.Model.extend({

            url : AppApiUrl.statementFile,

            defaults:{
                "url" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.statementFile(response);
            }
        });
        Model_Collection.getStatementFileModel = function(data){
            return (new StatementFileModel(data));
        };
        //---------- END ----------



        // Get Check Images Model
        var CheckImageModel = Backbone.Model.extend({

            url : AppApiUrl.checkImage,

            defaults:{
                "accountNumber"         : "",
                "postedDate"            : "",
                "checkNumber"           : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.checkImage(response);
            }
        });
        Model_Collection.getCheckImageModel = function(data){
            return (new CheckImageModel(data));
        };
        //---------- END ----------


        // Add Page Hits Model
        var AddPageHitModel = Backbone.Model.extend({

            url : AppApiUrl.pageHits,

            defaults:{
                "section" : "",
                "pageName" : ""
            },

            processRequest: function(){
                Model_Calls.POST(this);
            },
            processResponse: function(response){
                AppNextStep.pageHits(response);
            }
        });
        Model_Collection.getAddPageHitModel = function(data){
            return (new AddPageHitModel(data));
        };
        //---------- END ----------



        // **********************************************************************************
        // ********** Model *****************
        var KeepAliveModel = Backbone.Model.extend({

            url : AppApiUrl.keepAlive,

            processRequest: function(){
                Model_Calls.GET(this);
            },
            processResponse: function(response){
                AppNextStep.keepAlive(response);
            }
        });
        Model_Collection.getKeepAliveModel = function(){
            return (new KeepAliveModel());
        };
        //---------- END ----------
        // **********************************************************************************
        // **********************************************************************************
        // ********** Model *****************
        var SingleModel = Backbone.Model.extend();
        Model_Collection.getModel = function(data){
            return (new SingleModel(data));
        };
        //---------- END ----------

        return Model_Collection;

    }();
})();
},{"../app/app_api_url":2,"../app/app_next_step":9,"../lib/backbone":17,"./model_calls":65}],67:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var _ = require('../lib/underscore');
        var Backbone = require('../lib/backbone');
        var Marionette = require('../lib/backbone.marionette.js');

        var AppBehaviours = {};

        AppBehaviours.Behaviours = {};

        AppBehaviours.Behaviours.ToggleHeaderBehavior = Backbone.Marionette.Behavior.extend({
            defaults: {

            },

            events: {
                "click @ui.cardHeader" : "cardHeaderToggle"
            },

            cardHeaderToggle: function(event) {
                if($(event.currentTarget).hasClass("collapsed")){
                    $(event.currentTarget).children("span").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right");
                }else{
                    $(event.currentTarget).children("span").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down");
                }
            }
        });

        AppBehaviours.initialize = function(){

            Marionette.Behaviors.behaviorsLookup = function() {
                return AppBehaviours.Behaviours;
            };

        };

        return AppBehaviours;

    }();

})();
},{"../lib/backbone":17,"../lib/backbone.marionette.js":18,"../lib/jquery":57,"../lib/underscore":64}],68:[function(require,module,exports){
(function () {
    "use strict";

    module.exports = function () {

        var defaultConfig = {};

        defaultConfig.routeConfig = {trigger: true, replace: false};
        defaultConfig.nonRouteConfig = {trigger: true, replace: true};

        defaultConfig.userInfo = {};
        // customerAccounts, depositAccounts, loanAccounts
        defaultConfig.AppInState = false;

        return defaultConfig;

    }();

})();


},{}],69:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var globalAttributes = {
            "ReviewFunds" : {}
        };

        globalAttributes.userInfo = {
            "editBeneficiaryRegData" : "",
            "payVeris" : false
        };

        return globalAttributes;
    }();

})();
},{}],70:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var Languages = {};
        var Models = require('../models/models');


        Languages.getLanguages = function(){
            var model = Models.getLanguagesList();
            model.processRequest();
        };



        return Languages;

    }();

})();

},{"../lib/jquery":57,"../models/models":66}],71:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery.js');
        var noty = require('../lib/jquery.noty.js').noty;
        var $noty = require('../lib/jquery.noty.js').$noty;

        var NotyMsg = {

            errorMsg: function (msg) {
                var errText,
                    response = msg.responseJSON;
                if (response) {
                    if (response.responseData) {
                        errText = response.responseData.message;
                    }
                    /*else if(response.error.status == 403){
                     Utils.sessionExp = true;
                     AppActivity.trigger("login");
                     }*/
                } else if (msg.status) {
                    errText = "Error Code: " + msg.status + ", Error Message : " + msg.statusText + "";
                } else {
                    errText = msg;
                }
                var options = {
                    text: errText,
                    type: "error",
                    dismissQueue: false,
                    killer: true,
                    layout: "center",
                    timeout: "5000"
                };
                var n = noty(options);

            },

            validationErrMsg: function (msg) {
                var options = {
                    text: msg,
                    type: "error",
                    layout: "center",
                    killer: true,
                    timeout: "5000",
                    callback: {
                        onClose: function() {

                        }
                    }

                };
                var n = noty(options);
            },
            successMsg: function (msg) {
                $("html, body").animate({
                    scrollTop: $("html").offset().top-70
                }, 1000);

                var options = {
                    text: msg,
                    type: "success",
                    layout: "top",
                    killer: true,
                    timeout: "5000"
                };
                var n = noty(options);
            },
            confirmMsg: function (msg, callback) {
                var options = {
                    text: msg,
                    type: "error",
                    layout: "center",
                    killer: true,
                    timeout: false,
                    buttons: [
                        {addClass: 'btn btn-default', text: 'No', onClick: function($noty) {
                            $noty.close();
                        }
                        },
                        {addClass: 'btn btn-info', text: 'Yes', onClick: function($noty) {
                            // this = button element
                            // $noty = $noty element
                            $noty.close();
                            callback();
                        }
                        }
                    ]
                };
                var n = noty(options);
            },

            warningMsg: function (msg) {
                var options = {
                    text: msg,
                    type: "warning",
                    layout: "center",
                    killer: true,
                    timeout: "5000"
                };
                var n = noty(options);
            },

            clearMsgs: function () {
                $noty.closeAll();
            }
        };

        return NotyMsg;
    }();

})();
},{"../lib/jquery.js":57,"../lib/jquery.noty.js":58}],72:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        //----------------- Library Files ---------------------------------------------------------
        var $ = require('../lib/jquery');
        var _ = require('../lib/underscore');
        //--------------------------------------------------------------------------

        var tpl = {};

        tpl.loadTemplates = function(callback){
            var that = this;
            this.templates = [];
            var path = require('./tpl_names').templatePath;
            var templateData;
            var loadTemplate = function(){

                $.get(path , function(data){
                    templateData = $(data).children();
                    for(var i=0; i<templateData.length; i++){
                        that.templates[templateData[i].id] = _.unescape(templateData[i].outerHTML);
                    }
                    callback();
                });
            };

            loadTemplate();

        };
        tpl.getViewTemplate = function(templateName){

            return (this.templates[templateName]);

        };

        return tpl;

    }();


})();


},{"../lib/jquery":57,"../lib/underscore":64,"./tpl_names":73}],73:[function(require,module,exports){
(function(){
    "use strict";


    module.exports = function(){

        var tpl_names = {};

        tpl_names.templatePath = ""+BrandConfig.rootUrl+"tpl/finalTemplate.html";

        tpl_names.templateViews = {

            //---   View Components
            'HeaderView'                        : 'HeaderView',
            'FooterView'                        : 'FooterView',
            'SidebarMenuView'                   : 'SidebarMenuView',

            //---   View
            'LoginView'                         : 'LoginView',
            'FirstTimeLoginView'                : 'FirstTimeLoginView',
            'MFAView'                           : 'MFAView',

            //-------------
            'ForgotPasswordView'                : 'ForgotPasswordView',

            'AccountsOverviewView'              : 'AccountsOverviewView',
            'StatementsView'                    : 'StatementsView',

            //--- Details and history view
            'DetailsAndHistoryView'             : 'DetailsAndHistoryView',
            //--- Details and history CHILD Views
            'AccOverviewDetailsDepositView'     : 'AccOverviewDetailsDepositView',
            'AccDetailsDepositView'             : 'AccDetailsDepositView',
            'AccOverviewDetailsLoanView'        : 'AccOverviewDetailsLoanView',
            'AccDetailsLoanView'                : 'AccDetailsLoanView',
            'AccOverviewDetailsCDView'          : 'AccOverviewDetailsCDView',
            'AccDetailsCDView'                  : 'AccDetailsCDView',

            //---  Funds and Pending Transfer
            'FundsTransferView'                 : 'FundsTransferView',
            'ReviewFundsTransferView'           : 'ReviewFundsTransferView',
            'PendingTransfersView'              : 'PendingTransfersView',
            'PendingTablesView'                 : 'PendingTablesView',
            'EditFundsTransferView'             : 'EditFundsTransferView',
            'ReviewEditFundsTransferView'       : 'ReviewEditFundsTransferView',
            'BillPayView'                       : 'BillPayView',

            //---  ACH Transfers
            'AchBatchSummaryView'               : 'AchBatchSummaryView',
            'AchRecipientsView'                 : 'AchRecipientsView',
            'CreateNewAchBatchView'             : 'CreateNewAchBatchView',
            'EditAchBatchView'                  : 'EditAchBatchView',
            'AddNewAchRecipientView'            : 'AddNewAchRecipientView',
            'EditAchRecipientView'              : 'EditAchRecipientView',
            'AchBatchAuthorizationView'         : 'AchBatchAuthorizationView',
            'AchFileImportView'                 : 'AchFileImportView',
            'AchFileImportAuthView'             : 'AchFileImportAuthView',
            'FileBatchAuthView'                 : 'FileBatchAuthView',

             //---  Wire Transfers
            'BeneficiaryRegistrationView'               : 'BeneficiaryRegistrationView',
            'ConfirmBeneficiaryRegistrationView'        : 'ConfirmBeneficiaryRegistrationView',
            'ListBeneficiaryRegisteredView'             : 'ListBeneficiaryRegisteredView',
            'EditBeneficiaryRegistrationView'           : 'EditBeneficiaryRegistrationView',
            'WireTransferRequestView'                   : 'WireTransferRequestView',
            'WireTransferReqSuccessView'                : 'WireTransferReqSuccessView',
            'WireTransferAuthView'                      : 'WireTransferAuthView',



            //----- Services -----
            'ChangePasswordView'                : 'ChangePasswordView',
            'SecurityQuestionsView'             : 'SecurityQuestionsView',
            'ChangePersonalDetailsView'         : 'ChangePersonalDetailsView',
            'OrderChecksView'                   : 'OrderChecksView',
            'StopPaymentView'                   : 'StopPaymentView',
            'StopPaymentListView'               : 'StopPaymentListView',
            'SessionsReportView'                : 'SessionsReportView',
            'SetupAlertsView'                   : 'SetupAlertsView',
            'ViewAlertsView'                    : 'ViewAlertsView',
            'EditAlertsView'                    : 'EditAlertsView',
            'SetupRemindersView'                : 'SetupRemindersView',
            'ViewRemindersView'                 : 'ViewRemindersView',
            'EditRemindersView'                 : 'EditRemindersView',
            // Emails
            'SendEmailView'     : "SendEmailView",
            'ViewEmailView'     : "ViewEmailView",
            'EmailChainView'    : "EmailChainView",
            'InboxView'         : "InboxView",
            'SentView'          : "SentView",
            'TrashView'         : "TrashView",

            //-------  Calculators  --------
            'BondCalculatorView'                : 'BondCalculatorView',
            'LoanCalculatorView'                : 'LoanCalculatorView',
            'SavingsCalculatorView'             : 'SavingsCalculatorView',

            //--------------------------------------------------
            //----- User Management -----
            //--------------------------------------------------
            'UsersView'                       : 'UsersView',
            'CreateNewUserView'               : 'CreateNewUserView',
            'EditUserView'                    : 'EditUserView'

        };

        return tpl_names;

    }();

})();


},{}],74:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var dConfig = require('./default_config');
        var gConfig = require('./global_config');
        var NotyMsg = require('./noty_msg');
        var Pace = require('../lib/pace');
        var _ = require('../lib/underscore');
        require('../lib/idle-timer.js');
        var AppApiUrl = require('../app/app_api_url');
        var Utils = {};

        Utils.logout = function(){
            dConfig.AppInState = false;
            dConfig.userInfo = {};
            gConfig = {};
            gConfig.userInfo = {};
            Utils.sessionCheck.stopSession();
            var Models = require('../models/models');
            var logoutModel = Models.getLogoutModel();
            logoutModel.processRequest();
        };
        Utils.sessionLogout = function(){
            dConfig.AppInState = false;
            dConfig.userInfo = {};
            gConfig = {};
            gConfig.userInfo = {};
            Utils.sessionCheck.stopSession();
            var AppActivity = require("../app/app_activity");
            AppActivity.trigger("login");
        };

        Utils.token = "";

        Utils.setToken = function(){
            var serverCall = $.ajax({
                url : AppApiUrl.csrfInit,
                type : 'GET',
                headers : {
                    'x-csrf-token' : Utils.token
                },
                success:function (response) {

                    Utils.token = serverCall.getResponseHeader("x-csrf");

                },// show error message
                error: function(jqXHR, textStatus, errorThrown ){
                    NotyMsg.errorMsg("Token Error.");
                }
            });

        };


        Utils.maskAccount = function(account){

                var noOfStars = 0;
                var noOfDigits = 0;
                var accCase = account.length;
                switch (accCase){
                    case 1 : noOfStars = 7;
                        noOfDigits = 1;
                        break;
                    case 2 : noOfStars = 6;
                        noOfDigits = 2;
                        break;
                    case 3 : noOfStars = 5;
                        noOfDigits = 3;
                        break;
                    case 4 : noOfStars = 4;
                        noOfDigits = 4;
                        break;
                    default : noOfStars = 4;
                        noOfDigits = 4;
                        break;
                }

                var appendStar = '';
                for(var i=0;i<noOfStars;i++){
                    appendStar += '*';
                }
                return (appendStar+account.slice(-noOfDigits));

        };

        Utils.formatAmount = function(x){
            var amt = parseFloat(x).toFixed(2);
            if($.isNumeric(x)){
                return amt.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }else{
                return x
            }
        };

        Utils.handleMenuOnReSize = function(x){
            $(window).on("resize", function(){
                if(window.innerWidth > 768){
                    if($("#wrapper").hasClass("toggled")){
                        $("#wrapper").toggleClass("toggled");
                    }
                }
            });
        };

        Utils.initPace = function(){
            Pace.on("start", function(){
                $("#loader").show();
                console.log("Pace started");
                //Utils.disableActionItems();
            });
            Pace.on("done", function(){
                $("#loader").hide();
                console.log("Pace Done");
                //Utils.enableActionItems();
            });
        };

        Utils.initDateTimePickerBackdrop = function(){
            /*$("#dateTimeBack").click(function(){
                $("#dateTimePickerBackdrop").hide();
            });*/

        };

        Utils.disableActionItems = function(){
            $("input, button, select, a").prop("disabled",true);
        };
        Utils.enableActionItems = function(){
            $("input, button, select, a").prop("disabled",false);
        };

        Utils.hideHamMenu = function(){


        };
        Utils.bindEventsToApp = function(){
            //document.oncontextmenu = new Function("return false"); //Disabling right-click
            //document.onselectstart = new Function("return false"); //Disabling text selection in web page
        };
        Utils.bindStickyBehaviour = function(){
            $("input").focusin(function(){
                $("div.sticky-footer").css("position","absolute");
            });
            $("input").focusout(function(){
                $("div.sticky-footer").css("position","fixed");
            });
        };



        Utils.sessionCheck = {

            initSession: function(){
                var userWasIdle = false;
                var alertTimer = "";
                var showTimer = "";
                Utils.sessionExp = false;
                $(document).on( "idle.idleTimer", function(){
                    //userWasIdle = true;

                    Utils.sessionExp = true;
                    //userWasIdle = false;

                    //$( document ).idleTimer("destroy");

                    var timerSeconds = Utils.countDownTimer/1000;
                    if(window.innerWidth < 769){
                        checkMobileSession();
                    }else{
                        $("#sessionTimeoutModal").modal("show");
                    }

                    alertTimer = setInterval(function(){
                        clearInterval(alertTimer);
                        clearInterval(showTimer);
                        Utils.sessionExp = true;
                        NotyMsg.errorMsg("Your Session has expired. You have been logged out due to inactivity.");
                        $("#sessionTimeoutModal").modal("hide");
                        Utils.logout();
                        $( document ).idleTimer("destroy");
                    }, Utils.countDownTimer);

                    showTimer = setInterval(function(){
                        timerSeconds = timerSeconds - 1;
                        $("#sessionCounter").html(timerSeconds)
                    }, 1000);


                });
                $("#resetSession").click(function(){
                    clearInterval(alertTimer);
                    clearInterval(showTimer);

                    gConfig.userInfo.nextAction = function(){
                        $( document ).idleTimer("destroy");
                        Utils.sessionCheck.startSession();
                        $("#sessionTimeoutModal").modal("hide");
                    };
                    var AppActivity = require('../app/app_activity');
                    AppActivity.trigger("updateCustomerAccs");
                });
                function checkMobileSession(){
                    clearInterval(alertTimer);
                    clearInterval(showTimer);

                    gConfig.userInfo.nextAction = function(){
                        $( document ).idleTimer("destroy");
                        Utils.sessionCheck.startSession();
                        $("#sessionTimeoutModal").modal("hide");
                    };
                    var AppActivity = require('../app/app_activity');
                    AppActivity.trigger("updateCustomerAccs");
                }
                $("#exitSession").click(function(){
                    clearInterval(alertTimer);
                    clearInterval(showTimer);
                    Utils.sessionExp = true;
                    NotyMsg.errorMsg("Your Session has expired. You have been logged out due to inactivity.");
                    Utils.logout();
                    $( document ).idleTimer("destroy");
                });

                $(document).on( "active.idleTimer", function(){

                    /*if(userWasIdle){
                        Utils.sessionExp = true;
                        userWasIdle = false;
                        NotyMsg.errorMsg("Your Session has expired. You have been logged out due to inactivity.");
                        Utils.logout();
                        $( document ).idleTimer("destroy");
                    }*/

                });

            },
            startSession :function(){
                $(document).idleTimer(  Utils.sessionTime - Utils.countDownTimer );
            },
            stopSession :function(){
                $( document ).idleTimer("destroy");
            }
        };

        return Utils;

    }();

})();
},{"../app/app_activity":1,"../app/app_api_url":2,"../lib/idle-timer.js":55,"../lib/jquery":57,"../lib/pace":61,"../lib/underscore":64,"../models/models":66,"./default_config":68,"./global_config":69,"./noty_msg":71}],75:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var Moment = require("../lib/moment");

        var ValidatorOptions = {

            login: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    userId: {
                        validators: {
                            notEmpty: {
                                message: 'The username is required and cannot be empty'
                            }
                        }
                    },
                    password: {
                        validators: {
                            notEmpty: {
                                message: 'The password is required and cannot be empty'
                            }
                        }
                    }

                }
            },
            firstTimeLogin: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    userId: {
                        validators: {
                            notEmpty: {
                                message: 'The username is required and cannot be empty'
                            }
                            /*
                             minNumeric: {
                             min: 1,
                             message: 'User ID must contain at least 1 Numeric Character (0-9)'
                             },
                             minAlpha: {
                             min: 1,
                             message: 'User ID must contain at least 1 Alphabetic Character (eg:$#*)'
                             },
                             specialChar: {
                             min: 1,
                             message: 'User ID must contain at least 1 Special Character (eg:$#*)'
                             },

                             stringLength: {
                             min: 6,
                             message: 'User ID must be al least 6 characters long'
                             }
                             */
                        }
                    },
                    password: {
                        validators: {
                            notEmpty: {
                                message: 'Password is required and cannot be empty'
                            }
                            /*
                             minNumeric: {
                             min: 1,
                             message: 'Password must contain at least 1 Numeric Character (0-9)'
                             },
                             minUpperCase: {
                             min: 1,
                             message: 'Password must contain at least 1 Upper Case alphabet (A-Z)'
                             },
                             minLowerCase: {
                             min: 1,
                             message: 'Password must contain at least 1 Lower Case alphabet (a-z)'
                             },
                             specialChar: {
                             min: 1,
                             message: 'Password must contain at least 1 Special Character (eg:$#*)'
                             },
                             stringLength: {
                             min: 8,
                             message: 'Password must be at least 8 characters long'
                             }
                             different: {
                             field: 'userId',
                             message: 'The User ID and Password cannot be the same as each other'
                             }
                             */
                        }
                    },
                    qOne: {
                        validators: {
                            select: {
                                message: 'Please select Question 1'
                            }
                        }
                    },
                    qTwo: {
                        validators: {
                            select: {
                                message: 'Please select Question 2'
                            }
                        }
                    },
                    qThree: {
                        validators: {
                            select: {
                                message: 'Please select Question 3'
                            }
                        }
                    },
                    aOne: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 1'
                            }
                        }
                    },
                    aTwo: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 2'
                            }
                        }
                    },
                    aThree: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 3'
                            }
                        }
                    }

                }
            },
            mfaSecurityQ: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    answer: {
                        validators: {
                            notEmpty: {
                                message: 'The Answer is required and cannot be empty'
                            }
                        }
                    }
                }
            },

            forgotPasswordUserId: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    userId: {
                        validators: {
                            notEmpty: {
                                message: 'The User ID is required and cannot be empty'
                            }
                        }
                    }
                }
            },
            forgotPasswordSecQ: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    aOne: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 1'
                            }
                        }
                    },
                    aTwo: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 2'
                            }
                        }
                    }
                }
            },

            changePassword: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    oldPassword: {
                        validators: {
                            notEmpty: {
                                message: 'Old Password is required'
                            }
                        }
                    },
                    newPassword: {
                        validators: {
                            notEmpty: {
                                message: 'New Password is required'
                            },
                            different: {
                                field: 'oldPassword',
                                message: 'The New Password must be different from Old Password'
                            }
                            /*
                             minNumeric: {
                             min: 1,
                             message: 'Password must contain at least 1 Numeric Character (0-9)'
                             },
                             minUpperCase: {
                             min: 1,
                             message: 'Password must contain at least 1 Upper Case alphabet (A-Z)'
                             },
                             minLowerCase: {
                             min: 1,
                             message: 'Password must contain at least 1 Lower Case alphabet (a-z)'
                             },
                             specialChar: {
                             min: 1,
                             message: 'Password must contain at least 1 Special Character (eg:$#*)'
                             },
                             stringLength: {
                             min: 8,
                             message: 'Password must be at least 8 characters long'
                             }
                             */
                        }
                    },
                    confirmNewPassword: {
                        validators: {
                            notEmpty: {
                                message: 'Confirm New Password is required'
                            },
                            identical: {
                                field: 'newPassword',
                                message: 'The New Password and its Confirm are not the same'
                            }
                        }
                    }
                }
            },
            changeSecurityQ: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    qOne: {
                        validators: {
                            select: {
                                message: 'Please select Question 1'
                            }
                        }
                    },
                    qTwo: {
                        validators: {
                            select: {
                                message: 'Please select Question 2'
                            }
                        }
                    },
                    qThree: {
                        validators: {
                            select: {
                                message: 'Please select Question 3'
                            }
                        }
                    },
                    aOne: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 1'
                            }
                        }
                    },
                    aTwo: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 2'
                            }
                        }
                    },
                    aThree: {
                        validators: {
                            notEmpty: {
                                message: 'Answer is required for Question 3'
                            }
                        }
                    }
                }
            },
            changePersonalDetails: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    userId: {
                        validators: {
                            notEmpty: {
                                message: 'User ID is required and cannot be empty'
                            }
                        }
                    },
                    addrLineOne: {
                        validators: {
                            stringLength: {
                                max: 200,
                                message: 'Address Line 1 should not be more than 200 characters'
                            }
                        }
                    },
                    addrLineTwo: {
                        validators: {
                            stringLength: {
                                max: 200,
                                message: 'Address Line 2 should not be more than 200 characters'
                            }
                        }
                    },
                    city: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'City should not be more than 100 characters'
                            }
                        }
                    },
                    state: {
                        validators: {

                        }
                    },
                    zipCode: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Zip code'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Zip should not be more than 5 characters'
                            }
                        }
                    },
                    country: {
                        validators: {

                        }
                    },
                    homePhone: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Phone Number'
                            },
                            stringLength: {
                                max: 10,
                                message: 'Phone Number should not be more than 10 digits'
                            }
                        }
                    },
                    workPhone: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Phone Number'
                            },
                            stringLength: {
                                max: 10,
                                message: 'Work Number should not be more than 10 digits'
                            }
                        }
                    },
                    cellPhone: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Phone Number'
                            },
                            stringLength: {
                                max: 10,
                                message: 'Cell Number should not be more than 10 digits'
                            }
                        }
                    },
                    emailId: {
                        validators: {
                            fullEmailAddress: {
                                message: 'Please enter a valid E-Mail ID'
                            }/*,
                            regexp: {
                                regexp: '^[^@\\s]+@([^@\\s]+\\.)+[^@\\s]+$',
                                message: 'Please enter a valid E-Mail ID'
                            }*/
                        }
                    }
                }
            },
            orderChecks : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    acc: {
                        validators: {
                            select: {
                                message: 'Please select an Account'
                            }
                        }
                    },
                    startCheckNo: {
                        validators: {
                            notEmpty: {
                                message: 'Starting Check No. is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Check No'
                            }
                        }
                    },
                    noOfBoxes: {
                        validators: {
                            notEmpty: {
                                message: 'No. of boxes is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid No. of boxes'
                            }
                        }
                    },
                    design: {
                        validators: {
                            select: {
                                message: 'Please select a design'
                            }
                        }
                    }
                }
            },
            stopSingleCheck : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    checkNo: {
                        validators: {
                            notEmpty: {
                                message: 'Check Number is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            }
                        }
                    },
                    amount: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            }
                        }
                    },
                    reason: {
                        validators: {
                            notEmpty: {
                                message: 'Reason is required and cannot be empty'
                            },
                            stringLength: {
                                max: 100,
                                message: 'Reason cannot be more than 100 characters'
                            }
                        }
                    },
                    comments: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'Comments/Payable To cannot be more than 100 characters'
                            }
                        }
                    }
                }
            },
            stopMultipleCheck : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromCheckNo: {
                        validators: {
                            notEmpty: {
                                message: 'Check Number From is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            },
                            lessThan: {
                                value : 'toCheckNo',
                                message: 'From Check Number must be less than To Check Number'
                            }
                        }
                    },
                    toCheckNo: {
                        validators: {
                            notEmpty: {
                                message: 'Check Number To is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            },
                            greaterThan: {
                                value : 'fromCheckNo',
                                message: 'To Check Number must be greater than From Check Number'
                            }
                        }
                    },
                    fromAmount: {
                        validators: {
                            notEmpty: {
                                message: 'From Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            },
                            lessThan: {
                                value : 'toAmount',
                                message: 'From Amount must be less than To Amount'
                            }
                        }
                    },
                    toAmount: {
                        validators: {
                            notEmpty: {
                                message: 'To Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            },
                            greaterThan: {
                                value : 'fromAmount',
                                message: 'To Amount must be greater than From Amount'
                            }
                        }
                    },
                    reason: {
                        validators: {
                            notEmpty: {
                                message: 'Reason is required and cannot be empty'
                            },
                            stringLength: {
                                max: 100,
                                message: 'Reason cannot be more than 100 characters'
                            }
                        }
                    },
                    comments: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'Comments/Payable To cannot be more than 100 characters'
                            }
                        }
                    }
                }
            },
            stopSingleACH : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    amount: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            }
                        }
                    },
                    reason: {
                        validators: {
                            notEmpty: {
                                message: 'Reason is required and cannot be empty'
                            }
                        },
                        stringLength: {
                            max: 100,
                            message: 'Reason cannot be more than 100 characters'
                        }
                    },
                    comments: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'Comments/Payable To cannot be more than 100 characters'
                            }
                        }
                    }
                }
            },
            stopMultipleACH : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromAmount: {
                        validators: {
                            notEmpty: {
                                message: 'From Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            },
                            lessThan: {
                                value : 'toAmount',
                                message: 'From Amount must be less than To Amount'
                            }
                        }
                    },
                    toAmount: {
                        validators: {
                            notEmpty: {
                                message: 'To Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            },
                            greaterThan: {
                                value : 'fromAmount',
                                message: 'To Amount must be greater than From Amount'
                            }
                        }
                    },
                    reason: {
                        validators: {
                            notEmpty: {
                                message: 'Reason is required and cannot be empty'
                            },
                            stringLength: {
                                max: 100,
                                message: 'Reason cannot be more than 100 characters'
                            }
                        }
                    },
                    comments: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'Comments/Payable To cannot be more than 100 characters'
                            }
                        }
                    }
                }
            },
            sessionsReport : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    selectUser: {
                        validators: {
                            select: {
                                message: 'Please select an user'
                            }
                        }
                    },
                    fromDate: {
                        validators: {
                            notEmpty: {
                                message: 'From Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    toDate: {
                        validators: {
                            notEmpty: {
                                message: 'To Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    }

                }
            },
            alerts : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    module: {
                        validators: {
                            select: {
                                message: 'Please select a Module'
                            }
                        }
                    },
                    account: {
                        validators: {
                            select: {
                                message: 'Please select an Account'
                            }
                        }
                    },
                    defaultAlert: {
                        validators: {
                            select: {
                                message: 'Please select a Send Me an Alert'
                            }
                        }
                    },
                    accAlerts: {
                        validators: {
                            select: {
                                message: 'Please select a Send Me an Alert'
                            }
                        }
                    },
                    achAlerts: {
                        validators: {
                            select: {
                                message: 'Please select a Send Me an Alert'
                            }
                        }
                    },
                    userAlerts: {
                        validators: {
                            select: {
                                message: 'Please select a Send Me an Alert'
                            }
                        }
                    },
                    wireAlerts: {
                        validators: {
                            select: {
                                message: 'Please select a Send Me an Alert'
                            }
                        }
                    },
                    amount: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    checkNo: {
                        validators: {
                            notEmpty: {
                                message: 'Check Number is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            }
                        }
                    },
                    fromCheckNo: {
                        validators: {
                            notEmpty: {
                                message: 'From Check Number is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            }
                        }
                    },
                    toCheckNo: {
                        validators: {
                            notEmpty: {
                                message: 'To Check Number is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Check Number'
                            }
                        }
                    }

                }
            },

            reminders: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    date: {
                        validators: {
                            notEmpty: {
                                message: 'Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    reminder: {
                        validators: {
                            notEmpty: {
                                message: 'Reminder is required and cannot be empty'
                            },
                            stringLength: {
                                max: 100,
                                message: 'Reminder cannot be more than 100 characters'
                            }
                        }
                    },
                    schedule: {
                        validators: {
                            select: {
                                message: 'Please select a Schedule'
                            }
                        }
                    }
                }
            },

            transHistoryDateRange: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromDate: {
                        validators: {
                            notEmpty: {
                                message: 'From Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    toDate: {
                        validators: {
                            notEmpty: {
                                message: 'To Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    }
                }
            },
            transHistoryAdvance: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromAmt: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    toAmt: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    fromCheck: {
                        validators: {
                            digits: {
                                message: 'Please enter a valid check number'
                            }
                        }
                    },
                    toCheck: {
                        validators: {
                            digits: {
                                message: 'Please enter a valid check number'
                            }
                        }
                    }
                }
            },

            fundsTransfer : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromAcc: {
                        validators: {
                            select: {
                                message: 'Please select a From Account'
                            }
                        }
                    },
                    toAcc: {
                        validators: {
                            select: {
                                message: 'Please select a To Account'
                            }
                        }
                    },
                    amt: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            /*regexp: {
                             regexp: /[0-9]+(\.[0-9][0-9]?)?/,
                             message: 'Please enter a valid amount'
                             },*/
                            greaterThan:{
                                value : 0,
                                message: 'Amount should be greater than 0'
                            }

                        }
                    },
                    payDate: {
                        validators: {
                            notEmpty: {
                                message: 'Pay On date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'The value is not a valid date'
                            }
                            /*callback: {
                             message: 'Pay On date is required',
                             callback: function(value, validator) {
                             console.log(value);
                             var m = Moment(value, 'MM/DD/YYYY', true);
                             if (!m.isValid()) {
                             return false;
                             }
                             }
                             }*/
                        }
                    }
                }
            },

            createNewAchBatch : {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    batchName: {
                        validators: {
                            notEmpty: {
                                message: 'Batch Name is required'
                            }
                        }
                    },
                    companyName: {
                        validators: {
                            notEmpty: {
                                message: 'Company Name is required'
                            }
                        }
                    },
                    companyId: {
                        validators: {
                            notEmpty: {
                                message: 'Company Identification is required'
                            },
                            numeric: {
                                message: 'Company Identification should be numeric only'
                            },
                            stringLength: {
                                min: 1,
                                max: 10,
                                message: 'Company Id should not be more than 10 characters'
                            }

                        }
                    },
                    batchDescription: {
                        validators: {
                            notEmpty: {
                                message: 'Batch Description is required'
                            }
                        }
                    },
                    dateScheduled: {
                        validators: {
                            notEmpty: {
                                message: 'Date Scheduled is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    expDate: {
                        validators: {
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    }
                }
            },
            createNewAchRecipient : {
                message: 'This value is not valid',
                live: 'disabled',
                excluded: ':disabled',
                fields: {
                    batchList: {
                        validators: {
                            select: {
                                message: 'Please select an ACH Batch'
                            }
                        }
                    },
                    recipientName: {
                        validators: {
                            notEmpty: {
                                message: 'Recipient Name is required'
                            }
                        }
                    },
                    identification: {
                        validators: {
                            notEmpty: {
                                message: 'Identification is required'
                            }
                        }
                    },
                    accountNo: {
                        validators: {
                            notEmpty: {
                                message: 'Account Number is required'
                            },
                            numeric: {
                                message: 'Please enter a valid Account Number'
                            }
                        }
                    },
                    amount: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required'
                            },
                            numeric: {
                                message: 'Please enter a valid Amount'
                            }
                        }
                    },
                    routingNumber: {
                        validators: {
                            notEmpty: {
                                message: 'Routing Number is required'
                            },
                            digits: {
                                message: 'Please enter a valid Routing Number'
                            },
                            stringLength: {
                                max: 9,
                                message: 'Routing Number should not be more than 9 characters'
                            }
                        }
                    },
                    transCode: {
                        validators: {
                            select: {
                                message: 'Please select a Transaction Code'
                            }
                        }
                    },
                    addenda: {
                        validators: {
                            stringLength: {
                                min: 0,
                                max: 80,
                                message: 'Addenda should not be more than 80 characters'
                            }
                        }
                    }
                }
            },

            wireTransferRequest: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fromAcc: {
                        validators: {
                            select: {
                                message: 'Please select a From Account'
                            }
                        }
                    },
                    amount: {
                        validators: {
                            notEmpty: {
                                message: 'Amount is required'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            /*regexp: {
                             regexp: /[0-9]+(\.[0-9][0-9]?)?/,
                             message: 'Please enter a valid amount'
                             },*/
                            greaterThan:{
                                value : 0,
                                message: 'Amount should be greater than 0'
                            }

                        }
                    },
                    benList: {
                        validators: {
                            select: {
                                message: 'Please select a Beneficiary'
                            }
                        }
                    },
                    dateScheduled: {
                        validators: {
                            notEmpty: {
                                message: 'Schedule date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'The value is not a valid date'
                            }
                            /*callback: {
                             message: 'Pay On date is required',
                             callback: function(value, validator) {
                             console.log(value);
                             var m = Moment(value, 'MM/DD/YYYY', true);
                             if (!m.isValid()) {
                             return false;
                             }
                             }
                             }*/
                        }
                    }
                }
            },
            registerBeneficiary: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    beneficiaryName: {
                        validators: {
                            notEmpty: {
                                message: 'Name is required and cannot be empty'
                            },
                            stringLength: {
                                max: 200,
                                message: 'Name should not be more than 200 characters'
                            }
                        }
                    },
                    addressLine1: {
                        validators: {
                            stringLength: {
                                max: 200,
                                message: 'Address Line 1 should not be more than 200 characters'
                            }
                        }
                    },
                    addressLine2: {
                        validators: {
                            stringLength: {
                                max: 200,
                                message: 'Address Line 2 should not be more than 200 characters'
                            }
                        }
                    },
                    city: {
                        validators: {
                            stringLength: {
                                max: 100,
                                message: 'City should not be more than 100 characters'
                            }
                        }
                    },
                    state: {
                        validators: {

                        }
                    },
                    zip: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Zip code'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Zip should not be more than 5 characters'
                            }
                        }
                    },
                    specialInstruction: {
                        validators: {
                            stringLength: {
                                max: 200,
                                message: 'Special Instruction should not be more than 200 characters'
                            }
                        }
                    },
                    accountNo: {
                        validators: {
                            notEmpty: {
                                message: 'Account is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Account Number'
                            },
                            stringLength: {
                                min: 4,
                                max: 20,
                                message: 'Account Number should be between 4 to 20 characters'
                            }
                        }
                    },
                    bankName: {
                        validators: {
                            notEmpty: {
                                message: 'Bank Name is required and cannot be empty'
                            },
                            stringLength: {
                                max: 200,
                                message: 'Bank Name should not be more than 200 characters'
                            }
                        }
                    },
                    bankRoutingNo: {
                        validators: {
                            notEmpty: {
                                message: 'Bank Routing Number is required and cannot be empty'
                            },
                            digits: {
                                message: 'Please enter a valid Routing Number'
                            },
                            stringLength: {
                                max: 9,
                                message: 'Routing Number should not be more than 9 characters'
                            }
                        }
                    },
                    intermediaryBankRoutingNo: {
                        validators: {
                            digits: {
                                message: 'Please enter a valid Routing Number'
                            },
                            stringLength: {
                                max: 9,
                                message: 'Routing Number should not be more than 9 characters'
                            }
                        }
                    }
                }
            },

            createNewUser: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    userId: {
                        validators: {
                            notEmpty: {
                                message: 'The User ID is required and cannot be empty'
                            }
                        }
                    },
                    custName: {
                        validators: {
                            notEmpty: {
                                message: 'Customer Name is required and cannot be empty'
                            }
                        }
                    },
                    emailId: {
                        validators: {
                            notEmpty: {
                                message: 'Email ID is required and cannot be empty'
                            },
                            emailAddress: {
                                message: 'Please enter a valid email address'
                            }
                        }
                    },
                    mobileNo: {
                        validators: {
                            notEmpty: {
                                message: 'Mobile No. is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid mobile no'
                            }
                        }
                    },
                    fundsTransferLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'Transfer Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'fundsTransferLimitPDay',
                                message: 'Transfer Limit Per Transaction must be less than Transfer Limit Per Day'
                            }
                        }
                    },
                    fundsTransferLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'Transfer Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            greaterThan: {
                                value : 'fundsTransferLimitPTrans',
                                message: 'Transfer Limit Per Day must be greater than Transfer Limit Per Transaction'
                            }
                        }
                    },
                    wireTransferLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'Wire Transfer Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'wireTransferLimitPDay',
                                message: 'Wire Transfer Limit Per Transaction must be less than Wire Transfer Limit Per Day'
                            }
                        }
                    },
                    wireTransferLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'Wire Transfer Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            greaterThan: {
                                value : 'wireTransferLimitPTrans',
                                message: 'Transfer Limit Per Day must be greater than Transfer Limit Per Transaction'
                            }
                        }
                    },
                    achDebitLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Debit Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'achDebitLimitPDay',
                                message: 'ACH Debit Limit Per Transaction must be less than ACH Debit Limit Per Day'
                            }
                        }
                    },
                    achDebitLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Debit Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            greaterThan: {
                                value : 'achDebitLimitPTrans',
                                message: 'ACH Debit Limit Per Day must be greater than ACH Debit Limit Per Transaction'
                            }
                        }
                    },
                    achCreditLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Credit Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'achCreditLimitPDay',
                                message: 'ACH Credit Limit Per Transaction must be less than ACH Credit Limit Per Day'
                            }
                        }
                    },
                    achCreditLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Credit Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            greaterThan: {
                                value : 'achCreditLimitPTrans',
                                message: 'ACH Credit Limit Per Day must be greater than ACH Credit Limit Per Transaction'
                            }
                        }
                    }

                }
            },

            editUserTransLimits: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    fundsTransferLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'Transfer Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'fundsTransferLimitPDay',
                                message: 'Transfer Limit Per Transaction must be less than Transfer Limit Per Day'
                            }
                        }
                    },
                    fundsTransferLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'Transfer Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    wireTransferLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'Wire Transfer Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'wireTransferLimitPDay',
                                message: 'Wire Transfer Limit Per Transaction must be less than Wire Transfer Limit Per Day'
                            }
                        }
                    },
                    wireTransferLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'Wire Transfer Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    achDebitLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Debit Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'achDebitLimitPDay',
                                message: 'ACH Debit Limit Per Transaction must be less than ACH Debit Limit Per Day'
                            }
                        }
                    },
                    achDebitLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Debit Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    },
                    achCreditLimitPTrans: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Credit Limit Per Transaction is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            lessThan: {
                                value : 'achCreditLimitPDay',
                                message: 'ACH Credit Limit Per Transaction must be less than ACH Credit Limit Per Day'
                            }
                        }
                    },
                    achCreditLimitPDay: {
                        validators: {
                            notEmpty: {
                                message: 'ACH Credit Limit Per Day is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            }
                        }
                    }

                }
            },

            //--------   Calculators -----
            loanCalculator: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    loanAmt: {
                        validators: {
                            notEmpty: {
                                message: 'Loan Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid amount'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Loan Amount cannot exceed more than 13 characters'
                            }
                        }
                    },
                    intRate: {
                        validators: {
                            notEmpty: {
                                message: 'Interest Rate is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid interest rate'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Interest Rate cannot exceed more than 5 characters'
                            }
                        }
                    },
                    noOfMonths: {
                        validators: {
                            notEmpty: {
                                message: 'Number of Months is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Number of Months'
                            },
                            stringLength: {
                                max: 3,
                                message: 'Number of months cannot exceed more than 3 characters'
                            }

                        }
                    }
                }
            },
            savingsCalculator: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    openBal: {
                        validators: {
                            notEmpty: {
                                message: 'Opening Balance is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Opening Balance'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Opening Balance cannot exceed more than 13 characters'
                            }
                        }
                    },
                    monthDeposit: {
                        validators: {
                            notEmpty: {
                                message: 'Monthly Deposit is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Monthly Deposit'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Monthly Deposit cannot exceed more than 13 characters'
                            }
                        }
                    },
                    periodMonths: {
                        validators: {
                            notEmpty: {
                                message: 'Period is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Period'
                            },
                            stringLength: {
                                max: 3,
                                message: 'Period cannot exceed more than 3 characters'
                            }

                        }
                    },
                    annualInt: {
                        validators: {
                            notEmpty: {
                                message: 'Annual Interest is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Annual Interest'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Annual Interest cannot exceed more than 5 characters'
                            }

                        }
                    }
                }
            },
            bondCalculator: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    series: {
                        validators: {
                            select: {
                                message: 'Please select a Series'
                            }
                        }
                    },
                    denomination: {
                        validators: {
                            select: {
                                message: 'Please select a Denomination'
                            }
                        }
                    },
                    month: {
                        validators: {
                            select: {
                                message: 'Please select a Issued Month'
                            }
                        }
                    },
                    year: {
                        validators: {
                            notEmpty: {
                                message: 'Year is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Year'
                            },
                            stringLength: {
                                min: 4,
                                max: 4,
                                message: 'Year should be 4 digits'
                            }
                        }
                    }
                }
            },
            retirementCalculator: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    begBal: {
                        validators: {
                            notEmpty: {
                                message: 'Beginning Balance is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Beginning Balance'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Beginning Balance cannot exceed more than 13 characters'
                            }
                        }
                    },
                    annualContribution: {
                        validators: {
                            notEmpty: {
                                message: 'Annual Contribution is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Annual Contribution'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Annual Contribution cannot exceed more than 13 characters'
                            }
                        }
                    },
                    dob: {
                        validators: {
                            notEmpty: {
                                message: 'Date Of Birth is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid Date Of Birth'
                            }
                        }
                    },
                    finalAge: {
                        validators: {
                            notEmpty: {
                                message: 'Age At Final Contribution is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Age'
                            },
                            stringLength: {
                                max: 3,
                                message: 'Age At Final Contribution cannot exceed more than 3 characters'
                            }
                        }
                    },
                    withdrawAmt: {
                        validators: {
                            notEmpty: {
                                message: 'Future Withdrawal Amount is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Future Withdrawal Amount'
                            },
                            stringLength: {
                                max: 13,
                                message: 'Future Withdrawal Amount cannot exceed more than 13 characters'
                            }
                        }
                    },
                    taxBracketRate: {
                        validators: {
                            numeric: {
                                message: 'Please enter a valid Tax Bracket Rate'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Tax Bracket Rate cannot exceed more than 5 characters'
                            }
                        }
                    },
                    rateOfIRA: {
                        validators: {
                            notEmpty: {
                                message: 'Estimated Earnings Rate Of The IRA is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Estimated Earnings Rate Of The IRA'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Estimated Earnings Rate Of The IRA cannot exceed more than 5 characters'
                            }
                        }
                    },
                    rateOfAnnuity: {
                        validators: {
                            notEmpty: {
                                message: 'Estimated Earnings Rate Of The Annuity is required and cannot be empty'
                            },
                            numeric: {
                                message: 'Please enter a valid Estimated Earnings Rate Of The Annuity'
                            },
                            stringLength: {
                                max: 5,
                                message: 'Estimated Earnings Rate Of The Annuity cannot exceed more than 5 characters'
                            }
                        }
                    }
                }
            },

            sendEmail: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    subject: {
                        validators: {
                            notEmpty: {
                                message: 'Subject is required and cannot be empty'
                            }
                        }
                    },
                    message: {
                        validators: {
                            notEmpty: {
                                message: 'Message is required and cannot be empty'
                            }
                        }
                    }
                }
            },
            replyEmail: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    replyMessage: {
                        validators: {
                            notEmpty: {
                                message: 'Reply Message is required and cannot be empty'
                            }
                        }
                    }
                }
            },
            statements: {
                message: 'This value is not valid',
                live: 'disabled',
                fields: {
                    accNo: {
                        validators: {
                            select: {
                                message: 'Please select an Account Number'
                            }
                        }
                    },
                    fromDate: {
                        validators: {
                            notEmpty: {
                                message: 'From Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    toDate: {
                        validators: {
                            notEmpty: {
                                message: 'To Date is required'
                            },
                            date: {
                                format: 'MM/DD/YYYY',
                                message: 'Please enter a valid date'
                            }
                        }
                    },
                    period: {
                        validators: {
                            select: {
                                message: 'Please select a Period'
                            }
                        }
                    },
                }
            }

        };

        return ValidatorOptions;
    }();
})();

},{"../lib/moment":60}],76:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

        var $ = require('../lib/jquery');
        var dConfig = require('./default_config');
        var Utils = require('./utils');
        //var _ = require('../lib/underscore');


        var ViewAccess = {};

        ViewAccess.SidebarMenu = function(){

            var userView = dConfig.privileges.userViews;
            //-----------
            var accounts = userView.Accounts;
            if(!accounts.DetailsHistory && !accounts.Overview && !accounts.Statements){
                $("#accountsSideMenu").hide();
            }else {

                $("#accountsSideMenu").show();

                (!accounts.DetailsHistory)? $("#accDetailsSideItem").hide() : $("#accDetailsSideItem").show();
                (!accounts.Overview)? $("#accOverviewSideItem").hide() : $("#accOverviewSideItem").show();
                (!accounts.Statements)? $("#statementsSideItem").hide() : $("#statementsSideItem").show();

            }

            //************************************************************************************************************************************************************

            //-----------
            var payments = userView.Payments;
            var payWireTransfer = userView.PaymentsWireTransfer;
            if(!payWireTransfer.ListBeneficiary && !payWireTransfer.RegisterBeneficiary && !payWireTransfer.WireTransferRequest && !payWireTransfer.WireTransferAuthorization){
                this.payWireHidden = true;
            }else{
                this.payWireHidden = false;
            }
            if(!payments.BillPay && !payments.FundsTransfer && !this.payWireHidden){
                $("#paymentsSideMenu").hide();
            }else {
                $("#paymentsSideMenu").show();

                (!payments.BillPay)? $("#billPaySideItem").hide() : $("#billPaySideItem").show();
                (!payments.FundsTransfer)? $("#fundsTransferSideItem").hide() : $("#fundsTransferSideItem").show();
                (!this.payWireHidden)? $("#wireTransferSideMenu").hide() : $("#wireTransferSideMenu").show();
                //(!payments.PendingTransfer)? $("#pendingTransfersSideItem").hide() : $("#pendingTransfersSideItem").show();
                if(!this.payWireHidden) {
                    (!payWireTransfer.ListBeneficiary) ? $("#payRegdBeneficiariesSideItem").hide() : $("#payRegdBeneficiariesSideItem").show();
                    (!payWireTransfer.RegisterBeneficiary) ? $("#payBeneficiaryRegSideItem").hide() : $("#payBeneficiaryRegSideItem").show();
                    (!payWireTransfer.WireTransferRequest) ? $("#payWireTransReqSideItem").hide() : $("#payWireTransReqSideItem").show();
                    (!payWireTransfer.WireTransferAuthorization) ? $("#payWireTransAuthSideItem").hide() : $("#payWireTransAuthSideItem").show();
                }

            }
            //-----------
            //************************************************************************************************************************************************************
            //    -----------------------------------------
            var ach = userView.BusinessServicesACH;
            if(!ach.ACHBatchAuthorization && !ach.ACHBatchSummary && !ach.ACHFileImport && !ach.ACHFileImportAuthorization && !ach.ACHRecipients && !ach.ACHAddNewRecipients && !ach.CreateNewBatch){
                $("#achTransferSideMenu").hide();
                this.achHidden = true;
            }else {
                this.achHidden = false;
                $("#achTransferSideMenu").show();

                (!ach.ACHBatchAuthorization)? $("#achBatchAuthSideItem").hide() : $("#achBatchAuthSideItem").show();
                (!ach.ACHBatchSummary)? $("#achBatchSummarySideItem").hide() : $("#achBatchSummarySideItem").show();
                (!ach.ACHFileImport)? $("#achFileImportSideItem").hide() : $("#achFileImportSideItem").show();
                (!ach.ACHFileImportAuthorization)? $("#achFileImportAuthSideItem").hide() : $("#achFileImportAuthSideItem").show();
                (!ach.ACHRecipients)? $("#achRecipientsSideItem").hide() : $("#achRecipientsSideItem").show();
                (!ach.ACHAddNewRecipients)? $("#addNewAchRecipientSideItem").hide() : $("#addNewAchRecipientSideItem").show();
                (!ach.CreateNewBatch)? $("#createNewAchBatchSideItem").hide() : $("#createNewAchBatchSideItem").show();
            }
            //-----------
            var wireTransfer = userView.BusinessServicesWireTransfer;
            if(!wireTransfer.ListBeneficiary && !wireTransfer.RegisterBeneficiary && !wireTransfer.WireTransferRequest && !wireTransfer.WireTransferAuthorization){
                $("#wireTransferSideMenu").hide();
                this.wireHidden = true;
            }else{
                this.wireHidden = false;
                $("#wireTransferSideMenu").show();

                (!wireTransfer.ListBeneficiary)? $("#regdBeneficiariesSideItem").hide() : $("#regdBeneficiariesSideItem").show();
                (!wireTransfer.RegisterBeneficiary)? $("#beneficiaryRegSideItem").hide() : $("#beneficiaryRegSideItem").show();
                (!wireTransfer.WireTransferRequest)? $("#wireTransReqSideItem").hide() : $("#wireTransReqSideItem").show();
                (!wireTransfer.WireTransferAuthorization)? $("#wireTransAuthSideItem").hide() : $("#wireTransAuthSideItem").show();
            }
            //-----------
            var businessServices = userView.BusinessServices;
            if(!businessServices.PositivePay && !businessServices.BillPay){
                this.businessHidden = true;
            }else {
                this.businessHidden = false;

                (!businessServices.PositivePay)? $("#positivePaySideItem").hide(): $("#positivePaySideItem").show();
                (!businessServices.BillPay)? $("#businessBillPaySideItem").hide() : $("#businessBillPaySideItem").show();
            }
            //-----------
            (this.achHidden && this.wireHidden && this.businessHidden)? $("#businessServicesSideMenu").hide() : $("#businessServicesSideMenu").show();
            //-----------
            //************************************************************************************************************************************************************

            var otherServices = userView.OtherServices;
            if(!otherServices.OrderChecks && !otherServices.StopPayments){
                $("#otherServicesSideMenu").hide();
            }else {
                $("#otherServicesSideMenu").show();

                (!otherServices.OrderChecks)? $("#orderChecksSideItem").hide() : $("#orderChecksSideItem").show();
                (!otherServices.StopPayments)? $("#stopPaymentSideItemMenu").hide() : $("#stopPaymentSideItemMenu").show();
            }
            //-----------
            //************************************************************************************************************************************************************

            //-----------
            var profManage = userView.ProfileManagement;
            if(!profManage.ChangePassword && !profManage.ChangeSecurityQuestion && !profManage.ChangePersonalInfo
                && !profManage.Alerts && !profManage.Reminders){
                $("#profileManagementSideMenu").hide();
            }else {
                $("#profileManagementSideMenu").show();

                (!profManage.ChangePassword)? $("#changePasswordSideItem").hide() : $("#changePasswordSideItem").show();
                (!profManage.ChangeSecurityQuestion)? $("#changeSecurityQSideItem").hide() : $("#changeSecurityQSideItem").show();
                (!profManage.ChangePersonalInfo)? $("#changeDetailsSideItem").hide() : $("#changeDetailsSideItem").show();
                (!profManage.Alerts)? $("#alertsSideItemMenu").hide() : $("#alertsSideItemMenu").show();
                (!profManage.Reminders)? $("#remindersSideItemMenu").hide() : $("#remindersSideItemMenu").show();
            }

            //************************************************************************************************************************************************************
            //-----------
            var adminTools = userView.AdministrativeTools;
            var adminToolsUserManage = userView.AdministrativeToolsUserManagement;
            if(!adminTools.SessionsReport && !adminTools.BankMail && !adminToolsUserManage.CreateNewUsers && !adminToolsUserManage.Users){
                $("#adminToolsSideMenu").hide();
            }else {
                $("#adminToolsSideMenu").show();
                (!adminTools.BankMail)? $("#emailSideItemMenu").hide() : $("#emailSideItemMenu").show();
                (!adminTools.SessionsReport)? $("#sessionsReportSideItem").hide() : $("#sessionsReportSideItem").show();

                if(!adminToolsUserManage.CreateNewUsers && !adminToolsUserManage.Users){
                    $("#userManagementSideItemMenu").hide();
                }else{
                    $("#userManagementSideItemMenu").show();
                    (!adminToolsUserManage.CreateNewUsers)? $("#createNewUserSideItem").hide() : $("#createNewUserSideItem").show();
                    (!adminToolsUserManage.Users)? $("#usersSideItem").hide() : $("#usersSideItem").show();
                }

            }

            //************************************************************************************************************************************************************

            var calculators = userView.Calculators;
            if(!calculators.Bond && !calculators.Loan && !calculators.Savings){
                $("#calculatorsSideMenu").hide();
            }else {
                $("#calculatorsSideMenu").show();

                (!calculators.Bond)? $("#bondCalcSideItem").hide(): $("#bondCalcSideItem").show();
                (!calculators.Loan)? $("#loanCalcSideItem").hide() : $("#loanCalcSideItem").show();
                (!calculators.Savings)? $("#savingsCalcSideItem").hide() : $("#savingsCalcSideItem").show();

            }

        };

        ViewAccess.Route = function(route){
            var userView = dConfig.privileges.userViews;
            var accounts = userView.Accounts;
            var payments = userView.Payments;
            var payWireTransfer = userView.PaymentsWireTransfer;
            var ach = userView.BusinessServicesACH;
            var wireTransfer = userView.BusinessServicesWireTransfer;
            var businessServices = userView.BusinessServices;
            var otherServices = userView.OtherServices;
            var profManage = userView.ProfileManagement;
            var adminTools = userView.AdministrativeTools;
            var adminToolsUserManage = userView.AdministrativeToolsUserManagement;
            var calculators = userView.Calculators;

            switch (route){

                //-------------------- Accounts -----------------------------------------------
                case "acc-details" : (!accounts.DetailsHistory)?Utils.logout() : "";
                    break;
                case "acc-overview" : (!accounts.Overview)?Utils.logout() : "";
                    break;
                case "statements" : (!accounts.Statements)?Utils.logout() : "";
                    break;
                //------------------Payments -------------------------------------------------
                case "bill-pay" : (!payments.BillPay)?Utils.logout() : "";
                    break;
                case "funds-transfer" : (!payments.FundsTransfer)?Utils.logout() : "";
                    break;
                //------------ payment wire transfer
                case "pay-list-registered-beneficiary" : (!payWireTransfer.ListBeneficiary)? Utils.logout() : "";
                    break;
                case "pay-register-beneficiary" : (!payWireTransfer.RegisterBeneficiary)?Utils.logout() : "";
                    break;
                case "pay-wire-transfer-request" : (!payWireTransfer.WireTransferRequest)?Utils.logout() : "";
                    break;
                case "pay-wire-transfer-auth" : (!payWireTransfer.WireTransferAuthorization)?Utils.logout() : "";
                    break;
                //------------  Business Services --------------------------------------------
                //    ACH
                case "ach-batch-auth" : (!ach.ACHBatchAuthorization)?Utils.logout() : "";
                    break;
                case "ach-batch-summary" : (!ach.ACHBatchSummary)?Utils.logout() : "";
                    break;
                case "ach-file-import" : (!ach.ACHFileImport)?Utils.logout() : "";
                    break;
                case "ach-file-import-auth" : (!ach.ACHFileImportAuthorization)?Utils.logout() : "";
                    break;
                case "create-new-ach-batch" : (!ach.CreateNewBatch)?Utils.logout() : "";
                    break;
                case "ach-recipients" : (!ach.ACHRecipients)?Utils.logout() : "";
                    break;
                case "add-new-ach-recipient" : (!ach.ACHAddNewRecipients)?Utils.logout() : "";
                    break;
                //    Wire
                case "list-registered-beneficiary" : (!wireTransfer.ListBeneficiary)?Utils.logout() : "";
                    break;
                case "register-beneficiary" : (!wireTransfer.RegisterBeneficiary)?Utils.logout() : "";
                    break;
                case "wire-transfer-request" : (!wireTransfer.WireTransferRequest)?Utils.logout() : "";
                    break;
                case "wire-transfer-auth" : (!wireTransfer.WireTransferAuthorization)?Utils.logout() : "";
                    break;
                //---------------- Business Bill pay
                case "positive-pay" : (!businessServices.PositivePay)?Utils.logout() : "";
                    break;
                case "business-bill-pay" : (!businessServices.BillPay)?Utils.logout() : "";
                    break;
                //---------------- Other Services
                case "order-checks" : (!otherServices.OrderChecks)?Utils.logout() : "";
                    break;
                case "stop-payment" : (!otherServices.StopPayments)?Utils.logout() : "";
                    break;
                case "stop-payment-list" : (!otherServices.StopPayments)?Utils.logout() : "";
                    break;
                //---------------- My Profile Management
                case "change-password" : (!profManage.ChangePassword)?Utils.logout() : "";
                    break;
                case "change-security-q" : (!profManage.ChangeSecurityQuestion)?Utils.logout() : "";
                    break;
                case "change-personal-details" : (!profManage.ChangePersonalInfo)?Utils.logout() : "";
                    break;
                case "setup-reminders" : (!profManage.Reminders)?Utils.logout() : "";
                    break;
                case "view-reminders" : (!profManage.Reminders)?Utils.logout() : "";
                    break;
                case "setup-alerts" : (!profManage.Alerts)?Utils.logout() : "";
                    break;
                case "view-alerts" : (!profManage.Alerts)?Utils.logout() : "";
                    break;
                //---------------- Administrative Tools
                case "sessions-report" : (!adminTools.SessionsReport)?Utils.logout() : "";
                    break;
                case "send-email" : (!adminTools.BankMail)?Utils.logout() : "";
                    break;
                case "inbox" : (!adminTools.BankMail)?Utils.logout() : "";
                    break;
                case "sent" : (!adminTools.BankMail)?Utils.logout() : "";
                    break;
                case "trash" : (!adminTools.BankMail)?Utils.logout() : "";
                    break;
                case "create-new-user" : (!adminToolsUserManage.CreateNewUsers)?Utils.logout() : "";
                    break;
                case "users" : (!adminToolsUserManage.Users)?Utils.logout() : "";
                    break;
                case "edit-user" : (!adminToolsUserManage.Users)?Utils.logout() : "";
                    break;
                //---------------- Calculators
                case "bond-calculator" : (!calculators.Bond)?Utils.logout() : "";
                    break;
                case "loan-calculator" : (!calculators.Loan)?Utils.logout() : "";
                    break;
                case "savings-calculator" : (!calculators.Savings)?Utils.logout() : "";
                    break;

                //-------------
                default : break;
            }
            //-----------

            //-----------
            //(!payments.PendingTransfer && route == "pending-transfers")? Utils.logout() : "";


        };


        return ViewAccess;

    }();

})();
},{"../lib/jquery":57,"./default_config":68,"./utils":74}],77:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccDetailsCDView  ------------------------------------------------------------

        var AccDetailsCDView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccDetailsCDView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccDetailsCDView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccDetailsCDView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],78:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccDetailsDepositView  ------------------------------------------------------------

        var AccDetailsDepositView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccDetailsDepositView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccDetailsDepositView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccDetailsDepositView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],79:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccDetailsLoanView  ------------------------------------------------------------

        var AccDetailsLoanView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccDetailsLoanView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccDetailsLoanView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccDetailsLoanView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],80:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccOverviewDetailsCDView  ------------------------------------------------------------

        var AccOverviewDetailsCDView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccOverviewDetailsCDView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccOverviewDetailsCDView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccOverviewDetailsCDView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],81:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccOverviewDetailsDepositView  ------------------------------------------------------------

        var AccOverviewDetailsDepositView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccOverviewDetailsDepositView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccOverviewDetailsDepositView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccOverviewDetailsDepositView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],82:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- AccOverviewDetailsLoanView  ------------------------------------------------------------

        var AccOverviewDetailsLoanView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AccOverviewDetailsLoanView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccOverviewDetailsLoanView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var modelData = Models.getModel(data);
            return (new AccOverviewDetailsLoanView({
                model : modelData
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],83:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var NotyMsg = require('../../../js/utils/noty_msg');
        var Moment = require('../../../js/lib/moment');
//---------------------------------------------------------------------------
        var AppApiUrl = require("../../../js/app/app_api_url");
//---------------------------------------------------------------------------
        var Utils = require("../../../js/utils/utils");
        var ValidatorOpt = require("../../../js/utils/validator_options");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var Models = require('../../../js/models/models');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- Accounts Overview View  ------------------------------------------------------------

        var DetailsAndHistoryView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.detailsAndHistoryView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.DetailsAndHistoryView), l_en) );
                this.AppViewInitializer = require('../../../js/app/app_view_initializer');
            },

            ui:{
                "changeAccSelect" : "#changeAccSelect",
                "accNoShow" : "#accNoShow",
                "accTypeShow" : "#accTypeShow",

                "fromDate"  : "#fromDate",
                "toDate"    : "#toDate",

                "fromAmt"  : "#fromAmt",
                "toAmt"    : "#toAmt",

                "fromCheck"  : "#fromCheck",
                "toCheck"    : "#toCheck",

                "dateRangeSubmitBut" : "#dateRangeSubmitBut",

                "frontCheckImg" : "#frontCheckImg",
                "backCheckImg" : "#backCheckImg",
                "checkModal" : "#checkModal"
            },

            events:{
                "change #changeAccSelect" : "accountSelected",

                "submit #transHistoryDateRangeForm" : "getHistory",
                "submit #transHistoryAdvanceForm" : "getAdvanceHistory",

                "click .showCheck" : "showCheckImgs",

                "click .downloadBut" : "downloadFile"
            },

            onShow: function(){
                this.AccOverDetailsRegion = new Backbone.Marionette.Region({ el : "#accOverviewDetailsRegion"});
                this.AccDetailsRegion = new Backbone.Marionette.Region({ el : "#accDetailsRegion"});
                this.advCollapse();
                this.initDateRange();
                this.initAdvanceFilterEvents();
                this.initFormValidations();
                this.renderAccSelections();
            },

            initDateRange: function(){
                $("#fromDateGroup").datetimepicker({
                    format: "MM/DD/YYYY",
                    //defaultDate : "05/02/2015"
                    defaultDate : Moment().subtract(1, "months"),
                    maxDate : Moment().endOf("day"),
                    showTodayButton: true
                });
                $("#toDateGroup").datetimepicker({
                    format: "MM/DD/YYYY",
                    defaultDate : Moment().startOf("day"),
                    maxDate : Moment().endOf("day"),
                    showTodayButton: true
                });
                $("#fromDateGroup").on("dp.change",function (e) {
                    $("#transHistoryDateRangeForm").data('formValidation').updateStatus("fromDate", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                    console.log("From Date Changed");
                });
                $("#toDateGroup").on("dp.change",function (e) {
                    $("#transHistoryDateRangeForm").data('formValidation').updateStatus("toDate", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });

            },
            initAdvanceFilterEvents: function(){
                var that = this;
                $('#advanceFiltersDiv').on('show.bs.collapse', function () {
                    that.ui.dateRangeSubmitBut.hide();
                });
                $('#advanceFiltersDiv').on('hide.bs.collapse', function () {
                    that.ui.dateRangeSubmitBut.show();
                });
            },
            initFormValidations: function(){
                $("#transHistoryDateRangeForm").formValidation(ValidatorOpt.transHistoryDateRange)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
                $("#transHistoryAdvanceForm").formValidation(ValidatorOpt.transHistoryAdvance)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            advCollapse: function(){
                $('#advanceFiltersDiv').on('show.bs.collapse', function () {
                    $("#advIcon").removeClass("icon-add170").addClass("icon-minus");
                });
                $('#advanceFiltersDiv').on('hide.bs.collapse', function () {
                    $("#advIcon").removeClass("icon-minus").addClass("icon-add170");
                });
            },

            downloadFile: function (event) {
                $("#advanceContent").html("");
                if (this.ui.fromDate.val().length > 0 && this.ui.toDate.val().length > 0) {
                    var queryDate = {
                        "fromDate": {
                            "date": this.ui.fromDate.val()
                        },
                        "toDate": {
                            "date": this.ui.toDate.val()
                        }
                    };
                    $("#advanceContent").append($("<input>").attr({
                        name : 'queryDate',
                        value : JSON.stringify(queryDate)
                    }));
                }

                if(!$("#advanceFiltersDiv").is(":hidden")) {
                    if (this.ui.fromAmt.val().length > 0 && this.ui.toAmt.val().length > 0) {
                        var queryAmount = {
                            "fromAmount": {
                                "currency": "USD",
                                "amount": (Math.abs(this.ui.fromAmt.val())).toString(),
                                "debitOrCredit": (parseInt(this.ui.fromAmt.val()) < 0) ? "0" : "1"
                            },
                            "toAmount": {
                                "currency": "USD",
                                "amount": (Math.abs(this.ui.toAmt.val())).toString(),
                                "debitOrCredit": (parseInt(this.ui.toAmt.val()) < 0) ? "0" : "1"
                            }
                        };
                        $("#advanceContent").append($("<input>").attr({
                            name : 'queryAmount',
                            value : JSON.stringify(queryAmount)
                        }));
                    }

                    if (this.ui.fromCheck.val().length > 0 && this.ui.toCheck.val().length > 0) {
                        var queryCheque = {
                            "chequeNoFrom": this.ui.fromCheck.val(),
                            "chequeNoTo": this.ui.toCheck.val()
                        };
                        $("#advanceContent").append($("<input>").attr({
                            name : 'queryCheque',
                            value : JSON.stringify(queryCheque)
                        }));
                    }

                }

                $("#accountNo").val(this.ui.changeAccSelect.val());
                $("#accountCategory").val($("#changeAccSelect option:selected").attr("data-accCat"));
                $("#download").val(event.currentTarget.id);

                $("#downloadForm").attr("action", AppApiUrl.transactionEnquiryDownload);
                $("#downloadForm").submit();
            },

            //-----    Account Selected
            accountSelected: function(event){
                $("input").val("");
                var from = Moment().subtract(1, "months");
                var to = Moment();
                $('#fromDateGroup').data("DateTimePicker").date(from);
                $('#toDateGroup').data("DateTimePicker").date(to);

                $('#transHistoryTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  []
                });
                this.getAccDetails();
            },

            //--- Render Accounts into select box
            renderAccSelections: function(){
                var accList = [];
                if(dConfig.depositAccounts.length > 0){
                    var depAccs = _.groupBy(dConfig.depositAccounts, "accountType");
                    var savingsAccs = depAccs["SAVINGS"];
                    var checkingAccs = depAccs["CHECKING"];
                    var cdAccs = depAccs["CD"];

                    if( typeof savingsAccs != "undefined" && savingsAccs.length > 0){
                        var savOptStart = "<optgroup label='Savings:' >",
                            savOptVal = "", savOptEnd = "";
                        for(var i = 0; i < savingsAccs.length; i++){
                            savOptVal = savOptVal + "<option title='Change Account' value='"+savingsAccs[i].accountNo+"' data-accType='"+savingsAccs[i].accountType+"' data-accCat='DEPOSIT' >"+savingsAccs[i].accountType+" - "+Utils.maskAccount(savingsAccs[i].accountNo)+"  "+savingsAccs[i].branchName+"</option>";
                        }
                        savOptEnd = "</optgroup>";
                        accList.push(savOptStart+savOptVal+savOptEnd);
                    }
                    if( typeof checkingAccs != "undefined" && checkingAccs.length > 0){
                        var checkOptStart = "<optgroup label='Checking:' >",
                            checkOptVal = "", checkOptEnd = "";
                        for(var j = 0; j < checkingAccs.length; j++){
                            checkOptVal = checkOptVal + "<option title='Change Account' value='"+checkingAccs[j].accountNo+"' data-accType='"+checkingAccs[j].accountType+"' data-accCat='DEPOSIT' >"+checkingAccs[j].accountType+" - "+Utils.maskAccount(checkingAccs[j].accountNo)+"  "+checkingAccs[j].branchName+"</option>";
                        }
                        checkOptEnd = "</optgroup>";
                        accList.push(checkOptStart+checkOptVal+checkOptEnd);
                    }
                    if( typeof cdAccs != "undefined" && cdAccs.length > 0){
                        var cdOptStart = "<optgroup label='CD:' >",
                            cdOptVal = "", cdOptEnd = "";
                        for(var k = 0; k < cdAccs.length; k++){
                            cdOptVal = cdOptVal + "<option title='Change Account' value='"+cdAccs[k].accountNo+"' data-accType='"+cdAccs[k].accountType+"' data-accCat='DEPOSIT' >"+cdAccs[k].accountType+" - "+Utils.maskAccount(cdAccs[k].accountNo)+"  "+cdAccs[k].branchName+"</option>";
                        }
                        cdOptEnd = "</optgroup>";
                        accList.push(cdOptStart+cdOptVal+cdOptEnd);
                    }

                }
                if(dConfig.loanAccounts.length > 0){
                    var loanOptStart = "<optgroup label='Loans:' >",
                        loanOptVal = "", loanOptEnd = "";
                    var laonAccs = dConfig.loanAccounts;
                    for(var h = 0; h < laonAccs.length; h++){
                        loanOptVal = loanOptVal + "<option title='Change Account' value='"+laonAccs[h].accountNo+"' data-accType='"+laonAccs[h].accountType+"' data-accCat='DEPOSIT' >"+laonAccs[h].accountType+" - "+Utils.maskAccount(laonAccs[h].accountNo)+"  "+laonAccs[h].branchName+"</option>";
                    }
                    loanOptEnd = "</optgroup>";
                    accList.push(loanOptStart+loanOptVal+loanOptEnd);
                }

                this.ui.changeAccSelect.html("");
                for(var a = 0; a < accList.length; a++ ){
                    this.ui.changeAccSelect.append(accList[a]);
                }

                if(typeof gConfig.userInfo.selectedAcc != "undefined" && gConfig.userInfo.selectedAcc.length > 0){
                    this.ui.changeAccSelect.val(gConfig.userInfo.selectedAcc);
                }

                $('.selectpicker').selectpicker({
                    size : false
                });

                this.getAccDetails();
            },
            //****   Get Selected Account Details
            getAccDetails: function(){
                this.populateSelection();

                var enqModel = Models.getAccountEnquiryModel({
                    'accountNo'        : this.ui.changeAccSelect.val(),
                    'accountCategory'  : $("#changeAccSelect option:selected").attr("data-accCat")
                });
                enqModel.processRequest();
            },
            populateSelection: function(){
                this.ui.accNoShow.html(Utils.maskAccount(this.ui.changeAccSelect.val()));
                this.ui.accTypeShow.html($("#changeAccSelect option:selected").attr("data-accType"));
            },

            //*****  Populate Deposit Acc Details
            renderDepositAccOverDetails: function(data){
                this.getHistory();
                var accOverDetailsView = this.AppViewInitializer.accOverviewDetailsDepositView(data);
                this.AccOverDetailsRegion.show(accOverDetailsView);
            },
            renderDepositAccDetails: function(data){
                var accDetailsView = this.AppViewInitializer.accDetailsDepositView(data);
                this.AccDetailsRegion.show(accDetailsView);
            },

            //*****  Populate CD Acc Details
            renderCDAccOverDetails: function(data){
                this.getHistory();
                var accOverDetailsView = this.AppViewInitializer.accOverviewDetailsCDView(data);
                this.AccOverDetailsRegion.show(accOverDetailsView);
            },
            renderCDAccDetails: function(data){
                var accDetailsView = this.AppViewInitializer.accDetailsCDView(data);
                this.AccDetailsRegion.show(accDetailsView);
            },

            //*****  Populate Loan Acc Details
            renderLoanAccOverDetails: function(data){
                this.getHistory();
                var accOverDetailsView = this.AppViewInitializer.accOverviewDetailsLoanView(data);
                this.AccOverDetailsRegion.show(accOverDetailsView);
            },
            renderLoanAccDetails: function(data){
                var accDetailsView = this.AppViewInitializer.accDetailsLoanView(data);
                this.AccDetailsRegion.show(accDetailsView);
            },

            //***  Get Transaction History ****
            getHistory: function(event){

                /*if(!$("#transHistoryDateRangeForm").data('formValidation').isValid()){
                 event.preventDefault();
                 return false;
                 }*/

                var fromMoment = Moment(this.ui.fromDate.val(), "MM/DD/YYYY");
                var toMoment = Moment(this.ui.toDate.val(), "MM/DD/YYYY");
                if(toMoment.diff(fromMoment, 'days', true) < 0 ){
                    NotyMsg.warningMsg("From date should be less than To date.");
                    return;
                }

                var searchData = {};
                searchData.accountNo = this.ui.changeAccSelect.val();
                searchData.queryDate = {
                    "fromDate": {
                        "date": this.ui.fromDate.val()
                    },
                    "toDate": {
                        "date": this.ui.toDate.val()
                    }
                };
                $('#transHistoryTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  []
                });
                var getTransModel = Models.getTransactionEnquiryModel(searchData);
                getTransModel.processRequest();
            },

            //***  Get Advanced Transaction History ****
            getAdvanceHistory: function(){

                if(!$("#transHistoryAdvanceForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var searchData = {};
                searchData.accountNo = this.ui.changeAccSelect.val();
                if(this.ui.fromDate.val().length > 0 && this.ui.toDate.val().length > 0){
                    searchData.queryDate = {
                        "fromDate": {
                            "date": this.ui.fromDate.val()
                        },
                        "toDate": {
                            "date": this.ui.toDate.val()
                        }
                    };
                }

                if(this.ui.fromAmt.val().length > 0 && this.ui.toAmt.val().length > 0){
                    searchData.queryAmount = {
                        "fromAmount":{
                            "currency": "USD",
                            "amount": (Math.abs(this.ui.fromAmt.val())).toString(),
                            "debitOrCredit": (parseInt(this.ui.fromAmt.val()) < 0)? "0":"1"
                        },
                        "toAmount":{
                            "currency": "USD",
                            "amount": (Math.abs(this.ui.toAmt.val())).toString(),
                            "debitOrCredit": (parseInt(this.ui.toAmt.val()) < 0)? "0":"1"
                        }
                    };
                }

                if(this.ui.fromCheck.val().length > 0 && this.ui.toCheck.val().length > 0){
                    searchData.queryCheque = {
                        "chequeNoFrom": this.ui.fromCheck.val(),
                        "chequeNoTo": this.ui.toCheck.val()
                    };
                }

                $('#transHistoryTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  []
                });
                var getTransModel = Models.getTransactionEnquiryModel(searchData);
                getTransModel.processRequest();
            },

            //****  Render Acc Transaction History ****
            renderAccHistory: function(tableData){

                $('#transHistoryTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  tableData,
                    "order": [[ 1, "desc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop tablet-l tablet-p",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "desktop",
                            "sWidth" : "8%"
                        },
                        {
                            "sClass": "text-right all",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "text-right all",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "text-right desktop tablet-l tablet-p",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop",
                            "sWidth" : "5%"
                        }
                    ]
                });
            },

            showCheckImgs: function(event){
                /*var model = Models.getCheckImageModel({
                 "accountNumber"         : this.ui.changeAccSelect.val(),
                 "postedDate"            : $(event.currentTarget).attr("data-date"),
                 "checkNumber"           : $(event.currentTarget).attr("data-checkno")
                 });
                 model.processRequest();*/
                this.renderCheckImgs(event);

            },
            renderCheckImgs: function(event){
                if(this.ui.changeAccSelect.val() == "8744208795"){
                    if(parseInt($(event.currentTarget).attr("data-checkno")) == 983 ){
                        this.ui.frontCheckImg.prop("src", "imgs/check/85_00.png");
                        this.ui.backCheckImg.prop("src", "imgs/check/back.png");
                        this.ui.checkModal.modal("show");
                    }
                    if(parseInt($(event.currentTarget).attr("data-checkno")) == 982 ){
                        this.ui.frontCheckImg.prop("src", "imgs/check/94_61.png");
                        this.ui.backCheckImg.prop("src", "imgs/check/back.png");
                        this.ui.checkModal.modal("show");
                    }
                    if(parseInt($(event.currentTarget).attr("data-checkno")) == 980 ){
                        this.ui.frontCheckImg.prop("src", "imgs/check/98_96.png");
                        this.ui.backCheckImg.prop("src", "imgs/check/back.png");
                        this.ui.checkModal.modal("show");
                    }
                    if(parseInt($(event.currentTarget).attr("data-checkno")) == 981 ){
                        this.ui.frontCheckImg.prop("src", "imgs/check/165_00.png");
                        this.ui.backCheckImg.prop("src", "imgs/check/back.png");
                        this.ui.checkModal.modal("show");
                    }
                }
                //this.ui.frontCheckImg.prop("src", "data:image/png;base64,"+data.checkFrontImage+"");
                //this.ui.backCheckImg.prop("src", "data:image/png;base64,"+data.checkRareImage+"");
                //this.ui.checkModal.modal("show");

            },

            onBeforeDestroy: function(){
                gConfig.userInfo.selectedAcc = "";
                gConfig.userInfo.selectedAccType = "";
            }

        });

        var getViewObj = function(modelData){
            return (new DetailsAndHistoryView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_api_url":2,"../../../js/app/app_view_initializer":12,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],84:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
        var slick = require('../../../js/lib/slick.js');
        var AppActivity = require('../../../js/app/app_activity');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');
        var gConfig = require("../../../js/utils/global_config");
        var dConfig = require("../../../js/utils/default_config");
        var Utils = require("../../../js/utils/utils");
//--------------- Accounts Overview View  ------------------------------------------------------------

        var AccountsOverviewView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.accountsOverviewView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AccountsOverviewView), l_en) );
            },

            ui:{
                "savingsTotalDiv" : ".savingsTotalDiv",
                "checkingsTotalDiv" : ".checkingsTotalDiv",
                "checkingsScrollDiv" : ".checkingsScrollDiv",
                "timeDepositsDiv" : ".timeDepositsDiv",
                "iraDiv" : ".iraDiv",
                "iraScrollDiv" : ".iraScrollDiv",
                "loansDiv" : ".loansDiv",
                "loansScrollDiv" : ".loansScrollDiv",

                "totalSavings" : ".totalSavings",
                "totalSavingsDecimal" : ".totalSavingsDecimal",
                "totalCheckings" : ".totalCheckings",
                "totalCheckingsDecimal" : ".totalCheckingsDecimal",
                "totalTimeDeposits" : ".totalTimeDeposits",
                "totalTimeDepositsDecimal" : ".totalTimeDepositsDecimal",
                "totalIra" : ".totalIra",
                "totalIraDecimal" : ".totalIraDecimal",
                "totalLoans" : ".totalLoans",
                "totalLoansDecimal" : ".totalLoansDecimal",

                "totalAssets" : "#totalAssets",
                "totalAssetsDecimal" : "#totalAssetsDecimal",
                "totalLiabilities" : "#totalLiabilities",
                "totalLiabilitiesDecimal" : "#totalLiabilitiesDecimal",

                "depositsTableRow" : "#depositsTableRow",
                "loansTableRow" : "#loansTableRow",
                "todayDate" : ".todayDate",

                "cardHeader" : ".card-header-icon-div"
            },

            behaviors: {
                ToggleHeaderBehavior:{
                    fieldSelector  : ".card-header-icon-div"
                }
            },

            events:{
                "click .showAccDetails" : "showAccDetails"
            },

            onShow: function(){
                this.renderOverviewDetails();
                this.renderOverviewTables();
            },

            showAccDetails: function(event){
                gConfig.userInfo.selectedAcc = $(event.currentTarget).attr("data-id");
                gConfig.userInfo.selectedAccCategory = $(event.currentTarget).attr("data-acccat");
                gConfig.userInfo.selectedAccType = $(event.currentTarget).attr("data-acctype");
                AppActivity.trigger("accDetails");
            },

            renderOverviewDetails: function(){
                var totalSavingsAmt = (Utils.formatAmount(dConfig.userInfo.totalSaving)).split(".");
                var totalCheckingAmt = (Utils.formatAmount(dConfig.userInfo.totalChecking)).split(".");
                var totalTimeDepositsAmt = (Utils.formatAmount(dConfig.userInfo.totalTimeDeposits)).split(".");
                var totalLoanAmt = (Utils.formatAmount(dConfig.userInfo.totalLoan)).split(".");

                this.ui.totalSavings.html(""+totalSavingsAmt[0]+".");
                this.ui.totalSavingsDecimal.html(totalSavingsAmt[1]);
                this.ui.totalCheckings.html(""+totalCheckingAmt[0]+".");
                this.ui.totalCheckingsDecimal.html(totalCheckingAmt[1]);
                this.ui.totalTimeDeposits.html(""+totalTimeDepositsAmt[0]+".");
                this.ui.totalTimeDepositsDecimal.html(totalTimeDepositsAmt[1]);
                this.ui.totalIra.html("-");
                this.ui.totalLoans.html(""+totalLoanAmt[0]+".");
                this.ui.totalLoansDecimal.html(totalLoanAmt[1]);

                var accs = dConfig.userInfo.customerAccounts;

                var savingsAcc = _.where(accs, {accountType: "SAVINGS"});
                var checkingsAcc = _.where(accs, {accountType: "CHECKING"});
                var timeDepositsAcc = _.where(accs, {accountType: "CD"});
                var iraAcc = _.where(accs, {accountType: "IRA"});
                var loansAcc = dConfig.loanAccounts;

                if(savingsAcc.length < 1){
                    this.ui.savingsTotalDiv.hide();
                }
                if(checkingsAcc.length < 1){
                    this.ui.checkingsTotalDiv.hide();
                }
                if(savingsAcc.length < 1 && checkingsAcc.length < 1){
                    this.ui.checkingsScrollDiv.parent().remove();
                }
                if(timeDepositsAcc.length < 1){
                    this.ui.timeDepositsDiv.hide();
                }
                if(iraAcc.length < 1){
                    this.ui.iraDiv.hide();
                }
                if(timeDepositsAcc.length < 1 && iraAcc.length < 1){
                    this.ui.iraScrollDiv.parent().remove();
                }
                if(loansAcc.length < 1){
                    this.ui.loansDiv.hide();
                    this.ui.loansScrollDiv.parent().remove();
                    //$('.slickScroll').slick('slickRemove', 2);
                }
                /*if(savingsAcc.length < 1 && checkingsAcc.length < 1){
                 $('.slickScroll').slick('slickRemove', 0);
                 }
                 if(timeDepositsAcc.length < 1 && iraAcc.length < 1){
                 $('.slickScroll').slick('slickRemove', 1);
                 }*/
                var totalAssetsAmt = (Utils.formatAmount(dConfig.userInfo.totalAssets)).split(".");
                var totalLiabilityAmt = (Utils.formatAmount(dConfig.userInfo.totalLiability)).split(".");
                this.ui.totalAssets.html(""+totalAssetsAmt[0]+".");
                this.ui.totalAssetsDecimal.html(totalAssetsAmt[1]);
                this.ui.totalLiabilities.html(""+totalLiabilityAmt[0]+".");
                this.ui.totalLiabilitiesDecimal.html(totalLiabilityAmt[1]);

                setTimeout(function(){
                    $('.slickScroll').slick({
                        dots: true,
                        infinite: true,
                        responsive: [
                            {
                                breakpoint: 769,
                                settings: {
                                    slidesToShow: 2,
                                    slidesToScroll: 2
                                }
                            },
                            {
                                breakpoint: 481,
                                settings: {
                                    slidesToShow: 1,
                                    slidesToScroll: 1
                                }
                            }
                        ]
                    });
                }, 500);

            },
            renderOverviewTables: function(){
                var that = this;
                this.ui.todayDate.html(dConfig.accUpdateDate);
                // Deposit Table
                function renderDepositTableData(){
                    var depositData = [];
                    var accs = dConfig.depositAccounts;
                    for(var i = 0; i < accs.length; i++) {
                        depositData.push({
                            '0': "<span class='showAccDetails pointerCursor text-primary' data-id='"+accs[i].accountNo+"' data-acccat='DEPOSIT' data-acctype='"+accs[i].accountType+"' >"+Utils.maskAccount(accs[i].accountNo)+"</span>",
                            '1': accs[i].productName,
                            '2': (dConfig.userInfo.customerType == "Personal")? dConfig.userInfo.fullName:dConfig.userInfo.organizationName,
                            '3': accs[i].branchName,
                            '4': Utils.formatAmount(((accs[i].availableBalance.debitOrCredit == 0)? "-":"")+""+accs[i].availableBalance.amount),
                            '5': Utils.formatAmount(((accs[i].availableBalance.debitOrCredit == 0)? "-":"")+""+accs[i].availableBalance.amount)
                        });
                    }
                    $('#depositsTable').dataTable({
                        "aaData" :  depositData,
                        "aoColumns": [
                            {"sClass": "all" },
                            {"sClass": "desktop tablet-l" },
                            {"sClass": "desktop tablet-l" },
                            {"sClass": "desktop" },
                            {"sClass": "text-right desktop tablet-l" },
                            {"sClass": "text-right all" }
                        ],
                        "footerCallback": function ( row, data, start, end, display ) {
                            var api = this.api(), data;

                            // Remove the formatting to get integer data for summation
                            var intVal = function ( i ) {
                                return typeof i === 'string' ?
                                i.replace(/[\$,]/g, '')*1 :
                                    typeof i === 'number' ?
                                        i : 0;
                            };

                            // Total over all pages
                            var totalOne, totalTwo;
                            if(api.column( 4 ).data().length > 1){
                                totalOne = api
                                    .column( 4 )
                                    .data()
                                    .reduce( function (a, b) {
                                        return intVal(a) + intVal(b);
                                    } );
                            }else{
                                totalOne = intVal(api.column( 4 ).data()[0]);
                            }

                            if(api.column( 5 ).data().length > 1){
                                totalTwo = api
                                    .column( 5 )
                                    .data()
                                    .reduce( function (a, b) {
                                        return intVal(a) + intVal(b);
                                    } );
                            }else{
                                totalTwo = intVal(api.column( 5 ).data()[0]);
                            }
                            /*// Total over this page
                             var pageTotalOne = api
                             .column( 4, { page: 'current'} )
                             .data()
                             .reduce( function (a, b) {
                             return intVal(a) + intVal(b);
                             }, 0 );
                             var pageTotalTwo = api
                             .column( 5, { page: 'current'} )
                             .data()
                             .reduce( function (a, b) {
                             return intVal(a) + intVal(b);
                             }, 0 );*/

                            // Update footer
                            console.log(totalOne);
                            console.log(totalTwo);
                            $( api.column( 3 ).footer() ).html(
                                /*''+ pageTotalOne +' ( '+ totalOne +' total)'*/
                                "<span class='hidden-md hidden-lg text-center displayBlock'>Total <br> Available Balance <br>"+Utils.formatAmount(totalOne)+"</span>" +
                                "<span class='hidden-xs hidden-sm'>Total:</span>"
                            );
                            $( api.column( 4 ).footer() ).html(
                                /*''+ pageTotalOne +' ( '+ totalOne +' total)'*/
                                Utils.formatAmount(totalOne)
                            );
                            $( api.column( 5 ).footer() ).html(
                                /*''+pageTotalTwo +' ( '+ totalTwo +' total)'*/
                                "<span class='hidden-md hidden-lg text-center displayBlock'>Total Balance as on <br> <small class='text-muted'>"+dConfig.accUpdateDate+"</small><br>"+Utils.formatAmount(totalTwo)+"</span>" +
                                "<span class='hidden-xs hidden-sm'>"+Utils.formatAmount(totalTwo)+"</span>"
                            );
                        }
                    });
                }
                if(dConfig.depositAccounts.length < 1){
                    this.ui.depositsTableRow.hide();
                }else{
                    renderDepositTableData();
                }

                // Loan Table
                function renderLoanTableData(){
                    var loanData = [];
                    var accs = dConfig.loanAccounts;
                    for(var i = 0; i < accs.length; i++) {
                        loanData.push({
                            '0': "<span class='showAccDetails pointerCursor text-primary' data-id='"+accs[i].accountNo+"' data-acccat='LOAN' data-acctype='"+accs[i].accountType+"' >"+Utils.maskAccount(accs[i].accountNo)+"</span>",
                            '1': accs[i].productName,
                            '2': (dConfig.userInfo.customerType == "Personal")? dConfig.userInfo.fullName:dConfig.userInfo.organizationName,
                            '3': accs[i].branchName,
                            '4': Utils.formatAmount(((accs[i].principleBalance.debitOrCredit == 1)? "-":"")+""+accs[i].principleBalance.amount),
                            '5': Utils.formatAmount(accs[i].amountPayoff.amount)
                        });
                    }
                    $('#loansTable').dataTable({
                        "aaData" :  loanData,
                        "aoColumns": [
                            {"sClass": "all" },
                            {"sClass": "desktop tablet-l" },
                            {"sClass": "desktop tablet-l" },
                            {"sClass": "desktop" },
                            {"sClass": "text-right desktop tablet-l" },
                            {"sClass": "text-right all" }
                        ],
                        "footerCallback": function ( row, data, start, end, display ) {
                            var api = this.api(), data;
                            console.log(api.column( 5 ).data());
                            // Remove the formatting to get integer data for summation
                            var intVal = function ( i ) {
                                return typeof i === 'string' ?
                                i.replace(/[\$,]/g, '')*1 :
                                    typeof i === 'number' ?
                                        i : 0;
                            };

                            // Total over all pages
                            var totalOne, totalTwo;
                            if(api.column( 4 ).data().length > 1){
                                totalOne = api
                                    .column( 4 )
                                    .data()
                                    .reduce( function (a, b) {
                                        console.log(a);
                                        console.log(b);
                                        return intVal(a) + intVal(b);
                                    } );
                            }else{
                                totalOne = intVal(api.column( 4 ).data()[0]);
                            }

                            if(api.column( 5 ).data().length > 1){
                                totalTwo = api
                                    .column( 5 )
                                    .data()
                                    .reduce( function (a, b) {
                                        console.log(a);
                                        console.log(b);
                                        return intVal(a) + intVal(b);
                                    } );
                            }else{
                                totalTwo = intVal(api.column( 5 ).data()[0]);
                            }

                            // Total over this page
                            /*var pageTotalOne = api
                             .column( 4, { page: 'current'} )
                             .data()
                             .reduce( function (a, b) {
                             return intVal(a) + intVal(b);
                             }, 0 );
                             var pageTotalTwo = api
                             .column( 5, { page: 'current'} )
                             .data()
                             .reduce( function (a, b) {
                             return intVal(a) + intVal(b);
                             }, 0 );*/

                            // Update footer
                            console.log(totalOne);
                            console.log(totalTwo);
                            $( api.column( 3 ).footer() ).html(
                                /*''+ pageTotalOne +' ( '+ totalOne +' total)'*/
                                "<span class='hidden-md hidden-lg text-center displayBlock'>Total <br> Current Balance <br>"+Utils.formatAmount(totalOne)+"</span>" +
                                "<span class='hidden-xs hidden-sm'>Total:</span>"
                            );
                            $( api.column( 4 ).footer() ).html(
                                /*''+ pageTotalOne +' ( '+ totalOne +' total)'*/
                                Utils.formatAmount(totalOne)
                            );
                            $( api.column( 5 ).footer() ).html(
                                /*''+pageTotalTwo +' ( '+ totalTwo +' total)'*/
                                "<span class='hidden-md hidden-lg text-center displayBlock'>Total Pay off <br> <small class='text-muted'>"+dConfig.accUpdateDate+"</small><br>"+Utils.formatAmount(totalTwo)+"</span>" +
                                "<span class='hidden-xs hidden-sm'>"+Utils.formatAmount(totalTwo)+"</span>"
                            );
                        }
                    });
                }
                if(dConfig.loanAccounts.length < 1){
                    this.ui.loansTableRow.hide();
                }else{
                    renderLoanTableData();
                }


            },

            onBeforeDestroy: function(){}

        });

        var getViewObj = function(modelData){
            return (new AccountsOverviewView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_activity":1,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/slick.js":62,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74}],85:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- StatementsView  ------------------------------------------------------------

        var StatementsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.StatementsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.StatementsView), l_en) );
            },

            ui:{
                "accNo" : "#accNo",
                "download_statement" : ".download_statement"
            },

            events:{
                "click .download_statement":"downloadStatement"
            },
            downloadStatement: function(){
                console.log('called')
                console.log('called1')
                var divEl = document.getElementById("body");
                while (divEl.firstChild) {
                    divEl.removeChild(divEl.firstChild);
                }
                var aElem = document.createElement("iframe");
                aElem.setAttribute("src", "web/viewer.html?file=../static/ST_0001_001_1_2173.pdf");
                aElem.setAttribute("height", "100%");
                aElem.setAttribute("width", "100%");
                divEl.appendChild(aElem);
                $("#nickNameModal").modal("show");
            },
            onShow: function(){
                this.initDateRange();
                this.renderAccSelections();
            },

            initDateRange: function(){
                $("#fromDateGroup").datetimepicker({
                    showTodayButton: true,
                    showClear: true,
                    format: "MM/DD/YYYY",
                    defaultDate : Moment().subtract(1, "months")
                });
                $("#toDateGroup").datetimepicker({
                    showTodayButton: true,
                    showClear: true,
                    format: "MM/DD/YYYY",
                    defaultDate : Moment()
                });
            },

            //--- Render Accounts into select box
            renderAccSelections: function(){
                var accStr = "";
                if(dConfig.depositAccounts.length > 0){
                    accStr = ""+ accStr + "<optgroup label='DEPOSIT'>";
                    var depAccs = dConfig.depositAccounts;
                    for(var i = 0; i < depAccs.length; i++){
                        accStr = accStr + "<option value='"+depAccs[i].accountNo+"'>"+depAccs[i].accountType+" - "+Utils.maskAccount(depAccs[i].accountNo)+"</option>";
                    }
                    accStr = ""+ accStr + "</optgroup>";
                }
                if(dConfig.loanAccounts.length > 0){
                    accStr = ""+ accStr +"<optgroup label='LOAN'>";
                    var laonAccs = dConfig.loanAccounts;
                    for(var j = 0; j < laonAccs.length; j++){
                        accStr = accStr + "<option value='"+laonAccs[j].accountNo+"'>"+laonAccs[j].accountType+" - "+Utils.maskAccount(laonAccs[j].accountNo)+"</option>";
                    }
                    accStr = ""+ accStr + "</optgroup>";
                }
                this.ui.accNo.html(accStr);
            },

            onBeforeDestroy: function(){

            }

        });


        var getViewObj = function(data){
            return (new StatementsView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],86:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require('../../../js/models/models');
        var Utils = require('../../../js/utils/utils');
        var ValidatorOpt = require('../../../js/utils/validator_options');
        var NotyMsg = require('../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- BondCalculatorView  ------------------------------------------------------------

        var BondCalculatorView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.BondCalculatorView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.BondCalculatorView), l_en) );
            },

            ui:{
                "series" : "#series",
                "denomination" : "#denomination",
                "month" : "#month",
                "year" : "#year",

                "instructionPara" : "#instructionPara",
                "resultsTable" : "#resultsTable",

                "bondValue" : "#bondValue",
                "interest" : "#interest",
                "monthYear" : "#monthYear",
                "seriesResult" : "#seriesResult",
                "denominationResult" : "#denominationResult"
            },

            events:{
                "click #resetCalc" : "resetCalc",
                "submit #calculatorForm" : "calculateResults"
            },

            onShow: function(){
                this.initValidators();
                this.enableSelectPlugin();
            },

            initValidators: function(){
                $('#calculatorForm')
                    .formValidation(ValidatorOpt.bondCalculator)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            resetCalc: function(){
                this.ui.series.val("default");
                this.ui.denomination.val("default");
                this.ui.month.val("default");
                this.ui.year.val("");
                $('#calculatorForm').data('formValidation').resetForm();
                this.ui.resultsTable.hide();
                this.ui.instructionPara.show();
            },

            calculateResults : function (event) {
                if(!$("#calculatorForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var month = this.ui.month.val();
                var year = this.ui.year.val();

                if(this.ui.series.val() == "E"){
                    if( Moment("05/1941", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") > 0 ||
                        Moment("06/1980", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") < 0 ){

                        NotyMsg.warningMsg(langContent.BondCalculatorView.warningMsg1);
                        return;
                    }
                }
                if(this.ui.series.val() == "EE"){
                    if( Moment("07/1980", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") > 0 ) {

                        NotyMsg.warningMsg(langContent.BondCalculatorView.warningMsg2);
                        return;
                    }
                }
                if(this.ui.series.val() == "I"){
                    if( Moment("09/1998", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") > 0 ) {

                        NotyMsg.warningMsg(langContent.BondCalculatorView.warningMsg3);
                        return;
                    }
                }
                if(this.ui.series.val() == "S"){
                    if( Moment("05/1967", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") > 0 ||
                        Moment("10/1970", "MM/YYYY").diff(Moment(month+"/"+year, "MM/YYYY"), "months") < 0 ) {

                        NotyMsg.warningMsg(langContent.BondCalculatorView.warningMsg4);
                        return;
                    }
                }
                if( Moment().diff(Moment(month+"/"+year, "MM/YYYY"), "months") < 1 ){
                    NotyMsg.warningMsg(langContent.BondCalculatorView.warningMsg5);
                    return;
                }

                this.issuedDate = ""+this.ui.month.val()+"/"+this.ui.year.val()+"";

                var model = Models.getBondCalcModel({
                    "series"                : this.ui.series.val(),
                    "issueDate"             : this.issuedDate,
                    "denomination"          : this.ui.denomination.val()
                });
                model.processRequest();

            },
            showResults : function (results) {

                if(false){
                    NotyMsg.errorMsg(""+langContent.BondCalculatorView.warningMsg6+""+this.issuedDate+" ");
                    return false;
                }else if(false){
                    NotyMsg.errorMsg(langContent.BondCalculatorView.warningMsg7);
                    return false;
                }else{
                    this.ui.instructionPara.hide();
                    this.ui.resultsTable.show();
                }

                this.ui.bondValue.html(Utils.formatAmount(results.value.amount));
                this.ui.interest.html(Utils.formatAmount(results.interest.amount));
                this.ui.monthYear.html(results.issueDate);
                this.ui.seriesResult.html(results.series);
                this.ui.denominationResult.html(results.denomination);

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new BondCalculatorView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],87:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Utils = require('../../../js/utils/utils');
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- LoanCalculatorView  ------------------------------------------------------------

        var LoanCalculatorView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.LoanCalculatorView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.LoanCalculatorView), l_en) );
            },

            ui:{
                "loanAmt" : "#loanAmt",
                "intRate" : "#intRate",
                "noOfMonths" : "#noOfMonths",
                "showSchedule" : "#showSchedule",

                "instructionPara" : "#instructionPara",
                "resultsTable" : "#resultsTable",

                "loanAmtResult" : "#loanAmtResult",
                "totalInt" : "#totalInt",
                "totalOfPayments" : "#totalOfPayments",
                "paymentAmt" : "#paymentAmt",
                "maturityDate" : "#maturityDate",

                "scrollToSchedule" : "#scrollToSchedule",

                "loanTableRow" : "#loanTableRow",
                "loanTBody" : "#loanTBody"
            },

            events:{
                "click #scrollToSchedule" : "scrollToSchedule",
                "click #resetCalc" : "resetCalc",
                "submit #calculatorForm" : "showResults"
            },

            onShow: function(){
                this.initValidators();
            },


            initValidators: function(){
                $('#calculatorForm')
                    .formValidation(ValidatorOpt.loanCalculator)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            resetCalc: function(){
                this.ui.loanAmt.val("");
                this.ui.intRate.val("");
                this.ui.noOfMonths.val("");
                this.ui.showSchedule.prop("checked", false);
                $('#calculatorForm').data('formValidation').resetForm();
                this.ui.resultsTable.hide();
                this.ui.instructionPara.show();
                this.ui.loanTableRow.hide();
            },

            showResults : function (event) {
                if(!$("#calculatorForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.ui.instructionPara.hide();
                this.ui.resultsTable.show();

                this.loanAmt = parseFloat(this.ui.loanAmt.val()).toFixed(2);
                this.rateofInterest = parseFloat(this.ui.intRate.val()).toFixed(2);
                this.compoundedRate = this.rateofInterest/1200;
                this.n = parseInt(this.ui.noOfMonths.val());
                this.paymentAmt = parseFloat((this.compoundedRate * this.loanAmt) / (1 - Math.pow(( 1 + this.compoundedRate ),-this.n))).toFixed(2);

                this.TotalOfPayments = parseFloat((this.paymentAmt * this.n)).toFixed(2);
                this.TotalInterest = parseFloat(this.TotalOfPayments - this.loanAmt).toFixed(2);

                this.ui.loanAmtResult.html(Utils.formatAmount(this.loanAmt));
                this.ui.totalInt.html(Utils.formatAmount(Math.round(this.TotalInterest)));
                this.ui.totalOfPayments.html(Utils.formatAmount(Math.round(this.TotalOfPayments)));
                this.ui.paymentAmt.html(Utils.formatAmount(Math.round(this.paymentAmt)));
                this.ui.maturityDate.html(Moment().add(this.n, 'months').format("MM/DD/YYYY"));

                this.scrollToResults();
                if(this.ui.showSchedule.is(":checked")){
                    this.ui.loanTableRow.show();
                    this.ui.scrollToSchedule.show();
                    this.showSchedule();
                }else{
                    this.ui.loanTableRow.hide();
                    this.ui.scrollToSchedule.hide();
                }

            },

            showSchedule: function(){
                var trStr = "",
                    totalYearInterest = 0.00;
                this.loanBalance = this.loanAmt;
                this.totalInterest = 0.00;
                for(var i = 0; i < this.n; i++){


                    var interest = parseFloat(( this.loanBalance * this.compoundedRate )).toFixed(2);
                    this.totalInterest = parseFloat(parseFloat(this.totalInterest) + parseFloat(interest)).toFixed(2);
                    var principal = parseFloat(this.paymentAmt - interest).toFixed(2);
                    this.loanBalance = parseFloat(this.loanBalance - principal).toFixed(2);

                    var loanBal = "";
                    var totalInt = "";
                    if((i+1) == this.n){
                        loanBal = Math.abs(Math.round(this.loanBalance));
                        totalInt = Math.abs(Math.round(this.totalInterest));
                    }else{
                        loanBal = this.loanBalance;
                        totalInt = this.totalInterest;
                    }

                    trStr = trStr + "<tr>" +
                        "<td class='text-left hidden-xs'>"+(i+1)+"</td>" +
                        "<td class='text-left'>"+Moment().add((i+1), 'months').format("MM/YYYY")+"</td>" +
                        "<td class='hidden-xs'>"+Utils.formatAmount(principal)+"</td>" +
                        "<td>"+Utils.formatAmount(interest)+"</td>" +
                        "<td>"+Utils.formatAmount(loanBal)+"</td>" +
                        "<td>"+Utils.formatAmount(totalInt)+"</td>" +
                        "</tr>";

                    totalYearInterest = parseFloat(parseFloat(totalYearInterest) + parseFloat(interest)).toFixed(2);

                    if(Moment().add((i+1), 'months').month() == 11){
                        trStr = trStr + "<tr class='hidden-xs'>" +
                            "<td colspan='5' class='text-bold'>"+langContent.LoanCalculatorView.intPaidYTDText+"</td>" +
                            "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                            "</tr>"+
                            "<tr class='hidden-sm hidden-md hidden-lg'>" +
                            "<td colspan='3' class='text-bold'>"+langContent.LoanCalculatorView.intPaidYTDText+"</td>" +
                            "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                            "</tr>";

                        totalYearInterest = 0.00;
                    }
                }
                if(totalYearInterest != 0.00) {
                    trStr = trStr + "<tr class='hidden-xs'>" +
                        "<td colspan='5' class='text-bold'>"+langContent.LoanCalculatorView.intPaidYTDText+"</td>" +
                        "<td class='text-bold'>" + Utils.formatAmount(totalYearInterest) + "</td>" +
                        "</tr>"+
                        "<tr class='hidden-sm hidden-md hidden-lg'>" +
                        "<td colspan='3' class='text-bold'>"+langContent.LoanCalculatorView.intPaidYTDText+"</td>" +
                        "<td class='text-bold'>" + Utils.formatAmount(totalYearInterest) + "</td>" +
                        "</tr>";
                }

                this.ui.loanTBody.html(trStr);

            },

            scrollToResults: function() {
                $("html, body").animate({
                    scrollTop: $("#resultsData").offset().top-70
                }, 1000);
            },
            scrollToSchedule: function() {
                $("html, body").animate({
                    scrollTop: $("#loanTableRow").offset().top-70
                }, 1000);
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new LoanCalculatorView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],88:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Utils = require('../../../js/utils/utils');
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- SavingsCalculatorView  ------------------------------------------------------------

        var SavingsCalculatorView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SavingsCalculatorView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SavingsCalculatorView), l_en) );
            },

            ui:{
                "openBal" : "#openBal",
                "monthDeposit" : "#monthDeposit",
                "periodMonths" : "#periodMonths",
                "annualInt" : "#annualInt",
                "showSchedule" : "#showSchedule",

                "instructionPara" : "#instructionPara",
                "resultsTable" : "#resultsTable",

                "principal" : "#principal",
                "intEarned" : "#intEarned",
                "totalAmt" : "#totalAmt",
                "noOfDeposit" : "#noOfDeposit",
                "lastDeposit" : "#lastDeposit",

                "scrollToSchedule" : "#scrollToSchedule",

                "savingsTableRow" : "#savingsTableRow",
                "savingsTBody" : "#savingsTBody"
            },

            events:{
                "click #scrollToSchedule" : "scrollToSchedule",
                "click #resetCalc" : "resetCalc",
                "submit #calculatorForm" : "showResults"
            },

            onShow: function(){
                this.initValidators();
            },

            initValidators: function(){
                $('#calculatorForm')
                    .formValidation(ValidatorOpt.savingsCalculator)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            resetCalc: function(){
                $("input").val("");
                this.ui.showSchedule.prop("checked", false);
                $('#calculatorForm').data('formValidation').resetForm();
                this.ui.resultsTable.hide();
                this.ui.instructionPara.show();
                this.ui.savingsTableRow.hide();
            },

            showResults : function (event) {
                if(!$("#calculatorForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.ui.instructionPara.hide();
                this.ui.resultsTable.show();

                this.openBalance = parseFloat(this.ui.openBal.val()).toFixed(2);
                this.monthlyDeposit = parseFloat(this.ui.monthDeposit.val()).toFixed(2);
                this.period = parseInt(this.ui.periodMonths.val());
                this.annualInt = parseFloat(this.ui.annualInt.val()/1200);

                this.principalAmt = parseFloat(parseFloat(this.openBalance) + parseFloat(this.monthlyDeposit * this.period)).toFixed(2);
                this.totalAmt = parseFloat(this.principalAmt * Math.pow(( 1 + this.annualInt ), this.period)).toFixed(2);
                this.totalInterestEarned = parseFloat(this.totalAmt - this.principalAmt).toFixed(2);



                this.ui.principal.html(Utils.formatAmount(this.principalAmt));
                //this.ui.intEarned.html(Utils.formatAmount(this.totalInterestEarned));
                //this.ui.totalAmt.html(Utils.formatAmount(this.totalAmt));
                this.ui.noOfDeposit.html(this.period);
                this.ui.lastDeposit.html(Moment().add((this.period-1), 'months').format("MM/DD/YYYY"));

                this.scrollToResults();
                this.showSchedule();


            },

            showSchedule: function(){
                var trStr = "",
                    totalYearInterest = 0.00;
                this.balance = this.openBalance;
                this.totalInterest = 0.00;
                for(var i = 0; i < this.period; i++){

                    var principal = parseFloat(parseFloat(this.balance) + parseFloat(this.monthlyDeposit * 1 )).toFixed(2);
                    this.balance = parseFloat( principal * Math.pow(( 1 + this.annualInt ), 1 )).toFixed(2);
                    var interest = parseFloat(this.balance - principal).toFixed(2);
                    this.totalInterest = parseFloat(parseFloat(this.totalInterest) + parseFloat(interest)).toFixed(2);
                    var totalDep = parseFloat((parseFloat(this.monthlyDeposit) * parseFloat((i+1))) +  parseFloat(this.openBalance)).toFixed(2);


                    trStr = trStr + "<tr>" +
                        "<td class='text-left hidden-xs'>"+(i+1)+"</td>" +
                        "<td class='text-left'>"+Moment().add(i, 'months').format("MM/YYYY")+"</td>" +
                        "<td class='hidden-xs'>"+Utils.formatAmount(this.monthlyDeposit)+"</td>" +
                        "<td>"+Utils.formatAmount(interest)+"</td>" +
                        "<td class='hidden-xs'>"+Utils.formatAmount(totalDep)+"</td>" +
                        "<td>"+Utils.formatAmount(this.totalInterest)+"</td>" +
                        "<td>"+Utils.formatAmount(this.balance)+"</td>" +
                        "</tr>";

                    totalYearInterest = parseFloat(parseFloat(totalYearInterest) + parseFloat(interest)).toFixed(2);

                    if(Moment().add(i, 'months').month() == 11){
                        trStr = trStr + "<tr class='hidden-xs'>" +
                            "<td colspan='5' class='text-bold'>"+langContent.SavingsCalculatorView.intPaidYTDText+"</td>" +
                            "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                            "<td></td>" +
                            "</tr>"+
                            "<tr class='hidden-sm hidden-md hidden-lg'>" +
                            "<td colspan='2' class='text-bold'>"+langContent.SavingsCalculatorView.intPaidYTDText+"</td>" +
                            "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                            "<td></td>" +
                            "</tr>";

                        totalYearInterest = 0.00;
                    }
                }
                if(totalYearInterest != 0.00) {
                    trStr = trStr + "<tr class='hidden-xs'>" +
                        "<td colspan='5' class='text-bold'>"+langContent.SavingsCalculatorView.intPaidYTDText+"</td>" +
                        "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                        "<td></td>" +
                        "</tr>"+
                        "<tr class='hidden-sm hidden-md hidden-lg'>" +
                        "<td colspan='2' class='text-bold'>"+langContent.SavingsCalculatorView.intPaidYTDText+"</td>" +
                        "<td class='text-bold'>"+ Utils.formatAmount(totalYearInterest) +"</td>" +
                        "<td></td>" +
                        "</tr>";
                }

                this.ui.intEarned.html(Utils.formatAmount(this.totalInterest));
                this.ui.totalAmt.html(Utils.formatAmount(this.balance));
                if(this.ui.showSchedule.is(":checked")){
                    this.ui.savingsTableRow.show();
                    this.ui.scrollToSchedule.show();
                    this.ui.savingsTBody.html(trStr);
                }else{
                    this.ui.savingsTableRow.hide();
                    this.ui.scrollToSchedule.hide();
                }


            },

            scrollToResults: function() {
                $("html, body").animate({
                    scrollTop: $("#resultsData").offset().top-70
                }, 1000);
            },
            scrollToSchedule: function() {
                $("html, body").animate({
                    scrollTop: $("#savingsTableRow").offset().top-70
                }, 1000);
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new SavingsCalculatorView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],89:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AchBatchAuthorizationView  ------------------------------------------------------------

        var AchBatchAuthorizationView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AchBatchAuthorizationView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AchBatchAuthorizationView), l_en) );
            },

            ui:{
                "batchActionButtons" : ".batchActionBut",
                "batchNameConfirm" : ".batchNameConfirm"
            },

            events:{
                "change #selectAllBatch" : "selectAllBatch",
                "change .batchSelectInput" : "batchSelected",
                "click #approveBatch" : "approveBatch",
                "click #confirmApprove" : "confirmApprove",
                "click #declineBatch" : "declineBatch",
                "click #confirmDecline" : "confirmDecline",

                "change #sortSelect" : "sortTable"
            },

            onShow: function(){
                this.getACHBatchAuthData();
                this.enableSelectPlugin();
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            getACHBatchAuthData: function(){
                var getACHSummaryListModel = Models.getACHBatchSummaryModel();
                getACHSummaryListModel.processRequest();
            },
            renderACHBatchSummaryData: function(response){
                var summaryData = [];
                var list = response;
                for(var i = 0; i < list.length; i++) {

                    var firstCol = "<div class='row'>" +
                        "<div class='col-xs-1 col-sm-1 col-md-2'><input value='" + list[i].batchId + "' data-name='" + list[i].batchName + "' class='batchSelectInput materialcheckbox' type='checkbox'></div>" +
                        "<div class='col-xs-10 col-sm-10 col-md-10'>" +
                        "<div class='row paddingBottom10'><div class='col-xs-12 text-bold text-primary'>" + list[i].batchName + "</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.compNameText+"</div><div class='col-xs-6 text-left'>"+list[i].companyName+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.accText+"</div><div class='col-xs-6 text-left'>" + Utils.maskAccount(list[i].accountNo) + "</div></div>" +
                        "</div>" +
                        "</div>";
                    var secondCol = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.idText+"</div><div class='col-xs-6 text-left'>" + list[i].companyId + "</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.lastProcessedText+"</div><div class='col-xs-6 text-left'>" + list[i].dateLastProcessed + "</div></div>" +
                        "<div class='row'>" +
                        "<div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.effectiveDateText+"</div>" +
                        "<div class='col-xs-6 text-left'><div class='input-group date effDateGroup'><input id='" + list[i].batchId + "' type='text' class='form-control effDate' placeholder='MM/DD/YYYY' value='"+list[i].dateScheduled+"'><span class='input-group-addon'><span class='icon-calender'></span></span></div>" +
                        "</div></div>"+
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.dateNextScheduledText+"</div><div class='col-xs-6 text-left'>" + list[i].dateNextScheduled + "</div></div>";

                    var thirdCol = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.itemsText+"</div><div class='col-xs-6 text-left'>"+ list[i].items +"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.debitsText+"</div><div class='col-xs-6 text-left'>"+ Utils.formatAmount(list[i].debit) +"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.creditsText+"</div><div class='col-xs-6 text-left'>"+ Utils.formatAmount(list[i].credit) +"</div></div>";

                    var lastRow1 = "<div class='row'><div class='col-xs-6 col-sm-6 col-md-6 col-md-offset-1 text-right text-bold'>"+langContent.AchBatchAuthorizationView.scheduleText+"</div><div class='col-xs-6 col-sm-6 col-md-5 text-left'>"+ list[i].scheduleType + " <span class='glyphicon glyphicon-time'></span></div></div>";

                    var lastRow2,lastRow3;
                    if(list[i].scheduleType == "Recurring"){
                        lastRow2 = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.frequencyText+"</div><div class='col-xs-6 text-left'>"+ list[i].frequency + "</div></div>";
                        lastRow3 = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.expDateText+"</div><div class='col-xs-6 text-left'>"+ list[i].expirationDate + "</div></div>";
                    }else{
                        lastRow2 = "";
                        lastRow3 = "";
                    }


                    var rowStr = "<div class='row'>" +
                        "<div class='col-md-3'>"+firstCol+"</div>" +
                        "<div class='col-md-6'>"+secondCol+"</div>" +
                        "<div class='col-md-3'>"+thirdCol+"</div>" +
                        "</div>" +
                        "<div class='row'>" +
                        "<div class='col-md-3'>"+lastRow1+"</div>" +
                        "<div class='col-md-6'>"+lastRow2+"</div>" +
                        "<div class='col-md-3'>"+lastRow3+"</div>" +
                        "</div>" +
                        " <div class='row'>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchAuthorizationView.statusText+"</div><div class='col-xs-6 text-left text-capitalize'>"+ list[i].status + "</div></div>"+
                        "</div> " ;

                    summaryData.push({
                        '0': rowStr,
                        '1': list[i].batchName,
                        '2': list[i].dateLastProcessed,
                        '3': list[i].dateScheduled,
                        '4': list[i].dateNextScheduled
                    });

                }

                this.achBatchAuthTable = $('#achBatchAuthTable').dataTable({
                    "aaData": summaryData,
                    "bDestroy" : true,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        { "bSortable": false, "sClass": "all" },
                        { "sClass": "never" },
                        { "sClass": "never" },
                        { "sClass": "never" },
                        { "sClass": "never" }
                    ]
                });
                this.initDateInput();
                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.batchActionButtons.prop("disabled", true);
            },

            sortTable: function(event){
                this.achBatchAuthTable.fnSort([ [ event.currentTarget.value, 'asc'] ]);
            },

            initDateInput: function(){
                $(".effDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY"
                    //widgetParent: "#calendarDiv"
                });
            },
            selectAllBatch: function(){
                if($("#selectAllBatch").is(":checked")){
                    this.achBatchAuthTable.$("input.batchSelectInput").prop("checked", true);
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.achBatchAuthTable.$("input.batchSelectInput").prop("checked", false);
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },
            batchSelected: function(){
                if(this.achBatchAuthTable.$("input.batchSelectInput:checked").length > 0){
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },

            approveBatch: function(){
                var len = this.achBatchAuthTable.$("input.batchSelectInput:checked").length;
                this.approveBatchList = [];
                if(len > 0){
                    var batchNameStr = "";
                    for(var i = 0; i < len; i++){
                        this.approveBatchList.push({
                            "batchId" : this.achBatchAuthTable.$("input.batchSelectInput:checked")[i].value,
                            "effectiveDate" : $("#"+this.achBatchAuthTable.$("input.batchSelectInput:checked")[i].value+"").val()
                        });
                        batchNameStr = batchNameStr + $(this.achBatchAuthTable.$("input.batchSelectInput:checked")[i]).attr("data-name") + "<br>";
                    }
                    this.ui.batchNameConfirm.html(batchNameStr);
                    $("#confirmApproveBatchModal").modal("show");
                }
            },
            confirmApprove: function(){
                var approveModel = Models.getApproveACHBatchModel({
                    "authorizeList" : this.approveBatchList
                });
                approveModel.processRequest();
            },
            declineBatch: function(){
                var len = this.achBatchAuthTable.$("input.batchSelectInput:checked").length;
                this.declineBatchList = [];
                if(len > 0){
                    var batchNameStr = "";
                    for(var i = 0; i < len; i++){
                        this.declineBatchList.push({
                            "batchId" : this.achBatchAuthTable.$("input.batchSelectInput:checked")[i].value
                        });
                        batchNameStr = batchNameStr + $(this.achBatchAuthTable.$("input.batchSelectInput:checked")[i]).attr("data-name") + "<br>";
                    }
                    this.ui.batchNameConfirm.html(batchNameStr);
                    $("#confirmDeclineBatchModal").modal("show");
                }
            },
            confirmDecline: function(){
                var declineModel = Models.getDeclineACHBatchModel({
                    "declineList" : this.declineBatchList
                });
                declineModel.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new AchBatchAuthorizationView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],90:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../js/app/app_activity');
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var NotyMsg = require("../../../../js/utils/noty_msg");
        var dConfig = require("../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AchBatchSummaryView  ------------------------------------------------------------

        var AchBatchSummaryView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AchBatchSummaryView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AchBatchSummaryView), l_en) );
            },

            ui:{
                "batchActionButtons" : ".batchActionBut"
            },

            events:{
                "change #selectAllBatch" : "selectAllBatch",
                "change .batchSelectInput" : "batchSelected",
                "click #deleteBatch" : "deleteBatch",
                "click #confirmBatchDelete" : "confirmDeleteBatch",

                "click .batchNames" : "editBatch",

                "change #sortSelect" : "sortTable"
            },

            onShow: function(){
                this.getAllACHBatchSummaryData();
                this.enableSelectPlugin();
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            getAllACHBatchSummaryData: function(){
                var getAllACHSummaryListModel = Models.getAllACHBatchSummaryModel();
                getAllACHSummaryListModel.processRequest();
            },
            renderAllACHBatchSummaryData: function(response){
                var summaryData = [];
                var list = response;
                this.batchList = response;
                for(var i = 0; i < list.length; i++) {

                    var firstCol = "<div class='row'>" +
                        "<div class='col-xs-1 col-sm-1 col-md-2'><input value='"+list[i].batchId+"' data-status='"+list[i].status+"' class='batchSelectInput materialcheckbox' type='checkbox'></div>" +
                        "<div class='col-xs-10 col-sm-10 col-md-10'>" +
                        "<div class='row paddingBottom10'><div class='col-xs-12 text-bold'><span class='batchNames pointerCursor text-primary text-bold' data-scheduletype='"+list[i].scheduleType+"' data-status='"+list[i].status+"' id='"+list[i].batchId+"'>"+list[i].batchName+"</span></div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.compNameText+"</div><div class='col-xs-6 text-left'>"+list[i].companyName+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.accText+"</div><div class='col-xs-6 text-left'>"+Utils.maskAccount(list[i].accountNo)+"</div></div>" +
                        "</div>" +
                        "</div>";
                    var secondCol = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.idText+"</div><div class='col-xs-6 text-left'>"+list[i].companyId+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.lastProcessedText+"</div><div class='col-xs-6 text-left'>"+list[i].dateLastProcessed+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.dateNextScheduledText+"</div><div class='col-xs-6 text-left'>"+list[i].dateNextScheduled+"</div></div>";
                    var thirdCol = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.itemsText+"</div><div class='col-xs-6 text-left'>"+ list[i].items +"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.debitsText+"</div><div class='col-xs-6 text-left'>"+ Utils.formatAmount(list[i].debit) +"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.creditsText+"</div><div class='col-xs-6 text-left'>"+ Utils.formatAmount(list[i].credit) +"</div></div>";

                    var lastRow1 = "<div class='row'><div class='col-xs-6 col-sm-6 col-md-6 col-md-offset-1 text-right text-bold'>"+langContent.AchBatchSummaryView.scheduleText+"</div><div class='col-xs-6 col-sm-6 col-md-5  text-left'>"+ list[i].scheduleType + " <span class='glyphicon glyphicon-time'></span></div></div>";

                    var lastRow2,lastRow3;
                    if(list[i].scheduleType == "Recurring"){
                        lastRow2 = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.frequencyText+"</div><div class='col-xs-6 text-left'>"+ list[i].frequency + "</div></div>";
                        lastRow3 = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.expDateText+"</div><div class='col-xs-6 text-left'>"+ list[i].expirationDate + "</div></div>";
                    }else{
                        lastRow2 = "";
                        lastRow3 = "";
                    }


                    var rowStr = "<div class='row'>" +
                        "<div class='col-md-4'>"+firstCol+"</div>" +
                        "<div class='col-md-4'>"+secondCol+"</div>" +
                        "<div class='col-md-4'>"+thirdCol+"</div>" +
                        "</div>" +
                        "<div class='row'>" +
                        "<div class='col-md-4'>"+lastRow1+"</div>" +
                        "<div class='col-md-4'>"+lastRow2+"</div>" +
                        "<div class='col-md-4'>"+lastRow3+"</div>" +
                        "</div>" +
                        " <div class='row'>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.AchBatchSummaryView.statusText+"</div><div class='col-xs-6 text-left text-capitalize'>"+ list[i].status + "</div></div>"+
                        "</div> " ;

                    summaryData.push({
                        '0': rowStr,
                        '1': list[i].batchName,
                        '2': list[i].dateLastProcessed,
                        '3': list[i].dateNextScheduled
                    });
                }

                this.achSummaryTable = $('#achBatchSummaryTable').dataTable({
                    "aaData": summaryData,
                    "bDestroy" : true,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        { "bSortable": false, "sClass": "all" },
                        { "sClass": "never" },
                        { "sClass": "never" },
                        { "sClass": "never" }
                    ]
                });

                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.batchActionButtons.prop("disabled", true);
            },

            sortTable: function(event){
                this.achSummaryTable.fnSort([ [ event.currentTarget.value, 'asc'] ]);
            },

            selectAllBatch: function(){

                if($("#selectAllBatch").is(":checked")){
                    this.achSummaryTable.$('input.batchSelectInput').prop("checked", true);
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.achSummaryTable.$('input.batchSelectInput').prop("checked", false);
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },
            batchSelected: function(){
                if($(".batchSelectInput:checked").length > 0){
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },

            deleteBatch: function(){
                var len = this.achSummaryTable.$('input.batchSelectInput:checked').length;
                var approvedBatchInColl = false;
                this.removeBatchList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        if($(this.achSummaryTable.$('input.batchSelectInput:checked')[i]).attr("data-status") == "scheduled"){
                            approvedBatchInColl = true;
                            break;
                        }else{
                            this.removeBatchList.push({
                                "batchId" : this.achSummaryTable.$('input.batchSelectInput:checked')[i].value
                            });
                        }
                    }

                    if(!approvedBatchInColl){
                        $("#confirmDeleteBatchModal").modal("show");
                    }else{
                        NotyMsg.warningMsg("Approved Batches cannot be deleted");
                    }
                }
            },

            confirmDeleteBatch: function(){
                var deleteModel = Models.getDeleteACHBatchModel({
                    "batchRemoveList" : this.removeBatchList
                });
                deleteModel.processRequest();
            },

            editBatch: function(e){
                if(($(e.currentTarget).attr("data-status") == "scheduled" || $(e.currentTarget).attr("data-status") == "rejected") &&  $(e.currentTarget).attr("data-scheduletype") == "OneTime"){
                    NotyMsg.warningMsg("Approved or Rejected batch cannot be edited");
                }else {
                    dConfig.userInfo.batchData = {};
                    for (var i = 0; i < this.batchList.length; i++) {
                        if (this.batchList[i].batchId == e.currentTarget.id) {
                            dConfig.userInfo.batchData = this.batchList[i];
                            break;
                        }
                    }
                    AppActivity.trigger("editAchBatch");
                }
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new AchBatchSummaryView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],91:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var NotyMsg = require("../../../../js/utils/noty_msg");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AchFileImportView  ------------------------------------------------------------

        var AchFileImportView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AchFileImportView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AchFileImportView), l_en) );
            },

            ui:{
                "fileName" : "#fileName",
                "achFile" : "#achFile"
            },

            events:{
                "change @ui.achFile" : "achFileUploaded"
            },

            onShow: function(){
                this.initJqueryForm();
            },

            achFileUploaded: function(event){
                if(event.currentTarget.files[0]){
                    this.ui.fileName.html(event.currentTarget.files[0].name);
                }else{
                    this.clearAchFile();
                }

            },
            clearAchFile: function(){
                this.ui.fileName.html("");
            },

            initJqueryForm: function(){
                this.UploadOptions = {
                    beforeSubmit    : this.showRequest,
                    beforeSerialize : this.beforeFormSubmit,
                    success         : this.successFileUpload,
                    error           : this.errorFileUpload,
                    headers         : {
                        'x-csrf-token' : Utils.token
                    }
                };
                this.$('#achFileImportForm').ajaxForm(this.UploadOptions);
            },
            //*************      AJAX Form Submission  ********************************
            beforeFormSubmit: function(arr, $form, options){
                console.log(arr);
                console.log($form);
                console.log(options);
                if($("#achFile").val().length < 1){
                    NotyMsg.warningMsg("Please choose a file before submitting for import.");
                    return false;
                }
            },
            showRequest : function (formData, jqForm, options) {
                var queryString = $.param(formData);
                console.log('About to submit: \n\n' + queryString);
                return true;
            },
            successFileUpload : function(response, status, serverCall, form){
                console.log(response);
                Utils.token = serverCall.getResponseHeader("x-csrf");
                NotyMsg.successMsg('ACH File Imported Successfully');
                $('input').val('');
                this.clearAchFile();
            },
            errorFileUpload: function(response){
                NotyMsg.errorMsg('ACH File Import Error');
                console.log("Candidate File Upload Failed : "+JSON.stringify(response));
            },


            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new AchFileImportView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],92:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
        var AppActivity = require('../../../../js/app/app_activity');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AchFileImportAuthView  ------------------------------------------------------------

        var AchFileImportAuthView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AchFileImportAuthView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AchFileImportAuthView), l_en));
            },

            ui:{

            },

            events:{
                "click .fileName" : "showBatchSummaryData"
            },

            onShow: function(){
                this.getFileImportAuthData();
            },

            getFileImportAuthData: function(){
                var achFileAuth = Models.getACHFileImportAuthModel();
                achFileAuth.processRequest();
            },

            renderAuthList: function(response){
                var authData = [];
                this.fileAuthData = response;
                for(var i = 0; i < response.length; i++) {

                    authData.push({
                        '0': "",
                        '1': "<span class='fileName pointerCursor' id='"+response[i].fileId+"'>"+response[i].fileName+"</span>",
                        '2': Moment(response[i].updatedOn).format("MM/DD/YYYY"),
                        '3': response[i].uploadedBy,
                        '4': Moment(response[i].createdOn).utc().format("MM/DD/YYYY h:mm a")+" (GMT)"
                    });
                }

                $('#fileImportAuth').dataTable({
                    "aaData": authData,
                    "bDestroy" : true,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "40%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "13%"
                        },
                        {
                            "sClass": "desktop",
                            "sWidth" : "30%"
                        }
                    ]
                });
            },

            showBatchSummaryData: function(event){
                dConfig.userInfo.achfileId = event.currentTarget.id;
                dConfig.userInfo.achfileName = $(event.currentTarget).html();
                AppActivity.trigger("fileBatchAuth");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new AchFileImportAuthView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],93:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
        var Utils = require("../../../../../js/utils/utils");
        var dConfig = require("../../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- FileBatchAuthView  ------------------------------------------------------------

        var FileBatchAuthView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.FileBatchAuthView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.FileBatchAuthView), l_en) );
            },

            ui:{
                "batchActionButtons" : ".batchActionBut",
                "batchNameConfirm" : ".batchNameConfirm"
            },

            events:{
                "change #selectAllBatch" : "selectAllBatch",
                "change .batchSelectInput" : "batchSelected",
                "click #processBatch" : "processBatch",
                "click #confirmProcess" : "confirmProcess",
                "click #deleteBatch" : "deleteBatch",
                "click #confirmDelete" : "confirmDelete",

                "change #sortSelect" : "sortTable"
            },

            onShow: function(){
                this.getFileBatches();
            },

            getFileBatches: function(){
                var listBatchModel = Models.getListACHFileBatchModel({
                    fileId : dConfig.userInfo.achfileId
                });
                listBatchModel.processRequest();
            },

            renderAccounts: function(){
                var accs = dConfig.customerAccounts;
                var accStr = "";
                for(var i = 0; i < accs.length; i++) {

                    accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";

                }
                this.accSelection = accStr;
                this.renderFileBatchSummaryData(dConfig.userInfo.fileBatchSumData);
            },


            renderFileBatchSummaryData: function(response){
                this.batchList = response;
                var summaryData = [];
                var list = response;
                for(var i = 0; i < list.length; i++) {

                    var firstCol = "<div class='row'>" +
                        "<div class='col-xs-1 col-sm-1 col-md-2'><input value='" + i + "' data-name='" + list[i].batchName + "' class='batchSelectInput materialcheckbox' type='checkbox'></div>" +
                        "<div class='col-xs-10 col-sm-10 col-md-10'>" +
                        "<div class='row'><div class='col-xs-12 text-bold text-primary pointerCursor'>" + list[i].batchName + "</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.secClassText+"</div><div class='col-xs-6 text-left'>" + list[i].secCode + "</div></div>" +
                        "</div>" +
                        "</div>";
                    var secondCol = "<div class='row'>" +
                        "<div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.accText+"</div>" +
                        "<div class='col-xs-6 text-left'><select data-id='" + i + "' class='selectpicker show-tick form-control accSelect select100'>"+ this.accSelection +"</select></div>" +
                        "</div>" +
                        "<div class='row'>" +
                        "<div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.effectiveDateText+"</div>" +
                        "<div class='col-xs-6 text-left'><div class='input-group date effDateGroup'>" +
                        "<input data-id='" + i + "' type='text' class='form-control effDate' placeholder='MM/DD/YYYY' value='"+list[i].dateScheduled+"'><span class='input-group-addon'><span class='icon-calender'></span></span>" +
                        "</div></div>" +
                        "</div>"+
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.buildSumText+"</div><div class='col-xs-6 text-left'>-</div></div>";

                    var thirdCol = "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.itemsText+"</div><div class='col-xs-6 text-left'>"+list[i].items+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.debitsText+"</div><div class='col-xs-6 text-left'>"+Utils.formatAmount(list[i].debit)+"</div></div>" +
                        "<div class='row'><div class='col-xs-6 text-right text-bold'>"+langContent.FileBatchAuthView.creditsText+"</div><div class='col-xs-6 text-left'>"+Utils.formatAmount(list[i].credit)+"</div></div>";

                    var rowStr = "<div class='row'>" +
                        "<div class='col-md-4'>"+firstCol+"</div>" +
                        "<div class='col-md-5'>"+secondCol+"</div>" +
                        "<div class='col-md-3'>"+thirdCol+"</div>" +
                        "</div>";

                    summaryData.push({
                        '0': rowStr,
                        '1': list[i].dateScheduled
                    });

                }

                this.fileBatchAuthTable = $('#fileBatchAuthTable').dataTable({
                    "aaData": summaryData,
                    "bDestroy" : true,
                    "aoColumns": [
                        { "bSortable": false, "sClass": "all" },
                        { "sClass": "never" }
                    ]
                });
                this.initDateInput();
                this.disableActionButtons();
                this.enableSelectPlugin();
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            disableActionButtons: function(){
                this.ui.batchActionButtons.prop("disabled", true);
            },
            sortTable: function(event){
                this.fileBatchAuthTable.fnSort([ [ event.currentTarget.value, 'asc'] ]);
            },

            initDateInput: function(){
                $(".effDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY"
                });
            },
            selectAllBatch: function(){
                if($("#selectAllBatch").is(":checked")){
                    this.fileBatchAuthTable.$("input.batchSelectInput").prop("checked", true);
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.fileBatchAuthTable.$("input.batchSelectInput").prop("checked", false);
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },
            batchSelected: function(){
                if(this.fileBatchAuthTable.$("input.batchSelectInput:checked").length > 0){
                    this.ui.batchActionButtons.prop("disabled", false);
                }else{
                    this.ui.batchActionButtons.prop("disabled", true);
                }
            },

            processBatch: function(){
                var len = this.fileBatchAuthTable.$("input.batchSelectInput:checked").length;
                this.processBatchList = [];
                if(len > 0){
                    var batchNameStr = "";
                    for(var i = 0; i < len; i++){
                        var counter = this.fileBatchAuthTable.$("input.batchSelectInput:checked")[i].value;
                        this.batchList[counter].accountNo = $("select[data-id='"+counter+"']").val();
                        this.batchList[counter].effectiveDate = $("input[data-id='"+counter+"']").val();

                        this.processBatchList.push( this.batchList[counter] );
                        batchNameStr = batchNameStr + $(this.fileBatchAuthTable.$("input.batchSelectInput:checked")[i]).attr("data-name") + "<br>";
                    }
                    this.ui.batchNameConfirm.html(batchNameStr);
                    $("#confirmProcessBatchModal").modal("show");
                }
            },
            confirmProcess: function(){
                var processModel = Models.getProcessACHFileImportAuthModel({
                    "batchList" : this.processBatchList,
                    "fileName"  : dConfig.userInfo.achfileName
                });
                processModel.processRequest();
            },
            deleteBatch: function(){
                var len = this.fileBatchAuthTable.$("input.batchSelectInput:checked").length;
                this.deleteBatchList = [];
                if(len > 0){
                    var batchNameStr = "";
                    for(var i = 0; i < len; i++){
                        var counter = this.fileBatchAuthTable.$("input.batchSelectInput:checked")[i].value;
                        this.deleteBatchList.push({
                            "batchId" : this.batchList[counter].batchId
                        });
                        batchNameStr = batchNameStr + $(this.fileBatchAuthTable.$("input.batchSelectInput:checked")[i]).attr("data-name") + "<br>";
                    }
                    this.ui.batchNameConfirm.html(batchNameStr);
                    $("#confirmDeleteBatchModal").modal("show");
                }
            },
            confirmDelete: function(){
                var deleteModel = Models.getDeleteACHFileImportAuthModel({
                    "batchRemoveList" : this.deleteBatchList,
                    "fileName"  : dConfig.userInfo.achfileName
                });
                deleteModel.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel({
                fileName : dConfig.userInfo.achFileName
            });
            return (new FileBatchAuthView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/moment.js":60,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/default_config":68,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73,"../../../../../js/utils/utils":74}],94:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var AppActivity = require('../../../../js/app/app_activity');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AchRecipientsView  ------------------------------------------------------------

        var AchRecipientsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AchRecipientsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AchRecipientsView), l_en) );
            },

            ui:{
                "batchList" : "#batchList",
                "recipientsSelectInput" : ".recipientsSelectInput",
                "recipientsActionBut" : ".recipientsActionBut",
                "recipientsTableDiv" : "#recipientsTableDiv"
            },

            events:{
                "change #batchList" : "batchSelected",
                "change #selectAllRecipients" : "selectAllRecipients",
                "change .recipientsSelectInput" : "recipientSelected",
                "click .recipientsName" : "editRecipient",

                "click #deleteRecipient" : "deleteRecipient",
                "click #confirmRecipientDelete" : "confirmRecipientDelete",
                "click #includeRecipient" : "include",
                "click #excludeRecipient" : "exclude",

                "click .deleteRecipient" : "deleteSingleRecipient",
                //"click #confirmRecipientDelete" : "confirmRecipientDelete",
                "click .includeRecipient" : "includeSingle",
                "click .excludeRecipient" : "excludeSingle"
            },

            onShow: function(){
                this.getACHBatchSummaryData();
            },

            getACHBatchSummaryData: function(){
                var getACHSummaryListModel = Models.getEditableACHBatchSummaryModel();
                getACHSummaryListModel.processRequest();
            },

            renderACHBatchSummaryData: function(response){
                var batchList = response, selectStr = "";
                for(var i = 0; i < batchList.length; i++) {
                    selectStr = selectStr + "<option value='"+batchList[i].batchId+"'>"+batchList[i].batchName+"</option>";
                }
                this.ui.batchList.append(selectStr);
                if(batchList.length > 0){
                    this.showFirstBatchData(batchList[0].batchId);
                    this.ui.batchList.val(batchList[0].batchId);
                }
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            showFirstBatchData: function(id){
                this.model.set({
                    batchId : id
                });
                this.model.processRequest();
            },
            batchSelected: function(event){
                if(event.currentTarget.value != "default"){
                    this.model.set({
                        batchId : event.currentTarget.value
                    });
                    this.model.processRequest();
                }
            },
            refreshRecipients: function(event){
                this.model.set({
                    batchId : this.ui.batchList.val()
                });
                this.model.processRequest();
            },

            renderRecipientsList: function(list){
                this.ui.recipientsTableDiv.show();
                function actionBut(status, recipientId){
                    var actionButtons;
                    if(status == "included"){
                        actionButtons = "<button data-id='"+recipientId+"' class='marginRight5 btn btn-default btn-mini excludeRecipient hidden-md hidden-lg' type='button'>"+langContent.AchRecipientsView.excludeText+"</button>" +
                        "<button data-id='"+recipientId+"' class='btn btn-info btn-mini deleteRecipient hidden-md hidden-lg' type='button'>"+langContent.AchRecipientsView.deleteText+"</button>";
                    }else{
                        actionButtons = "<button data-id='"+recipientId+"' class='marginRight5 btn btn-default btn-mini includeRecipient hidden-md hidden-lg' type='button'>"+langContent.AchRecipientsView.includeText+"</button>" +
                        "<button data-id='"+recipientId+"' class='btn btn-info btn-mini deleteRecipient hidden-md hidden-lg' type='button'>"+langContent.AchRecipientsView.deleteText+"</button>";
                    }
                    return actionButtons;
                }

                this.recipientsList = list;
                var tableData = [];
                for(var i = 0; i < list.length; i++) {

                    tableData.push({
                        '0': "",
                        '1': "<input value='"+list[i].recipientId+"' class='recipientsSelectInput hidden-xs hidden-sm materialcheckbox' type='checkbox'>",
                        '2': "<span class='statusIcon icon-checkmark "+list[i].status+"'></span><span id='"+list[i].recipientId+"' class='recipientsName text-primary pointerCursor'>"+list[i].recipientName+"</span>",
                        '3': list[i].accountNo,
                        '4': list[i].transactionCode,
                        '5': list[i].routingNumber,
                        '6': list[i].expirationDate,
                        '7': Utils.formatAmount(list[i].amount),
                        '8': list[i].addenda,
                        '9': actionBut(list[i].status, list[i].recipientId)
                    });
                }

                this.recipientsTable = $('#recipientsTable').dataTable({
                    "aaData": tableData,
                    "bDestroy" : true,
                    "order": [[ 2, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {
                            "bSortable": false,
                            "sClass": "desktop tablet-l"
                        },
                        {
                            "sClass": "all"
                        },
                        {
                            "sClass": "desktop tablet-l tablet-p"
                        },
                        {
                            "sClass": "desktop tablet-l"
                        },
                        {
                            "sClass": "desktop"
                        },
                        {
                            "sClass": "desktop tablet-l"
                        },
                        {
                            "sClass": "text-right all"
                        },
                        {
                            "sClass": "desktop"
                        },
                        {
                            "sClass": "none"
                        }
                    ]
                });

                this.disableActionButtons();

            },

            disableActionButtons: function(){
                this.ui.recipientsActionBut.prop("disabled", true);
            },

            selectAllRecipients: function(){
                if($("#selectAllRecipients").is(":checked")){
                    this.recipientsTable.$("input.recipientsSelectInput").prop("checked", true);
                    this.ui.recipientsActionBut.prop("disabled", false);
                }else{
                    this.recipientsTable.$("input.recipientsSelectInput").prop("checked", false);
                    this.ui.recipientsActionBut.prop("disabled", true);
                }
            },
            recipientSelected: function(event){
                if(this.recipientsTable.$("input.recipientsSelectInput:checked").length > 0){
                    this.ui.recipientsActionBut.prop("disabled", false);
                }else{
                    this.ui.recipientsActionBut.prop("disabled", true);
                }
            },

            editRecipient: function (e) {
                dConfig.userInfo.recipientData = {};
                for (var i = 0; i < this.recipientsList.length; i++) {
                    if (this.recipientsList[i].recipientId == e.currentTarget.id) {
                        dConfig.userInfo.recipientData = this.recipientsList[i];
                        break;
                    }
                }
                AppActivity.trigger("editAchRecipient");
            },

            deleteRecipient: function(){
                var len = this.recipientsTable.$("input.recipientsSelectInput:checked").length;
                this.removeRecipientsList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.removeRecipientsList.push({
                            "recipientId" : this.recipientsTable.$("input.recipientsSelectInput:checked")[i].value
                        });
                    }
                    $("#confirmDeleteRecipientModal").modal("show");
                }
            },
            deleteSingleRecipient: function(event){

                this.removeRecipientsList = [];

                this.removeRecipientsList.push({
                    "recipientId" : $(event.currentTarget).attr("data-id")
                });

                $("#confirmDeleteRecipientModal").modal("show");

            },
            confirmRecipientDelete : function(){
                var deleteModel = Models.getDeleteACHBatchRecipientModel({
                    "recipientRemoveList" : this.removeRecipientsList
                });
                deleteModel.processRequest();
            },



            include: function(){
                var len = this.recipientsTable.$("input.recipientsSelectInput:checked").length;
                var includeRecipientsList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        includeRecipientsList.push({
                            "recipientId" : this.recipientsTable.$("input.recipientsSelectInput:checked")[i].value
                        });
                    }
                    var model = Models.getIncludeRecipientModel({
                        "recipientIncludeList" : includeRecipientsList
                    });
                    model.processRequest();
                }
            },
            exclude: function(){
                var len = this.recipientsTable.$("input.recipientsSelectInput:checked").length;
                var excludeRecipientsList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        excludeRecipientsList.push({
                            "recipientId" : this.recipientsTable.$("input.recipientsSelectInput:checked")[i].value
                        });
                    }
                    var model = Models.getExcludeRecipientModel({
                        "recipientExcludeList" : excludeRecipientsList
                    });
                    model.processRequest();
                }
            },

            includeSingle: function(event){

                var includeRecipientsList = [{
                    "recipientId" : $(event.currentTarget).attr("data-id")
                }];

                var model = Models.getIncludeRecipientModel({
                    "recipientIncludeList" : includeRecipientsList
                });
                model.processRequest();

            },
            excludeSingle: function(event){

                var excludeRecipientsList = [{
                    "recipientId" : $(event.currentTarget).attr("data-id")
                }];

                var model = Models.getExcludeRecipientModel({
                    "recipientExcludeList" : excludeRecipientsList
                });
                model.processRequest();

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var getRecipientsModel = Models.getListACHBatchRecipientsModel();
            return (new AchRecipientsView({
                model : getRecipientsModel
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],95:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var NotyMsg = require('../../../../js/utils/noty_msg');
        var Models = require("../../../../js/models/models");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- AddNewAchRecipientView  ------------------------------------------------------------

        var AddNewAchRecipientView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.AddNewAchRecipientView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.AddNewAchRecipientView), l_en) );
            },

            ui:{
                "batchList" : "#batchList",
                "recipientName" : "#recipientName",
                "identification" : "#identification",
                "accountNo" : "#accountNo",
                "amount" : "#amount",
                "routingNumber" : "#routingNumber",
                "transCode" : "#transCode",
                "expDate" : "#expDate",
                "addenda" : "#addenda",

                "bankName" : "#bankName",
                "stateList" : "#stateList",
                "city" : "#city"
            },

            events:{
                "change #stateList" : "stateSelected",
                "submit #routingNoForm" : "searchRoutingNo",
                "click .selectRouteNo" : "selectRouteNo",

                "change #batchList" : "batchSelected",
                "submit #addNewAchRecipientForm" : "addNewAchRecipient",
                "click #cancelNewAchRecipient" : "cancelNewAchRecipient"
            },

            onShow: function(){
                this.initDateInput();
                this.initFormValidations();
                this.initRoutingNoModal();
                this.getACHBatchSummaryData();
            },

            initDateInput: function(){
                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
            },
            initFormValidations: function(){
                $("#addNewAchRecipientForm").formValidation(ValidatorOpt.createNewAchRecipient)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            initRoutingNoModal: function(){
                $('#routingNoModal').on('hidden.bs.modal', function () {
                    $("#bankName").val("");
                    $("#stateList").val("default");
                    $("#city").val("");
                    $('#routingNoTable').dataTable({
                        "aaData": [],
                        "bDestroy" : true
                    });
                    $("#routingNumberResults").hide();
                })
            },
            stateSelected: function(event){
                var state = event.currentTarget.value;
                if(state != "undefined"){
                    for(var i = 0; i < dConfig.states.length; i++){
                        if(dConfig.states[i].state == state){
                            console.log(dConfig.states[i].cities.length);
                            $("#city").typeahead('destroy');
                            $("#city").typeahead({
                                source : dConfig.states[i].cities
                            });
                            break;
                        }
                    }
                }
            },
            searchRoutingNo: function(){
                var routingModel = Models.getRoutingNoModel({
                    "bankName"      : this.ui.bankName.val(),
                    "stateCode"     : this.ui.stateList.val(),
                    "city"          : this.ui.city.val()
                });
                routingModel.processRequest();
            },
            renderRoutingNo: function(routingData){
                $("#routingNumberResults").show();
                var routeNoData = [];

                for(var i = 0; i < routingData.length; i++){
                    routeNoData.push({
                        '0' : "",
                        '1' : routingData[i].bankName,
                        '2' : routingData[i].address,
                        '3' : routingData[i].zipcode,
                        '4' : routingData[i].routingNumber,
                        '5' : "<button class='selectRouteNo btn btn-primary btn-sm' type='button' data-id='"+routingData[i].routingNumber+"' >Select</button>"
                    });
                }

                $('#routingNoTable').dataTable({
                    "aaData": routeNoData,
                    "bDestroy" : true,
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "30%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "13%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "20%"
                        }
                    ]
                });

            },
            selectRouteNo: function(event){
                this.ui.routingNumber.val($(event.currentTarget).attr("data-id"));
                $('#routingNoModal').modal("hide");
            },

            getACHBatchSummaryData: function(){
                var getACHSummaryListModel = Models.getEditableACHBatchSummaryModel();
                getACHSummaryListModel.processRequest();
            },

            renderACHBatchSummaryData: function(response){
                this.batchList = response;
                var selectStr = "";
                for(var i = 0; i < this.batchList.length; i++) {
                    selectStr = selectStr + "<option value='"+this.batchList[i].batchId+"'>"+this.batchList[i].batchName+"</option>";
                }
                this.ui.batchList.append(selectStr);
                this.getStatesCities();
            },

            getStatesCities: function(){
                var that = this;
                $.get("js/json/states_and_cities.json", function(states){
                    dConfig.states = states;
                    var selectStr = "";
                    for(var i = 0; i < states.length; i++){
                        selectStr = selectStr + "<option value='"+states[i].state+"'>"+states[i].state+"</option>";
                    }
                    that.ui.stateList.append(selectStr);
                    that.enableSelectPlugin();
                });
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            batchSelected: function(){
                var batch = _.findWhere(this.batchList, {"batchId" : this.ui.batchList.val()});
                var expDate = batch.expirationDate;
                if(batch.scheduleType == "Recurring" && expDate.length > 0){
                    var momentDate = Moment(expDate, "MM/DD/YYYY");
                    $('#expDateGroup').data("DateTimePicker").date(momentDate);
                }else{
                    $('#expDateGroup').data("DateTimePicker").date(null);
                }
            },

            addNewAchRecipient: function(event){
                if(!$("#addNewAchRecipientForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                if( dConfig.limitsAvailable.achCreditPerTrancLimit && $("#transCode option:selected").text().indexOf("credit") != -1 ){
                    var creditLimit = parseFloat(dConfig.privileges.limits.achLimits.achCreditLimitPerTranc);
                    var creditAmt = parseFloat(this.ui.amount.val());
                    if (creditAmt > creditLimit) {
                        NotyMsg.warningMsg("Amount is exceeding your credit limit per transaction <br>" +
                        "Should be less than " + creditLimit + "");
                        return false;
                    }
                }
                if( dConfig.limitsAvailable.achDebitPerTrancLimit && $("#transCode option:selected").text().indexOf("debit") != -1 ){
                    var debitLimit = parseFloat(dConfig.privileges.limits.achLimits.achDebitLimitPerTranc);
                    var debitAmt = parseFloat(this.ui.amount.val());
                    if (debitAmt > debitLimit) {
                        NotyMsg.warningMsg("Amount is exceeding your debit limit per transaction <br>" +
                        "Should be less than or equal to " + debitLimit + "");
                        return false;
                    }
                }


                this.model.set({
                    "batchId"                   : this.ui.batchList.val(),
                    "batchName"                 : $( "#batchList option:selected" ).text(),
                    "recipientName"             : this.ui.recipientName.val(),
                    "accountNo"                 : this.ui.accountNo.val(),
                    "routingNumber"             : this.ui.routingNumber.val(),
                    "amount"                    : this.ui.amount.val(),
                    "transactionCode"           : this.ui.transCode.val(),
                    "expirationDate"            : this.ui.expDate.val(),
                    "addenda"                   : this.ui.addenda.val(),

                    "identity"                  : this.ui.identification.val()
                });
                this.model.processRequest();
            },

            cancelNewAchRecipient: function(){
                var AppActivity = require("../../../../js/app/app_activity");
                AppActivity.trigger("achRecipients");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getCreateACHBatchRecipientModel();
            return (new AddNewAchRecipientView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],96:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
        var NotyMsg = require('../../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- CreateNewAchBatchView  ------------------------------------------------------------

        var CreateNewAchBatchView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.CreateNewAchBatchView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.CreateNewAchBatchView), l_en) );
            },

            ui:{
                "batchName"     : "#batchName",
                "secClassCode"  : "#secClassCode",
                "account"       : "#account",
                "companyName"   : "#companyName",
                "companyDiscretionary" : "#companyDiscretionary",
                "companyId"     : "#companyId",
                "batchDescription" : "#batchDescription",
                "dateScheduled" : "#dateScheduled",
                "frequency" : "#frequency",
                "expDate" : "#expDate",

                "recurFields" : "#recurringScheduleFields"
            },

            events:{
                "change #scheduleOne"   : "scheduleOneSelected",
                "change #scheduleRecur" : "recurringSelected",

                "submit #createNewAchBatchForm" : "createNewAchBatch"
            },

            onShow: function(){
                this.initDateInput();
                this.initFormValidations();
                this.renderAccounts();
            },

            initDateInput: function(){
                $("#dateScheduleGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().add(1, "days").startOf("day"),
                    maxDate: Moment().add(1, "weeks").endOf("day")
                });
                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
                $("#dateScheduleGroup").on("dp.change",function (e) {
                    $("#createNewAchBatchForm").data('formValidation').updateStatus("dateScheduled", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },
            initFormValidations: function(){
                $("#createNewAchBatchForm").formValidation(ValidatorOpt.createNewAchBatch)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderAccounts: function(){
                var accs = dConfig.saveCheckLoanTransferAccounts;
                var accStr = "";
                for(var i = 0; i < accs.length; i++) {
                    accStr = accStr + "<option value='" + accs[i].accountNo + "'>" + accs[i].accountType + " - " + Utils.maskAccount(accs[i].accountNo) + "</option>";
                }
                this.ui.account.html(accStr);
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            scheduleOneSelected: function(){
                this.ui.recurFields.hide();
            },
            recurringSelected: function(){
                this.ui.recurFields.show();
            },

            createNewAchBatch: function(event){
                if(!$("#createNewAchBatchForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }
                var schDate = Moment(this.ui.dateScheduled.val(), "MM/DD/YYYY");
                var expDate = Moment(this.ui.expDate.val(), "MM/DD/YYYY");
                if($("#scheduleRecur").is(":checked") && expDate.diff(schDate , "days") < 1 && this.ui.expDate.val().length > 0){
                    NotyMsg.warningMsg("Expiration Date should be greater than Scheduled Date");
                    return false;
                }

                this.model.set({
                    "batchName"                     : this.ui.batchName.val(),
                    "secCode"                       : this.ui.secClassCode.val(),
                    "accountNo"                     : this.ui.account.val(),
                    "companyName"                   : this.ui.companyName.val(),
                    "companyDiscretionaryData"      : this.ui.companyDiscretionary.val(),
                    "companyId"                     : this.ui.companyId.val(),
                    "companyDescription"            : "",
                    "dateScheduled"                 : this.ui.dateScheduled.val(),
                    "scheduleType"                  : $("input[name='schedule']:checked").val(),
                    "frequency"                     : this.ui.frequency.val(),
                    "dateScheduledProcess"          : $("input[name='dateScheduleProcess']:checked").val(),
                    "expirationDate"                : this.ui.expDate.val(),

                    "batchDescription"              : this.ui.batchDescription.val()
                });
                this.model.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getACHCreateBatchModel();
            return (new CreateNewAchBatchView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74,"../../../../js/utils/validator_options":75}],97:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
        var NotyMsg = require('../../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- EditAchBatchView  ------------------------------------------------------------

        var EditAchBatchView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditAchBatchView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditAchBatchView), l_en) );
            },

            ui:{
                "batchName"     : "#batchName",
                "secClassCode"  : "#secClassCode",
                "account"       : "#account",
                "companyName"   : "#companyName",
                "companyDiscretionary" : "#companyDiscretionary",
                "companyId"     : "#companyId",
                "batchDescription" : "#batchDescription",
                "dateScheduled" : "#dateScheduled",
                "frequency" : "#frequency",
                "expDate" : "#expDate",


                "recurFields" : "#recurringScheduleFields"
            },

            events:{
                "change #scheduleOne"   : "scheduleOneSelected",
                "change #scheduleRecur" : "recurringSelected",

                "submit #editAchBatchForm" : "editAchBatch"
            },

            onShow: function(){
                this.initDateInput();
                this.initFormValidations();
                this.renderAccounts();
                this.renderEditData();
            },

            initDateInput: function(){
                $("#dateScheduleGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().add(1, "days").startOf("day"),
                    maxDate: Moment().add(1, "weeks").endOf("day")
                });
                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
                $("#dateScheduleGroup").on("dp.change",function (e) {
                    $("#editAchBatchForm").data('formValidation').updateStatus("dateScheduled", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },

            initFormValidations: function(){
                $("#editAchBatchForm").formValidation(ValidatorOpt.createNewAchBatch)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderEditData: function(){
                this.ui.secClassCode.val(this.model.get("secCode"));
                this.ui.account.val(this.model.get("accountNo"));
                this.ui.frequency.val(this.model.get("frequency"));
                if(this.model.get("scheduleType") == "Recurring"){
                    $("#scheduleRecur").prop("checked", true);
                    $("#scheduleOne").prop("checked", false);
                    this.ui.recurFields.show();
                }else{
                    $("#scheduleOne").prop("checked", true);
                    $("#scheduleRecur").prop("checked", false);
                    this.ui.recurFields.hide();
                }
                if(this.model.get("dateScheduledProcess") == "After weekend/holiday"){
                    $("#afterHoliday").prop("checked", true);
                    $("#beforeHoliday").prop("checked", false);
                }else{
                    $("#beforeHoliday").prop("checked", true);
                    $("#afterHoliday").prop("checked", false);
                }
                /*var schDt = Moment(this.model.get("dateScheduled"), "MM-DD-YYYY");
                var expDt = Moment(this.model.get("expirationDate"), "MM-DD-YYYY");
                if(schDt.isValid())
                    $('#dateScheduleGroup').data("DateTimePicker").setValue(schDt);
                if(expDt.isValid())
                    $('#expDateGroup').data("DateTimePicker").setValue(expDt);*/

                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            renderAccounts: function(){
                var accs = dConfig.saveCheckLoanTransferAccounts;
                var accStr = "";
                for(var i = 0; i < accs.length; i++) {

                    accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";

                }
                this.ui.account.html(accStr);
            },

            scheduleOneSelected: function(){
                this.ui.recurFields.hide();
            },
            recurringSelected: function(){
                this.ui.recurFields.show();
            },

            editAchBatch: function(event){
                if(!$("#editAchBatchForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                var schDate = Moment(this.ui.dateScheduled.val(), "MM/DD/YYYY");
                var expDate = Moment(this.ui.expDate.val(), "MM/DD/YYYY");
                if($("#scheduleRecur").is(":checked") && expDate.diff(schDate , "days") < 1 && this.ui.expDate.val().length > 0){
                    NotyMsg.warningMsg("Expiration Date should be greater than Scheduled Date");
                    return false;
                }

                this.model.set({
                    "batchName"                     : this.ui.batchName.val(),
                    "secCode"                       : this.ui.secClassCode.val(),
                    "accountNo"                     : this.ui.account.val(),
                    "companyName"                   : this.ui.companyName.val(),
                    "companyDiscretionaryData"      : this.ui.companyDiscretionary.val(),
                    "companyId"                     : this.ui.companyId.val(),
                    "companyDescription"            : "",
                    "dateScheduled"                 : this.ui.dateScheduled.val(),
                    "scheduleType"                  : $("input[name='schedule']:checked").val(),
                    "frequency"                     : this.ui.frequency.val(),
                    "dateScheduledProcess"          : $("input[name='dateScheduleProcess']:checked").val(),
                    "expirationDate"                : this.ui.expDate.val(),

                    "batchDescription"              : this.ui.batchDescription.val()
                });
                this.model.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getACHEditBatchModel(dConfig.userInfo.batchData);
            return (new EditAchBatchView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74,"../../../../js/utils/validator_options":75}],98:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var NotyMsg = require('../../../../js/utils/noty_msg');
        var Models = require("../../../../js/models/models");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- EditAchRecipientView  ------------------------------------------------------------

        var EditAchRecipientView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditAchRecipientView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditAchRecipientView), l_en) );
            },

            ui:{
                "batchList" : "#batchList",
                "recipientName" : "#recipientName",
                "identification" : "#identification",
                "accountNo" : "#accountNo",
                "amount"    : "#amount",
                "routingNumber" : "#routingNumber",
                "transCode" : "#transCode",
                "expDate" : "#expDate",
                "addenda" : "#addenda",

                "bankName" : "#bankName",
                "stateList" : "#stateList",
                "city" : "#city"
            },

            events:{
                "change #stateList" : "stateSelected",
                "submit #routingNoForm" : "searchRoutingNo",
                "click .selectRouteNo" : "selectRouteNo",

                "change #batchList" : "batchSelected",
                "submit #editAchRecipientForm" : "editAchRecipient",
                "click #cancelEditAchRecipient" : "cancelEditAchRecipient"
            },

            onShow: function(){
                this.initDateInput();
                this.initFormValidations();
                this.getStatesCities();
                this.initRoutingNoModal();
                this.getACHBatchSummaryData();
            },

            renderEditData: function(){
                this.ui.batchList.val(this.model.get("batchId"));
                this.ui.transCode.val(this.model.get("transactionCode"));
                if(this.model.get("expirationDate").length > 0) {
                    $('#expDateGroup').data("DateTimePicker").date(Moment(this.model.get("expirationDate"), "MM-DD-YYYY"));
                }
                var batch = _.findWhere(this.batchList, {"batchId" : this.ui.batchList.val()});
                if(batch.scheduleType == "Recurring") {
                    this.ui.expDate.prop("disabled", true);
                }else{
                    this.ui.expDate.prop("disabled", false);
                }

                this.enableSelectPlugin();
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            initDateInput: function(){
                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
            },
            initFormValidations: function(){
                $("#editAchRecipientForm").formValidation(ValidatorOpt.createNewAchRecipient)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            initRoutingNoModal: function(){
                $('#routingNoModal').on('hidden.bs.modal', function () {
                    $("#bankName").val("");
                    $("#stateList").val("default");
                    $("#city").val("");
                    $('#routingNoTable').dataTable({
                        "aaData": [],
                        "bDestroy" : true
                    });
                    $("#routingNumberResults").hide();
                })
            },
            stateSelected: function(event){
                var state = event.currentTarget.value;
                if(state != "undefined"){
                    for(var i = 0; i < dConfig.states.length; i++){
                        if(dConfig.states[i].state == state){
                            console.log(dConfig.states[i].cities.length);
                            $("#city").typeahead('destroy');
                            $("#city").typeahead({
                                source : dConfig.states[i].cities
                            });
                            break;
                        }
                    }
                }
            },
            searchRoutingNo: function(){
                var routingModel = Models.getRoutingNoModel({
                    "bankName"      : this.ui.bankName.val(),
                    "stateCode"     : this.ui.stateList.val(),
                    "city"          : this.ui.city.val()
                });
                routingModel.processRequest();
            },
            renderRoutingNo: function(routingData){
                $("#routingNumberResults").show();
                var routeNoData = [];

                for(var i = 0; i < routingData.length; i++){
                    routeNoData.push({
                        '0' : "",
                        '1' : routingData[i].bankName,
                        '2' : routingData[i].address,
                        '3' : routingData[i].zipcode,
                        '4' : routingData[i].routingNumber,
                        '5' : "<button class='selectRouteNo btn btn-primary btn-sm' type='button' data-id='"+routingData[i].routingNumber+"' >Select</button>"
                    });
                }

                $('#routingNoTable').dataTable({
                    "aaData": routeNoData,
                    "bDestroy" : true,
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "30%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "13%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "20%"
                        }
                    ]
                });

            },
            selectRouteNo: function(event){
                this.ui.routingNumber.val($(event.currentTarget).attr("data-id"));
                $('#routingNoModal').modal("hide");
            },

            getACHBatchSummaryData: function(){
                var getACHSummaryListModel = Models.getEditableACHBatchSummaryModel();
                getACHSummaryListModel.processRequest();
            },

            renderACHBatchSummaryData: function(response){
                this.batchList = response;
                var selectStr = "";
                for(var i = 0; i < this.batchList.length; i++) {
                    selectStr = selectStr + "<option value='"+this.batchList[i].batchId+"'>"+this.batchList[i].batchName+"</option>";
                }
                this.ui.batchList.append(selectStr);
                this.getStatesCities();
            },

            getStatesCities: function(){
                var that = this;
                $.get("js/json/states_and_cities.json", function(states){
                    dConfig.states = states;
                    var selectStr = "";
                    for(var i = 0; i < states.length; i++){
                        selectStr = selectStr + "<option value='"+states[i].state+"'>"+states[i].state+"</option>";
                    }
                    that.ui.stateList.append(selectStr);
                    that.renderEditData();
                });
            },

            batchSelected: function(){
                var batch = _.findWhere(this.batchList, {"batchId" : this.ui.batchList.val()});
                var expDate = batch.expirationDate;
                if(batch.scheduleType == "Recurring" && expDate.length > 0){
                    var momentDate = Moment(expDate, "MM/DD/YYYY");
                    $('#expDateGroup').data("DateTimePicker").date(momentDate);
                    this.ui.expDate.prop("disabled", true);
                }else{
                    $('#expDateGroup').data("DateTimePicker").date(null);
                    this.ui.expDate.prop("disabled", false);
                }
            },

            editAchRecipient: function(event){
                if(!$("#editAchRecipientForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                if( dConfig.limitsAvailable.achCreditPerTrancLimit && $("#transCode option:selected").text().indexOf("credit") != -1 ){
                    var creditLimit = parseFloat(dConfig.privileges.limits.achLimits.achCreditLimitPerTranc).toFixed(2);
                    var creditAmt = parseFloat(this.ui.amount.val()).toFixed(2);
                    if (creditAmt > creditLimit) {
                        NotyMsg.warningMsg("Amount is exceeding your credit limit per transaction <br>" +
                            "Should be less than " + creditLimit + "");
                        return false;
                    }
                }
                if( dConfig.limitsAvailable.achDebitPerTrancLimit && $("#transCode option:selected").text().indexOf("debit") != -1 ){
                    var debitLimit = parseFloat(dConfig.privileges.limits.achLimits.achDebitLimitPerTranc).toFixed(2);
                    var debitAmt = parseFloat(this.ui.amount.val()).toFixed(2);
                    if (debitAmt > debitLimit) {
                        NotyMsg.warningMsg("Amount is exceeding your debit limit per transaction <br>" +
                            "Should be less than or equal to " + debitLimit + "");
                        return false;
                    }
                }

                this.model.set({
                    "batchId"                   : this.ui.batchList.val(),
                    "batchName"                 : $( "#batchList option:selected" ).text(),
                    "recipientName"             : this.ui.recipientName.val(),
                    "accountNo"                 : this.ui.accountNo.val(),
                    "routingNumber"             : this.ui.routingNumber.val(),
                    "amount"                    : this.ui.amount.val(),
                    "transactionCode"           : this.ui.transCode.val(),
                    "expirationDate"            : this.ui.expDate.val(),
                    "addenda"                   : this.ui.addenda.val(),

                    "identity"            : this.ui.identification.val()
                });
                this.model.processRequest();
            },

            cancelEditAchRecipient: function(){
                var AppActivity = require("../../../../js/app/app_activity");
                AppActivity.trigger("achRecipients");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getACHEditRecipientModel(dConfig.userInfo.recipientData);
            return (new EditAchRecipientView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],99:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../js/app/app_activity');
        var Models = require("../../../../js/models/models");
        var gConfig = require("../../../../js/utils/global_config");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
        var NotyMsg = require('../../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- BeneficiaryRegistrationView  ------------------------------------------------------------

        var BeneficiaryRegistrationView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.BeneficiaryRegistrationView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.BeneficiaryRegistrationView), l_en) );
            },

            ui:{
                "beneficiaryName"     : "#beneficiaryName",
                "addressLine1"  : "#addressLine1",
                "addressLine2"       : "#addressLine2",
                "city"   : "#city",
                "state" : "#state",
                "zip"     : "#zip",
                "country"     : "#country",
                "specialInstruction1" : "#specialInstruction1",

                "SplInstDiv" : "#SplInstDiv",
                "addInstructions" : "#addInstructions",
                "bankSplInstDiv" : "#bankSplInstDiv",
                "addBankInstructions" : "#addBankInstructions",

                // Recipient Bank Info
                "accountNo" : "#accountNo",
                "bankName" : "#bankName",
                "bankRoutingNo" : "#bankRoutingNo",
                "bankSpecialInstruction1" : "#bankSpecialInstruction1",

                // Intermediary Bank
                "intermediaryBankName" : "#intermediaryBankName",
                "intermediaryBankRoutingNo" : "#intermediaryBankRoutingNo",

                "routingBankName" : "#routingBankName",
                "stateList" : "#stateList",
                "routingCity" : "#routingCity"
            },

            events:{
                "change #stateList" : "stateSelected",
                "submit #routingNoForm" : "searchRoutingNo",
                "click .selectRouteNo" : "selectRouteNo",

                "click #addInstructions" : "addInstructions",
                "click .removeSplInst" : "removeSplInst",
                "click #addBankInstructions" : "addBankInstructions",
                "click .removeBankSplInst" : "removeBankSplInst",

                "click #bankRoutingNoModal" : "showBankRoutingNoModal",
                "click #interBankRoutingNoModal" : "showInterBankRoutingNoModal",

                "click #cancelBenReg" : "cancelBenReg",
                "submit #registerBeneficiaryForm" : "registerBeneficiary"
            },

            onShow: function(){
                this.initFormValidations();
                this.getStatesCities();
                this.initRoutingNoModal();

                //      ****  Instruction Set   ***
                this.instructionCounter = 1;
                this.bankInstructionCounter = 1;
                if(typeof gConfig.userInfo.specialInstCounter != "undefined" || typeof gConfig.userInfo.bankSpecialInstCounter != "undefined"){
                    this.instructionCounter = gConfig.userInfo.specialInstCounter;
                    this.bankInstructionCounter = gConfig.userInfo.bankSpecialInstCounter;
                }
                this.editAddInstr();
                this.editBankAddInstr();
            },
            initFormValidations: function(){
                $("#registerBeneficiaryForm").formValidation(ValidatorOpt.registerBeneficiary)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            getStatesCities: function(){
                var that = this;
                $.get("js/json/states_and_cities.json", function(states){
                    dConfig.states = states;
                    var selectStr = "";
                    for(var i = 0; i < states.length; i++){
                        selectStr = selectStr + "<option value='"+states[i].state+"'>"+states[i].state+"</option>";
                    }
                    that.ui.stateList.append(selectStr);
                    that.ui.state.append(selectStr);
                    that.editState();
                    that.enableSelectPlugin();
                });
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            initRoutingNoModal: function(){
                $('#routingNoModal').on('hidden.bs.modal', function () {
                    $("#routingBankName").val("");
                    $("#stateList").val("default");
                    $("#routingCity").val("");
                    $('#routingNoTable').dataTable({
                        "aaData": [],
                        "bDestroy" : true
                    });

                    $("#routingNumberResults").hide();
                })
            },
            stateSelected: function(event){
                var state = event.currentTarget.value;
                if(state != "undefined"){
                    for(var i = 0; i < dConfig.states.length; i++){
                        if(dConfig.states[i].state == state){
                            console.log(dConfig.states[i].cities.length);
                            $("#routingCity").typeahead('destroy');
                            $("#routingCity").typeahead({
                                source : dConfig.states[i].cities
                            });
                            break;
                        }
                    }
                }
            },
            addInstructions: function(){
                if(this.instructionCounter < 4) {

                    this.instructionCounter++;

                    var instStr = '<div class="form-group" id="specialInstruction'+(this.instructionCounter)+'Div">' +
                        '<label for="specialInstruction'+(this.instructionCounter)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(this.instructionCounter)+'</label>' +
                        '<div class="col-sm-5 col-xs-11"><input class="form-control clearFields specialInstruction specialInstructionAdd" id="specialInstruction'+(this.instructionCounter)+'" type="text" name="specialInstruction" > </div>' +
                        '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeSplInst" data-counter="'+(this.instructionCounter)+'"></span></div>' +
                        '</div>';

                    this.ui.SplInstDiv.append(instStr);

                    if(this.instructionCounter == 4){
                        this.ui.addInstructions.hide();
                    }
                }
            },
            addBankInstructions: function(){
                if(this.bankInstructionCounter < 2) {

                    this.bankInstructionCounter++;

                    var instStr = '<div class="form-group" id="bankSpecialInstruction'+(this.bankInstructionCounter)+'Div">' +
                        '<label for="bankSpecialInstruction'+(this.bankInstructionCounter)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(this.bankInstructionCounter)+'</label>' +
                        '<div class="col-sm-5 col-xs-11"><input class="form-control clearFields bankSpecialInstruction bankSpecialInstructionAdd" id="bankSpecialInstruction'+(this.bankInstructionCounter)+'" type="text" name="specialInstruction" > </div>' +
                        '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeBankSplInst" data-counter="'+(this.bankInstructionCounter)+'"></span></div>' +
                        '</div>';

                    this.ui.bankSplInstDiv.append(instStr);

                    if(this.bankInstructionCounter == 2){
                        this.ui.addBankInstructions.hide();
                    }
                }
            },

            editState: function(){

                    if(typeof gConfig.userInfo.editBeneficiaryRegData.state != "undefined"){

                    this.ui.state.val(gConfig.userInfo.editBeneficiaryRegData.state);
                }

            },
            editAddInstr: function(){
                var instStrSet = "";
                if(typeof gConfig.userInfo.specialInstCounter != "undefined" && gConfig.userInfo.specialInstCounter <= 4){
                    for(var i = 1; i < gConfig.userInfo.specialInstCounter; i++){

                        var instStr = '<div class="form-group" id="specialInstruction'+(i+1)+'Div">' +
                            '<label for="specialInstruction'+(i+1)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(i+1)+'</label>' +
                            '<div class="col-sm-5 col-xs-11">' +
                            '<input class="form-control clearFields specialInstruction specialInstructionAdd" ' +
                            'id="specialInstruction'+(i+1)+'" type="text" name="specialInstruction" ' +
                            'value="'+gConfig.userInfo.editBeneficiaryRegData.specialInstruction['instruction'+(i+1)+'']+'" />' +
                            '</div>' +
                            '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeSplInst" data-counter="'+(i+1)+'"></span></div>' +
                            '</div>';

                        instStrSet = instStrSet + instStr;

                    }
                    this.ui.SplInstDiv.html(instStrSet);
                }
                if(this.instructionCounter == 4){
                    this.ui.addInstructions.hide();
                }
            },
            editBankAddInstr: function(){
                var instStrSet = "";
                if(typeof gConfig.userInfo.bankSpecialInstCounter != "undefined" && gConfig.userInfo.bankSpecialInstCounter <= 2){
                    for(var i = 1; i < gConfig.userInfo.bankSpecialInstCounter; i++){

                        var instStr = '<div class="form-group" id="bankSpecialInstruction'+(i+1)+'Div">' +
                            '<label for="bankSpecialInstruction'+(i+1)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(i+1)+'</label>' +
                            '<div class="col-sm-5 col-xs-11">' +
                            '<input class="form-control clearFields bankSpecialInstruction bankSpecialInstructionAdd" ' +
                            'id="bankSpecialInstruction'+(i+1)+'" type="text" name="specialInstruction" ' +
                            'value="'+gConfig.userInfo.editBeneficiaryRegData.recipientBankInfo.specialInstruction['instruction'+(i+1)+'']+'" />' +
                            '</div>' +
                            '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeBankSplInst" data-counter="'+(i+1)+'"></span></div>' +
                            '</div>';

                        instStrSet = instStrSet + instStr;

                    }
                    this.ui.bankSplInstDiv.html(instStrSet);
                }
                if(this.bankInstructionCounter == 2){
                    this.ui.addBankInstructions.hide();
                }
            },

            removeSplInst: function(event){
                var counter = $(event.currentTarget).attr("data-counter");
                $("#specialInstruction"+counter+"Div").remove();
                this.instructionCounter--;
                this.ui.addInstructions.show();

                var len = $(".specialInstructionAdd").length;
                var instStrSet = "";
                for(var i = 1; i <= len; i++){

                    var instStr = '<div class="form-group" id="specialInstruction'+(i+1)+'Div">' +
                        '<label for="specialInstruction'+(i+1)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(i+1)+'</label>' +
                        '<div class="col-sm-5 col-xs-11">' +
                        '<input class="form-control clearFields specialInstruction specialInstructionAdd" ' +
                        'id="specialInstruction'+(i+1)+'" type="text" name="specialInstruction" ' +
                        'value="'+$(".specialInstructionAdd")[i-1].value+'" />' +
                        '</div>' +
                        '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeSplInst" data-counter="'+(i+1)+'"></span></div>' +
                        '</div>';

                    instStrSet = instStrSet + instStr;

                }
                this.ui.SplInstDiv.html(instStrSet);

            },
            removeBankSplInst: function(event){
                var counter = $(event.currentTarget).attr("data-counter");
                $("#bankSpecialInstruction"+counter+"Div").remove();
                this.bankInstructionCounter--;
                this.ui.addBankInstructions.show();

                var len = $(".bankSpecialInstructionAdd").length;
                var instStrSet = "";
                for(var i = 1; i <= len; i++){

                    var instStr = '<div class="form-group" id="bankSpecialInstruction'+(i+1)+'Div">' +
                        '<label for="bankSpecialInstruction'+(i+1)+'" class="col-sm-4 col-xs-12 control-label">'+langContent.BeneficiaryRegistrationView.splInstText+' '+(i+1)+'</label>' +
                        '<div class="col-sm-5 col-xs-11">' +
                        '<input class="form-control clearFields bankSpecialInstruction bankSpecialInstructionAdd" ' +
                        'id="bankSpecialInstruction'+(i+1)+'" type="text" name="specialInstruction" ' +
                        'value="'+$(".bankSpecialInstructionAdd")[i-1].value+'" />' +
                        '</div>' +
                        '<div class="col-sm-1 col-xs-1"><span class="glyphicon glyphicon-remove paddingTop10 removeBankSplInst" data-counter="'+(i+1)+'"></span></div>' +
                        '</div>';

                    instStrSet = instStrSet + instStr;

                }
                this.ui.bankSplInstDiv.html(instStrSet);

            },

            searchRoutingNo: function(){
                var routingModel = Models.getRoutingNoModel({
                    "bankName"      : this.ui.routingBankName.val(),
                    "stateCode"     : this.ui.stateList.val(),
                    "city"          : this.ui.routingCity.val()
                });
                routingModel.processRequest();
            },
            renderRoutingNo: function(routingData){
                $("#routingNumberResults").show();
                var routeNoData = [];

                for(var i = 0; i < routingData.length; i++){
                    routeNoData.push({
                        '0' : "",
                        '1' : routingData[i].bankName,
                        '2' : routingData[i].address,
                        '3' : routingData[i].zipcode,
                        '4' : routingData[i].routingNumber,
                        '5' : "<button class='selectRouteNo btn btn-primary btn-sm' type='button' data-id='"+routingData[i].routingNumber+"' >Select</button>"
                    });
                }

                $('#routingNoTable').dataTable({
                    "aaData": routeNoData,
                    "bDestroy" : true,
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "30%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "13%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "20%"
                        }
                    ]
                });

            },
            selectRouteNo: function(event){
                if(this.routingNoTarget == "bank"){
                    this.ui.bankRoutingNo.val($(event.currentTarget).attr("data-id"));
                }
                else{
                    this.ui.intermediaryBankRoutingNo.val($(event.currentTarget).attr("data-id"));
                }
                $('#routingNoModal').modal("hide");
            },
            showBankRoutingNoModal: function(){
                this.routingNoTarget = "bank";
                $('#routingNoModal').modal("show");
            },
            showInterBankRoutingNoModal: function(){
                this.routingNoTarget = "inter";
                $('#routingNoModal').modal("show");
            },


            cancelBenReg: function(){
                window.history.back();
            },
            registerBeneficiary: function(event){
                if(!$("#registerBeneficiaryForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                var bothPresent = (this.ui.intermediaryBankName.val().length > 0 && this.ui.intermediaryBankRoutingNo.val().length > 0);
                var bothAbsent = (this.ui.intermediaryBankName.val().length == 0 && this.ui.intermediaryBankRoutingNo.val().length == 0);
                if(!bothPresent && !bothAbsent){
                    if(this.ui.intermediaryBankName.val().length == 0)
                        NotyMsg.warningMsg("Intermediary bank is required.");
                    else
                        NotyMsg.warningMsg("Intermediary bank routing number is required.");

                    return false;
                }

                gConfig.userInfo.specialInstCounter = this.instructionCounter;
                gConfig.userInfo.bankSpecialInstCounter = this.bankInstructionCounter;

                gConfig.userInfo.beneficiaryRegData = {
                    "beneficiaryName"       : this.ui.beneficiaryName.val(),
                    "addressLine1"          : this.ui.addressLine1.val(),
                    "addressLine2"          : this.ui.addressLine2.val(),
                    "city"                  : this.ui.city.val(),
                    "state"                 : this.ui.state.val(),
                    "zip"                   : this.ui.zip.val(),
                    "country"               : this.ui.country.val(),
                    "specialInstruction"    : {
                        "instruction1": this.ui.specialInstruction1.val(),
                        "instruction2": $("#specialInstruction2").val(),
                        "instruction3": $("#specialInstruction3").val(),
                        "instruction4": $("#specialInstruction4").val()
                    },
                    "recipientBankInfo": {
                        "accountNo"         : this.ui.accountNo.val(),
                        "bankRoutingNo"     : this.ui.bankRoutingNo.val(),
                        "bankName"          : this.ui.bankName.val(),
                        "specialInstruction": {
                            "instruction1": this.ui.bankSpecialInstruction1.val(),
                            "instruction2": $("#bankSpecialInstruction2").val()
                        }
                    },
                    "intermediateBank" : {
                        "bankName"          : this.ui.intermediaryBankName.val(),
                        "bankRoutingNo"     : this.ui.intermediaryBankRoutingNo.val()

                    }
                };

                AppActivity.trigger("confirmBeneficiaryRegistration");
            }

        });

        var getViewObj = function(data){
            var model, benData = gConfig.userInfo.editBeneficiaryRegData;
            if(benData != "undefined" || benData.beneficiaryName != "undefined"){
                model = Models.getRegisterBeneficiaryModel(gConfig.userInfo.editBeneficiaryRegData);
            }else{
                model = Models.getRegisterBeneficiaryModel();
            }
            return (new BeneficiaryRegistrationView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],100:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../../js/app/app_activity');
        var Models = require("../../../../../js/models/models");
        var Utils = require("../../../../../js/utils/utils");
        var gConfig = require("../../../../../js/utils/global_config");
        var ValidatorOpt = require("../../../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- ConfirmBeneficiaryRegistrationView  ------------------------------------------------------------

        var ConfirmBeneficiaryRegistrationView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ConfirmBeneficiaryRegistrationView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ConfirmBeneficiaryRegistrationView), l_en) );
            },

            ui:{

            },

            events:{

                "click #editRegistration" : "editRegistration",
                "click #confirmRegistration" : "confirmRegistration"
            },

            onShow: function(){

            },


            editRegistration: function(){
                gConfig.userInfo.editBeneficiaryRegData = gConfig.userInfo.beneficiaryRegData;
                AppActivity.trigger("registerBeneficiary");
            },
            confirmRegistration: function(){
                this.model.processRequest();
            }

        });

        var getViewObj = function(data){
            var model = Models.getRegisterBeneficiaryModel(gConfig.userInfo.beneficiaryRegData);
            return (new ConfirmBeneficiaryRegistrationView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/app/app_activity":1,"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/moment.js":60,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/global_config":69,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73,"../../../../../js/utils/utils":74,"../../../../../js/utils/validator_options":75}],101:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../js/app/app_activity');
        var Models = require("../../../../js/models/models");
        var gConfig = require("../../../../js/utils/global_config");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- EditBeneficiaryRegistrationView  ------------------------------------------------------------

        var EditBeneficiaryRegistrationView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditBeneficiaryRegistrationView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditBeneficiaryRegistrationView), l_en) );
            },

            ui:{
                "beneficiaryName"     : "#beneficiaryName",
                "addressLine1"  : "#addressLine1",
                "addressLine2"       : "#addressLine2",
                "city"   : "#city",
                "state" : "#state",
                "zip"     : "#zip",
                "country"     : "#country",
                "specialInstruction1" : "#specialInstruction1",
                "specialInstruction2" : "#specialInstruction2",
                "specialInstruction3" : "#specialInstruction3",
                "specialInstruction4" : "#specialInstruction4",

                // Recipient Bank Info
                "accountNo" : "#accountNo",
                "bankName" : "#bankName",
                "bankRoutingNo" : "#bankRoutingNo",
                "bankSpecialInstruction1" : "#bankSpecialInstruction1",
                "bankSpecialInstruction2" : "#bankSpecialInstruction2",

                // Intermediary Bank
                "intermediaryBankName" : "#intermediaryBankName",
                "intermediaryBankRoutingNo" : "#intermediaryBankRoutingNo",

                "routingBankName" : "#routingBankName",
                "stateList" : "#stateList",
                "routingCity" : "#routingCity"
            },

            events:{
                "change #stateList" : "stateSelected",
                "submit #routingNoForm" : "searchRoutingNo",
                "click .selectRouteNo" : "selectRouteNo",

                "click #bankRoutingNoModal" : "showBankRoutingNoModal",
                "click #interBankRoutingNoModal" : "showInterBankRoutingNoModal",

                "click #cancel" : "cancel",
                "submit #registerBeneficiaryForm" : "registerBeneficiary"
            },

            onShow: function(){
                this.initFormValidations();
                this.getStatesCities();
                this.initRoutingNoModal();
            },
            initFormValidations: function(){
                $("#registerBeneficiaryForm").formValidation(ValidatorOpt.registerBeneficiary)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            getStatesCities: function(){
                var that = this;
                $.get("js/json/states_and_cities.json", function(states){
                    dConfig.states = states;
                    var selectStr = "";
                    for(var i = 0; i < states.length; i++){
                        selectStr = selectStr + "<option value='"+states[i].state+"'>"+states[i].state+"</option>";
                    }
                    that.ui.state.append(selectStr);
                    that.ui.stateList.append(selectStr);
                    that.editState();
                    that.enableSelectPlugin();
                });
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            editState: function(){
                this.ui.state.val(this.model.get("state"));
            },
            initRoutingNoModal: function(){
                $('#routingNoModal').on('hidden.bs.modal', function () {
                    $("#routingBankName").val("");
                    $("#stateList").val("default");
                    $("#routingCity").val("");
                    $('#routingNoTable').dataTable({
                        "aaData": [],
                        "bDestroy" : true
                    });
                })
            },
            stateSelected: function(event){
                var state = event.currentTarget.value;
                if(state != "undefined"){
                    for(var i = 0; i < dConfig.states.length; i++){
                        if(dConfig.states[i].state == state){
                            console.log(dConfig.states[i].cities.length);
                            $("#routingCity").typeahead('destroy');
                            $("#routingCity").typeahead({
                                source : dConfig.states[i].cities
                            });
                            break;
                        }
                    }
                }
            },
            searchRoutingNo: function(){
                var routingModel = Models.getRoutingNoModel({
                    "bankName"      : this.ui.routingBankName.val(),
                    "stateCode"     : this.ui.stateList.val(),
                    "city"          : this.ui.routingCity.val()
                });
                routingModel.processRequest();
            },
            renderRoutingNo: function(routingData){
                $("#routingNoTable").show();
                var routeNoData = [];

                for(var i = 0; i < routingData.length; i++){
                    routeNoData.push({
                        '0' : "",
                        '1' : routingData[i].bankName,
                        '2' : routingData[i].address,
                        '3' : routingData[i].zipcode,
                        '4' : routingData[i].routingNumber,
                        '5' : "<button class='selectRouteNo btn btn-primary btn-sm' type='button' data-id='"+routingData[i].routingNumber+"' >Select</button>"
                    });
                }

                $('#routingNoTable').dataTable({
                    "aaData": routeNoData,
                    "bDestroy" : true,
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "30%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "15%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "13%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "20%"
                        }
                    ]
                });

            },
            selectRouteNo: function(event){
                if(this.routingNoTarget == "bank"){
                    this.ui.bankRoutingNo.val($(event.currentTarget).attr("data-id"));
                }
                else{
                    this.ui.intermediaryBankRoutingNo.val($(event.currentTarget).attr("data-id"));
                }
                $('#routingNoModal').modal("hide");
            },
            showBankRoutingNoModal: function(){
                $("#routingNoTable").hide();
                this.routingNoTarget = "bank";
                $('#routingNoModal').modal("show");
            },
            showInterBankRoutingNoModal: function(){
                $("#routingNoTable").hide();
                this.routingNoTarget = "inter";
                $('#routingNoModal').modal("show");
            },


            registerBeneficiary: function(){
                if(!$("#registerBeneficiaryForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.model.set({
                    "beneficiaryName"       : this.ui.beneficiaryName.val(),
                    "addressLine1"          : this.ui.addressLine1.val(),
                    "addressLine2"          : this.ui.addressLine2.val(),
                    "city"                  : this.ui.city.val(),
                    "state"                 : this.ui.state.val(),
                    "zip"                   : this.ui.zip.val(),
                    "country"               : this.ui.country.val(),
                    "specialInstruction"    : {
                        "instruction1": this.ui.specialInstruction1.val(),
                        "instruction2": this.ui.specialInstruction2.val(),
                        "instruction3": this.ui.specialInstruction3.val(),
                        "instruction4": this.ui.specialInstruction4.val()
                    },
                    "recipientBankInfo": {
                        "accountNo"         : this.ui.accountNo.val(),
                        "bankRoutingNo"     : this.ui.bankRoutingNo.val(),
                        "bankName"          : this.ui.bankName.val(),
                        "specialInstruction": {
                            "instruction1": this.ui.bankSpecialInstruction1.val(),
                            "instruction2": this.ui.bankSpecialInstruction2.val()
                        }
                    },
                    "intermediateBank" : {
                        "bankName"          : this.ui.intermediaryBankName.val(),
                        "bankRoutingNo"     : this.ui.intermediaryBankRoutingNo.val()

                    }
                });

                this.model.processRequest();
            },

            cancel : function(){
                $("input").val("");
                window.history.back();
            }

        });

        var getViewObj = function(data){
            var model = Models.getEditRegisteredBeneficiaryModel(gConfig.userInfo.editRegisteredBenData);
            return (new EditBeneficiaryRegistrationView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],102:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../js/app/app_activity');
        var Models = require("../../../../js/models/models");
        var gConfig = require("../../../../js/utils/global_config");
        var NotyMsg = require("../../../../js/utils/noty_msg");
        var dConfig = require("../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- ListBeneficiaryRegisteredView  ------------------------------------------------------------

        var ListBeneficiaryRegisteredView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ListBeneficiaryRegisteredView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ListBeneficiaryRegisteredView), l_en) );
            },

            ui:{
                "benActionButtons" : ".benActionBut"
            },

            events:{
                "change #selectAllBen" : "selectAllBen",
                "change .benSelectInput" : "benSelected",
                "click #deleteBeneficiary" : "deleteBeneficiary",
                "click .deleteSingleBeneficiary" : "deleteSingleBeneficiary",
                "click #confirmBenDelete" : "confirmDeleteBen",

                "click .benNames" : "editBen"
            },

            onShow: function(){
                gConfig.userInfo.editBeneficiaryRegData = {};
                this.getBeneficiaryList();
            },

            getBeneficiaryList: function(){
                var getBenModel = Models.getListRegisteredBeneficiariesModel();
                getBenModel.processRequest();
            },
            renderBeneficiariesData: function(response){
                var summaryData = [];
                var list = response;
                this.benList = response;
                for(var i = 0; i < list.length; i++) {

                    summaryData.push({
                        '0': "",
                        '1': "<input value='"+list[i].beneficiaryId+"' class='benSelectInput hidden-xs hidden-sm materialcheckbox' type='checkbox'>",
                        '2': "<span id='"+list[i].beneficiaryId+"' class='benNames pointerCursor text-info'>"+list[i].beneficiaryName+"</span>",
                        '3': list[i].recipientBankInfo.accountNo,
                        '4': list[i].recipientBankInfo.bankName,
                        '5': list[i].recipientBankInfo.bankRoutingNo,
                        '6': "<button value='"+list[i].beneficiaryId+"' class='btn btn-info btn-mini deleteSingleBeneficiary hidden-md hidden-lg' type='button'>Delete</button>"
                    });

                }

                $('#listBeneficiariesTable').dataTable({
                    "aaData": summaryData,
                    "bDestroy" : true,
                    "order": [[ 2, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {
                            "bSortable": false,
                            "sClass": "desktop tablet-l"
                        },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "none" }
                    ]
                });

                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.benActionButtons.prop("disabled", true);
            },

            selectAllBen: function(event){
                event.preventDefault();
                event.stopPropagation();

                if($("#selectAllBen").is(":checked")){
                    $(".benSelectInput").prop("checked", true);
                    this.ui.benActionButtons.prop("disabled", false);
                }else{
                    $(".benSelectInput").prop("checked", false);
                    this.ui.benActionButtons.prop("disabled", true);
                }
            },
            benSelected: function(){
                if($(".benSelectInput:checked").length > 0){
                    this.ui.benActionButtons.prop("disabled", false);
                }else{
                    this.ui.benActionButtons.prop("disabled", true);
                }
            },

            deleteBeneficiary: function(){
                var len = $(".benSelectInput:checked").length;
                this.removeBenList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.removeBenList.push({
                            "beneficiaryId" : $(".benSelectInput:checked")[i].value
                        });
                    }

                    $("#confirmBeneficiaryModal").modal("show");

                }
            },
            deleteSingleBeneficiary: function(event){
                this.removeBenList = [{
                    "beneficiaryId" : event.currentTarget.value
                }];
                $("#confirmBeneficiaryModal").modal("show");
            },

            confirmDeleteBen: function(){
                var deleteModel = Models.getDeleteBeneficiaryModel({
                    "beneficiaryList" : this.removeBenList
                });
                deleteModel.processRequest();
            },

            editBen: function(event){
                gConfig.userInfo.editRegisteredBenData = {};
                for (var i = 0; i < this.benList.length; i++) {
                    if (this.benList[i].beneficiaryId == event.currentTarget.id) {
                        gConfig.userInfo.editRegisteredBenData = this.benList[i];
                        break;
                    }
                }
                AppActivity.trigger("editRegisteredBeneficiary");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new ListBeneficiaryRegisteredView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],103:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var NotyMsg = require("../../../../js/utils/noty_msg");
        var dConfig = require("../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- WireTransferAuthView  ------------------------------------------------------------

        var WireTransferAuthView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.WireTransferAuthView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.WireTransferAuthView), l_en) );
            },

            ui:{
                "wireActionButtons" : ".wireActionBut"
            },

            events:{
                "change #selectAllWire" : "selectAllWire",
                "change .wireSelectInput" : "wireSelected",

                "click #processWireTransfer" : "processWireTransferReq",
                "click #deleteWireTransfer" : "deleteWireTransferReq",
                "click #confirmWireDelete" : "confirmDeleteWire"

            },

            onShow: function(){
                this.getWireTransferRequestList();
            },

            getWireTransferRequestList: function(){
                var getWireListModel = Models.getWireTransferReqListModel();
                getWireListModel.processRequest();
            },
            renderWireTransferList: function(response){
                var summaryData = [];
                var list = response;
                for(var i = 0; i < list.length; i++) {

                    var firstCol ="<input value='"+list[i].wireTransferId+"' class='wireSelectInput materialcheckbox' type='checkbox'>";
                    var secondCol = "<div class='alert alert-warning'>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span class='text-bold'>"+langContent.WireTransferAuthView.label1Text+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label2Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].fromAccountType+" - "+Utils.maskAccount(list[i].fromAccount)+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label3Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+Utils.formatAmount(list[i].amount)+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label4Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+Moment(list[i].createdOn).format("MM/DD/YYYY")+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label5Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+dConfig.userId+"</span>" +
                        "</div>" +
                        "</div>" +

                        "</div>" +                   // Alert Warning End


                        "<div class='alert alert-success'>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span class='text-bold'>"+langContent.WireTransferAuthView.label6Text+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label6Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].beneficiary.beneficiaryName+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label7Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].beneficiary.recipientBankInfo.bankName+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label2Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+Utils.maskAccount(list[i].beneficiary.recipientBankInfo.accountNo)+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label8Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].beneficiary.recipientBankInfo.bankRoutingNo+"</span>" +
                        "</div>" +
                        "</div>" +


                        "</div>" +                   // Alert Success End


                        "<div class='alert alert-info'>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span class='text-bold'>"+langContent.WireTransferAuthView.label9Text+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label10Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].scheduledInfo.scheduledType+" <span class='glyphicon glyphicon-time'></span></span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span>"+langContent.WireTransferAuthView.label11Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span>"+list[i].scheduledInfo.scheduledDate+"</span>" +
                        "</div>" +
                        "</div>" +

                        "<div class='row'>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span class='hide"+list[i].scheduledInfo.scheduledType+"'>"+langContent.WireTransferAuthView.label12Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span class='hide"+list[i].scheduledInfo.scheduledType+"'>"+list[i].scheduledInfo.frequency+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-right'>" +
                        "<span class='hide"+list[i].scheduledInfo.scheduledType+"'>"+langContent.WireTransferAuthView.label13Text+"</span>" +
                        "</div>" +
                        "<div class='col-xs-6 col-sm-3 text-left'>" +
                        "<span class='hide"+list[i].scheduledInfo.scheduledType+"'>"+list[i].scheduledInfo.expiryDate+"</span>" +
                        "</div>" +
                        "</div>" +


                        "</div>";                   // Alert Info End


                    summaryData.push({
                        '0': firstCol,
                        '1': secondCol
                    });

                }

                $('#wireTransferTable').dataTable({
                    "aaData": summaryData,
                    "bDestroy" : true,
                    "ordering" : false

                });

                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.wireActionButtons.prop("disabled", true);
            },

            selectAllWire: function(event){
                event.preventDefault();
                event.stopPropagation();

                if($("#selectAllWire").is(":checked")){
                    $(".wireSelectInput").prop("checked", true);
                    this.ui.wireActionButtons.prop("disabled", false);
                }else{
                    $(".wireSelectInput").prop("checked", false);
                    this.ui.wireActionButtons.prop("disabled", true);
                }
            },
            wireSelected: function(){
                if($(".wireSelectInput:checked").length > 0){
                    this.ui.wireActionButtons.prop("disabled", false);
                }else{
                    this.ui.wireActionButtons.prop("disabled", true);
                }
            },

            processWireTransferReq: function(){
                var len = $(".wireSelectInput:checked").length;
                this.processWireList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.processWireList.push({
                            "wireTransferId" : $(".wireSelectInput:checked")[i].value
                        });
                    }
                    var processModel = Models.getProcessWireTransReqModel({
                        "wireTransferList" : this.processWireList
                    });
                    processModel.processRequest();
                }
            },
            deleteWireTransferReq: function(){
                var len = $(".wireSelectInput:checked").length;
                this.removeWireList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.removeWireList.push({
                            "wireTransferId" : $(".wireSelectInput:checked")[i].value
                        });
                    }
                    $("#confirmDeleteWireModal").modal("show");
                }
            },

            confirmDeleteWire: function(){
                var deleteModel = Models.getDeleteWireTransReqModel({
                    "wireTransferList" : this.removeWireList
                });
                deleteModel.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new WireTransferAuthView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],104:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require('../../../../../js/app/app_activity');
        var Models = require("../../../../../js/models/models");
        var dConfig = require("../../../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');

//--------------- WireTransferReqSuccessView  ------------------------------------------------------------

        var WireTransferReqSuccessView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.WireTransferReqSuccessView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.WireTransferReqSuccessView), l_en) );
            },

            ui:{

            },

            events:{
                "click #newWireTransferRequest" : "newWireTransferRequest"
            },

            newWireTransferRequest: function(){
                AppActivity.trigger("wireTransferRequest");
            },

            onShow: function(){

            },



            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel(dConfig.userInfo.wireTransferReqData);
            return (new WireTransferReqSuccessView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/app/app_activity":1,"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/default_config":68,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],105:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var NotyMsg = require('../../../../js/utils/noty_msg');
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require("../../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- WireTransferRequestView  ------------------------------------------------------------

        var WireTransferRequestView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.WireTransferRequestView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.WireTransferRequestView), l_en) );
            },

            ui:{
                "availBal" : "#availBal",
                "balance" : "#balance",
                "balDate" : "#balDate",
                "balTime" : "#balTime",

                "fromAcc" : "#fromAcc",
                "amount" : "#amount",
                "benList" : "#benList",

                "beneficiaryFormElem" : "#beneficiaryFormElem",
                "benAcc" : "#benAcc",
                "benBankName" : "#benBankName",
                "benRoutingNo" : "#benRoutingNo",

                "dateScheduled" : "#dateScheduled",
                "frequency" : "#frequency",
                "expDate" : "#expDate",

                "recurFields" : "#recurringScheduleFields"

            },

            events:{
                "change #fromAcc" : "showBalance",
                "change #benList" : "showBeneficiaryData",

                "change #scheduleOne"   : "scheduleOneSelected",
                "change #scheduleRecur" : "recurringSelected",

                "click #cancelWireTransfer" : "cancelWireTransfer",
                "submit #wireTransferRequestForm" : "submitWireTransferRequest"
            },

            onShow: function(){
                this.balanceAmt = 0;
                this.renderFromAccs();
                this.getBeneficiaryList();
                this.initDateInput();
                this.initFormValidations();
            },

            initFormValidations: function(){
                if(dConfig.limitsAvailable.wirePerTrancLimit) {
                    ValidatorOpt.wireTransferRequest.fields.amount.validators.lessThan = {
                        value: dConfig.privileges.limits.wireLimits.wireLimitPerTranc,
                        message: 'Amount is exceeding your transfer limit per transaction.' +
                        '<br>' +
                        'Should be less than or equal to ' + dConfig.privileges.limits.wireLimits.wireLimitPerTranc + ''
                    };
                }
                $("#wireTransferRequestForm").formValidation(ValidatorOpt.wireTransferRequest)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateInput: function(){
                $("#dateScheduleGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    defaultDate: Moment(),
                    minDate: Moment().startOf("day"),
                    maxDate: Moment().add(1, "weeks")
                });
                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
                $("#dateScheduleGroup").on("dp.change",function (e) {
                    $("#wireTransferRequestForm").data('formValidation').updateStatus("dateScheduled", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },

            renderFromAccs: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var fromAccStr = "";
                for(var i = 0; i < accs.length; i++) {
                    fromAccStr = fromAccStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.fromAcc.append(fromAccStr);
                this.showBalance();
            },

            getBeneficiaryList: function(){
                var getBenModel = Models.getListRegisteredBeneficiariesModel();
                getBenModel.processRequest();
            },
            renderBeneficiariesData: function(response){
                this.beneficiariesList = response;
                var benList = response, selectStr = "";
                for(var i = 0; i < benList.length; i++) {
                    selectStr = selectStr + "<option value='"+benList[i].beneficiaryId+"'>"+benList[i].beneficiaryName+"</option>";
                }
                this.ui.benList.append(selectStr);
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            showBeneficiaryData: function(){
                if(this.ui.benList.val() == "default"){
                    this.ui.benAcc.html("");
                    this.ui.benBankName.html("");
                    this.ui.benRoutingNo.html("");
                    this.ui.beneficiaryFormElem.hide();
                }else{
                    var benData = _.where(this.beneficiariesList, {"beneficiaryId" : this.ui.benList.val()})[0];
                    this.ui.beneficiaryFormElem.show();
                    this.beneficiaryName = benData.beneficiaryName;
                    this.ui.benAcc.html(Utils.maskAccount(benData.recipientBankInfo.accountNo));
                    this.ui.benBankName.html(benData.recipientBankInfo.bankName);
                    this.ui.benRoutingNo.html(benData.recipientBankInfo.bankRoutingNo);
                }
            },
            showBalance: function(){
                if(this.ui.fromAcc.val() == "default"){
                    this.ui.availBal.hide();
                    this.balanceAmt = 0;
                }else{
                    var accs = dConfig.saveCheckTransferAccounts;
                    for(var i = 0; i < accs.length; i++) {
                        if (accs[i].accountNo == this.ui.fromAcc.val()) {
                            this.balanceAmt = accs[i].availableBalance.amount;
                            this.ui.availBal.show();
                            this.ui.balance.html(Utils.formatAmount(accs[i].availableBalance.amount));
                            this.ui.balDate.html(accs[i].date);
                            this.ui.balTime.html(accs[i].time);
                        }
                    }

                }

            },

            scheduleOneSelected: function(){
                this.ui.recurFields.hide();
            },
            recurringSelected: function(){
                this.ui.recurFields.show();
            },



            submitWireTransferRequest: function(event){
                if(!$("#wireTransferRequestForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }
                var amt = parseFloat(this.ui.amount.val());
                var bal = parseFloat(this.balanceAmt);
                if( parseInt(bal) < 1 ){
                    NotyMsg.warningMsg("Available balance is 0.00. Wire Transfer cannot be done for the selected account.");
                    return false;
                }else if( amt > bal ){
                    NotyMsg.warningMsg("Amount is greater than Available balance. <br>" +
                        "Please enter a lesser amount.");
                    return false;
                }

                var accs = dConfig.saveCheckTransferAccounts;
                var accType = (_.findWhere(accs, { "accountNo" : this.ui.fromAcc.val() })).accountType;

                var scheduleType = $("input[name='schedule']:checked").val();
                var wireTranReqModel = Models.getWireTransferRequestModel({
                    "beneficiaryId" : this.ui.benList.val(),
                    "fromAccount" : this.ui.fromAcc.val(),
                    "fromAccountType" : accType,
                    "amount" : this.ui.amount.val(),
                    "scheduledInfo" : {
                        "scheduledDate" : this.ui.dateScheduled.val(),
                        "scheduledType" : scheduleType,
                        "frequency" : this.ui.frequency.val(),
                        "expiryDate" : this.ui.expDate.val()
                    }
                });
                dConfig.userInfo.wireTransferReqData = {
                    "beneficiaryId" : this.ui.benList.val(),
                    "fromAccount" : Utils.maskAccount(this.ui.fromAcc.val()),
                    "balance" : this.ui.balance.html(),
                    "balDate" : this.ui.balDate.html(),
                    "balTime" : this.ui.balTime.html(),
                    "amount" : this.ui.amount.val(),

                    "beneficiaryName" : this.beneficiaryName,
                    "beneficiaryAccount" : this.ui.benAcc.html(),
                    "beneficiaryBankName" : this.ui.benBankName.html(),
                    "beneficiaryRoutingNo" : this.ui.benRoutingNo.html(),

                    "dateScheduled" : this.ui.dateScheduled.val(),
                    "scheduleType" : scheduleType,
                    "frequency" : this.ui.frequency.val(),
                    "expDate" : this.ui.expDate.val()

                };

                wireTranReqModel.processRequest();
            },

            cancelWireTransfer: function(){
                this.ui.fromAcc.val("default");
                this.ui.benList.val("default");
                this.ui.amount.val("");
                this.ui.dateScheduled.val("");
                $("#scheduleOne").prop("checked", true);

                this.showBalance();
                this.showBeneficiaryData();
                this.scheduleOneSelected();

                $("#wireTransferRequestForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel(data);
            return (new WireTransferRequestView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74,"../../../../js/utils/validator_options":75}],106:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../js/models/models");
        var NotyMsg = require('../../js/utils/noty_msg.js');
        var dConfig = require("../../js/utils/default_config");
        var gConfig = require("../../js/utils/global_config");
        var ValidatorOpt = require('../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var langContent = require('../../js/interLang/internationalization');

//--------------- FirstTimeLoginView  ------------------------------------------------------------

        var FirstTimeLoginView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.FirstTimeLoginView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.FirstTimeLoginView), l_en) );
            },

            ui:{
                "userId" : "#userId",
                "password" : "#password",

                "qOne" : "#qOne",
                "qTwo" : "#qTwo",
                "qThree" : "#qThree",

                "aOne" : "#aOne",
                "aTwo" : "#aTwo",
                "aThree" : "#aThree"
            },

            events:{
                "click #cancelForm" : "cancelForm",
                "submit #firstLoginForm" : "submitUserDataChange"
            },

            onShow: function(){
                this.checkUserId();
                this.initValidators();
                this.getSecurityQuestions();
            },

            initValidators: function(){
                if(!$.isEmptyObject(gConfig.userInfo.UserIdPassRules)) {

                    var rules = gConfig.userInfo.UserIdPassRules;
                    var userId = rules.userIdRestrictions;
                    var pass = rules.passwordRestrictions;
                    var passKeywords = rules.passwordKeywords;
                    this.sameNamePass = rules.restrictNameInPassword;
                    var sameUserIdPass = rules.restrictUserIdInPassword;

                    ValidatorOpt.firstTimeLogin.fields.userId.validators = {
                        notEmpty: {
                            message: 'The username is required and cannot be empty'
                        },

                        minNumeric: {
                            min: userId.minimumNumericChars,
                            message: 'New User ID must contain at least ' + userId.minimumNumericChars + ' Numeric Character (0-9).'
                        },
                        minAlpha: {
                            min: userId.minimumAlphaChars,
                            message: 'New User ID must contain at least ' + userId.minimumAlphaChars + ' Alphabetic Character (eg:$#*).'
                        },
                        specialChar: {
                            min: userId.minimumSpecialChars,
                            message: 'New User ID must contain at least ' + userId.minimumSpecialChars + ' Special Character (eg:$#*).'
                        },

                        stringLength: {
                            min: userId.minimumLength,
                            message: 'New User ID must be al least ' + userId.minimumLength + ' characters long'
                        }

                    };
                    ValidatorOpt.firstTimeLogin.fields.password.validators = {
                        notEmpty: {
                            message: 'New Password is required and cannot be empty'
                        },
                        restrictedWords: {
                            words: passKeywords,
                            message: 'New Password cannot contain the following words : '
                        },
                        minNumeric: {
                            min: pass.minimumNumericChars,
                            message: 'New Password must contain at least ' + pass.minimumNumericChars + ' Numeric Character (0-9).'
                        },
                        minUpperCase: {
                            min: pass.minimumUpperCaseChars,
                            message: 'New Password must contain at least ' + pass.minimumUpperCaseChars + ' Upper Case alphabet (A-Z).'
                        },
                        minLowerCase: {
                            min: pass.minimumLowerCaseChars,
                            message: 'New Password must contain at least ' + pass.minimumLowerCaseChars + ' Lower Case alphabet (a-z).'
                        },
                        specialChar: {
                            min: pass.minimumSpecialChars,
                            message: 'New Password must contain at least ' + pass.minimumSpecialChars + ' Special Character (eg:$#*).'
                        },
                        stringLength: {
                            min: pass.minimumLength,
                            message: 'New Password must be at least ' + pass.minimumLength + ' characters long'
                        }

                    };

                    if (sameUserIdPass) {
                        ValidatorOpt.firstTimeLogin.fields.password.validators.different = {
                            field: 'userId',
                            message: 'The User ID and Password cannot be the same as each other'
                        };
                    }
                }
                $('#firstLoginForm')
                    .formValidation(ValidatorOpt.firstTimeLogin)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            checkUserId: function(){
                if(dConfig.disableUserId){
                    this.ui.userId.val(dConfig.userId);
                    this.ui.userId.prop("disabled", true);
                }else{
                    this.ui.userId.prop("disabled", false);
                }
            },

            getSecurityQuestions: function(){
                var securityQModel = Models.getSecurityQuestionsModel();
                securityQModel.processRequest();
            },
            renderSecurityQuestions: function(response){
                var qListOne = response.secretQuestions.secretQuestionsSet1;
                var qListTwo = response.secretQuestions.secretQuestionsSet2;
                var qListThree = response.secretQuestions.secretQuestionsSet3;

                for(var i = 0; i < qListOne.length; i++){
                    this.ui.qOne.append($("<option>",{
                        value : qListOne[i].SNo,
                        text : qListOne[i].Question
                    }));
                }
                for(var j = 0; j < qListTwo.length; j++){
                    this.ui.qTwo.append($("<option>",{
                        value : qListTwo[j].SNo,
                        text : qListTwo[j].Question
                    }));
                }
                for(var k = 0; k < qListThree.length; k++){
                    this.ui.qThree.append($("<option>",{
                        value : qListThree[k].SNo,
                        text : qListThree[k].Question
                    }));
                }
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            submitUserDataChange: function(event){
                if(!$("#firstLoginForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                if(this.sameNamePass && dConfig.customerName == this.ui.password.val()){
                    NotyMsg.warningMsg("The Customer Name and Password cannot be the same");
                    return false;
                }

                var firstLoginChangeModel = Models.getFirstLoginChangeModel({
                    "userName" : this.ui.userId.val(),
                    "password" : this.ui.password.val(),
                    "checkUserId" : !(dConfig.disableUserId),
                    "securityQuestion" : [
                        {
                            "questionId" : this.ui.qOne.val(),
                            "question" : $("#qOne option:selected").text(),
                            "answer" : this.ui.aOne.val()
                        },
                        {
                            "questionId" : this.ui.qTwo.val(),
                            "question" : $("#qTwo option:selected").text(),
                            "answer" : this.ui.aTwo.val()
                        },
                        {
                            "questionId" : this.ui.qThree.val(),
                            "question" : $("#qThree option:selected").text(),
                            "answer" : this.ui.aThree.val()
                        }
                    ]
                });
                firstLoginChangeModel.processRequest();
            },

            cancelForm: function(){
                $("input").val("");
                $("select").val("default");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new FirstTimeLoginView());
        };

        return getViewObj;

    }();

})();

},{"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/default_config":68,"../../js/utils/global_config":69,"../../js/utils/noty_msg.js":71,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73,"../../js/utils/validator_options":75}],107:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
        //var sneakpeek = require('../../js/lib/sneakpeek_scroll');
        //--------------
        var Models = require('../../js/models/models');
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var langContent = require('../../js/interLang/internationalization');
        //var Utils = require('../../js/utils/utils');
//--------------- Footer View  ------------------------------------------------------------

        var FooterView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.FooterView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.FooterView), l_en) );
            },

            ui:{
                "linkOne" : ".footerLinkOne",
                "linkTwo" : ".footerLinkTwo",
                "linkThree" : ".footerLinkThree",
                "linkFour" : ".footerLinkFour"
            },

            events:{

            },

            onShow: function(){
                this.renderLinks();
            },
            renderLinks: function(){
                var that = this;
                $.get(this.model.get("linkOneHtmlPath"), function(data){
                    that.ui.linkOne.html(data);
                });
                $.get(this.model.get("linkTwoHtmlPath"), function(data){
                    that.ui.linkTwo.html(data);
                });
                $.get(this.model.get("linkThreeHtmlPath"), function(data){
                    that.ui.linkThree.html(data);
                });
                $.get(this.model.get("linkFourHtmlPath"), function(data){
                    that.ui.linkFour.html(data);
                });
            }

        });

        var getViewObj = function(modelData){
            var model = Models.getModel({
                'bankFooterLogoPath' : BrandConfig.bankFooterLogoPath,

                'linkOneHtmlPath' : BrandConfig.footerLinkOneHtmlPath,
                'linkTwoHtmlPath' : BrandConfig.footerLinkTwoHtmlPath,
                'linkThreeHtmlPath' : BrandConfig.footerLinkThreeHtmlPath,
                'linkFourHtmlPath' : BrandConfig.footerLinkFourHtmlPath
            });
            return (new FooterView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73}],108:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../js/models/models");
        var dConfig = require("../../js/utils/default_config");
        var gConfig = require("../../js/utils/global_config");
        var ValidatorOpt = require('../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var langContent = require('../../js/interLang/internationalization');

//--------------- ForgotPasswordView  ------------------------------------------------------------

        var ForgotPasswordView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ForgotPasswordView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ForgotPasswordView), l_en) );
            },

            ui:{
                "validateUserIdForm" : "#validateUserIdForm",
                "securityQForm" : "#securityQForm",
                "successMsg" : "#successMsg",
                "forgotPConfirmation" : "#forgotPConfirmation",

                "userId" : "#userId",
                "userIdName" : "#userIdName",

                "qOne" : "#qOne",
                "qTwo" : "#qTwo",

                "aOne" : "#aOne",
                "aTwo" : "#aTwo"
            },

            events:{
                "click #cancelForm" : "cancelForm",
                "click #cancelSecurityQ" : "cancelSecurityQ",
                "submit #validateUserIdForm" : "validateUserId",
                "submit #securityQForm" : "validateSecurityQ"
            },

            onShow: function(){
                this.initValidators();
            },

            initValidators: function(){
                $('#validateUserIdForm')
                    .formValidation(ValidatorOpt.forgotPasswordUserId)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });

                $('#securityQForm')
                    .formValidation(ValidatorOpt.forgotPasswordSecQ)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            validateUserId: function(event){
                if(!$("#validateUserIdForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.userIdName = this.ui.userId.val();
                var model = Models.getValidateUserIdModel({
                    "userName" : this.ui.userId.val()
                });
                model.processRequest();

            },
            validateUserIdSuccess: function(response){
                this.userId = response.userId;
                this.qSet = response.securityQuestions;
                this.ui.validateUserIdForm.hide();
                this.ui.securityQForm.fadeIn('500');
                this.ui.userIdName.html(this.userIdName);
                this.ui.qOne.html(this.qSet[0].question);
                this.ui.qTwo.html(this.qSet[1].question);
            },
            validateSecurityQ: function(event){
                if(!$("#securityQForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getValidateSecurityQModel({
                    "userId" : this.userId,
                    "securityQuestion" : [{
                        "questionId" : this.qSet[0].questionId,
                        "answer" : this.ui.aOne.val()
                    },{
                        "questionId" : this.qSet[1].questionId,
                        "answer" : this.ui.aTwo.val()
                    }]
                });
                model.processRequest();
            },
            validateSecurityQSuccess: function(data){
                this.ui.securityQForm.hide();
                this.ui.successMsg.html(data.message);
                this.ui.forgotPConfirmation.fadeIn('500');
            },

            cancelSecurityQ: function(){
                this.ui.securityQForm.hide();
                this.ui.validateUserIdForm.fadeIn('500');
            },
            cancelForm: function(){
                $("input").val("");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new ForgotPasswordView());
        };

        return getViewObj;

    }();

})();

},{"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/moment.js":60,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/default_config":68,"../../js/utils/global_config":69,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73,"../../js/utils/validator_options":75}],109:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        //var sneakpeek = require('../../js/lib/sneakpeek_scroll');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../js/lib/moment.js');
        //--------------
        var Models = require('../../js/models/models');
        //--------------
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var ViewAccess = require('../../js/utils/view_access');
        var Utils = require('../../js/utils/utils');
        var dConfig = require('../../js/utils/default_config');
        var langContent = require('../../js/interLang/internationalization');
//--------------- Header View  ------------------------------------------------------------

        var HeaderView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.HeaderView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.HeaderView), l_en) );
            },

            ui:{
                "linkOne" : ".linkOne",
                "linkTwo" : ".linkTwo",
                "linkThree" : ".linkThree"
            },

            events:{
                "click .icon-menu48"    : "toggleMenu",
                "click .logoutBut"      : "showConfirmMsg"
            },

            onShow: function(){
                this.initLogoutAction();
                this.renderLinks();
            },

            renderLinks: function(){
                var that = this;
                $.get(this.model.get("linkOneHtmlPath"), function(data){
                    that.ui.linkOne.html(data);
                });
                $.get(this.model.get("linkTwoHtmlPath"), function(data){
                    that.ui.linkTwo.html(data);
                });
                $.get(this.model.get("linkThreeHtmlPath"), function(data){
                    that.ui.linkThree.html(data);
                });

            },

            showConfirmMsg: function(){
                $("#confirmLogoutModal").modal("show");
            },
            initLogoutAction: function(){
                $("#confirmLogout").click(function(){
                    Utils.logout();
                });
            },

            toggleMenu: function(){
                $("#wrapper").toggleClass("toggled");
            },

            showMenuAfterLogin: function(){
                $(".headerControls").show();

                $(".headerUserName").html(dConfig.userId);
                $(".lastLogin").html(Moment(dConfig.lastLogin).format("MMM DD YYYY, h:mm a"));

                $("#SidebarMenuView").removeClass("hiddenElem");
                $("#wrapper").addClass("valid");
                $("#sidebar-wrapper").addClass("valid");
                $("#page-content-wrapper").addClass("valid");
                $("header").css("position", "fixed");

                ViewAccess.SidebarMenu();
            },
            hideMenuAtLogin: function(){
                $(".headerControls").hide();
                $("#SidebarMenuView").addClass("hiddenElem");
                $("#wrapper").removeClass("valid");
                $("#sidebar-wrapper").removeClass("valid");
                $("#page-content-wrapper").removeClass("valid");
                $("header").css("position", "absolute");
            },

            // Not being used
            showMenu: function(){
                $("#wrapper").removeClass("toggled");
            },
            hideMenu: function(){
                $("#wrapper").addClass("toggled");
            }

        });

        var getViewObj = function(modelData){
            var headerModel = Models.getModel({
                'headerLogoPath' : BrandConfig.bankHeaderLogoPath,
                //'headerText' : BrandConfig.bankHeaderText,

                'linkOneHtmlPath' : BrandConfig.headerLinkOneHtmlPath,
                'linkTwoHtmlPath' : BrandConfig.headerLinkTwoHtmlPath,
                'linkThreeHtmlPath' : BrandConfig.headerLinkThreeHtmlPath
            });
            return (new HeaderView({
                model : headerModel
            }));
        };

        return getViewObj;

    }();

})();

},{"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/moment.js":60,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/default_config":68,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73,"../../js/utils/utils":74,"../../js/utils/view_access":76}],110:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
        var AppViewCollection = require('../../js/app/app_view_collection');
//---------------------------------------------------------------------------
        var Utils = require('../../js/utils/utils');
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var langContent = require('../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../js/models/models");
        var ValidatorOpt = require('../../js/utils/validator_options');
//--------------- Login View  ------------------------------------------------------------

        var LoginView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.loginView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.LoginView), l_en) );
            },

            ui:{
                "userId" : "#userId",
                "password" : "#password",

                "infoOneDesc" : ".infoOneDesc",
                "infoTwoDesc" : ".infoTwoDesc",
                "infoThreeDesc" : ".infoThreeDesc"
            },

            events:{
                "submit #loginForm" : "submitLogin"
            },

            onShow: function(){
                AppViewCollection.header_view.hideMenuAtLogin();
                Utils.setToken();
                this.resetSidebarMenu();
                this.renderInfo();
                this.initValidators();

                window.$ = $;
            },

            resetSidebarMenu: function(){
                $(".sideMenuItems").removeClass("active");
                $(".collapse.list-unstyled.subMenu").removeClass("in");
            },
            renderInfo: function(){
                var that = this;
                $.get(this.model.get("infoOneHtmlPath"), function(data){
                    that.ui.infoOneDesc.html(data);
                });
                $.get(this.model.get("infoTwoHtmlPath"), function(data){
                    that.ui.infoTwoDesc.html(data);
                });
                $.get(this.model.get("infoThreeHtmlPath"), function(data){
                    that.ui.infoThreeDesc.html(data);
                });
            },


            initValidators: function(){
                $('#loginForm')
                    .formValidation(ValidatorOpt.login)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            submitLogin: function(){
                if(!$("#loginForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var loginModel = Models.getLoginModel();
                loginModel.set({
                    'userName'        : this.ui.userId.val(),
                    'password'        : this.ui.password.val()

                });
                loginModel.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(modelData){
            var model = Models.getModel({
                'bankBigBannerPath' : BrandConfig.bankBigBannerPath,
                'bankSmallBannerPath' : BrandConfig.bankSmallBannerPath,

                'infoOneImagePath'  : BrandConfig.infoOneImagePath,
                'infoTwoImagePath'  : BrandConfig.infoTwoImagePath,
                'infoThreeImagePath': BrandConfig.infoThreeImagePath,

                'infoOneHtmlPath'   : BrandConfig.infoOneHtmlPath,
                'infoTwoHtmlPath'   : BrandConfig.infoTwoHtmlPath,
                'infoThreeHtmlPath' : BrandConfig.infoThreeHtmlPath
            });
            return (new LoginView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../js/app/app_view_collection":11,"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73,"../../js/utils/utils":74,"../../js/utils/validator_options":75}],111:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../js/models/models");
        var dConfig = require("../../js/utils/default_config");
        var Utils = require("../../js/utils/utils");
        var ValidatorOpt = require('../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;
        var langContent = require('../../js/interLang/internationalization');

//--------------- MFAView  ------------------------------------------------------------

        var MFAView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.MFAView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.MFAView), l_en) );
            },

            ui:{
                "userId" : "#userId",

                "securityQ" : "#securityQ",
                "answer"    : "#answer"
            },

            events:{
                "click #cancelSecQ" : "cancelSecQ",
                "submit #securityQForm" : "submitAnswer"
            },

            onShow: function(){
                this.ui.userId.html(dConfig.userId);
                this.initValidators();
                this.getSecurityQ();
            },

            initValidators: function(){
                $('#securityQForm')
                    .formValidation(ValidatorOpt.mfaSecurityQ)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            getSecurityQ: function(){
                this.model = Models.getMFASecurityQModel();
                this.model.processRequest();
            },
            renderSecurityQ: function(qData){
                this.securityQData = qData.securityQuestion;
                this.ui.securityQ.html(this.securityQData.question);
            },

            submitAnswer: function(event){
                if(!$("#securityQForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getMFASubmitAnswerModel({
                    "securityQuestion":{
                        "questionId" : this.securityQData.questionId,
                        "question" : this.securityQData.question,
                        "answer" : this.ui.answer.val()
                    }
                });
                model.processRequest();

            },

            cancelSecQ: function(){
                $("input").val("");
                Utils.logout();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new MFAView());
        };

        return getViewObj;

    }();

})();

},{"../../js/interLang/internationalization":15,"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/moment.js":60,"../../js/lib/underi18n.js":63,"../../js/lib/underscore":64,"../../js/models/models":66,"../../js/utils/default_config":68,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73,"../../js/utils/utils":74,"../../js/utils/validator_options":75}],112:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- BillPayView  ------------------------------------------------------------

        var BillPayView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.BillPayView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.BillPayView), l_en) );
            },

            ui:{
                "payVerisIFrame" : "#payVerisIFrame"
            },

            events:{
            },

            onShow: function(){
                this.getPayVerisApp();
            },

            getPayVerisApp: function(){
                var payModel = Models.getPayVerisModel();
                payModel.processRequest();
            },
            renderIFrame: function(data){

                if($("#payVeris")[0] != "undefined")
                    $("#payVeris").remove();

                var url = "https://test.regrpayverisbp.com/pp/js/public/embedded.js";
                var token = "https://test.regrpayverisbp.com/pp/sso/eu/ShowDashboard?artifactId="+data.Body.CreateUserSessionResponse.ArtifactId+"";

                //var payVerisContent = document.getElementById("payVerisContentDiv");
                var newScript = document.createElement('script');
                newScript.type = 'text/javascript';
                newScript.id = 'payVeris';
                newScript.src = url;
                newScript.setAttribute("data-payveris-action", token);

                $("#payVerisContentDiv").html(newScript);

               /* $.ajax({
                    "url": url,
                    "dataType": "script",
                    "data-payveris-action" : token,
                    success: function(data, data2, data3){
                        console.log(data);
                        console.log(data2);
                        console.log(data3);
                    }
                });
*/
                //var link = "https://test.regrpayverisbp.com/pp/sso/eu/ShowDashboard?artifactId="+data.Body.CreateUserSessionResponse.ArtifactId+"";
                //this.ui.payVerisIFrame.prop("src", link);

            },


            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new BillPayView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73}],113:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require('../../../js/app/app_activity');
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
        var NotyMsg = require('../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- EditFundsTransferView  ------------------------------------------------------------

        var EditFundsTransferView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditFundsTransferView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditFundsTransferView), l_en) );
            },

            ui:{
                "availBal" : "#availBal",
                "balance" : "#balance",
                "balDate" : "#balDate",
                "balTime" : "#balTime",
                "fromAcc" : "#fromAcc",
                "toAcc" : "#toAcc",
                "loanPayType" : "#loanPayType",
                "amt" : "#amt",
                "payDate" : "#payDate",
                "paySchedule" : "input[type=radio]",
                "frequency" : "#frequency",
                "expDate" : "#expDate",
                "remarks" : "#remarks",
                "remarksCharLimit" : "#remarksCharLimit",

                "loanPayTypeDiv" : "#loanPayTypeDiv",
                "recurFields" : "#recurringScheduleFields"
            },

            events:{
                "change #fromAcc" : "showBalance",
                "change #toAcc" : "toAccChanged",
                "change #payScheduleOne"   : "scheduleOneSelected",
                "change #payScheduleRecur" : "recurringSelected",
                "keyup #remarks" : "checkRemarksLimit",

                "click #cancel" : "showPendingTransfers",
                "submit #editFundsTransferForm" : "submitEditFundsTransfer"
            },

            onShow: function(){
                this.initDateInput();
                this.initFormValidations();
                this.renderFromAccs();
                this.renderToAccs();
                this.isEdit();
            },

            initFormValidations: function(){
                if(dConfig.limitsAvailable.fundsPerTrancLimit){
                    ValidatorOpt.fundsTransfer.fields.amt.validators.lessThan = {
                        value : dConfig.privileges.limits.fundsLimits.fundsLimitPerTranc,
                        message: 'Amount is exceeding your transfer limit per transaction.' +
                        '<br>' +
                        'Should be less than or equal to '+dConfig.privileges.limits.fundsLimits.fundsLimitPerTranc+''
                    };
                }
                $("#editFundsTransferForm").formValidation(ValidatorOpt.fundsTransfer)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            initDateInput: function(){
                $("#datepicker").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day"),
                    maxDate: Moment().add(1, "weeks").endOf("day")
                });
                $("#datepicker").on("dp.change",function (e) {
                    $("#editFundsTransferForm").data('formValidation').updateStatus("payDate", "NOT_VALIDATED");
                });

                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
            },
            scheduleOneSelected: function(){
                this.ui.recurFields.hide();
            },
            recurringSelected: function(){
                this.ui.recurFields.show();
            },
            checkRemarksLimit: function(){
                if( (100 - this.ui.remarks.val().length) < 0 ){
                    event.stopPropagation();
                    event.preventDefault();
                    return false;
                }else{
                    this.ui.remarksCharLimit.html( 100 - this.ui.remarks.val().length);
                }
            },

            renderFromAccs: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var fromAccStr = "";
                for(var i = 0; i < accs.length; i++) {
                    fromAccStr = fromAccStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+", Balance:"+Utils.formatAmount(accs[i].availableBalance.amount)+"</option>";
                }
                this.ui.fromAcc.append(fromAccStr);
                this.showBalance();
            },
            showBalance: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var balance = "", date, time;

                if(this.ui.fromAcc.val() == "default"){
                    this.ui.availBal.hide();
                }else{

                    for(var i = 0; i < accs.length; i++) {
                        if (accs[i].accountNo == this.ui.fromAcc.val()) {
                            balance = accs[i].availableBalance.amount;
                            date = accs[i].date;
                            time = accs[i].time;
                        }
                    }

                    this.ui.availBal.show();
                    this.ui.balance.html(Utils.formatAmount(balance));
                    this.ui.balDate.html(date);
                    this.ui.balTime.html(time);
                }

            },
            renderToAccs: function(){
                var accs = dConfig.saveCheckLoanAccounts;
                var toAccStr = "";
                for(var i = 0; i < accs.length; i++) {
                    toAccStr = toAccStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.toAcc.append(toAccStr);
            },

            toAccChanged: function(){
                var loanAccs = dConfig.loanAccounts;
                for(var i = 0; i < loanAccs.length; i++) {
                    if (loanAccs[i].accountNo == this.ui.toAcc.val()) {
                        this.ui.loanPayTypeDiv.show();
                        break;
                    }else{
                        this.ui.loanPayTypeDiv.hide();

                    }
                }
            },
            //***  Submit Edit Funds Transfer Form
            submitEditFundsTransfer: function(event){

                if(!$("#editFundsTransferForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                if(this.ui.fromAcc.val() == this.ui.toAcc.val()){
                    NotyMsg.errorMsg("From and To accounts cannot be same.");
                    return false;
                }

                var that = this;
                function isLoanPayTypeHidden(){
                    if(that.ui.loanPayTypeDiv.is(":hidden")){
                        return "hiddenElem"
                    }else{
                        return "";
                    }
                }
                gConfig.userInfo.ReviewFunds = {
                    "fromAccNo" : this.ui.fromAcc.val(),
                    "fromAcc" : $( "#fromAcc option:selected" ).text(),
                    "balance" :  this.ui.balance.html(),
                    "balDate" : this.ui.balDate.html(),
                    "balTime" : this.ui.balTime.html(),
                    "toAccNo" : this.ui.toAcc.val(),
                    "toAcc" : $( "#toAcc option:selected" ).text(),
                    "isLoanPayType" : isLoanPayTypeHidden(),
                    "loanPayType" : this.ui.loanPayType.val(),
                    "amt"   : this.ui.amt.val(),
                    "payDate"   : this.ui.payDate.val(),
                    "paySchedule"   : $("input[type='radio']:checked").val(),
                    "frequency"     : this.ui.frequency.val(),
                    "expDate"       : this.ui.expDate.val(),
                    "remarks"   : this.ui.remarks.val()
                };
                AppActivity.trigger("reviewEditFundsTransfer");

            },

            isEdit: function(){

                this.ui.fromAcc.val(this.model.get("debitFrom").accountNo);
                this.ui.toAcc.val(this.model.get("creditTo").accountNo);
                this.showBalance();
                //this.ui.loanPayType.val(this.model.get("loanPayType"));
                /*if(this.model.get("isLoanPayType") == "hiddenElem"){
                 this.ui.loanPayTypeDiv.hide();
                 }else{
                 this.ui.loanPayTypeDiv.show();
                 }*/

                $("input[value='"+this.model.get("paySchedule")+"']").attr('checked', true);

                this.checkRemarksLimit();

                if(this.model.get("paySchedule") == "Recurring"){
                    this.ui.recurFields.show();
                }else{
                    this.ui.recurFields.hide();
                }

                this.ui.frequency.val(this.model.get("frequency"));
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },


            showPendingTransfers: function(){
                gConfig.userInfo.ReviewFunds = {};
                AppActivity.trigger("fundsTransfer");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel(gConfig.userInfo.editPendingTransferData);
            return (new EditFundsTransferView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_activity":1,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],114:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require("../../../../js/app/app_activity");
        var Models = require("../../../../js/models/models");
        var dConfig = require("../../../../js/utils/default_config");
        var gConfig = require("../../../../js/utils/global_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- ReviewEditFundsTransferView  ------------------------------------------------------------

        var ReviewEditFundsTransferView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ReviewEditFundsTransferView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ReviewEditFundsTransferView), l_en) );
            },

            ui:{
                "recurringFields" : ".recurringFields"
            },

            events:{
                "submit #reviewFundsForm" : "submitFunds",
                "click #editTransferFunds": "editTransferFunds"
            },

            onShow: function(){
                this.checkRecurring();
            },

            checkRecurring: function(){
                if(this.model.get("paySchedule") == "Recurring"){
                    this.ui.recurringFields.show();
                }else{
                    this.ui.recurringFields.hide();
                }
            },

            submitFunds: function(){
                var fromAcc, toAcc,
                    fromAccCategory, toAccCategory,
                    fromAccNo = this.model.get("fromAccNo"),
                    toAccNo = this.model.get("toAccNo");

                var accs = dConfig.customerAccounts;
                for(var i = 0; i < accs.length; i++) {
                    if(accs[i].accountNo == fromAccNo){
                        fromAcc = accs[i];
                        fromAccCategory = "DEPOSIT";
                    }
                    if(accs[i].accountNo == toAccNo){
                        toAcc = accs[i];
                        if (accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING") {
                            toAccCategory = "DEPOSIT";
                        }else{
                            toAccCategory = "LOAN";
                        }
                    }
                }

                var model = Models.getEditFundsTransferModel({
                    "instructionId"             : gConfig.userInfo.editPendingTransferData.instructionId,
                    "checkNo"                   : "",
                    "debitFrom": {
                        "accountNo": fromAcc.accountNo,
                        "accountCategory": fromAccCategory,
                        "accountType": fromAcc.accountType,
                        "transactionAmount": {
                            "amount": this.model.get("amt")
                        }
                    },
                    "creditTo": {
                        "accountNo": toAcc.accountNo,
                        "accountCategory": toAccCategory,
                        "accountType": toAcc.accountType,
                        "transactionAmount": {
                            "amount": this.model.get("amt")
                        }
                    },

                    "transactionDate": this.model.get("payDate"),
                    "transactionTime": "",

                    "description": this.model.get("remarks"),
                    "remarks": this.model.get("remarks"),

                    paySchedule : this.model.get("paySchedule"),
                    frequency : this.model.get("frequency"),
                    expirationDate: this.model.get("expDate")
                });
                model.processRequest();
            },

            editTransferFunds: function(){

                gConfig.userInfo.editPendingTransferData = {
                    "instructionId"             : gConfig.userInfo.editPendingTransferData.instructionId,
                    "remarks"                   : this.model.get("remarks"),
                    "description"               : "",
                    "checkNo"                   : "",
                    "transactionDate"           : this.model.get("payDate"),
                    "transactionTime"           : "",
                    "debitFrom"                 : {
                        "accountNo"                 : this.model.get("fromAccNo"),
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : this.model.get("amt")
                        }
                    },
                    "creditTo"                  : {
                        "accountNo"                 : this.model.get("toAccNo"),
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : this.model.get("amt")
                        }
                    },
                    "paySchedule" : this.model.get("paySchedule"),
                    "frequency" : this.model.get("frequency"),
                    "expirationDate": this.model.get("expDate")
                };
                AppActivity.trigger("editFundsTransfer");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(){
            var model = Models.getModel(gConfig.userInfo.ReviewFunds);
            return (new ReviewEditFundsTransferView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],115:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require('../../../js/app/app_activity');
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
        var NotyMsg = require('../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- FundsTransferView  ------------------------------------------------------------

        var FundsTransferView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.FundsTransferView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.FundsTransferView), l_en) );
            },

            ui:{
                "availBal" : "#availBal",
                "balance" : "#balance",
                "balDate" : "#balDate",
                "balTime" : "#balTime",
                "fromAcc" : "#fromAcc",
                "toAcc" : "#toAcc",
                "loanPayType" : "#loanPayType",
                "amt" : "#amt",
                "payDate" : "#payDate",
                "paySchedule" : "input[type=radio]",
                "frequency" : "#frequency",
                "expDate" : "#expDate",
                "remarks" : "#remarks",
                "remarksCharLimit" : "#remarksCharLimit",

                "loanPayTypeDiv" : "#loanPayTypeDiv",
                "recurFields" : "#recurringScheduleFields",
                "cardHeader" : ".card-header-icon-div"
            },

            behaviors: {
                ToggleHeaderBehavior:{
                    fieldSelector  : ".card-header-icon-div"
                }
            },

            events:{
                "change #fromAcc" : "showBalance",
                "change #toAcc" : "toAccChanged",
                "change #payScheduleOne"   : "scheduleOneSelected",
                "change #payScheduleRecur" : "recurringSelected",
                "keydown #remarks" : "checkRemarksLimit",

                "click #cancelFundsTransfer" : "clearFundsTransferForm",
                "submit #fundsTransferForm" : "submitFundsTransfer"
            },

            onShow: function(){
                this.AppViewInitializer = require('../../../js/app/app_view_initializer');
                this.getPendingTransfers();
                this.initDateInput();
                this.initFormValidations();
                this.renderFromAccs();
                this.renderToAccs();
                this.isEdit();
            },

            getPendingTransfers: function(){
                var model = Models.getPendingTransferModel();
                model.processRequest();
            },

            renderPendingTransfer: function(list){
                $("#pendingTables").html("<p id='pendingPara' class='padding20'>No Records Found</p>");
                $("#recurringTables").html("<p id='recurringPara' class='padding20'>No Records Found</p>");

                this.oneTimeTransfers = _.groupBy(list.onetime, "sourceAccountNo");
                this.recurringTransfers = _.groupBy(list.recurring, "sourceAccountNo");

                console.log(this.oneTimeTransfers);
                console.log(this.recurringTransfers);

                var accs = dConfig.saveCheckTransferAccounts;

                for(var i = 0; i < accs.length; i++){
                    var accNo = accs[i].accountNo;
                    if(typeof this.oneTimeTransfers[accNo] != "undefined"){

                        //this.renderOneTimeTable(this.oneTimeTransfers[accNo], accs[i].accountType, accNo);

                        $("#pendingPara").hide();
                        var id = "onetime"+accNo+"";
                        $("#pendingTables").append("<div id='"+id+"'>");
                        this.pendingTablesRegion = new Backbone.Marionette.Region({ el : "#"+id+""});

                        var model = Models.getModel({
                            "accList" : this.oneTimeTransfers[accNo],
                            "accType" : accs[i].accountType,
                            "accNo"   : Utils.maskAccount(accNo),
                            "scheduleType" : "OneTime"
                        });
                        var view = this.AppViewInitializer.pendingTablesView(model);
                        this.pendingTablesRegion.show(view);

                    }
                    if(typeof this.recurringTransfers[accNo] != "undefined"){

                        //this.renderRecurringTable(this.recurringTransfers[accNo], accs[i].accountType, accNo);

                        $("#recurringPara").hide();
                        var recId = "recurring"+accNo+"";
                        $("#recurringTables").append("<div id='"+recId+"'>");
                        this.recurringTablesRegion = new Backbone.Marionette.Region({ el : "#"+recId+""});

                        var recModel = Models.getModel({
                            "accList" : this.recurringTransfers[accNo],
                            "accType" : accs[i].accountType,
                            "accNo"   : Utils.maskAccount(accNo),
                            "scheduleType" : "Recurring"
                        });
                        var recView = this.AppViewInitializer.pendingTablesView(recModel);
                        this.recurringTablesRegion.show(recView);
                    }
                }

            },


            initFormValidations: function(){
                if(dConfig.limitsAvailable.fundsPerTrancLimit){
                    ValidatorOpt.fundsTransfer.fields.amt.validators.lessThan = {
                        value : dConfig.privileges.limits.fundsLimits.fundsLimitPerTranc,
                        message: 'Amount is exceeding your transfer limit per transaction.' +
                        '<br>' +
                        'Should be less than or equal to '+dConfig.privileges.limits.fundsLimits.fundsLimitPerTranc+''
                    };
                }
                $("#fundsTransferForm").formValidation(ValidatorOpt.fundsTransfer)
                    .on('success.form.fv', function(e){
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            initDateInput: function(){
                $("#datepicker").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day"),
                    maxDate: Moment().add(1, "weeks").endOf("day")
                });
                $("#datepicker").on("dp.change",function (e) {
                    $("#fundsTransferForm").data('formValidation').updateStatus("payDate", "NOT_VALIDATED");
                });

                $("#expDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().startOf("day")
                });
            },
            scheduleOneSelected: function(){
                this.ui.recurFields.hide();
            },
            recurringSelected: function(){
                this.ui.recurFields.show();
            },
            checkRemarksLimit: function(event){
                if( (100 - this.ui.remarks.val().length) < 0 ){
                    event.stopPropagation();
                    event.preventDefault();
                    return false;
                }else{
                    this.ui.remarksCharLimit.html( 100 - this.ui.remarks.val().length);
                }

            },

            renderFromAccs: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var fromAccStr = "";
                for(var i = 0; i < accs.length; i++) {
                    fromAccStr = fromAccStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+", Balance:"+Utils.formatAmount(accs[i].availableBalance.amount)+"</option>";
                }
                this.ui.fromAcc.append(fromAccStr);
                this.showBalance();
            },
            showBalance: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var balance = "", date, time;

                if(this.ui.fromAcc.val() == "default"){
                    this.ui.availBal.hide();
                }else{

                    for(var i = 0; i < accs.length; i++) {
                        if (accs[i].accountNo == this.ui.fromAcc.val()) {
                            balance = accs[i].availableBalance.amount;
                            date = accs[i].date;
                            time = accs[i].time;
                        }
                    }

                    this.ui.availBal.show();
                    this.ui.balance.html(Utils.formatAmount(balance));
                    this.ui.balDate.html(date);
                    this.ui.balTime.html(time);
                }

            },
            renderToAccs: function(){
                var accs = dConfig.saveCheckLoanAccounts;
                var toAccStr = "";
                for(var i = 0; i < accs.length; i++) {
                    toAccStr = toAccStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.toAcc.append(toAccStr);
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            toAccChanged: function(){
                var loanAccs = dConfig.loanAccounts;
                for(var i = 0; i < loanAccs.length; i++) {
                    if (loanAccs[i].accountNo == this.ui.toAcc.val()) {
                        this.ui.loanPayTypeDiv.show();
                        break;
                    }else{
                        this.ui.loanPayTypeDiv.hide();

                    }
                }
            },
            //***  Submit Funds Transfer Form
            submitFundsTransfer: function(event){

                if(!$("#fundsTransferForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                if(this.ui.fromAcc.val() == this.ui.toAcc.val()){
                    NotyMsg.errorMsg("From and To accounts cannot be same.");
                    return false;
                }

                var that = this;
                function isLoanPayTypeHidden(){
                    if(that.ui.loanPayTypeDiv.is(":hidden")){
                        return "hiddenElem"
                    }else{
                        return "";
                    }
                }
                gConfig.userInfo.ReviewFunds = {
                    "fromAccNo" : this.ui.fromAcc.val(),
                    "fromAcc" : $( "#fromAcc option:selected" ).text(),
                    "balance" :  this.ui.balance.html(),
                    "balDate" : this.ui.balDate.html(),
                    "balTime" : this.ui.balTime.html(),
                    "toAccNo" : this.ui.toAcc.val(),
                    "toAcc" : $( "#toAcc option:selected" ).text(),
                    "isLoanPayType" : isLoanPayTypeHidden(),
                    "loanPayType" : this.ui.loanPayType.val(),
                    "amt"   : this.ui.amt.val(),
                    "payDate"   : this.ui.payDate.val(),
                    "paySchedule"   : $("input[type='radio']:checked").val(),
                    "frequency"     : this.ui.frequency.val(),
                    "expDate"       : this.ui.expDate.val(),
                    "remarks"   : this.ui.remarks.val()
                };
                AppActivity.trigger("reviewFundsTransfer");
                gConfig.userInfo.EditFunds = undefined;
            },

            isEdit: function(){
                if(typeof this.model.attributes.fromAccNo != "undefined"){
                    this.ui.fromAcc.val(this.model.get("fromAccNo"));
                    this.ui.toAcc.val(this.model.get("toAccNo"));
                    this.ui.loanPayType.val(this.model.get("loanPayType"));
                    if(this.model.get("isLoanPayType") == "hiddenElem"){
                        this.ui.loanPayTypeDiv.hide();
                    }else{
                        this.ui.loanPayTypeDiv.show();
                    }

                    this.ui.amt.val(this.model.get("amt"));
                    var payDate = Moment(this.model.get("payDate"), "MM-DD-YYYY");
                    $('#datepicker').data("DateTimePicker").date(payDate);
                    $("input[value='"+this.model.get("paySchedule")+"']").attr('checked', true);
                    this.ui.remarks.text(this.model.get("remarks"));
                    this.checkRemarksLimit();
                    if(this.model.get("paySchedule") == "Recurring"){
                        this.ui.recurFields.show();
                    }else{
                        this.ui.recurFields.hide();
                    }
                    this.ui.frequency.val(this.model.get("frequency"));
                    this.ui.expDate.val(this.model.get("expDate"));
                    var expDate = Moment(this.model.get("expDate"), "MM-DD-YYYY");
                    $('#expDateGroup').data("DateTimePicker").date(expDate);

                    this.showBalance();
                    gConfig.userInfo.EditFunds = undefined;
                }
            },

            clearFundsTransferForm: function(){
                gConfig.userInfo.ReviewFunds = {};
                gConfig.userInfo.EditFunds = undefined;
                this.ui.fromAcc.val("default");
                this.ui.toAcc.val("default");
                this.showBalance();
                $("input").val("");
                $("#payScheduleOne").prop('checked', true);
                $("textarea").val("");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel(data);
            return (new FundsTransferView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_activity":1,"../../../js/app/app_view_initializer":12,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],116:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require("../../../../js/app/app_activity");
        var Models = require("../../../../js/models/models");
        var dConfig = require("../../../../js/utils/default_config");
        var gConfig = require("../../../../js/utils/global_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- ReviewFundsTransferView  ------------------------------------------------------------

        var ReviewFundsTransferView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ReviewFundsTransferView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ReviewFundsTransferView), l_en) );
            },

            ui:{
                "recurringFields" : ".recurringFields"
            },

            events:{
                "submit #reviewFundsForm" : "submitFunds",
                "click #backToTransferFunds": "editTransferFunds",
                "click #editTransferFunds": "editTransferFunds"
            },

            onShow: function(){
                this.checkRecurring();
            },

            checkRecurring: function(){
                if(this.model.get("paySchedule") == "Recurring"){
                    this.ui.recurringFields.show();
                }else{
                    this.ui.recurringFields.hide();
                }
            },

            submitFunds: function(){
                var fromAcc, toAcc,
                    fromAccCategory, toAccCategory,
                    fromAccNo = this.model.get("fromAccNo"),
                    toAccNo = this.model.get("toAccNo");

                var accs = dConfig.customerAccounts;
                for(var i = 0; i < accs.length; i++) {
                    if(accs[i].accountNo == fromAccNo){
                        fromAcc = accs[i];
                        fromAccCategory = "DEPOSIT";
                    }
                    if(accs[i].accountNo == toAccNo){
                        toAcc = accs[i];
                        if (accs[i].accountType == "SAVINGS" || accs[i].accountType == "CHECKING") {
                            toAccCategory = "DEPOSIT";
                        }else{
                            toAccCategory = "LOAN";
                        }
                    }
                }

                var fundsModel = Models.getFundsTransferModel({
                    "debitFrom": {
                        "accountNo": fromAcc.accountNo,
                        "accountCategory": fromAccCategory,
                        "accountType": fromAcc.accountType,
                        "transactionAmount": {
                            "currency": "USD",
                            "amount": this.model.get("amt")
                        }
                    },
                    "creditTo": {
                        "accountNo": toAcc.accountNo,
                        "accountCategory": toAccCategory,
                        "accountType": toAcc.accountType,
                        "transactionAmount": {
                            "currency": "USD",
                            "amount": this.model.get("amt")
                        }
                    },

                    "transactionDate": this.model.get("payDate"),
                    "transactionTime": ""+this.model.get("payDate")+" 012453",

                    "description": this.model.get("remarks"),
                    "remarks": this.model.get("remarks"),

                    paySchedule : this.model.get("paySchedule"),
                    frequency : this.model.get("frequency"),
                    expirationDate: this.model.get("expDate")
                });
                fundsModel.processRequest();
            },

            editTransferFunds: function(){
                gConfig.userInfo.EditFunds = {
                    "fromAccNo"     : this.model.get("fromAccNo"),
                    "toAccNo"       : this.model.get("toAccNo"),
                    "isLoanPayType" : this.model.get("isLoanPayType"),
                    "loanPayType"   : this.model.get("loanPayType"),
                    "amt"           : this.model.get("amt"),
                    "payDate"       : this.model.get("payDate"),
                    "paySchedule"   : this.model.get("paySchedule"),
                    "frequency"     : this.model.get("frequency"),
                    "expirationDate": this.model.get("expDate"),
                    "remarks"       : this.model.get("remarks")
                };
                AppActivity.trigger("fundsTransfer");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getModel(data);
            return (new ReviewFundsTransferView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],117:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var dConfig = require("../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- PendingTransfersView  ------------------------------------------------------------

        var PendingTransfersView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.PendingTransfersView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.PendingTransfersView), l_en) );
            },

            ui:{

            },

            events:{

            },

            onShow: function(){
                this.AppViewInitializer = require('../../../js/app/app_view_initializer');
                this.getPendingTransfers();
            },

            getPendingTransfers: function(){
                var model = Models.getPendingTransferModel();
                model.processRequest();
            },

            renderPendingTransfer: function(list){
                $("#pendingTables").html("<p id='pendingPara' class='padding20'>No Records Found</p>");
                $("#recurringTables").html("<p id='recurringPara' class='padding20'>No Records Found</p>");

                this.oneTimeTransfers = _.groupBy(list.onetime, "sourceAccountNo");
                this.recurringTransfers = _.groupBy(list.recurring, "sourceAccountNo");

                console.log(this.oneTimeTransfers);
                console.log(this.recurringTransfers);

                var accs = dConfig.saveCheckTransferAccounts;

                for(var i = 0; i < accs.length; i++){
                    var accNo = accs[i].accountNo;
                    if(typeof this.oneTimeTransfers[accNo] != "undefined"){

                        //this.renderOneTimeTable(this.oneTimeTransfers[accNo], accs[i].accountType, accNo);

                        $("#pendingPara").hide();
                        var id = "onetime"+accNo+"";
                        $("#pendingTables").append("<div id='"+id+"'>");
                        this.pendingTablesRegion = new Backbone.Marionette.Region({ el : "#"+id+""});

                        var model = Models.getModel({
                            "accList" : this.oneTimeTransfers[accNo],
                            "accType" : accs[i].accountType,
                            "accNo"   : Utils.maskAccount(accNo),
                            "scheduleType" : "OneTime"
                        });
                        var view = this.AppViewInitializer.pendingTablesView(model);
                        this.pendingTablesRegion.show(view);

                    }
                    if(typeof this.recurringTransfers[accNo] != "undefined"){

                        //this.renderRecurringTable(this.recurringTransfers[accNo], accs[i].accountType, accNo);

                        $("#recurringPara").hide();
                        var recId = "recurring"+accNo+"";
                        $("#recurringTables").append("<div id='"+recId+"'>");
                        this.recurringTablesRegion = new Backbone.Marionette.Region({ el : "#"+recId+""});

                        var recModel = Models.getModel({
                            "accList" : this.recurringTransfers[accNo],
                            "accType" : accs[i].accountType,
                            "accNo"   : Utils.maskAccount(accNo),
                            "scheduleType" : "Recurring"
                        });
                        var recView = this.AppViewInitializer.pendingTablesView(recModel);
                        this.recurringTablesRegion.show(recView);
                    }
                }

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new PendingTransfersView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_view_initializer":12,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74}],118:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var dConfig = require("../../../../js/utils/default_config");
        var gConfig = require("../../../../js/utils/global_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- PendingTablesView  ------------------------------------------------------------

        var PendingTablesView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.PendingTablesView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.PendingTablesView), l_en) );
            },

            ui:{
                "table" : "table",
                "edit" : ".editPendingTransfer",
                "delete" : ".deletePendingTransfer",

                "confirmDelete" : "#confirmPendingDelete",
                "deleteModal" : "#confirmDeletePendingModal"
            },

            events:{
                "click @ui.edit" : "editPendingTransfer",
                "click @ui.delete" : "showDeleteModal",
                "click @ui.confirmDelete" : "deletePendingTransfer"
            },

            onShow: function(){
                this.renderTable();
            },

            renderTable : function(){
                var accs = this.model.get("accList"),
                    tableData = [];
                var transferAccs = dConfig.saveCheckLoanTransferAccounts;
                for(var i = 0; i < accs.length; i++){
                    var accType = (_.findWhere(transferAccs, {"accountNo" : accs[i].targetAccountNo})).accountType;
                    tableData.push({
                        '0' : "",
                        '1' : ""+accType+"-"+Utils.maskAccount(accs[i].targetAccountNo)+"",
                        '2' : accs[i].startDate.date,
                        '3' : Utils.formatAmount(accs[i].transferAmount),
                        '4' : accs[i].remarks,
                        '5' : "<button data-id='"+accs[i].instructionId+"' class='editPendingTransfer marginRight5 btn btn-default btn-sm hidden-xs'><span class='icon-edit'></span></button>" +
                        "<button data-id='"+accs[i].instructionId+"' class='editPendingTransfer marginRight5 btn btn-default btn-xs hidden-sm hidden-md hidden-lg'><span class='icon-edit'></span></button>" +
                        "<button data-id='"+accs[i].instructionId+"' class='deletePendingTransfer btn btn-default btn-sm hidden-xs'><span class='icon-delete'></span></button>" +
                        "<button data-id='"+accs[i].instructionId+"' class='deletePendingTransfer btn btn-default btn-xs hidden-sm hidden-md hidden-lg'><span class='icon-delete'></span></button>"
                    });
                }
                this.ui.table.dataTable({
                    "aaData" :  tableData,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all wordBreakAll",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "desktop tablet-l tablet-p",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "all text-right",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "10%"
                        },
                        {
                            "sClass": "all text-center",
                            "sWidth" : "13%"
                        }
                    ]
                });
            },

            editPendingTransfer: function(event){
                var instructionId = $(event.currentTarget).attr("data-id");
                var accs = this.model.get("accList");
                var pendingTransferRecord = _.findWhere(accs, { "instructionId" : instructionId });
                gConfig.userInfo.editPendingTransferData = {
                    "instructionId"             : pendingTransferRecord.instructionId,
                    "remarks"                   : pendingTransferRecord.remarks,
                    "description"               : "",
                    "checkNo"                   : "",
                    "transactionDate"           : pendingTransferRecord.startDate.date,
                    "transactionTime"           : "",
                    "debitFrom"                 : {
                        "accountNo"                 : pendingTransferRecord.sourceAccountNo,
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : pendingTransferRecord.transferAmount
                        }
                    },
                    "creditTo"                  : {
                        "accountNo"                 : pendingTransferRecord.targetAccountNo,
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : pendingTransferRecord.transferAmount
                        }
                    },
                    "paySchedule" : this.model.get("scheduleType"),
                    "frequency" : pendingTransferRecord.transferFrequency,
                    "expirationDate": pendingTransferRecord.endDate.date
                };
                var AppActivity = require("../../../../js/app/app_activity");
                AppActivity.trigger("editFundsTransfer");
            },
            showDeleteModal: function(event){
                this.instructionId = $(event.currentTarget).attr("data-id");
                this.ui.deleteModal.modal("show");
            },
            deletePendingTransfer: function(){
                var accs = this.model.get("accList");
                var pendingTransferRecord = _.findWhere(accs, { "instructionId" : this.instructionId });
                var deleteTransferRecord = {
                    "instructionId"             : pendingTransferRecord.instructionId,
                    "remarks"                   : pendingTransferRecord.remarks,
                    "description"               : "",
                    "checkNo"                   : "",
                    "transactionDate"           : pendingTransferRecord.startDate.date,
                    "transactionTime"           : "",
                    "debitFrom"                 : {
                        "accountNo"                 : pendingTransferRecord.sourceAccountNo,
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : pendingTransferRecord.transferAmount
                        }
                    },
                    "creditTo"                  : {
                        "accountNo"                 : pendingTransferRecord.targetAccountNo,
                        "accountCategory"           : "",
                        "accountType"               : "",
                        "transactionAmount"         : {
                            "amount"                    : pendingTransferRecord.transferAmount
                        }
                    },
                    "paySchedule" : this.model.get("scheduleType"),
                    "frequency" : pendingTransferRecord.transferFrequency,
                    "expirationDate": pendingTransferRecord.endDate.date
                };

                var model = Models.getDeletePendingTransferModel(deleteTransferRecord);
                model.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(model){
            return (new PendingTablesView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],119:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var NotyMsg = require("../../../../js/utils/noty_msg");
        var Utils = require("../../../../js/utils/utils");
        var gConfig = require("../../../../js/utils/global_config");
        var dConfig = require("../../../../js/utils/default_config");
        var ValidatorOpt = require('../../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- EditAlertsView  ------------------------------------------------------------

        var EditAlertsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditAlertsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditAlertsView), l_en) );
            },
            ui:{
                "module" : "#module",
                "account" : "#account",
                "amount" : "#amount",
                "checkNo" : "#checkNo",
                "fromCheckNo" : "#fromCheckNo",
                "toCheckNo" : "#toCheckNo",
                "accAlerts" : "#accAlerts",
                "achAlerts" : "#achAlerts",
                "userAlerts" : "#userAlerts",
                "wireAlerts" : "#wireAlerts",
                "fromTime" : "#fromTime",
                "toTime" : "#toTime",
                "emailId" : "#emailId",
                "phone" : "#phone",

                "accountDiv" : "#accountDiv",
                "accElems" : ".accElems",
                "accEntryElems" : ".accEntryElems",
                "accAmtEntry" : "#accAmtEntry",
                "accSingleCheckEntry" : "#accSingleCheckEntry",
                "accMultipleCheckEntry" : "#accMultipleCheckEntry",

                "alertDivs" : ".alertDivs",
                "accAlertsDiv" : "#accAlertsDiv",
                "userAlertsDiv" : "#userAlertsDiv",
                "achAlertsDiv" : "#achAlertsDiv",
                "wireAlertsDiv" : "#wireAlertsDiv",
                "defaultAlertDiv" : "#defaultAlertDiv"
            },

            events:{
                "change @ui.module" : "moduleChanged",
                "change @ui.accAlerts" : "accAlertsChanged",

                "submit #alertsForm" : "submitAlerts"
            },

            onShow: function(){
                this.initDateRange();
                this.initValidators();
                this.renderAccs();
                this.populateEditData();
            },
            initValidators: function(){
                $('#alertsForm')
                    .formValidation(ValidatorOpt.alerts)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateRange: function(){
                $("#fromTimeGroup").datetimepicker({
                    format: "HH:mm"
                });
                $("#toTimeGroup").datetimepicker({
                    format: "HH:mm"
                });
                $("#fromTimeGroup").on("dp.change",function (e) {
                    $("#alertsForm").data('formValidation').updateStatus("fromTime", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
                $("#toTimeGroup").on("dp.change",function (e) {
                    $("#alertsForm").data('formValidation').updateStatus("toTime", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },

            moduleChanged: function () {
                var module = this.ui.module.val(),
                    that = this;
                switch(module){
                    case "Accounts" :
                        that.ui.alertDivs.hide();
                        that.ui.accElems.hide();
                        that.ui.accountDiv.show();
                        that.ui.accAlertsDiv.show();
                        break;
                    case "User" :
                        that.ui.alertDivs.hide();
                        that.ui.userAlertsDiv.show();
                        break;
                    case "ACH" :
                        that.ui.alertDivs.hide();
                        that.ui.achAlertsDiv.show();
                        break;
                    case "WireTransfer" :
                        that.ui.alertDivs.hide();
                        that.ui.wireAlertsDiv.show();
                        break;
                    default:
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.defaultAlertDiv.show();
                        break;
                }

            },
            renderAccs: function(){
                var accs = dConfig.saveCheckAccounts;
                var accStr = "<option value='default'>Select Account</option>";
                for(var i = 0; i < accs.length; i++) {
                    accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.account.html(accStr);

            },

            accAlertsChanged: function(){
                var alertType = this.ui.accAlerts.find("option:selected").attr("data-val"),
                    that = this;
                switch(alertType){
                    case  "amt":
                        that.ui.accEntryElems.hide();
                        that.ui.accAmtEntry.show();
                        break;
                    case  "singleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accSingleCheckEntry.show();
                        break;
                    case  "multipleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accMultipleCheckEntry.show();
                        break;
                    default :
                        that.ui.accEntryElems.hide();
                        break;
                }
            },

            submitAlerts: function (event) {
                if(!$("#alertsForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                if(this.ui.fromTime.val().length > 0 && this.ui.toTime.val().length < 1){
                    NotyMsg.warningMsg("Please enter time in To field");
                    return;
                }
                if(this.ui.fromTime.val().length < 1 && this.ui.toTime.val().length > 0){
                    NotyMsg.warningMsg("Please enter time in From field");
                    return;
                }
                if(this.ui.fromTime.val().length > 0 && this.ui.toTime.val().length > 0){
                    if(parseInt((this.ui.toTime.val()).replace(":","")) < parseInt((this.ui.fromTime.val()).replace(":",""))){
                        NotyMsg.warningMsg("From Time should be less than To Time");
                        return;
                    }
                }

                var alertData = {
                    module : this.ui.module.val(),
                    alertTime : {
                        alertFrom : this.ui.fromTime.val(),
                        alertTo : this.ui.toTime.val()
                    },
                    alertThroughEmail: this.ui.emailId.is(":checked"),
                    alertThroughPhone: this.ui.phone.is(":checked")

                };
                var module = this.ui.module.val(),
                    that = this;
                switch(module){
                    case "Accounts" :
                        alertData.alertMessage = that.ui.accAlerts.val();
                        that.evaluateAcc(alertData);
                        break;
                    case "User" :
                        alertData.alertMessage = that.ui.userAlerts.val();
                        that.addAlert(alertData);
                        break;
                    case "ACH" :
                        alertData.alertMessage = that.ui.achAlerts.val();
                        that.addAlert(alertData);
                        break;
                    case "WireTransfer" :
                        alertData.alertMessage = that.ui.wireAlerts.val();
                        that.addAlert(alertData);
                        break;
                    default:
                        break;
                }

            },
            addAlert: function(alertData){
                this.model.set(alertData);
                this.model.processRequest();
            },
            evaluateAcc: function(alertData){
                alertData.accountInfo = {
                    accountNo : this.ui.account.val()
                };

                var alertType = this.ui.accAlerts.find("option:selected").attr("data-val"),
                    that = this;
                switch(alertType){
                    case  "amt":
                        alertData.accountInfo.amount = that.ui.amount.val();
                        break;
                    case  "singleCheckNo":
                        alertData.accountInfo.checkNo = {
                            checkFrom: that.ui.checkNo.val(),
                            checkTo : that.ui.checkNo.val()
                        };
                        break;
                    case  "multipleCheckNo":
                        alertData.accountInfo.checkNo = {
                            checkFrom: that.ui.fromCheckNo.val(),
                            checkTo : that.ui.toCheckNo.val()
                        };
                        break;
                    default :
                        break;
                }


                this.model.set(alertData);
                this.model.processRequest();
            },

            populateEditData: function(){
                var module = this.model.get("module"),
                    that = this;
                this.ui.module.val(module);

                switch(module){
                    case "Accounts" :
                        that.ui.alertDivs.hide();
                        that.ui.accElems.hide();
                        that.ui.accountDiv.show();
                        that.ui.accAlertsDiv.show();
                        this.editAccData();
                        break;
                    case "User" :
                        that.ui.alertDivs.hide();
                        that.ui.userAlertsDiv.show();
                        that.ui.userAlerts.val(this.model.get("alertMessage"));
                        break;
                    case "ACH" :
                        that.ui.alertDivs.hide();
                        that.ui.achAlertsDiv.show();
                        that.ui.achAlerts.val(this.model.get("alertMessage"));
                        break;
                    case "WireTransfer" :
                        that.ui.alertDivs.hide();
                        that.ui.wireAlertsDiv.show();
                        that.ui.wireAlerts.val(this.model.get("alertMessage"));
                        break;
                    default:
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.defaultAlertDiv.show();
                        break;
                }


                this.ui.emailId.prop("checked", this.model.get("alertThroughEmail"));
                this.ui.phone.prop("checked", this.model.get("alertThroughPhone"));
                this.enableSelectPlugin();
            },
            editAccData: function(){
                this.ui.accAlerts.val(this.model.get("alertMessage"));
                this.ui.account.val(this.model.get("accountInfo").accountNo);
                var alertType = this.ui.accAlerts.find("option:selected").attr("data-val"),
                    that = this;
                switch(alertType){
                    case  "amt":
                        that.ui.accEntryElems.hide();
                        that.ui.accAmtEntry.show();
                        that.ui.amount.val(this.model.get("accountInfo").amount);
                        break;
                    case  "singleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accSingleCheckEntry.show();
                        that.ui.checkNo.val(this.model.get("accountInfo").checkNo.checkFrom);
                        break;
                    case  "multipleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accMultipleCheckEntry.show();
                        that.ui.fromCheckNo.val(this.model.get("accountInfo").checkNo.checkFrom);
                        that.ui.toCheckNo.val(this.model.get("accountInfo").checkNo.checkTo);
                        break;
                    default :
                        that.ui.accEntryElems.hide();
                        break;
                }
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },


            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getEditAlertModel(gConfig.userInfo.alertData);
            return (new EditAlertsView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74,"../../../../js/utils/validator_options":75}],120:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var NotyMsg = require("../../../../js/utils/noty_msg");
        var dConfig = require("../../../../js/utils/default_config");
        var Utils = require("../../../../js/utils/utils");
        var ValidatorOpt = require('../../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- SetupAlertsView  ------------------------------------------------------------

        var SetupAlertsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SetupAlertsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SetupAlertsView), l_en) );
            },

            ui:{
                "module" : "#module",
                "account" : "#account",
                "amount" : "#amount",
                "checkNo" : "#checkNo",
                "fromCheckNo" : "#fromCheckNo",
                "toCheckNo" : "#toCheckNo",
                "accAlerts" : "#accAlerts",
                "achAlerts" : "#achAlerts",
                "userAlerts" : "#userAlerts",
                "wireAlerts" : "#wireAlerts",
                "fromTime" : "#fromTime",
                "toTime" : "#toTime",
                "emailId" : "#emailId",
                "phone" : "#phone",

                "accountDiv" : "#accountDiv",
                "accElems" : ".accElems",
                "accEntryElems" : ".accEntryElems",
                "accAmtEntry" : "#accAmtEntry",
                "accSingleCheckEntry" : "#accSingleCheckEntry",
                "accMultipleCheckEntry" : "#accMultipleCheckEntry",

                "alertDivs" : ".alertDivs",
                "accAlertsDiv" : "#accAlertsDiv",
                "userAlertsDiv" : "#userAlertsDiv",
                "achAlertsDiv" : "#achAlertsDiv",
                "wireAlertsDiv" : "#wireAlertsDiv",
                "defaultAlertDiv" : "#defaultAlertDiv"
            },

            events:{
                "change @ui.module" : "moduleChanged",
                "change @ui.accAlerts" : "accAlertsChanged",

                "click #cancel" : "cancel",
                "submit #alertsForm" : "submitAlerts"
            },

            onShow: function(){
                this.renderAccs();
                this.initDateRange();
                this.initValidators();
            },
            initValidators: function(){
                $('#alertsForm')
                    .formValidation(ValidatorOpt.alerts)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateRange: function(){
                $("#fromTimeGroup").datetimepicker({
                    format: "HH:mm"
                });
                $("#toTimeGroup").datetimepicker({
                    format: "HH:mm"
                });
                $("#fromTimeGroup").on("dp.change",function (e) {
                    $("#alertsForm").data('formValidation').updateStatus("fromTime", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
                $("#toTimeGroup").on("dp.change",function (e) {
                    $("#alertsForm").data('formValidation').updateStatus("toTime", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            moduleChanged: function () {
                var module = this.ui.module.val(),
                    that = this;
                switch(module){
                    case "Accounts" :
                        that.ui.alertDivs.hide();
                        that.ui.accElems.hide();
                        that.ui.accountDiv.show();
                        that.ui.accAlertsDiv.show();
                        break;
                    case "User" :
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.userAlertsDiv.show();
                        break;
                    case "ACH" :
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.achAlertsDiv.show();
                        break;
                    case "WireTransfer" :
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.wireAlertsDiv.show();
                        break;
                    default:
                        that.ui.accElems.hide();
                        that.ui.alertDivs.hide();
                        that.ui.defaultAlertDiv.show();
                        break;
                }

            },
            renderAccs: function(){
                var accs = dConfig.saveCheckAccounts;
                var accStr = "<option value='default'>Select Account</option>";
                for(var i = 0; i < accs.length; i++) {
                    accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.account.html(accStr);
                this.enableSelectPlugin();
            },

            accAlertsChanged: function(){
                var alertType = this.ui.accAlerts.find("option:selected").attr("data-val"),
                    that = this;
                switch(alertType){
                    case  "amt":
                        that.ui.accEntryElems.hide();
                        that.ui.accAmtEntry.show();
                        break;
                    case  "singleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accSingleCheckEntry.show();
                        break;
                    case  "multipleCheckNo":
                        that.ui.accEntryElems.hide();
                        that.ui.accMultipleCheckEntry.show();
                        break;
                    default :
                        that.ui.accEntryElems.hide();
                        break;
                }
            },

            submitAlerts: function (event) {
                if(!$("#alertsForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                if(this.ui.fromTime.val().length > 0 && this.ui.toTime.val().length < 1){
                    NotyMsg.warningMsg("Please enter time in To field");
                    return;
                }
                if(this.ui.fromTime.val().length < 1 && this.ui.toTime.val().length > 0){
                    NotyMsg.warningMsg("Please enter time in From field");
                    return;
                }
                if(this.ui.fromTime.val().length > 0 && this.ui.toTime.val().length > 0){
                    if(parseInt((this.ui.toTime.val()).replace(":","")) < parseInt((this.ui.fromTime.val()).replace(":",""))){
                        NotyMsg.warningMsg("From Time should be less than To Time");
                        return;
                    }
                }

                var alertData = {
                    module : this.ui.module.val(),
                    alertTime : {
                        alertFrom : this.ui.fromTime.val(),
                        alertTo : this.ui.toTime.val()
                    },
                    alertThroughEmail: this.ui.emailId.is(":checked"),
                    alertThroughPhone: this.ui.phone.is(":checked")

                };
                var module = this.ui.module.val(),
                    that = this;
                switch(module){
                    case "Accounts" :
                        alertData.alertMessage = that.ui.accAlerts.val();
                        that.evaluateAcc(alertData);
                        break;
                    case "User" :
                        alertData.alertMessage = that.ui.userAlerts.val();
                        that.addAlert(alertData);
                        break;
                    case "ACH" :
                        alertData.alertMessage = that.ui.achAlerts.val();
                        that.addAlert(alertData);
                        break;
                    case "WireTransfer" :
                        alertData.alertMessage = that.ui.wireAlerts.val();
                        that.addAlert(alertData);
                        break;
                    default:
                        break;
                }

            },
            addAlert: function(alertData){
                this.model.set(alertData);
                this.model.processRequest();
            },
            evaluateAcc: function(alertData){
                alertData.accountInfo = {
                    accountNo : this.ui.account.val()
                };

                var alertType = this.ui.accAlerts.find("option:selected").attr("data-val"),
                    that = this;
                switch(alertType){
                    case  "amt":
                        alertData.accountInfo.amount = that.ui.amount.val();
                        break;
                    case  "singleCheckNo":
                        alertData.accountInfo.checkNo = {
                            checkFrom: that.ui.checkNo.val(),
                            checkTo : that.ui.checkNo.val()
                        };
                        break;
                    case  "multipleCheckNo":
                        alertData.accountInfo.checkNo = {
                            checkFrom: that.ui.fromCheckNo.val(),
                            checkTo : that.ui.toCheckNo.val()
                        };
                        break;
                    default :
                        break;
                }


                this.model.set(alertData);
                this.model.processRequest();
            },
            cancel: function(){
                this.ui.module.val("default");
                this.ui.accAlerts.val("default");
                this.ui.userAlerts.val("default");
                this.ui.wireAlerts.val("default");
                $("input").val("");
                this.ui.emailId.prop("checked", false);
                this.ui.phone.prop("checked", false);
                this.moduleChanged();
                this.accAlertsChanged();
                $("#alertsForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getAddAlertModel({
                alertThroughEmail: dConfig.userInfo.emailAddress,
                alertThroughPhone: dConfig.userInfo.cellPhoneNumberData.phoneNumber
            });
            return (new SetupAlertsView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74,"../../../../js/utils/validator_options":75}],121:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require("../../../../js/app/app_activity");
        var Models = require("../../../../js/models/models");
        var Utils = require("../../../../js/utils/utils");
        var gConfig = require("../../../../js/utils/global_config");
        var dConfig = require('../../../../js/utils/default_config');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- ViewAlertsView  ------------------------------------------------------------

        var ViewAlertsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ViewAlertsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ViewAlertsView), l_en) );
            },

            ui:{
                "selectAllAlerts" : "#selectAllAlerts",
                "deleteAlert" : "#deleteAlert"
            },

            events:{
                "change @ui.selectAllAlerts" : "selectAllAlerts",
                "change .alertCheckbox" : "selectSingleAlert",
                "click @ui.deleteAlert" : "deleteAlert",
                "click .deleteAlertBut" : "deleteSingleAlert",

                "click .editAlert" : "editAlert"
            },

            onShow: function(){
                this.getAlertsList();
            },

            selectAllAlerts: function(){
                if(this.ui.selectAllAlerts.is(":checked")){
                    this.alertsTable.$("input.alertCheckbox").prop("checked", true);
                    this.ui.deleteAlert.prop("disabled", false);
                }else{
                    this.alertsTable.$("input.alertCheckbox").prop("checked", false);
                    this.ui.deleteAlert.prop("disabled", true);
                }
            },
            selectSingleAlert: function(){
                if(this.alertsTable.$("input.alertCheckbox:checked").length > 0){
                    this.ui.deleteAlert.prop("disabled", false);
                }else{
                    this.ui.deleteAlert.prop("disabled", true);
                }
            },

            getAlertsList: function(){
                this.model.processRequest();
            },
            renderAlertsTable: function(list){
                var that = this;

                this.alertsList = list;
                function actionBut(alertId){
                    return("<button data-id='"+alertId+"' class='btn btn-info btn-mini deleteAlertBut hidden-md hidden-lg' type='button'>Delete</button>");
                }

                var tableData = [];
                for(var i = 0; i < list.length; i++) {

                    tableData.push({
                        '0': "",
                        '1': "<input value='"+list[i].alertId+"' class='alertCheckbox hidden-xs hidden-sm materialcheckbox' type='checkbox'>",
                        '2': list[i].module,
                        '3': "<span class='editAlert text-primary pointerCursor' data-id='"+list[i].alertId+"'>"+that.showAlertMsg(list[i])+"</span>",
                        '4': Moment(list[i].updatedOn).format("MM/DD/YYYY"),
                        '5': actionBut(list[i].alertId)
                    });
                }

                this.alertsTable = $("#alertsTable").dataTable({
                    "aaData": tableData,
                    "bDestroy" : true,
                    "order": [[ 2, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "bSortable": false
                        },
                        {"sClass": "all" },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "none" }
                    ]
                });

                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.deleteAlert.prop("disabled", true);
            },

            showAlertMsg: function(alert){
                var msg = alert.alertMessage;
                var accNo = "";
                var amt = "";
                var checkFrom = "";
                var checkTo = "";
                if( typeof alert.accountInfo != "undefined"){

                    accNo = Utils.maskAccount(alert.accountInfo.accountNo);

                    if(typeof alert.accountInfo.amount != "undefined"){
                        amt = Utils.formatAmount(alert.accountInfo.amount);
                    }
                    if(typeof alert.accountInfo.checkNo != "undefined"){
                        checkFrom = ": "+alert.accountInfo.checkNo.checkFrom+"";
                        checkTo = "-"+alert.accountInfo.checkNo.checkTo+"";
                        if(alert.accountInfo.checkNo.checkFrom == alert.accountInfo.checkNo.checkTo){
                            checkFrom = "";
                        }
                    }

                    msg = ""+msg+" "+amt+""+checkFrom+""+checkTo+"  for account: "+accNo+"";
                    return msg;

                }else{
                    return msg;
                }
            },

            deleteAlert: function(){
                var len = this.alertsTable.$("input.alertCheckbox:checked").length;
                this.deleteAlertList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.deleteAlertList.push({
                            "alertId" : this.alertsTable.$("input.alertCheckbox:checked")[i].value
                        });
                    }
                }

                var model = Models.getDeleteAlertModel({
                    alertList : this.deleteAlertList
                });
                model.processRequest();
            },
            deleteSingleAlert: function(event){
                var model = Models.getDeleteAlertModel({
                    alertList : [{
                        alertId : $(event.currentTarget).attr("data-id")
                    }]
                });
                model.processRequest();
            },

            editAlert: function(event){
                var alertId = $(event.currentTarget).attr("data-id");
                var alertItem = _.findWhere(this.alertsList, { "alertId" : alertId});
                alertItem.emailId = dConfig.userInfo.emailAddress;
                alertItem.phoneNo = dConfig.userInfo.cellPhoneNumberData.phoneNumber;
                gConfig.userInfo.alertData =  alertItem;
                AppActivity.trigger("editAlert");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getAlertsListModel();
            return (new ViewAlertsView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/default_config":68,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/utils":74}],122:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
        var NotyMsg = require('../../../js/utils/noty_msg');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- ChangePasswordView  ------------------------------------------------------------

        var ChangePasswordView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ChangePasswordView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ChangePasswordView), l_en) );
            },

            ui:{
                "userId" : "#userId",
                "oldPassword" : "#oldPassword",
                "newPassword" : "#newPassword",
                "confirmNewPassword" : "#confirmNewPassword"
            },

            events:{
                "click #cancelChangePassword" : "cancelChangePassword",
                "submit #changePasswordForm" : "changePassword"
            },

            onShow: function(){
                this.ui.userId.html(dConfig.userId);
                this.initValidators();
            },


            initValidators: function(){
                if(!$.isEmptyObject(gConfig.userInfo.UserIdPassRules)) {
                    var rules = gConfig.userInfo.UserIdPassRules;
                    var pass = rules.passwordRestrictions;
                    var passKeywords = rules.passwordKeywords;

                    this.sameNamePass = rules.restrictNameInPassword;
                    this.sameUserIdPass = rules.restrictUserIdInPassword;

                    ValidatorOpt.changePassword.fields.newPassword.validators = {
                        notEmpty: {
                            message: 'Password is required and cannot be empty'
                        },
                        restrictedWords: {
                            words: passKeywords,
                            message: 'New Password cannot contain the following words : '
                        },
                        different: {
                            field: 'oldPassword',
                            message: 'The New Password must be different from Old Password.'
                        },
                        minNumeric: {
                            min: pass.minimumNumericChars,
                            message: 'New Password must contain at least ' + pass.minimumNumericChars + ' Numeric Character (0-9).'
                        },
                        minUpperCase: {
                            min: pass.minimumUpperCaseChars,
                            message: 'New Password must contain at least ' + pass.minimumUpperCaseChars + ' Upper Case alphabet (A-Z).'
                        },
                        minLowerCase: {
                            min: pass.minimumLowerCaseChars,
                            message: 'New Password must contain at least ' + pass.minimumLowerCaseChars + ' Lower Case alphabet (a-z).'
                        },
                        specialChar: {
                            min: pass.minimumSpecialChars,
                            message: 'New Password must contain at least ' + pass.minimumSpecialChars + ' Special Character (eg:$#*).'
                        },
                        stringLength: {
                            min: pass.minimumLength,
                            message: 'New Password must be at least ' + pass.minimumLength + ' characters long'
                        }

                    };
                }

                $('#changePasswordForm')
                    .formValidation(ValidatorOpt.changePassword)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            changePassword: function (event) {
                if(!$("#changePasswordForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                if(this.ui.oldPassword.val() == this.ui.newPassword.val()){
                    NotyMsg.warningMsg("Old Password and New Password cannot be same");
                    return false;
                }
                if(this.ui.newPassword.val() != this.ui.confirmNewPassword.val()){
                    NotyMsg.warningMsg("New Password and Confirm New Password do not match");
                    return false;
                }

                if(this.sameNamePass && dConfig.customerName == this.ui.newPassword.val()){
                    NotyMsg.warningMsg("The Customer Name and Password cannot be the same");
                    return false;
                }
                if(this.sameUserIdPass && dConfig.userId == this.ui.newPassword.val()){
                    NotyMsg.warningMsg("The User Id and Password cannot be the same");
                    return false;
                }

                var model = Models.getChangePasswordModel({
                    "currentPassword" : this.ui.oldPassword.val(),
                    "newPassword" : this.ui.newPassword.val()
                });
                model.processRequest();
            },

            cancelChangePassword: function(){
                $("input").val("");
                $("#changePasswordForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new ChangePasswordView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/validator_options":75}],123:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- ChangePersonalDetailsView  ------------------------------------------------------------

        var ChangePersonalDetailsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ChangePersonalDetailsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ChangePersonalDetailsView), l_en) );
            },

            ui:{
                "userId" : "#userId",
                "addrLineOne" : "#addrLineOne",
                "addrLineTwo" : "#addrLineTwo",
                "city" : "#city",
                "state" : "#state",
                "zipCode" : "#zipCode",
                "country" : "#country",
                "homePhone" : "#homePhone",
                "workPhone" : "#workPhone",
                "cellPhone" : "#cellPhone",
                "emailId" : "#emailId"
            },

            events:{
                "click #cancelChangeDetails" : "cancelChangeDetails",
                "submit #changeDetailsForm" : "changeDetails"
            },

            onShow: function(){
                this.renderUserId();
                this.getStatesCities();
                this.initValidators();
            },

            renderUserId: function(){
                this.ui.userId.val(dConfig.userId);
                if(dConfig.nextStep != "firstTimeLogin"){
                    this.ui.userId.prop("disabled", true);
                }
            },

            initValidators: function(){
                if(!$.isEmptyObject(gConfig.userInfo.UserIdPassRules)) {
                    var rules = gConfig.userInfo.UserIdPassRules;
                    var userId = rules.userIdRestrictions;

                    ValidatorOpt.changePersonalDetails.fields.userId.validators = {
                        notEmpty: {
                            message: 'The User ID is required and cannot be empty'
                        },

                        minNumeric: {
                            min: userId.minimumNumericChars,
                            message: 'User ID must contain at least ' + userId.minimumNumericChars + ' Numeric Character (0-9).'
                        },
                        minAlpha: {
                            min: userId.minimumAlphaChars,
                            message: 'User ID must contain at least ' + userId.minimumAlphaChars + ' Alphabetic Character (eg:$#*).'
                        },
                        specialChar: {
                            min: userId.minimumSpecialChars,
                            message: 'User ID must contain at least ' + userId.minimumSpecialChars + ' Special Character (eg:$#*).'
                        },

                        stringLength: {
                            min: userId.minimumLength,
                            message: 'User ID must be al least ' + userId.minimumLength + ' characters long'
                        }

                    };
                }
                $('#changeDetailsForm')
                    .formValidation(ValidatorOpt.changePersonalDetails)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            getStatesCities: function(){
                var that = this;
                $.get("js/json/states_and_cities.json", function(states){
                    dConfig.states = states;
                    var selectStr = "";
                    for(var i = 0; i < states.length; i++){
                        selectStr = selectStr + "<option value='"+states[i].state+"'>"+states[i].state+"</option>";
                    }
                    that.ui.state.append(selectStr);
                    if(that.model.get("state").length > 0){
                        that.ui.state.val(that.model.get("state"));
                    }
                    that.enableSelectPlugin();
                });
            },

            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            changeDetails: function (event) {
                if(!$("#changeDetailsForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }



                this.model.set({
                    "userName" :this.ui.userId.val(),
                    "AddressLine1" :this.ui.addrLineOne.val(),
                    "AddressLine2" :this.ui.addrLineTwo.val(),
                    "city" :this.ui.city.val(),
                    "state" :this.ui.state.val(),
                    "zip" :this.ui.zipCode.val(),
                    "country" :this.ui.country.val(),
                    "homePhone" :this.ui.homePhone.val(),
                    "workPhone" :this.ui.workPhone.val(),
                    "cellPhone" :this.ui.cellPhone.val(),
                    "emailId" :this.ui.emailId.val()
                });
                var changed = (!this.model.changedAttributes())? false : true;
                var changedAttr = this.model.changedAttributes();
                console.log(this.model.changed);
                console.log(changedAttr);

                this.model.set({
                    "userName"      :this.ui.userId.val(),
                    "AddressLine1"  :"",
                    "AddressLine2"  :"",
                    "city"          :"",
                    "state"         :"",
                    "zip"           :"",
                    "country"       :"",
                    "homePhone"     :"",
                    "workPhone"     :"",
                    "cellPhone"     :"",
                    "emailId"       :""
                });

                if(changed){
                    this.model.set(changedAttr);
                }
                this.model.set({
                    "changeInfo" : changed
                });
                this.model.processRequest();
            },

            cancelChangeDetails: function(){
                $("input").val("");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getChangeDetailsModel({
                "userName" : dConfig.userId,
                "AddressLine1" : dConfig.userInfo.defaultAddress.addressLine1,
                "AddressLine2" :dConfig.userInfo.defaultAddress.addressLine2,
                "city" :dConfig.userInfo.defaultAddress.city,
                "state" :dConfig.userInfo.defaultAddress.state,
                "zip" :dConfig.userInfo.defaultAddress.zip,
                "country" :dConfig.userInfo.defaultAddress.countryCode,
                "homePhone" :dConfig.userInfo.homePhoneNumbersData.phoneNumber,
                "workPhone" :dConfig.userInfo.workPhoneNumbersData.phoneNumber,
                "cellPhone" :dConfig.userInfo.cellPhoneNumberData.phoneNumber,
                "emailId" :dConfig.userInfo.emailAddress
            });
            return (new ChangePersonalDetailsView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/validator_options":75}],124:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var gConfig = require('../../../../js/utils/global_config');
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
//--------------- InboxView  ------------------------------------------------------------

        var InboxView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.InboxView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.InboxView), l_en) );
            },

            ui:{
                "deleteMsg" : "#deleteMsg",
                "selectAllMsgs" : "#selectAllMsgs",
                "inboxCheckBox" : ".inboxCheckBox",
                "showMsg" : ".showMsg"
            },

            events:{
                "click @ui.deleteMsg" : "deleteMsg",
                "click @ui.selectAllMsgs" : "selectAllMsgs",
                "change @ui.inboxCheckBox" : "MsgSelected",
                "click @ui.showMsg" : "showMsg"
            },

            onShow: function(){
                this.getMsgs();
            },

            showMsg: function(event){
                var msgId = $(event.currentTarget).parent().attr("id");
                var msgDetails = _.findWhere(this.inboxMsgList, {"messageId" : msgId});
                msgDetails.dateTime = Moment(msgDetails.createdOn).format("MM/DD/YYYY hh:mm:ss A");

                msgDetails.showReply = "";
                msgDetails.viewText = "Inbox";
                msgDetails.viewLink = "#inbox";
                gConfig.userInfo.viewMailData = msgDetails;

                var model = Models.getMailReadModel({
                    "messageId" : msgId
                });
                model.processRequest();
            },

            getMsgs: function(){
                var model = Models.getInboxMsgsModel();
                model.processRequest();
            },
            mailCount: function(len){
                if(len > 0){
                    return (" ("+(1+len)+")");
                }else{
                    return ("");
                }
            },
            renderInboxMsgs: function(list){
                this.ui.selectAllMsgs.prop("checked", false);
                this.inboxMsgList = list;
                var tableData = [];
                for(var i = 0; i < list.length; i++){
                    tableData.push({
                        "DT_RowId"      : list[i].messageId,
                        "DT_RowClass"   : ""+((list[i].isUserRead)?"":"text-bold")+"",
                        "0" : "<input class='inboxCheckBox materialcheckbox' type='checkbox' value='"+list[i].messageId+"' >",
                        "1" : ""+list[i].subject+" "+this.mailCount(list[i].reply.length)+"    "+((list[i].isAttachment)?"<span class='glyphicon glyphicon-paperclip'></span>":"")+"",
                        "2" : Moment(list[i].createdOn).format("MM/DD/YYYY hh:mm:ss A")
                    });
                }

                this.inboxTable = $("#inboxTable").dataTable({
                    "data" : tableData,
                    "destroy" : true,
                    "order": [[ 2, "desc" ]],
                    "aoColumns": [
                        {
                            "sWidth": "2%",
                            "bSortable": false
                        },
                        {
                            "sWidth": "63%",
                            "sClass" : "overflowMsg pointerCursor showMsg"
                        },
                        {
                            "sWidth": "35%",
                            "sClass" : "pointerCursor showMsg"
                        }
                    ]

                });
                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.deleteMsg.prop("disabled", true);
            },

            selectAllMsgs: function(){
                if($("#selectAllMsgs").is(":checked")){
                    this.inboxTable.$('input.inboxCheckBox').prop("checked", true);
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.inboxTable.$('input.inboxCheckBox').prop("checked", false);
                    this.ui.deleteMsg.prop("disabled", true);
                }
            },
            MsgSelected: function(){
                if($(".inboxCheckBox:checked").length > 0){
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.ui.deleteMsg.prop("disabled", true);
                }

            },
            deleteMsg: function(){
                var len = this.inboxTable.$('input.inboxCheckBox:checked').length;
                this.deleteMsgList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){

                        this.deleteMsgList.push({
                            "messageId" : this.inboxTable.$('input.inboxCheckBox:checked')[i].value
                        });

                    }
                    var model = Models.getDeleteMsgModel({
                        "trashMessage" : this.deleteMsgList
                    });
                    model.processRequest();
                }
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(modelData){
            return (new InboxView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],125:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var NotyMsg = require('../../../../js/utils/noty_msg');
        var ValidatorOpt = require('../../../../js/utils/validator_options');
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
//--------------- SendEmailView  ------------------------------------------------------------

        var SendEmailView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SendEmailView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SendEmailView), l_en) );
            },

            ui:{
                "sendEmailForm" : "#sendEmailForm",
                "indSubject" : "#indSubject",
                "indMsg" : "#indMsg",
                "fileInput" : "#fileInput",
                
                "fileList" : "#fileList",
                "fileListTable" : "#fileListTable",

                "removeAllFiles" : "#removeAllFiles",
                "resetMail" : "#resetMail"
            },

            events:{
                "change @ui.fileInput" : "fileUploaded",
                "click .removeFile" : "removeFile",
                "click @ui.removeAllFiles" : "clearAllFiles",
                "click @ui.resetMail" : "resetMail",

                "submit @ui.sendEmailForm" : "submitMail"
            },

            onShow: function(){
                this.initFileCounter();
                this.initValidators();
            },
            initValidators: function(){
                $('#sendEmailForm')
                    .formValidation(ValidatorOpt.sendEmail)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initFileCounter: function(){
                this.uploadFiles = [];
                this.files = "";
                this.i=0;
                this.j = 0;
                this.k = 0;
            },
            fileUploaded: function(e){
                this.files = e.currentTarget.files;
                this.i=0;
                this.j = this.files.length;
                var totalSize = 0;
                var totalFiles = this.files.length + this.uploadFiles.length;

                if(totalFiles > 5){
                    NotyMsg.warningMsg("Number of Files cannot be more than 5");
                    return false;
                }
                for(var i = 0; i < this.uploadFiles.length; i++){
                    totalSize = totalSize + this.uploadFiles[i].size;
                }
                for(var k = 0; k < this.files.length; k++){
                    totalSize = totalSize + this.files[k].size;
                }
                totalSize = totalSize/1024;
                if(totalSize > (5*1024)){
                    NotyMsg.warningMsg("Maximum File Size Upload limit is 5 MB");
                    return false;
                }
                this.readData();
            },
            readData: function(){
                var that = this;
                if(this.i < this.j){
                    var read = new FileReader();
                    read.onloadend = function(){
                        that.uploadFiles.push({
                            "name" : $.trim(that.files[that.k].name),
                            "size" : that.files[that.k].size,
                            "type" : that.files[that.k].type,
                            "base64String" : (read.result).replace(/data.*base64,/,"")
                        });
                        that.showFileAdded();
                        that.readData();
                    };

                    this.k=this.i;
                    read.readAsDataURL(this.files[this.i++]);
                }
            },
            showFileAdded: function(){
                var fileLength = this.uploadFiles.length;
                if(fileLength > 0){
                    this.ui.fileListTable.show();
                }else{
                    this.ui.fileListTable.hide();
                    return;
                }
                this.ui.fileList.html("");
                for(var i = 0; i < fileLength; i++){
                    this.ui.fileList.append("<tr>"+
                        "<td>"+this.uploadFiles[i].name+"</td>"+
                        "<td>"+parseFloat(this.uploadFiles[i].size/1024).toFixed(2)+" KB</td>"+
                        "<td><button data-counter='"+i+"' type='button' class='removeFile close' aria-label='Close'><span aria-hidden='true'>&times;</span></button></td>"+
                        "</tr>");
                }
            },
            removeFile: function(event){
                var counter = $(event.currentTarget).attr("data-counter");
                this.uploadFiles.splice(counter, 1);
                this.showFileAdded();
            },
            clearAllFiles: function(){
                this.uploadFiles = [];
                this.showFileAdded();
            },

            submitMail: function(event){
                if(!$("#sendEmailForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                var model = Models.getSendMailModel({
                    "message"                     : this.ui.indMsg.val(),
                    "subject"                     : this.ui.indSubject.val(),
                    "files"                       : this.uploadFiles
                });
                model.processRequest();
            },

            resetMail: function(){
                $("#sendEmailForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(modelData){
            return (new SendEmailView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],126:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var gConfig = require('../../../../js/utils/global_config');
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
//--------------- SentView  ------------------------------------------------------------

        var SentView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SentView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SentView), l_en) );
            },

            ui:{
                "deleteMsg" : "#deleteMsg",
                "selectAllMsgs" : "#selectAllMsgs",
                "sentCheckBox" : ".sentCheckBox",
                "showMsg" : ".showMsg"
            },

            events:{
                "click @ui.deleteMsg" : "deleteMsg",
                "click @ui.selectAllMsgs" : "selectAllMsgs",
                "change @ui.sentCheckBox" : "MsgSelected",
                "click @ui.showMsg" : "showMsg"
            },

            onShow: function(){
                this.getMsgs();
            },

            showMsg: function(event){
                var msgId = $(event.currentTarget).parent().attr("id");
                var msgDetails = _.findWhere(this.sentMsgList, {"messageId" : msgId});
                msgDetails.dateTime = Moment(msgDetails.createdOn).format("MM/DD/YYYY hh:mm:ss A");

                msgDetails.showReply = "hiddenElem";
                msgDetails.viewText = "Sent";
                msgDetails.viewLink = "#sent";
                gConfig.userInfo.viewMailData = msgDetails;

                var AppActivity = require('../../../../js/app/app_activity');
                AppActivity.trigger("viewMail");
            },

            getMsgs: function(){
                var model = Models.getSentMsgsModel();
                model.processRequest();
            },
            mailCount: function(len){
                if(len > 0){
                    return (" ("+(1+len)+")");
                }else{
                    return ("");
                }
            },
            renderSentMsgs: function(list){
                this.ui.selectAllMsgs.prop("checked", false);
                this.sentMsgList = list;
                var tableData = [];
                for(var i = 0; i < list.length; i++){
                    tableData.push({
                        "DT_RowId"      : list[i].messageId,
                        "0" : "<input class='sentCheckBox materialcheckbox' type='checkbox' value='"+list[i].messageId+"' >",
                        "1" : ""+list[i].subject+" "+this.mailCount(list[i].reply.length)+"    "+((list[i].isAttachment)?"<span class='glyphicon glyphicon-paperclip'></span>":"")+"",
                        "2" : Moment(list[i].createdOn).format("MM/DD/YYYY hh:mm:ss A")
                    });
                }

                this.sentTable = $("#sentTable").dataTable({
                    "data" : tableData,
                    "destroy" : true,
                    "order": [[ 2, "desc" ]],
                    "aoColumns": [
                        {
                            "sWidth": "2%",
                            "bSortable": false
                        },
                        {
                            "sWidth": "63%",
                            "sClass" : "overflowTd pointerCursor showMsg"
                        },
                        {
                            "sWidth": "35%",
                            "sClass" : "pointerCursor showMsg"
                        }
                    ]

                });
                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.deleteMsg.prop("disabled", true);
            },

            selectAllMsgs: function(){
                if($("#selectAllMsgs").is(":checked")){
                    this.sentTable.$('input.sentCheckBox').prop("checked", true);
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.sentTable.$('input.sentCheckBox').prop("checked", false);
                    this.ui.deleteMsg.prop("disabled", true);
                }
            },
            MsgSelected: function(){
                if($(".sentCheckBox:checked").length > 0){
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.ui.deleteMsg.prop("disabled", true);
                }

            },
            deleteMsg: function(){
                var len = this.sentTable.$('input.sentCheckBox:checked').length;
                this.deleteMsgList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){

                        this.deleteMsgList.push({
                            "messageId" : this.sentTable.$('input.sentCheckBox:checked')[i].value
                        });

                    }
                    var model = Models.getDeleteMsgModel({
                        "trashMessage" : this.deleteMsgList
                    });
                    model.processRequest();
                }
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(modelData){
            return (new SentView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],127:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var gConfig = require('../../../../js/utils/global_config');
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
//--------------- TrashView  ------------------------------------------------------------

        var TrashView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.TrashView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.TrashView), l_en) );
            },

            ui:{
                "deleteMsg" : "#deleteMsg",
                "selectAllMsgs" : "#selectAllMsgs",
                "trashCheckBox" : ".trashCheckBox",
                "showMsg" : ".showMsg",
                "emptyTrash" : "#emptyTrash"
            },

            events:{
                "click @ui.deleteMsg" : "deleteMsg",
                "click @ui.selectAllMsgs" : "selectAllMsgs",
                "change @ui.trashCheckBox" : "MsgSelected",
                "click @ui.showMsg" : "showMsg",
                "click @ui.emptyTrash" : "emptyTrash"
            },

            onShow: function(){
                this.getMsgs();
            },

            showMsg: function(event){
                var msgId = $(event.currentTarget).parent().attr("id");
                var msgDetails = _.findWhere(this.trashMsgList, {"messageId" : msgId});
                msgDetails.dateTime = Moment(msgDetails.createdOn).format("MM/DD/YYYY hh:mm:ss A");

                msgDetails.showReply = "hiddenElem";
                msgDetails.viewText = "Trash";
                msgDetails.viewLink = "#trash";
                gConfig.userInfo.viewMailData = msgDetails;

                var AppActivity = require('../../../../js/app/app_activity');
                AppActivity.trigger("viewMail");
            },

            getMsgs: function(){
                var model = Models.getTrashMsgsModel();
                model.processRequest();
            },
            mailCount: function(len){
                if(len > 0){
                    return (" ("+(1+len)+")");
                }else{
                    return ("");
                }
            },
            renderTrashMsgs: function(list){
                this.ui.selectAllMsgs.prop("checked", false);
                this.trashMsgList = list;
                var tableData = [];
                if(list.length > 0){
                    this.ui.emptyTrash.prop("disabled", false);
                }else{
                    this.ui.emptyTrash.prop("disabled", true);
                }

                for(var i = 0; i < list.length; i++){
                    tableData.push({
                        "DT_RowId"      : list[i].messageId,
                        "0" : "<input class='trashCheckBox materialcheckbox' type='checkbox' value='"+list[i].messageId+"'>",
                        "1" : ""+list[i].subject+" "+this.mailCount(list[i].reply.length)+"    "+((list[i].isAttachment)?"<span class='glyphicon glyphicon-paperclip'></span>":"")+"",
                        "2" : Moment(list[i].createdOn).format("MM/DD/YYYY hh:mm:ss A")
                    });
                }

                this.trashTable = $("#trashTable").dataTable({
                    "data" : tableData,
                    "destroy" : true,
                    "order": [[ 2, "desc" ]],
                    "aoColumns": [
                        {
                            "sWidth": "2%",
                            "bSortable": false
                        },
                        {
                            "sWidth": "63%",
                            "sClass" : "overflowTd pointerCursor showMsg"
                        },
                        {
                            "sWidth": "35%",
                            "sClass" : "pointerCursor showMsg"
                        }
                    ]

                });
                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.deleteMsg.prop("disabled", true);
            },

            selectAllMsgs: function(){
                if($("#selectAllMsgs").is(":checked")){
                    this.trashTable.$('input.trashCheckBox').prop("checked", true);
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.trashTable.$('input.trashCheckBox').prop("checked", false);
                    this.ui.deleteMsg.prop("disabled", true);
                }
            },
            MsgSelected: function(){
                if($(".trashCheckBox:checked").length > 0){
                    this.ui.deleteMsg.prop("disabled", false);
                }else{
                    this.ui.deleteMsg.prop("disabled", true);
                }
            },
            deleteMsg: function(){
                var len = this.trashTable.$('input.trashCheckBox:checked').length;
                this.deleteMsgList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){

                        this.deleteMsgList.push({
                            "messageId" : this.trashTable.$('input.trashCheckBox:checked')[i].value
                        });

                    }
                    var model = Models.getDeleteTrashMsgModel({
                        "deleteMessage" : this.deleteMsgList
                    });
                    model.processRequest();
                }
            },
            emptyTrash: function(){
                this.deleteMsgList = [];

                for(var i = 0; i < this.trashMsgList.length; i++){
                    this.deleteMsgList.push({
                        "messageId" : this.trashMsgList[i].messageId
                    });
                }
                var model = Models.getDeleteTrashMsgModel({
                    "deleteMessage" : this.deleteMsgList
                });
                model.processRequest();

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(modelData){
            return (new TrashView());
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],128:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../../js/lib/jquery');
        var _ = require('../../../../../js/lib/underscore');
        var Backbone = require('../../../../../js/lib/backbone');
        var Marionette = require('../../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var gConfig = require('../../../../../js/utils/global_config');
        var tpl = require('../../../../../js/utils/tpl_loader');
        var tplName = require('../../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../../js/models/models");
//--------------- EmailChainView  ------------------------------------------------------------

        var EmailChainView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EmailChainView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EmailChainView), l_en) );
            },

            ui:{
                "showOnHide" : ".showOnHide",
                "showOnShow" : ".showOnShow",

                "attachmentsDiv" : ".attachmentsDiv"
            },

            events:{
                "click .downloadAll" : "downloadAll"
            },

            onShow: function(){
                var that = this;
                $("#"+this.model.get("panelCollapse")+"").on('hide.bs.collapse', function (event) {
                    that.ui.showOnShow.hide();
                    that.ui.showOnHide.show();
                });
                $("#"+this.model.get("panelCollapse")+"").on('show.bs.collapse', function (event) {
                    that.ui.showOnHide.hide();
                    that.ui.showOnShow.show();
                });

                this.checkAttachments();
            },

            checkAttachments: function () {
                var files = this.model.get("attachments");
                for(var i = 0; i < files.length; i++) {
                    var filePath = "/iris/"+files[i].path+"";
                    this.ui.attachmentsDiv.append("<a href='" + filePath + "' target='_blank'>" + files[i].fileName +
                        "  <span class='icon-download12'></span></a><br>");
                }
            },

            downloadAll: function(){
                var files = this.model.get("attachments");
                for(var i = 0; i < files.length; i++) {
                    var filePath = "/iris/"+files[i].path+"";
                    window.open(filePath, "_blank");
                }
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(model){
            return (new EmailChainView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../../js/interLang/internationalization":15,"../../../../../js/lib/backbone":17,"../../../../../js/lib/backbone.marionette.js":18,"../../../../../js/lib/jquery":57,"../../../../../js/lib/underi18n.js":63,"../../../../../js/lib/underscore":64,"../../../../../js/models/models":66,"../../../../../js/utils/global_config":69,"../../../../../js/utils/tpl_loader":72,"../../../../../js/utils/tpl_names":73}],129:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var NotyMsg = require('../../../../js/utils/noty_msg');
        var ValidatorOpt = require('../../../../js/utils/validator_options');
        var gConfig = require('../../../../js/utils/global_config');
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
//--------------- ViewEmailView  ------------------------------------------------------------

        var ViewEmailView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ViewEmailView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ViewEmailView), l_en) );
            },

            ui:{
                "messagesPanel" : "#messagesPanel",

                "replyForm" : "#replyForm",
                "replyMsg" : "#replyMsg",
                "fileInput" : "#fileInput",

                "fileList" : "#fileList",
                "fileListTable" : "#fileListTable",

                "removeAllFiles" : "#removeAllFiles"

            },

            events:{
                "change @ui.fileInput" : "fileUploaded",
                "click .removeFile" : "removeFile",
                "click @ui.removeAllFiles" : "clearAllFiles",

                "submit @ui.replyForm" : "submitReply"
            },

            onShow: function(){
                this.AppViewInitializer = require('../../../../js/app/app_view_initializer');
                this.initValidators();
                this.renderFirstEmail();
                this.initFileCounter();
            },
            initValidators: function(){
                $('#replyForm')
                    .formValidation(ValidatorOpt.replyEmail)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderFirstEmail: function(){
                var msgId = this.model.get("messageId");
                var headingId = "heading"+msgId+"";
                var collapseIid = "collapse"+msgId+"";
                this.ui.messagesPanel.append("<div id='"+msgId+"'>");
                
                this.msgPanelRegion = new Backbone.Marionette.Region({ el : "#"+msgId+""});
                
                var model = Models.getModel({
                    "panelHeading"  : headingId,
                    "panelCollapse" : collapseIid,

                    "senderName"    : this.model.get("senderName"),
                    "receiverName"  : this.model.get("receiverName"),
                    "message"       : this.model.get("message"),
                    "dateTime"      : Moment(this.model.get("createdOn")).format("MM/DD/YYYY hh:mm:ss A"),

                    "attachments"   : this.model.get("attachments"),
                    "isAttachment"  : this.model.get("isAttachment")
                });
                var view = this.AppViewInitializer.emailChainView(model);
                this.msgPanelRegion.show(view);

                if(this.model.get("reply").length > 0){
                    this.renderEmailChain();
                }else{
                    $("#"+collapseIid+"").collapse('show');
                }

            },
            renderEmailChain: function(){
                var mailList = this.model.get("reply");
                for(var i = 0; i < mailList.length; i++){

                    var replyId = mailList[i].replyId;
                    var headingId = "heading"+replyId+"";
                    var collapseIid = "collapse"+replyId+"";
                    this.ui.messagesPanel.append("<div id='"+replyId+"'>");

                    this.msgPanelRegion = new Backbone.Marionette.Region({ el : "#"+replyId+""});

                    var model = Models.getModel({
                        "panelHeading"  : headingId,
                        "panelCollapse" : collapseIid,

                        "senderName"    : mailList[i].senderName,
                        "receiverName"  : this.model.get("receiverName"),
                        "message"       : mailList[i].message,
                        "dateTime"      : Moment(mailList[i].replyDated).format("MM/DD/YYYY hh:mm:ss A"),

                        "attachments"  : mailList[i].attachments,
                        "isAttachment"  : mailList[i].isAttachment
                    });
                    var view = this.AppViewInitializer.emailChainView(model);
                    this.msgPanelRegion.show(view);
                }
                $("#"+collapseIid+"").collapse('show');
            },

            initFileCounter: function(){
                this.uploadFiles = [];
                this.files = "";
                this.i=0;
                this.j = 0;
                this.k = 0;
            },
            fileUploaded: function(e){
                this.files = e.currentTarget.files;
                this.i=0;
                this.j = this.files.length;

                var totalSize = 0;
                for(var i = 0; i < this.uploadFiles.length; i++){
                    totalSize = totalSize + this.uploadFiles[i].size;
                }
                for(var k = 0; k < this.files.length; k++){
                    totalSize = totalSize + this.files[k].size;
                }
                totalSize = totalSize/1024;
                if(totalSize > (5*1024)){
                    NotyMsg.warningMsg("Maximum File Size Upload limit is 5 MB");
                    return false;
                }

                this.readData();
            },
            readData: function(){
                var that = this;
                if(this.i < this.j){
                    var read = new FileReader();
                    read.onloadend = function(){
                        that.uploadFiles.push({
                            "name" : $.trim(that.files[that.k].name),
                            "size" : that.files[that.k].size,
                            "type" : that.files[that.k].type,
                            "base64String" : (read.result).replace(/data.*base64,/,"")
                        });
                        that.showFileAdded();
                        that.readData();
                    };
                    this.k=this.i;
                    read.readAsDataURL(this.files[this.i++]);
                }
            },
            showFileAdded: function(){
                var fileLength = this.uploadFiles.length;
                if(fileLength > 0){
                    this.ui.fileListTable.show();
                }else{
                    this.ui.fileListTable.hide();
                    return;
                }
                this.ui.fileList.html("");
                for(var i = 0; i < fileLength; i++){
                    this.ui.fileList.append("<tr>"+
                        "<td>"+this.uploadFiles[i].name+"</td>"+
                        "<td>"+parseFloat(this.uploadFiles[i].size/1024).toFixed(2)+" KB</td>"+
                        "<td><button data-counter='"+i+"' type='button' class='removeFile close' aria-label='Close'><span aria-hidden='true'>&times;</span></button></td>"+
                        "</tr>");
                }
            },
            removeFile: function(event){
                var counter = $(event.currentTarget).attr("data-counter");
                this.uploadFiles.splice(counter, 1);
                this.showFileAdded();
            },
            clearAllFiles: function(){
                this.uploadFiles = [];
                this.showFileAdded();
            },

            submitReply: function(event){
                if(!$("#replyForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getReplyMsgModel({
                    "messageId"                 : this.model.get("messageId"),
                    "message"                   : this.ui.replyMsg.val(),
                    "subject"                   : this.model.get("subject"),
                    "files"                     : this.uploadFiles
                });
                model.processRequest();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(){
            var model = Models.getModel(gConfig.userInfo.viewMailData);
            return (new ViewEmailView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_view_initializer":12,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/noty_msg":71,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],130:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var dConfig = require("../../../js/utils/default_config");
        var Utils = require("../../../js/utils/utils");
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- OrderChecksView  ------------------------------------------------------------

        var OrderChecksView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.OrderChecksView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.OrderChecksView), l_en) );
            },

            ui:{
                "acc" : "#acc",
                "startCheckNo" : "#startCheckNo",
                "noOfBoxes" : "#noOfBoxes",
                "design" : "#design",
                
                "comments" : "#comments"
                
            },

            events:{
                "click #cancelOrderChecks" : "resetForm",
                "submit #orderChecksForm" : "orderChecks"
            },

            onShow: function(){
                this.initValidators();
                this.renderAccs();
            },
            initValidators: function(){
                $('#orderChecksForm')
                    .formValidation(ValidatorOpt.orderChecks)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderAccs: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var accStr = "";
                for(var i = 0; i < accs.length; i++) {
                    if(accs[i].statusCode != "DORMANT ACCOUNT"){
                        accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                    }
                }
                this.ui.acc.append(accStr);
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            orderChecks: function (event) {
                if(!$("#orderChecksForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getOrderChecksModel({
                    "accountNo" : this.ui.acc.val(),
                    "startingCheckNo" : this.ui.startCheckNo.val(),
                    "noOfBoxes" : this.ui.noOfBoxes.val(),
                    "design" : this.ui.design.val(),
                    "style" : $("input[name='style']:checked").val(),
                    "comments" : this.ui.comments.val()
                });
                model.processRequest();
            },

            resetForm: function () {
                $("#orderChecksForm")[0].reset();
                $('#orderChecksForm').data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new OrderChecksView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],131:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var gConfig = require("../../../../js/utils/global_config");
        var ValidatorOpt = require('../../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- EditRemindersView  ------------------------------------------------------------

        var EditRemindersView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditRemindersView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditRemindersView), l_en) );
            },

            ui:{
                "reminderForm" : "#reminderForm",

                "date" : "#date",
                "reminder" : "#reminder",
                "schedule" : "#schedule",

                "reminderCharLimit" : "#reminderCharLimit",
                "cancel" : "#cancel"
            },

            events:{
                "submit @ui.reminderForm" : "submitReminder",

                "keyup @ui.reminder" : "checkReminderLimit",
                "click @ui.cancel" : "cancel"
            },

            onShow: function(){
                this.initValidators();
                this.populateEditData();
                this.enableSelectPlugin();
            },
            initValidators: function(){
                $('#reminderForm')
                    .formValidation(ValidatorOpt.reminders)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateRange: function(){
                $("#dateScheduleGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().add(1, "days").startOf("day")
                });
                $("#dateScheduleGroup").on("dp.change",function (e) {
                    $("#reminderForm").data('formValidation').updateStatus("date", "NOT_VALIDATED");
                });
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            checkReminderLimit: function(){
                if( (100 - this.ui.reminder.val().length) < 0 ){
                    event.stopPropagation();
                    event.preventDefault();
                    return false;
                }else{
                    this.ui.reminderCharLimit.html( 100 - this.ui.reminder.val().length);
                }
            },

            populateEditData: function () {
                this.ui.reminder.val(this.model.get("reminderMessage"));
                this.ui.schedule.val(this.model.get("schedule"));
                this.ui.date.val(Moment(this.model.get("reminderDate")).format("MM/DD/YYYY"));
                this.checkReminderLimit();
                this.initDateRange();
            },

            submitReminder: function(event){
                if(!$("#reminderForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.model.set({
                    "reminderDate"      : this.ui.date.val(),
                    "schedule"          : this.ui.schedule.val(),
                    "reminderMessage"   : this.ui.reminder.val()
                });
                this.model.processRequest();
            },

            cancel: function(){
                $("#reminderForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getEditReminderModel(gConfig.userInfo.reminderData);
            return (new EditRemindersView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],132:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../../js/models/models");
        var ValidatorOpt = require('../../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- SetupRemindersView  ------------------------------------------------------------

        var SetupRemindersView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SetupRemindersView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SetupRemindersView), l_en) );
            },

            ui:{
                "reminderForm" : "#reminderForm",

                "date" : "#date",
                "reminder" : "#reminder",
                "schedule" : "#schedule",

                "reminderCharLimit" : "#reminderCharLimit",
                "cancel" : "#cancel"
            },

            events:{
                "submit @ui.reminderForm" : "submitReminder",

                "keydown @ui.reminder" : "checkReminderLimit",
                "click @ui.cancel" : "cancel"
            },

            onShow: function(){
                this.initDateRange();
                this.initValidators();
                this.enableSelectPlugin();
            },
            initValidators: function(){
                $('#reminderForm')
                    .formValidation(ValidatorOpt.reminders)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateRange: function(){
                $("#dateScheduleGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    minDate: Moment().add(1, "days").startOf("day")
                });
                $("#dateScheduleGroup").on("dp.change",function (e) {
                    $("#reminderForm").data('formValidation').updateStatus("date", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            checkReminderLimit: function(){
                if( (100 - this.ui.reminder.val().length) < 0 ){
                    event.stopPropagation();
                    event.preventDefault();
                    return false;
                }else{
                    this.ui.reminderCharLimit.html( 100 - this.ui.reminder.val().length);
                }

            },

            submitReminder: function(event){
                if(!$("#reminderForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                this.model.set({
                    "reminderDate"      : this.ui.date.val(),
                    "schedule"          : this.ui.schedule.val(),
                    "reminderMessage"   : this.ui.reminder.val()
                });
                this.model.processRequest();
            },

            cancel: function(){
                this.ui.date.val("");
                this.ui.schedule.val("default");
                this.ui.reminder.val("");
                $("#reminderForm").data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getAddReminderModel();
            return (new SetupRemindersView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73,"../../../../js/utils/validator_options":75}],133:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../../js/lib/jquery');
        var _ = require('../../../../js/lib/underscore');
        var Backbone = require('../../../../js/lib/backbone');
        var Marionette = require('../../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var AppActivity = require("../../../../js/app/app_activity");
        var Models = require("../../../../js/models/models");
        var gConfig = require("../../../../js/utils/global_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../../js/utils/tpl_loader');
        var tplName = require('../../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../../js/interLang/internationalization');

//--------------- ViewRemindersView  ------------------------------------------------------------

        var ViewRemindersView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.ViewRemindersView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.ViewRemindersView), l_en) );
            },

            ui:{
                "selectAllReminders" : "#selectAllReminders",
                "deleteReminder" : "#deleteReminder"
            },

            events:{
                "change @ui.selectAllReminders" : "selectAllReminders",
                "change .reminderCheckbox" : "selectSingleReminder",
                "click @ui.deleteReminder" : "deleteReminder",
                "click .deleteReminderBut" : "deleteSingleReminder",

                "click .editReminder" : "editReminder"
            },

            onShow: function(){
                this.getRemindersList();
            },

            selectAllReminders: function(){
                if(this.ui.selectAllReminders.is(":checked")){
                    this.remindersTable.$("input.reminderCheckbox").prop("checked", true);
                    this.ui.deleteReminder.prop("disabled", false);
                }else{
                    this.remindersTable.$("input.reminderCheckbox").prop("checked", false);
                    this.ui.deleteReminder.prop("disabled", true);
                }
            },
            selectSingleReminder: function(){
                if(this.remindersTable.$("input.reminderCheckbox:checked").length > 0){
                    this.ui.deleteReminder.prop("disabled", false);
                }else{
                    this.ui.deleteReminder.prop("disabled", true);
                }
            },

            getRemindersList: function(){
                this.model.processRequest();
            },
            renderRemindersTable: function(list){
                this.remindersList = list;
                function actionBut(reminderId){
                    return("<button data-id='"+reminderId+"' class='btn btn-info btn-mini deleteReminderBut hidden-md hidden-lg' type='button'>Delete</button>");
                }

                var tableData = [];
                for(var i = 0; i < list.length; i++) {

                    tableData.push({
                        '0': "",
                        '1': "<input value='"+list[i].reminderId+"' class='reminderCheckbox hidden-xs hidden-sm materialcheckbox' type='checkbox'>",
                        '2': Moment(list[i].reminderDate).format("MM/DD/YYYY"),
                        '3': "<span class='editReminder text-primary pointerCursor' data-id='"+list[i].reminderId+"'>"+list[i].reminderMessage+"</span>",
                        '4': list[i].schedule,
                        '5': actionBut(list[i].reminderId)
                    });
                }

                this.remindersTable = $("#remindersTable").dataTable({
                    "aaData": tableData,
                    "bDestroy" : true,
                    "order": [[ 2, "desc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "bSortable": false,
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "32%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "32%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "32%"
                        },
                        {
                            "sClass": "none",
                            "sWidth" : "0%"
                        }
                    ]
                });
                this.disableActionButtons();
            },

            disableActionButtons: function(){
                this.ui.deleteReminder.prop("disabled", true);
            },

            deleteReminder: function(){
                var len = this.remindersTable.$("input.reminderCheckbox:checked").length;
                this.deleteReminderList = [];
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        this.deleteReminderList.push({
                            "reminderId" : this.remindersTable.$("input.reminderCheckbox:checked")[i].value
                        });
                    }
                }

                var model = Models.getDeleteReminderModel({
                    reminderList : this.deleteReminderList
                });
                model.processRequest();
            },
            deleteSingleReminder: function(event){
                var model = Models.getDeleteReminderModel({
                    reminderList : [{
                        reminderId : $(event.currentTarget).attr("data-id")
                    }]
                });
                model.processRequest();
            },

            editReminder: function(event){
                var reminderId = $(event.currentTarget).attr("data-id");
                gConfig.userInfo.reminderData = _.findWhere(this.remindersList, { "reminderId" : reminderId});;
                AppActivity.trigger("editReminder");
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getRemindersListModel();
            return (new ViewRemindersView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../../js/app/app_activity":1,"../../../../js/interLang/internationalization":15,"../../../../js/lib/backbone":17,"../../../../js/lib/backbone.marionette.js":18,"../../../../js/lib/jquery":57,"../../../../js/lib/moment.js":60,"../../../../js/lib/underi18n.js":63,"../../../../js/lib/underscore":64,"../../../../js/models/models":66,"../../../../js/utils/global_config":69,"../../../../js/utils/tpl_loader":72,"../../../../js/utils/tpl_names":73}],134:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- SecurityQuestionsView  ------------------------------------------------------------

        var SecurityQuestionsView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SecurityQuestionsView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SecurityQuestionsView), l_en) );
            },

            ui:{
                "userId" : "#userId",

                "qOne" : "#qOne",
                "qTwo" : "#qTwo",
                "qThree" : "#qThree",

                "aOne" : "#aOne",
                "aTwo" : "#aTwo",
                "aThree" : "#aThree"
            },

            events:{
                "click #cancelSecQ" : "cancelSecQ",
                "submit #securityQuestionsForm" : "changeSecurityQs"
            },

            onShow: function(){
                this.ui.userId.html(dConfig.userId);
                this.initValidators();
                this.getSecurityQs();
            },

            initValidators: function(){
                $('#securityQuestionsForm')
                    .formValidation(ValidatorOpt.changeSecurityQ)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            getSecurityQs: function(){
                var securityQModel = Models.getSecurityQuestionsModel();
                securityQModel.processRequest();
            },
            renderSecurityQuestions: function(response){
                this.qListOne = response.secretQuestions.secretQuestionsSet1;
                this.qListTwo = response.secretQuestions.secretQuestionsSet2;
                this.qListThree = response.secretQuestions.secretQuestionsSet3;

                for(var i = 0; i < this.qListOne.length; i++){
                    this.ui.qOne.append($("<option>",{
                        value : this.qListOne[i].SNo,
                        text : this.qListOne[i].Question
                    }));
                }
                for(var j = 0; j < this.qListTwo.length; j++){
                    this.ui.qTwo.append($("<option>",{
                        value : this.qListTwo[j].SNo,
                        text : this.qListTwo[j].Question
                    }));
                }
                for(var k = 0; k < this.qListThree.length; k++){
                    this.ui.qThree.append($("<option>",{
                        value : this.qListThree[k].SNo,
                        text : this.qListThree[k].Question
                    }));
                }

                this.getSelectedQA();
            },

            getSelectedQA: function(){
                var selectedQAModel = Models.getSelectedQAModel();
                selectedQAModel.processRequest();
            },

            renderSecurityQA: function(response){

                var qAnswersSet = response.securityQuestions;
                for(var i = 0; i < qAnswersSet.length; i++){
                    if(_.where(this.qListOne, {SNo: qAnswersSet[i].questionId}).length > 0){
                        this.ui.qOne.val(qAnswersSet[i].questionId);
                        continue;
                    }
                    if(_.where(this.qListTwo, {SNo: qAnswersSet[i].questionId}).length > 0){
                        this.ui.qTwo.val(qAnswersSet[i].questionId);
                        continue;
                    }
                    if(_.where(this.qListThree, {SNo: qAnswersSet[i].questionId}).length > 0){
                        this.ui.qThree.val(qAnswersSet[i].questionId);
                    }
                }
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    size : false
                });
            },

            changeSecurityQs: function(event){
                if(!$("#securityQuestionsForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getChangeSecurityQModel({
                    "securityQuestion" : [
                        {
                            "questionId" : this.ui.qOne.val(),
                            "question" : $("#qOne option:selected").text(),
                            "answer" : this.ui.aOne.val()
                        },
                        {
                            "questionId" : this.ui.qTwo.val(),
                            "question" : $("#qTwo option:selected").text(),
                            "answer" : this.ui.aTwo.val()
                        },
                        {
                            "questionId" : this.ui.qThree.val(),
                            "question" : $("#qThree option:selected").text(),
                            "answer" : this.ui.aThree.val()
                        }
                    ]
                });
                model.processRequest();
            },

            cancelSecQ: function(){
                $("input").val("");
                this.getSelectedQA();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new SecurityQuestionsView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/validator_options":75}],135:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
        var AppApiUrl = require('../../../js/app/app_api_url');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var ValidatorOpt = require('../../../js/utils/validator_options');
        var NotyMsg = require('../../../js/utils/noty_msg');
        var dConfig = require("../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');
//--------------- SessionsReportView  ------------------------------------------------------------

        var SessionsReportView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.SessionsReportView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.SessionsReportView), l_en) );
            },

            ui:{
                "selectUser"  : "#selectUser",

                "fromDate"  : "#fromDate",
                "toDate"    : "#toDate",
                "fromResult"  : "#fromResult",
                "toResult"    : "#toResult",

                "showResultsDiv" : "#showResultsDiv",
                "noResultsDiv" : "#noResultsDiv",

                "allSessions" : "#allSessions",
                "sessionCheckbox" : ".sessionCheckbox",

                "selectUserDiv" : "#selectUserDiv"
            },

            events:{
                "click .downloadBut" : "downloadFile",
                "change #allSessions" : "selectAllSessions",
                "submit #sessionsReportForm" : "getSessionsReport"
            },

            onShow: function(){
                this.initValidators();
                this.initDateRange();
                this.checkIsSupervisor();
            },
            initValidators: function(){
                $('#sessionsReportForm')
                    .formValidation(ValidatorOpt.sessionsReport)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },
            initDateRange: function(){
                $("#fromDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    defaultDate : Moment(),
                    maxDate : Moment().endOf("day")
                });
                $("#toDateGroup").datetimepicker({
                    showTodayButton: true,
                    format: "MM/DD/YYYY",
                    defaultDate : Moment(),
                    maxDate : Moment().endOf("day")
                });
                $("#fromDateGroup").on("dp.change",function (e) {
                    $("#sessionsReportForm").data('formValidation').updateStatus("fromDate", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
                $("#toDateGroup").on("dp.change",function (e) {
                    $("#sessionsReportForm").data('formValidation').updateStatus("toDate", "NOT_VALIDATED");
                    //$("#fundsTransferForm").data('formValidation').resetForm();
                });
            },

            checkIsSupervisor: function(){
                if(dConfig.isSupervisor) {
                    this.ui.selectUserDiv.show();
                    this.getUsersList();
                }else {
                    this.ui.selectUserDiv.hide();
                }
            },
            getUsersList: function(){
                var model = Models.getUserListModel();
                model.processRequest();
            },
            renderUsers: function (list) {
                var selectStr = "";
                for(var i = 0; i < list.length; i++){
                    selectStr = selectStr + "<option value='"+list[i].userId+"'>"+list[i].userName+"</option>";
                }
                this.ui.selectUser.append(selectStr);
            },

            selectAllSessions: function(){
                if(this.ui.allSessions.is(":checked")){
                    this.ui.sessionCheckbox.prop("checked", true);
                }else{
                    this.ui.sessionCheckbox.prop("checked", false);
                }
            },

            getSessionsReport: function(event){
                if(!$("#sessionsReportForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var fromMoment = Moment(this.ui.fromDate.val(), "MM/DD/YYYY");
                var toMoment = Moment(this.ui.toDate.val(), "MM/DD/YYYY");
                if(toMoment.diff(fromMoment, 'days', true) < 0 ){
                    NotyMsg.warningMsg("From Date should be less than To Date");
                    return;
                }
                if(toMoment.diff(fromMoment, 'months', true) > 12 ){
                    NotyMsg.warningMsg("From Date and To Date range should not exceed 12 months.");
                    return;
                }

                var selectedSessions = [];
                var listLen = $(".sessionCheckbox:checked").length;
                if(listLen < 1){
                    NotyMsg.warningMsg("At least 1 Session For is required");
                    return;
                }
                for(var i = 0; i < listLen; i++){
                    selectedSessions.push($(".sessionCheckbox:checked")[i].value);
                }

                var userId = (dConfig.isSupervisor)? this.ui.selectUser.val() : dConfig.serverUserId;
                var model = Models.getSessionsReportModel({
                    "listedUserId" : userId,
                    "moduleType" : selectedSessions,
                    "fromDate" : this.ui.fromDate.val(),
                    "toDate" : this.ui.toDate.val(),
                    "download" : "no"
                });
                model.processRequest();
            },
            showResults: function(list){
                if(list.length < 1){
                    this.ui.showResultsDiv.hide();
                    this.ui.noResultsDiv.show();
                    this.ui.fromResult.html(this.ui.fromDate.val());
                    this.ui.toResult.html(this.ui.toDate.val());
                    return false;
                }else{
                    this.ui.noResultsDiv.hide();
                    this.ui.showResultsDiv.show();
                }
                var tableData = [];
                for(var i = 0; i < list.length; i++){
                    tableData.push({
                        "0" : "",
                        "1" : Moment(list[i].sessionReportDate).format("MM/DD/YYYY"),
                        "2" : Moment(list[i].sessionReportDate).format("h:mm a"),
                        "3" : list[i].userName,
                        "4" : list[i].transaction.message,
                        "5" : list[i].transaction.amount
                    });
                }

                $("#sessionsReportTable").dataTable({
                    data : tableData,
                    destroy : true,
                    "order": [[ 1, "desc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "10%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "30%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "18%"
                        }
                    ]
                });

                $("html, body").animate({
                    scrollTop: $("#showResultsDiv").offset().top
                }, 1000);

            },

            downloadFile: function (event) {

                var fromMoment = Moment(this.ui.fromDate.val(), "MM/DD/YYYY");
                var toMoment = Moment(this.ui.toDate.val(), "MM/DD/YYYY");
                if(toMoment.diff(fromMoment, 'days', true) < 0 ){
                    NotyMsg.warningMsg("From Date should be less than To Date");
                    return;
                }
                if(toMoment.diff(fromMoment, 'months', true) > 12 ){
                    NotyMsg.warningMsg("From Date and To Date range should not exceed 12 months.");
                    return;
                }

                var selectedSessions = [];
                var listLen = $(".sessionCheckbox:checked").length;
                for(var i = 0; i < listLen; i++){
                    selectedSessions.push($(".sessionCheckbox:checked")[i].value);
                }

                var userId = (dConfig.isSupervisor)? this.ui.selectUser.val() : dConfig.serverUserId;

                $("#listedUserId").val(userId);
                $("#moduleType").val(selectedSessions);
                $("#fDate").val(this.ui.fromDate.val());
                $("#tDate").val(this.ui.toDate.val());
                $("#download").val(event.currentTarget.id);

                $("#downloadForm").attr("action", AppApiUrl.sessionsReportDownload);
                $("#downloadForm").submit();

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new SessionsReportView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_api_url":2,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/validator_options":75}],136:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var dConfig = require("../../../js/utils/default_config");
        var Utils = require("../../../js/utils/utils");
        var NotyMsg = require('../../../js/utils/noty_msg');
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- StopPaymentView  ------------------------------------------------------------

        var StopPaymentView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.StopPaymentView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.StopPaymentView), l_en) );
            },

            ui:{

                "acc" : "#acc",

                "singleCheckCheckNo" : "#singleCheckCheckNo",
                "singleCheckAmount" : "#singleCheckAmount",
                "singleCheckReason" : "#singleCheckReason",
                "singleCheckComments" : "#singleCheckComments",

                "multipleCheckReason" : "#multipleCheckReason",
                "multipleCheckComments" : "#multipleCheckComments",
                "multipleFromCheckNo" : "#multipleFromCheckNo",
                "multipleToCheckNo" : "#multipleToCheckNo",
                "multipleCheckFromAmount" : "#multipleCheckFromAmount",
                "multipleCheckToAmount" : "#multipleCheckToAmount",

                "singleACHAmount" : "#singleACHAmount",
                "singleACHReason" : "#singleACHReason",
                "singleACHComments" : "#singleACHComments",

                "multipleACHFromAmount" : "#multipleACHFromAmount",
                "multipleACHToAmount" : "#multipleACHToAmount",
                "multipleACHReason" : "#multipleACHReason",
                "multipleACHComments" : "#multipleACHComments"

            },

            events:{
                "click #cancelSingleCheck" : "resetSingleCheck",
                "click #cancelMultipleCheck" : "resetMultipleCheck",
                "click #cancelSingleACH" : "resetSingleAch",
                "click #cancelMultipleACH" : "resetMultipleAch",

                "change .checkNoRange" : "checkNoRangeChanged",
                "change .amtRange" : "amtRangeChanged",

                "submit #stopSingleCheckPaymentForm" : "submitStopSingleCheckPayment",
                "submit #stopMultipleCheckPaymentForm" : "submitStopMultipleCheckPayment",

                "submit #stopSingleACHPaymentForm" : "submitStopSingleACHPayment",
                "submit #stopMultipleACHPaymentForm" : "submitStopMultipleACHPayment"
            },

            onShow: function(){
                this.initValidators();
                this.renderAccs();
            },
            initValidators: function(){
                $('#stopSingleCheckPaymentForm').formValidation(ValidatorOpt.stopSingleCheck).on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
                $('#stopMultipleCheckPaymentForm').formValidation(ValidatorOpt.stopMultipleCheck).on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
                $('#stopSingleACHPaymentForm').formValidation(ValidatorOpt.stopSingleACH).on('success.form.fv', function(e) {
                    // Prevent form submission
                    e.preventDefault();
                    return false;
                });
                $('#stopMultipleACHPaymentForm').formValidation(ValidatorOpt.stopMultipleACH).on('success.form.fv', function(e) {
                    // Prevent form submission
                    e.preventDefault();
                    return false;
                });
            },

            renderAccs: function(){
                var accs = dConfig.saveCheckTransferAccounts;
                var accStr = "";
                for(var i = 0; i < accs.length; i++) {
                    accStr = accStr + "<option value='"+accs[i].accountNo+"'>"+accs[i].accountType+" - "+Utils.maskAccount(accs[i].accountNo)+"</option>";
                }
                this.ui.acc.append(accStr);
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            submitStopSingleCheckPayment: function (event) {
                if(this.ui.acc.val() == "default"){
                    NotyMsg.warningMsg("Please select an account.");
                    return false;	
                }

                if(!$("#stopSingleCheckPaymentForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getStopPaymentModel({
                    "accountNo" : this.ui.acc.val(),
                    "paymentType" : "Check",
                    "transaction" : "Single",
                    "reason" : this.ui.singleCheckReason.val(),
                    "comments" : this.ui.singleCheckComments.val(),
                    "checkInfo" : {
                        checkNumber : {
                            checkNoFrom : this.ui.singleCheckCheckNo.val(),
                            checkNoTo : this.ui.singleCheckCheckNo.val()
                        },
                        amount : {
                            amountFrom :this.ui.singleCheckAmount.val(),
                            amountTo :this.ui.singleCheckAmount.val()
                        }
                    }
                });
                model.processRequest();
            },
            submitStopMultipleCheckPayment: function (event) {
                if(this.ui.acc.val() == "default"){
                    NotyMsg.warningMsg("Please select an account.");
                    return false;	
                }

                if(!$("#stopMultipleCheckPaymentForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getStopPaymentModel({
                    "accountNo" : this.ui.acc.val(),
                    "paymentType" : "Check",
                    "transaction" : "Multiple",
                    "reason" : this.ui.multipleCheckReason.val(),
                    "comments" : this.ui.multipleCheckComments.val(),
                    "checkInfo" : {
                        checkNumber : {
                            checkNoFrom : this.ui.multipleFromCheckNo.val(),
                            checkNoTo : this.ui.multipleToCheckNo.val()
                        },
                        amount : {
                            amountFrom :this.ui.multipleCheckFromAmount.val(),
                            amountTo :this.ui.multipleCheckToAmount.val()
                        }
                    }
                });
                model.processRequest();
            },

            submitStopSingleACHPayment: function (event) {
                if(this.ui.acc.val() == "default"){
                    NotyMsg.warningMsg("Please select an account.");
                    return false;	
                }

                if(!$("#stopSingleACHPaymentForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getStopPaymentModel({
                    "accountNo" : this.ui.acc.val(),
                    "paymentType" : "ACH",
                    "transaction" : "Single",
                    "reason" : this.ui.singleACHReason.val(),
                    "comments" : this.ui.singleACHComments.val(),
                    "achInfo" : {
                        amount : {
                            amountFrom :this.ui.singleACHAmount.val(),
                            amountTo :this.ui.singleACHAmount.val()
                        }
                    }
                });
                model.processRequest();
            },
            submitStopMultipleACHPayment: function (event) {
                if(this.ui.acc.val() == "default"){
                    NotyMsg.warningMsg("Please select an account.");
                    return false;	
                }

                if(!$("#stopMultipleACHPaymentForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getStopPaymentModel({
                    "accountNo" : this.ui.acc.val(),
                    "paymentType" : "ACH",
                    "transaction" : "Multiple",
                    "reason" : this.ui.multipleACHReason.val(),
                    "comments" : this.ui.multipleACHComments.val(),
                    "achInfo" : {
                        amount : {
                            amountFrom :this.ui.multipleACHFromAmount.val(),
                            amountTo :this.ui.multipleACHToAmount.val()
                        }
                    }
                });
                model.processRequest();
            },

            resetSingleCheck: function(){
                $('#stopSingleCheckPaymentForm').data('formValidation').resetForm();
            },
            resetMultipleCheck: function(){
                $('#stopMultipleCheckPaymentForm').data('formValidation').resetForm();
            },
            resetSingleAch: function(){
                $('#stopSingleACHPaymentForm').data('formValidation').resetForm();
            },
            resetMultipleAch: function(){
                $('#stopMultipleACHPaymentForm').data('formValidation').resetForm();
            },

            checkNoRangeChanged: function(){
                $('#stopMultipleCheckPaymentForm').data('formValidation').resetForm();
            },
            amtRangeChanged: function(){
                $('#stopMultipleCheckPaymentForm').data('formValidation').resetForm();
                $('#stopMultipleACHPaymentForm').data('formValidation').resetForm();
            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            return (new StopPaymentView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],137:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require('../../../js/utils/validator_options');
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- StopPaymentListView  ------------------------------------------------------------

        var StopPaymentListView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.StopPaymentListView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.StopPaymentListView), l_en) );
            },

            ui:{
            },

            events:{
            },

            onShow: function(){
                this.getStopPaymentList();
            },

            getStopPaymentList: function () {
                this.model.processRequest();
            },
            renderStopPaymentList: function (response) {
                var list = response,
                    stopChecksList = _.where(list, {"paymentType" : "Check"}),
                    stopACHList = _.where(list, {"paymentType" : "ACH"});

                var stopCheckListTableData = [],
                    stopACHListTableData = [];
                for(var i = 0; i < stopChecksList.length; i++){
                    stopCheckListTableData.push({
                        "0" : "",
                        "1" : Moment(stopChecksList[i].expirationDate).format("MM/DD/YYYY") ,
                        "2" : Utils.maskAccount(stopChecksList[i].accountNo) ,
                        "3" : stopChecksList[i].checkInfo.checkNumber.checkNoFrom ,
                        "4" : stopChecksList[i].checkInfo.checkNumber.checkNoTo ,
                        "5" : stopChecksList[i].checkInfo.amount.amountFrom ,
                        "6" : stopChecksList[i].checkInfo.amount.amountTo ,
                        "7" : stopChecksList[i].reason
                    });
                }

                $('#stopChecksTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  stopCheckListTableData,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {"sClass": "desktop" },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "all text-right" },
                        {"sClass": "all text-right" },
                        {"sClass": "desktop" }
                    ]
                });

                for(var k = 0; k < stopACHList.length; k++){
                    stopACHListTableData.push({
                        "0" : "",
                        "1" : Moment(stopACHList[k].expirationDate).format("MM/DD/YYYY") ,
                        "2" : Utils.maskAccount(stopACHList[k].accountNo) ,
                        "3" : stopACHList[k].achInfo.amount.amountFrom ,
                        "4" : stopACHList[k].achInfo.amount.amountTo ,
                        "5" : stopACHList[k].reason
                    });
                }

                $('#stopACHTable').dataTable({
                    "bDestroy": true,
                    "aaData" :  stopACHListTableData,
                    "order": [[ 1, "desc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {"sClass": "desktop" },
                        {"sClass": "all" },
                        {"sClass": "all text-right" },
                        {"sClass": "all text-right" },
                        {"sClass": "desktop" }
                    ]
                });

            },

            onBeforeDestroy: function(){

            }

        });

        var getViewObj = function(data){
            var model = Models.getStopPaymentListModel();
            return (new StopPaymentListView({
                model : model
            }));
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],138:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../js/lib/jquery');
        var _ = require('../../js/lib/underscore');
        var Backbone = require('../../js/lib/backbone');
        var Marionette = require('../../js/lib/backbone.marionette.js');
        //--------------
        var tpl = require('../../js/utils/tpl_loader');
        var tplName = require('../../js/utils/tpl_names').templateViews;

//--------------- SidebarMenu View  ------------------------------------------------------------

        var SidebarMenuView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                this.template = _.template(tpl.getViewTemplate(tplName.SidebarMenuView));
            },

            ui:{
            },

            events:{
                "click .sideMenuItems"  : "hideSideBar",
                "click .logoutBut"      : "showLogoutConfirmMsg",
                "click .sidebar-icons-a" : "sidebarParentMenuClicked",
                "click .sidebarMainMenu" : "sidebarMainMenuClicked"
            },
            sidebarParentMenuClicked: function(event){
                if($(event.currentTarget).parent().hasClass("sidebarMainMenu")){
                    $(".sidebarMainMenu").children("a").children().children("div:nth-child(2)").children("span")
                        .removeClass("glyphicon-chevron-down").removeClass("glyphicon-chevron-right")
                        .addClass("glyphicon-chevron-down");
                }

                if($(event.currentTarget).hasClass("collapsed")){
                    $(event.currentTarget.children[0].children[1]).children("span")
                        .removeClass("glyphicon-chevron-down").removeClass("glyphicon-chevron-right")
                        .addClass("glyphicon-chevron-right");
                }else{
                    $(event.currentTarget.children[0].children[1]).children("span")
                        .removeClass("glyphicon-chevron-right").removeClass("glyphicon-chevron-down")
                        .addClass("glyphicon-chevron-down");
                }
            },

            sidebarMainMenuClicked: function(event){
                if($(event.currentTarget).children("a").hasClass("collapsed")){
                    $(".sideMenuItems").removeClass("active");
                    $(".sidebarMainMenu").children("ul").collapse("hide");

                    //window.setTimeout(function(){
                        $(event.currentTarget).children("ul").collapse("show");

                        /*$(event.currentTarget).children("a").children().children("div:nth-child(2)").children("span")
                            .removeClass("glyphicon-chevron-down").removeClass("glyphicon-chevron-right")
                            .addClass("glyphicon-chevron-right");*/
                    //} ,100 );
                }

            },

            hideSideBar: function(event){

                $(".collapse.list-unstyled.subMenu").removeClass("in");
                $(event.currentTarget).parent().addClass("in");
                if($(event.currentTarget).parent().parent().hasClass("subMenu"))
                    $(event.currentTarget).parent().parent().addClass("in");

                if($(event.currentTarget).parent().parent().parent().hasClass("subMenu"))
                    $(event.currentTarget).parent().parent().parent().addClass("in");

                $("#wrapper").removeClass("toggled");
            },

            onShow: function(){
            },

            showLogoutConfirmMsg: function(){
                $("#confirmLogoutModal").modal("show");
            }

        });

        var getViewObj = function(){
            return (new SidebarMenuView());
        };

        return getViewObj;

    }();

})();

},{"../../js/lib/backbone":17,"../../js/lib/backbone.marionette.js":18,"../../js/lib/jquery":57,"../../js/lib/underscore":64,"../../js/utils/tpl_loader":72,"../../js/utils/tpl_names":73}],139:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var ValidatorOpt = require("../../../js/utils/validator_options");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- CreateNewUserView  ------------------------------------------------------------

        var CreateNewUserView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.CreateNewUserView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.CreateNewUserView), l_en) );
            },

            ui:{
                "newUserId" : "#newUserId",
                "availMsg" : "#availMsg",
                "customerName" : "#customerName",
                "emailId" : "#emailId",
                "mobileNo" : "#mobileNo",
                //"securityAdminRole" : "#securityAdminRole",
                //---------------------------------------------------------
                "accountsCheck" : "#accountsCheck",
                "accOverviewCheck" : "#accOverviewCheck",
                "accDetailsHistoryCheck" : "#accDetailsHistoryCheck",
                "statementCheck" : "#statementCheck",

                "paymentsCheck" : "#paymentsCheck",
                "fundsTransferCheck" : "#fundsTransferCheck",
                //"pendingTransferCheck" : "#pendingTransferCheck",
                "billPayCheck" : "#billPayCheck",

                "payWireTransferCheck"     : "#payWireTransferCheck",
                "payBenRegCheck"           : "#payBenRegCheck",
                "payListBenCheck"          : "#payListBenCheck",
                "payWireTransferRequestCheck": "#payWireTransferRequestCheck",
                "payWireTransferAuthCheck" : "#payWireTransferAuthCheck",

                "businessServicesCheck" : "#businessServicesCheck",
                "positivePayCheck" : "#positivePayCheck",
                "businessBillPayCheck" : "#businessBillPayCheck",

                "achTransferCheck" : "#achTransferCheck",
                "achBatchSummaryCheck" : "#achBatchSummaryCheck",
                "createNewBatchCheck" : "#createNewBatchCheck",
                "achRecipientsCheck" : "#achRecipientsCheck",
                "achAddNewRecipientsCheck" : "#achAddNewRecipientsCheck",
                "achBatchAuthCheck" : "#achBatchAuthCheck",
                "achFileImportCheck" : "#achFileImportCheck",
                "achImportAuthCheck" : "#achImportAuthCheck",

                "wireTransferCheck"     : "#wireTransferCheck",
                "benRegCheck"           : "#benRegCheck",
                "listBenCheck"          : "#listBenCheck",
                "wireTransferRequestCheck": "#wireTransferRequestCheck",
                "wireTransferAuthCheck" : "#wireTransferAuthCheck",

                "otherServicesCheck" : "#otherServicesCheck",
                "orderChecksCheck" : "#orderChecksCheck",
                "stopPaymentCheck" : "#stopPaymentCheck",

                "profManageCheck" : "#profManageCheck",
                "changePersonalInfo" : "#changePersonalInfo",
                "changeSecurityQCheck" : "#changeSecurityQCheck",
                "changePassCheck" : "#changePassCheck",
                "remindersCheck" : "#remindersCheck",
                "alertsCheck" : "#alertsCheck",

                "adminToolsCheck" : "#adminToolsCheck",
                "bankMailCheck" : "#bankMailCheck",
                "sessionReportCheck" : "#sessionReportCheck",

                "userManagementCheck" : "#userManagementCheck",
                "usersCheck" : "#usersCheck",
                "createNewUserCheck" : "#createNewUserCheck",

                "calculatorsCheck" : "#calculatorsCheck",
                "loanCheck" : "#loanCheck",
                "savingsCheck" : "#savingsCheck",
                "bondsCheck" : "#bondsCheck",

                //---------------------------------------------------------
                //"businessServicesDualControl" : "#businessServicesDualControl",
                "fundsTransferLimitPTrans" : "#fundsTransferLimitPTrans",
                "fundsTransferLimitPDay" : "#fundsTransferLimitPDay",

                "wireTransferLimitPTrans" : "#wireTransferLimitPTrans",
                "wireTransferLimitPDay" : "#wireTransferLimitPDay",
                "restrictWireRecEdit" : "#restrictWireRecEdit",

                "achDebitLimitPTrans" : "#achDebitLimitPTrans",
                "achDebitLimitPDay" : "#achDebitLimitPDay",
                "achCreditLimitPTrans" : "#achCreditLimitPTrans",
                "achCreditLimitPDay" : "#achCreditLimitPDay",
                "restrictEffDate" : "#restrictEffDate",

                "cardHeader" : ".card-header-icon-div"
            },

            behaviors: {
                ToggleHeaderBehavior:{
                    fieldSelector  : ".card-header-icon-div"
                }
            },

            events:{
                "click #checkUserIdAvail"   : "checkUserIdAvail",
                "blur #newUserId"           : "checkUserIdAvail",

                //--  Access to Pages checkbox
                "change #accountsCheck"             : "checkAllAccs",
                "click .accsCheckboxes"             : "checkHeadAccs",
                "change #paymentsCheck"             : "checkAllPays",
                "click .paymentCheckboxes"          : "checkHeadPays",
                "change #payWireTransferCheck"      : "checkAllPayWire",
                "click .payWireCheckboxes"          : "checkHeadPayWire",
                "change #achTransferCheck"          : "checkAllAch",
                "click .achCheckboxes"              : "checkHeadAch",
                "change #wireTransferCheck"         : "checkAllWire",
                "click .wireCheckboxes"             : "checkHeadWire",
                "change #businessServicesCheck"     : "checkAllBusService",
                "click .busServiceCheckboxes"       : "checkHeadBusService",
                "change #otherServicesCheck"        : "checkAllOtherServices",
                "click .otherServicesCheckboxes"    : "checkHeadOtherServices",
                "change #profManageCheck"           : "checkAllProfManage",
                "click .profManageCheckboxes"       : "checkHeadProfManage",

                "change #adminToolsCheck"           : "checkAllAdminTools",
                "click .adminToolsCheckboxes"       : "checkHeadAdminTools",
                "change #userManagementCheck"       : "checkAllUserMang",
                "click .userMangCheckboxes"         : "checkHeadUserMang",

                "change #calculatorsCheck"          : "checkAllCalc",
                "click .calcCheckboxes"             : "checkHeadCalc",

                //---------

                "submit #createNewUserForm"   : "createNewUser",
                "click #cancelNewUser"      : "cancelNewUser"

            },

            onShow: function(){
                this.renderAccounts();
                this.initValidators();
            },
            initValidators: function(){
                if(!$.isEmptyObject(gConfig.userInfo.UserIdPassRules)) {
                    var rules = gConfig.userInfo.UserIdPassRules;
                    var userId = rules.userIdRestrictions;

                    ValidatorOpt.createNewUser.fields.userId.validators = {
                        notEmpty: {
                            message: 'The username is required and cannot be empty'
                        },

                        minNumeric: {
                            min: userId.minimumNumericChars,
                            message: 'User ID must contain at least ' + userId.minimumNumericChars + ' Numeric Character (0-9).'
                        },
                        minAlpha: {
                            min: userId.minimumAlphaChars,
                            message: 'User ID must contain at least ' + userId.minimumAlphaChars + ' Alphabetic Character (eg:$#*).'
                        },
                        specialChar: {
                            min: userId.minimumSpecialChars,
                            message: 'User ID must contain at least ' + userId.minimumSpecialChars + ' Special Character (eg:$#*).'
                        },

                        stringLength: {
                            min: userId.minimumLength,
                            message: 'User ID must be al least ' + userId.minimumLength + ' characters long'
                        }

                    };
                }
                $('#createNewUserForm')
                    .formValidation(ValidatorOpt.createNewUser)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderAccounts: function(){

                function isAccLoanCD(acc, accNo){
                    if(acc == "CD" || acc == "REAL_ESTATE_LOAN" || acc == "INSTALLMENT_LOAN" || acc == "COMMERCIAL_LOAN" || acc == "CONSTRUCTION_LOAN" || acc == "USER_DEFINED_LOAN"){
                        return "";
                    }else{
                        return ("<input class='transferCheckBox' type='checkbox' data-id='"+accNo+"'>");
                    }
                }

                var accData = [];
                var accs = dConfig.customerAccounts;
                for(var i = 0; i < accs.length; i++) {
                    accData.push({
                        '0': "",
                        '1': "<input class='accessCheckBox' type='checkbox' data-id='"+accs[i].accountNo+"'>",
                        '2': isAccLoanCD(accs[i].accountType, accs[i].accountNo),
                        '3': Utils.maskAccount(accs[i].accountNo),
                        '4': accs[i].productName,
                        '5': (dConfig.userInfo.customerType == "Personal")? dConfig.userInfo.fullName:dConfig.userInfo.organizationName
                    });
                }
                $('#accountsTable').dataTable({
                    "aaData" : accData,
                    "bDestroy" : true,
                    "order": [[ 5, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {"sClass": "desktop tablet-l tablet-p text-center" },
                        {"sClass": "desktop tablet-l tablet-p text-center" },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "desktop tablet-l" }
                    ]
                });
            },

            checkUserIdAvail: function(){
                if(this.ui.newUserId.val().length < 1){
                    return;
                }
                var model = Models.getCheckUserNameAvailModel({
                    "userName" : this.ui.newUserId.val()
                });
                model.processRequest();
            },
            showUserNameAvailMsg: function(response){
                if(response.availability){
                    this.ui.availMsg.html(response.message).removeClass("text-danger").addClass("text-success");
                }else{
                    this.ui.availMsg.html(response.message).removeClass("text-success").addClass("text-danger");
                }
            },
            createNewUser: function(event){
                if(!$("#createNewUserForm").data('formValidation').isValid()){

                    $("html, body").animate({
                        scrollTop: $("input:focus").offset().top-100
                    }, 1000);

                    event.preventDefault();
                    return false;
                }

                var accs = dConfig.customerAccounts;
                var userAccAccess = [], userTransAccess = [];
                for(var i = 0; i < accs.length; i++){
                    if($("input.accessCheckBox[data-id='"+accs[i].accountNo+"']").is(":checked")){
                        userAccAccess.push({
                            accountNo : accs[i].accountNo,
                            accountType : accs[i].accountType,
                            bankId : accs[i].bankId,
                            branchName : accs[i].branchName
                        });
                    }
                    if($("input.transferCheckBox[data-id='"+accs[i].accountNo+"']").is(":checked")){
                        userTransAccess.push({
                            accountNo : accs[i].accountNo,
                            accountType : accs[i].accountType,
                            bankId : accs[i].bankId,
                            branchName : accs[i].branchName
                        });
                    }
                }

                var model = Models.getCreateNewUserModel({
                    "customerId" : dConfig.customerId,
                    "customerName" : this.ui.customerName.val(),
                    "userName" : this.ui.newUserId.val(),
                    "emailId" : this.ui.emailId.val(),
                    "mobileNo" : this.ui.mobileNo.val(),
                    "customerType" : dConfig.customerType,
                    "userViewAccess" : {
                        "Accounts": {
                            "Overview": this.ui.accOverviewCheck.is(":checked"),
                            "DetailsHistory": this.ui.accDetailsHistoryCheck.is(":checked"),
                            "Statements": this.ui.statementCheck.is(":checked")
                        },
                        "Payments": {
                            "FundsTransfer": this.ui.fundsTransferCheck.is(":checked"),
                            //"PendingTransfer": this.ui.pendingTransferCheck.is(":checked"),
                            "BillPay": this.ui.billPayCheck.is(":checked")
                        },
                        "PaymentsWireTransfer": {
                            "RegisterBeneficiary": this.ui.payBenRegCheck.is(":checked"),
                            "ListBeneficiary": this.ui.payListBenCheck.is(":checked"),
                            "WireTransferRequest": this.ui.payWireTransferRequestCheck.is(":checked"),
                            "WireTransferAuthorization": this.ui.payWireTransferAuthCheck.is(":checked")
                        },
                        "BusinessServices": {
                            "PositivePay": this.ui.positivePayCheck.is(":checked"),
                            "BillPay": this.ui.businessBillPayCheck.is(":checked")
                        },
                        "BusinessServicesACH": {
                            "ACHBatchSummary": this.ui.achBatchSummaryCheck.is(":checked"),
                            "CreateNewBatch": this.ui.createNewBatchCheck.is(":checked"),
                            "ACHRecipients": this.ui.achRecipientsCheck.is(":checked"),
                            "ACHAddNewRecipients": this.ui.achAddNewRecipientsCheck.is(":checked"),
                            "ACHBatchAuthorization": this.ui.achBatchAuthCheck.is(":checked"),
                            "ACHFileImport": this.ui.achFileImportCheck.is(":checked"),
                            "ACHFileImportAuthorization": this.ui.achImportAuthCheck.is(":checked")
                        },
                        "BusinessServicesWireTransfer": {
                            "RegisterBeneficiary": this.ui.benRegCheck.is(":checked"),
                            "ListBeneficiary": this.ui.listBenCheck.is(":checked"),
                            "WireTransferRequest": this.ui.wireTransferRequestCheck.is(":checked"),
                            "WireTransferAuthorization": this.ui.wireTransferAuthCheck.is(":checked")
                        },
                        "OtherServices": {
                            "OrderChecks": this.ui.orderChecksCheck.is(":checked"),
                            "StopPayments": this.ui.stopPaymentCheck.is(":checked")
                        },
                        "ProfileManagement": {
                            "ChangePersonalInfo": this.ui.changePersonalInfo.is(":checked"),
                            "ChangeSecurityQuestion": this.ui.changeSecurityQCheck.is(":checked"),
                            "ChangePassword": this.ui.changePassCheck.is(":checked"),
                            "Reminders": this.ui.remindersCheck.is(":checked"),
                            "Alerts": this.ui.alertsCheck.is(":checked")
                        },

                        "AdministrativeTools": {
                            "BankMail": this.ui.bankMailCheck.is(":checked"),
                            "SessionsReport": this.ui.sessionReportCheck.is(":checked")
                        },
                        "AdministrativeToolsUserManagement": {
                            "Users": this.ui.usersCheck.is(":checked"),
                            "CreateNewUsers": this.ui.createNewUserCheck.is(":checked")
                        },

                        "Calculators": {
                            "Loan": this.ui.loanCheck.is(":checked"),
                            "Savings": this.ui.savingsCheck.is(":checked"),
                            "Retirement": false,
                            "Bond": this.ui.bondsCheck.is(":checked")
                        }
                    },
                    "userAccountAccess" : userAccAccess,
                    "userTransferAccess" : userTransAccess,
                    "userLimits" : {
                        "achLimits" : {
                            "achCreditLimitPerTranc" : this.ui.achCreditLimitPTrans.val(),
                            "achCreditLimitPerDay" : this.ui.achCreditLimitPDay.val(),
                            "achDebitLimitPerTranc" : this.ui.achDebitLimitPTrans.val(),
                            "achDebitLimitPerDay" : this.ui.achDebitLimitPDay.val(),
                            "restrictEdit" : this.ui.restrictEffDate.is(":checked")
                        },
                        "fundsLimits" : {
                            "fundsLimitPerTranc" : this.ui.fundsTransferLimitPTrans.val(),
                            "fundsLimitPerDay" : this.ui.fundsTransferLimitPDay.val()
                        },
                        "wireLimits" : {
                            "wireLimitPerTranc" : this.ui.wireTransferLimitPTrans.val(),
                            "wireLimitPerDay" : this.ui.wireTransferLimitPDay.val(),
                            "restrictEdit" : this.ui.restrictWireRecEdit.is(":checked")
                        }
                    }

                });
                model.processRequest();
            },

            cancelNewUser: function(){
                $("input[type='text']").val("");
                $("input[type='checkbox']").prop("checked", false);
            },

            checkAllAccs: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".accsCheckboxes").prop("checked", true);
                }else{
                    $(".accsCheckboxes").prop("checked", false);
                }
            },
            checkHeadAccs: function(event){
                if($(".accsCheckboxes:checked").length == $(".accsCheckboxes").length){
                    $("#accountsCheck").prop("checked", true);
                }else{
                    $("#accountsCheck").prop("checked", false);
                }
            },
            checkAllPays: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".paymentCheckboxes").prop("checked", true);
                }else{
                    $(".paymentCheckboxes").prop("checked", false);
                }
            },
            checkHeadPays: function(event){
                if($(".paymentCheckboxes:checked").length == $(".paymentCheckboxes").length){
                    $("#paymentsCheck").prop("checked", true);
                }else{
                    $("#paymentsCheck").prop("checked", false);
                }

            },
            checkAllPayWire: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".payWireCheckboxes").prop("checked", true);
                }else{
                    $(".payWireCheckboxes").prop("checked", false);
                }
            },
            checkHeadPayWire: function(event){
                if($(".payWireCheckboxes:checked").length == $(".payWireCheckboxes").length){
                    $("#payWireTransferCheck").prop("checked", true);
                }else{
                    $("#payWireTransferCheck").prop("checked", false);
                }

            },
            checkAllBusService: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".busServiceCheckboxes").prop("checked", true);
                }else{
                    $(".busServiceCheckboxes").prop("checked", false);
                }
            },
            checkHeadBusService: function(event){
                if($(".busServiceCheckboxes:checked").length == $(".busServiceCheckboxes").length){
                    $("#businessServicesCheck").prop("checked", true);
                }else{
                    $("#businessServicesCheck").prop("checked", false);
                }

            },
            checkAllAch: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".achCheckboxes").prop("checked", true);
                }else{
                    $(".achCheckboxes").prop("checked", false);
                }
            },
            checkHeadAch: function(event){
                if($(".achCheckboxes:checked").length == $(".achCheckboxes").length){
                    $("#achTransferCheck").prop("checked", true);
                }else{
                    $("#achTransferCheck").prop("checked", false);
                }

            },
            checkAllWire: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".wireCheckboxes").prop("checked", true);
                }else{
                    $(".wireCheckboxes").prop("checked", false);
                }
            },
            checkHeadWire: function(event){
                if($(".wireCheckboxes:checked").length == $(".wireCheckboxes").length){
                    $("#wireTransferCheck").prop("checked", true);
                }else{
                    $("#wireTransferCheck").prop("checked", false);
                }
            },
            checkAllOtherServices: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".otherServicesCheckboxes").prop("checked", true);
                }else{
                    $(".otherServicesCheckboxes").prop("checked", false);
                }
            },
            checkHeadOtherServices: function(event){
                if($(".otherServicesCheckboxes:checked").length == $(".otherServicesCheckboxes").length){
                    $("#otherServicesCheck").prop("checked", true);
                }else{
                    $("#otherServicesCheck").prop("checked", false);
                }
            },
            checkAllProfManage: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".profManageCheckboxes").prop("checked", true);
                }else{
                    $(".profManageCheckboxes").prop("checked", false);
                }
            },
            checkHeadProfManage: function(event){
                if($(".profManageCheckboxes:checked").length == $(".profManageCheckboxes").length){
                    $("#profManageCheck").prop("checked", true);
                }else{
                    $("#profManageCheck").prop("checked", false);
                }
            },
            checkAllAdminTools: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".adminToolsCheckboxes").prop("checked", true);
                }else{
                    $(".adminToolsCheckboxes").prop("checked", false);
                }
            },
            checkHeadAdminTools: function(event){
                if($(".adminToolsCheckboxes:checked").length == $(".adminToolsCheckboxes").length){
                    $("#adminToolsCheck").prop("checked", true);
                }else{
                    $("#adminToolsCheck").prop("checked", false);
                }
            },
            checkAllUserMang: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".userMangCheckboxes").prop("checked", true);
                }else{
                    $(".userMangCheckboxes").prop("checked", false);
                }
            },
            checkHeadUserMang: function(event){
                if($(".userMangCheckboxes:checked").length == $(".userMangCheckboxes").length){
                    $("#userManagementCheck").prop("checked", true);
                }else{
                    $("#userManagementCheck").prop("checked", false);
                }
            },
            checkAllCalc: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".calcCheckboxes").prop("checked", true);
                }else{
                    $(".calcCheckboxes").prop("checked", false);
                }
            },
            checkHeadCalc: function(event){
                if($(".calcCheckboxes:checked").length == $(".calcCheckboxes").length){
                    $("#calculatorsCheck").prop("checked", true);
                }else{
                    $("#calculatorsCheck").prop("checked", false);
                }
            }

        });

        var getViewObj = function(){
            return (new CreateNewUserView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],140:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
        var Moment = require('../../../js/lib/moment.js');
//---------------------------------------------------------------------------
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var dConfig = require("../../../js/utils/default_config");
        var gConfig = require("../../../js/utils/global_config");
        var ValidatorOpt = require("../../../js/utils/validator_options");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- EditUserView  ------------------------------------------------------------

        var EditUserView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.EditUserView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.EditUserView), l_en) );
            },

            ui:{
                //---------
                "qOne" : "#qOne",
                "qTwo" : "#qTwo",
                "qThree" : "#qThree",

                "aOne" : "#aOne",
                "aTwo" : "#aTwo",
                "aThree" : "#aThree",
                //---------
                "userIdHeader" : "#userIdHeader",
                //"securityAdminRole" : "#securityAdminRole",
                //---------------------------------------------------------
                "accountsCheck" : "#accountsCheck",
                "accOverviewCheck" : "#accOverviewCheck",
                "accDetailsHistoryCheck" : "#accDetailsHistoryCheck",
                "statementCheck" : "#statementCheck",

                "paymentsCheck" : "#paymentsCheck",
                "fundsTransferCheck" : "#fundsTransferCheck",
                //"pendingTransferCheck" : "#pendingTransferCheck",
                "billPayCheck" : "#billPayCheck",

                "payWireTransferCheck"     : "#payWireTransferCheck",
                "payBenRegCheck"           : "#payBenRegCheck",
                "payListBenCheck"          : "#payListBenCheck",
                "payWireTransferRequestCheck": "#payWireTransferRequestCheck",
                "payWireTransferAuthCheck" : "#payWireTransferAuthCheck",

                "businessServicesCheck" : "#businessServicesCheck",
                "positivePayCheck" : "#positivePayCheck",
                "businessBillPayCheck" : "#businessBillPayCheck",

                "achTransferCheck" : "#achTransferCheck",
                "achBatchSummaryCheck" : "#achBatchSummaryCheck",
                "createNewBatchCheck" : "#createNewBatchCheck",
                "achRecipientsCheck" : "#achRecipientsCheck",
                "achAddNewRecipientsCheck" : "#achAddNewRecipientsCheck",
                "achBatchAuthCheck" : "#achBatchAuthCheck",
                "achFileImportCheck" : "#achFileImportCheck",
                "achImportAuthCheck" : "#achImportAuthCheck",

                "wireTransferCheck"     : "#wireTransferCheck",
                "benRegCheck"           : "#benRegCheck",
                "listBenCheck"          : "#listBenCheck",
                "wireTransferRequestCheck": "#wireTransferRequestCheck",
                "wireTransferAuthCheck" : "#wireTransferAuthCheck",

                "otherServicesCheck" : "#otherServicesCheck",
                "orderChecksCheck" : "#orderChecksCheck",
                "stopPaymentCheck" : "#stopPaymentCheck",

                "profManageCheck" : "#profManageCheck",
                "changePersonalInfo" : "#changePersonalInfo",
                "changeSecurityQCheck" : "#changeSecurityQCheck",
                "changePassCheck" : "#changePassCheck",
                "remindersCheck" : "#remindersCheck",
                "alertsCheck" : "#alertsCheck",

                "adminToolsCheck" : "#adminToolsCheck",
                "bankMailCheck" : "#bankMailCheck",
                "sessionReportCheck" : "#sessionReportCheck",

                "userManagementCheck" : "#userManagementCheck",
                "usersCheck" : "#usersCheck",
                "createNewUserCheck" : "#createNewUserCheck",

                "calculatorsCheck" : "#calculatorsCheck",
                "loanCheck" : "#loanCheck",
                "savingsCheck" : "#savingsCheck",
                "bondsCheck" : "#bondsCheck",

                //---------------------------------------------------------
                //"cashManagementDualControl" : "#cashManagementDualControl",
                "fundsTransferLimitPTrans" : "#fundsTransferLimitPTrans",
                "fundsTransferLimitPDay" : "#fundsTransferLimitPDay",

                "wireTransferLimitPTrans" : "#wireTransferLimitPTrans",
                "wireTransferLimitPDay" : "#wireTransferLimitPDay",
                "restrictWireRecEdit" : "#restrictWireRecEdit",

                "achDebitLimitPTrans" : "#achDebitLimitPTrans",
                "achDebitLimitPDay" : "#achDebitLimitPDay",
                "achCreditLimitPTrans" : "#achCreditLimitPTrans",
                "achCreditLimitPDay" : "#achCreditLimitPDay",
                "restrictEffDate" : "#restrictEffDate",

                "cardHeader" : ".card-header-icon-div"
            },

            behaviors: {
                ToggleHeaderBehavior:{
                    fieldSelector  : ".card-header-icon-div"
                }
            },

            events:{
                //--  Access to Pages checkbox
                "change #accountsCheck"             : "checkAllAccs",
                "click .accsCheckboxes"             : "checkHeadAccs",
                "change #paymentsCheck"             : "checkAllPays",
                "click .paymentCheckboxes"          : "checkHeadPays",
                "change #payWireTransferCheck"      : "checkAllPayWire",
                "click .payWireCheckboxes"          : "checkHeadPayWire",
                "change #achTransferCheck"          : "checkAllAch",
                "click .achCheckboxes"              : "checkHeadAch",
                "change #wireTransferCheck"         : "checkAllWire",
                "click .wireCheckboxes"             : "checkHeadWire",
                "change #businessServicesCheck"     : "checkAllBusService",
                "click .busServiceCheckboxes"       : "checkHeadBusService",
                "change #otherServicesCheck"        : "checkAllOtherServices",
                "click .otherServicesCheckboxes"    : "checkHeadOtherServices",
                "change #profManageCheck"           : "checkAllProfManage",
                "click .profManageCheckboxes"       : "checkHeadProfManage",

                "change #adminToolsCheck"           : "checkAllAdminTools",
                "click .adminToolsCheckboxes"       : "checkHeadAdminTools",
                "change #userManagementCheck"       : "checkAllUserMang",
                "click .userMangCheckboxes"         : "checkHeadUserMang",

                "change #calculatorsCheck"          : "checkAllCalc",
                "click .calcCheckboxes"             : "checkHeadCalc",
                //---------

                "click #saveAccounts" : "saveAccounts",
                "click #savePages" : "savePages",
                "submit #editTransferLimitsForm" : "saveTransLimits",
                "submit #securityQuestionsForm" : "saveSecurityQ",

                "click #cancelAccounts" : "populateAccs",
                "click #cancelPages" : "populatePages",
                "click #cancelTransLimits" : "populateLimits",
                "click #cancelSecurityQ" : "populateQuestions"

            },

            onShow: function(){
                this.ui.userIdHeader.html(dConfig.userInfo.supervisor_userName);
                this.initValidators();
                this.renderAccounts();
                this.getSecurityQs();
            },
            initValidators: function(){

                $('#editTransferLimitsForm')
                    .formValidation(ValidatorOpt.editUserTransLimits)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });

                $('#securityQuestionsForm')
                    .formValidation(ValidatorOpt.changeSecurityQ)
                    .on('success.form.fv', function(e) {
                        // Prevent form submission
                        e.preventDefault();
                        return false;
                    });
            },

            renderAccounts: function(){

                function isAccLoanCD(acc, accNo){
                    if(acc == "CD" || acc == "REAL_ESTATE_LOAN" || acc == "INSTALLMENT_LOAN" || acc == "COMMERCIAL_LOAN" || acc == "CONSTRUCTION_LOAN" || acc == "USER_DEFINED_LOAN"){
                        return "";
                    }else{
                        return ("<input class='transferCheckBox' type='checkbox' data-id='"+accNo+"'>");
                    }
                }

                var accData = [];
                var accs = dConfig.customerAccounts;
                for(var i = 0; i < accs.length; i++) {
                    accData.push({
                        '0': "",
                        '1': "<input class='accessCheckBox' type='checkbox' data-id='"+accs[i].accountNo+"'>",
                        '2': isAccLoanCD(accs[i].accountType, accs[i].accountNo),
                        '3': Utils.maskAccount(accs[i].accountNo),
                        '4': accs[i].productName,
                        '5': (dConfig.userInfo.customerType == "Personal")? dConfig.userInfo.fullName:dConfig.userInfo.organizationName
                    });
                }
                $('#accountsTable').dataTable({
                    "aaData" : accData,
                    "bDestroy" : true,
                    "order": [[ 5, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all"
                        },
                        {"sClass": "all text-center" },
                        {"sClass": "all text-center" },
                        {"sClass": "all" },
                        {"sClass": "desktop tablet-l" },
                        {"sClass": "desktop tablet-l" }
                    ]
                });
            },

            getSecurityQs: function(){
                var securityQModel = Models.getSecurityQuestionsModel();
                securityQModel.processRequest();
            },
            renderSecurityQuestions: function(response){
                this.qListOne = response.secretQuestions.secretQuestionsSet1;
                this.qListTwo = response.secretQuestions.secretQuestionsSet2;
                this.qListThree = response.secretQuestions.secretQuestionsSet3;

                for(var i = 0; i < this.qListOne.length; i++){
                    this.ui.qOne.append($("<option>",{
                        value : this.qListOne[i].SNo,
                        text : this.qListOne[i].Question
                    }));
                }
                for(var j = 0; j < this.qListTwo.length; j++){
                    this.ui.qTwo.append($("<option>",{
                        value : this.qListTwo[j].SNo,
                        text : this.qListTwo[j].Question
                    }));
                }
                for(var k = 0; k < this.qListThree.length; k++){
                    this.ui.qThree.append($("<option>",{
                        value : this.qListThree[k].SNo,
                        text : this.qListThree[k].Question
                    }));
                }
                this.populateEditData();
            },

            populateEditData: function(){
                this.editData = dConfig.userInfo.supervisor_editData.privilege;

                this.populateAccs();
                this.populatePages();
                this.populateLimits();
                this.populateQuestions();
                this.scrollToType();
            },
            populateAccs:function(){
                var Accs = this.editData.access;
                $("input.accessCheckBox").prop("checked", false);
                $("input.transferCheckBox").prop("checked", false);

                var accAccess = Accs.accountsAccess;
                var accTransferAccess = Accs.accountsTransferAccess;

                for(var i = 0; i < accAccess.length; i++){
                    $("input.accessCheckBox[data-id='"+accAccess[i].accountNo+"']").prop("checked", true);
                }

                for(var j = 0; j < accTransferAccess.length; j++){
                    $("input.transferCheckBox[data-id='"+accTransferAccess[j].accountNo+"']").prop("checked", true);
                }
            },
            populatePages:function(){
                var pageAccess = this.editData.userViews;
                var accsPage = pageAccess.Accounts;

                var payPage = pageAccess.Payments;
                var payWireTransfer = pageAccess.PaymentsWireTransfer;
                var achPage = pageAccess.BusinessServicesACH;
                var wirePage = pageAccess.BusinessServicesWireTransfer;
                var businessServices = pageAccess.BusinessServices;
                var otherServicesPage = pageAccess.OtherServices;
                var profManagePage = pageAccess.ProfileManagement;
                var adminToolsPage = pageAccess.AdministrativeTools;
                var userMangPage = pageAccess.AdministrativeToolsUserManagement;
                var calcPage = pageAccess.Calculators;

                this.ui.accountsCheck.prop("checked", (accsPage.Overview && accsPage.DetailsHistory && accsPage.Statements));
                this.ui.accOverviewCheck.prop("checked", accsPage.Overview);
                this.ui.accDetailsHistoryCheck.prop("checked", accsPage.DetailsHistory);
                this.ui.statementCheck.prop("checked", accsPage.Statements);
                //-------

                this.ui.fundsTransferCheck.prop("checked", payPage.FundsTransfer);
                //this.ui.pendingTransferCheck.prop("checked", payPage.PendingTransfer);
                this.ui.billPayCheck.prop("checked", payPage.BillPay);
                var payWireCheck = (payWireTransfer.RegisterBeneficiary && payWireTransfer.ListBeneficiary &&
                payWireTransfer.WireTransferRequest && payWireTransfer.WireTransferAuthorization);
                this.ui.payWireTransferCheck.prop("checked", payWireCheck);

                this.ui.paymentsCheck.prop("checked", (payPage.FundsTransfer && payPage.BillPay && payWireCheck));
                //-------

                var busService = (businessServices.PositivePay && businessServices.BillPay);
                this.ui.positivePayCheck.prop("checked", businessServices.BillPay);
                this.ui.businessBillPayCheck.prop("checked", businessServices.PositivePay);

                var achCheck = ( achPage.ACHBatchSummary && achPage.CreateNewBatch && achPage.ACHRecipients &&
                achPage.ACHBatchAuthorization && achPage.ACHFileImport && achPage.ACHFileImportAuthorization);
                this.ui.achTransferCheck.prop("checked", achCheck);
                this.ui.achBatchSummaryCheck.prop("checked", achPage.ACHBatchSummary);
                this.ui.createNewBatchCheck.prop("checked", achPage.CreateNewBatch);
                this.ui.achRecipientsCheck.prop("checked", achPage.ACHRecipients);
                this.ui.achAddNewRecipientsCheck.prop("checked", achPage.ACHAddNewRecipients);
                this.ui.achBatchAuthCheck.prop("checked", achPage.ACHBatchAuthorization);
                this.ui.achFileImportCheck.prop("checked", achPage.ACHFileImport);
                this.ui.achImportAuthCheck.prop("checked", achPage.ACHFileImportAuthorization);

                var wireCheck = (wirePage.RegisterBeneficiary && wirePage.ListBeneficiary &&
                wirePage.WireTransferRequest && wirePage.WireTransferAuthorization);
                this.ui.wireTransferCheck.prop("checked", wireCheck);
                this.ui.benRegCheck.prop("checked", wirePage.RegisterBeneficiary);
                this.ui.listBenCheck.prop("checked", wirePage.ListBeneficiary);
                this.ui.wireTransferRequestCheck.prop("checked", wirePage.WireTransferRequest);
                this.ui.wireTransferAuthCheck.prop("checked", wirePage.WireTransferAuthorization);

                this.ui.businessServicesCheck.prop("checked", ( wireCheck && achCheck && busService ));
                //-------------

                var otherServices = ( otherServicesPage.OrderChecks && otherServicesPage.StopPayments );
                this.ui.otherServicesCheck.prop("checked", otherServices);
                this.ui.orderChecksCheck.prop("checked", otherServicesPage.OrderChecks);
                this.ui.stopPaymentCheck.prop("checked", otherServicesPage.StopPayments);

                var profManage = ( profManagePage.ChangePersonalInfo && profManagePage.ChangeSecurityQuestion &&
                profManagePage.ChangePassword && profManagePage.Reminders && profManagePage.Alerts );
                this.ui.profManageCheck.prop("checked", profManage);
                this.ui.changePersonalInfo.prop("checked", profManagePage.ChangePersonalInfo);
                this.ui.changeSecurityQCheck.prop("checked", profManagePage.ChangeSecurityQuestion);
                this.ui.changePassCheck.prop("checked", profManagePage.ChangePassword);
                this.ui.remindersCheck.prop("checked", profManagePage.Reminders);
                this.ui.alertsCheck.prop("checked", profManagePage.Alerts);

                var adminTools = (adminToolsPage.BankMail && adminToolsPage.SessionsReport);
                this.ui.bankMailCheck.prop("checked", adminToolsPage.BankMail);
                this.ui.sessionReportCheck.prop("checked", adminToolsPage.SessionsReport);
                var userManage = (userMangPage.Users && userMangPage.CreateNewUsers);
                this.ui.userManagementCheck.prop("checked", userManage);
                this.ui.usersCheck.prop("checked", userMangPage.Users);
                this.ui.createNewUserCheck.prop("checked", userMangPage.CreateNewUsers);
                this.ui.adminToolsCheck.prop("checked", ( adminTools && userManage));

                this.ui.calculatorsCheck.prop("checked", (calcPage.Loan && calcPage.Savings && calcPage.Bond));
                this.ui.loanCheck.prop("checked", calcPage.Loan);
                this.ui.savingsCheck.prop("checked", calcPage.Savings);
                this.ui.bondsCheck.prop("checked", calcPage.Bond);
            },
            populateLimits:function(){
                var limits = this.editData.limits;

                var achLimits = limits.achLimits;
                var fundsLimits = limits.fundsLimits;
                var wireLimits = limits.wireLimits;

                this.ui.fundsTransferLimitPTrans.val(fundsLimits.fundsLimitPerTranc);
                this.ui.fundsTransferLimitPDay.val(fundsLimits.fundsLimitPerDay);

                this.ui.achCreditLimitPTrans.val(achLimits.achCreditLimitPerTranc);
                this.ui.achCreditLimitPDay.val(achLimits.achCreditLimitPerDay);
                this.ui.achDebitLimitPTrans.val(achLimits.achDebitLimitPerTranc);
                this.ui.achDebitLimitPDay.val(achLimits.achDebitLimitPerDay);
                (achLimits.restrictEdit)? this.ui.restrictEffDate.prop("checked", true) : this.ui.restrictEffDate.prop("checked", false);

                this.ui.wireTransferLimitPTrans.val(wireLimits.wireLimitPerTranc);
                this.ui.wireTransferLimitPDay.val(wireLimits.wireLimitPerDay);
                (wireLimits.restrictEdit)? this.ui.restrictWireRecEdit.prop("checked", true) : this.ui.restrictWireRecEdit.prop("checked", false);
            },
            populateQuestions:function(){
                var status = dConfig.userInfo.supervisor_editData.status;
                if(status == "Not Enrolled"){
                    $("#securityQRow").hide();
                    return;
                }else{
                    $("#securityQRow").show();
                }
                var qAnswersSet = dConfig.userInfo.supervisor_editData.securityQuestion;

                for (var i = 0; i < qAnswersSet.length; i++) {
                    if (_.where(this.qListOne, {SNo: qAnswersSet[i].questionId}).length > 0) {
                        this.ui.qOne.val(qAnswersSet[i].questionId);
                        continue;
                    }
                    if (_.where(this.qListTwo, {SNo: qAnswersSet[i].questionId}).length > 0) {
                        this.ui.qTwo.val(qAnswersSet[i].questionId);
                        continue;
                    }
                    if (_.where(this.qListThree, {SNo: qAnswersSet[i].questionId}).length > 0) {
                        this.ui.qThree.val(qAnswersSet[i].questionId);
                    }
                }
                this.enableSelectPlugin();
            },
            enableSelectPlugin: function(){
                $('.selectpicker').selectpicker({
                    style: 'btn-default',
                    size : false
                });
            },

            scrollToType: function(){
                var elem = "";
                switch (dConfig.userInfo.supervisor_editType){
                    case 'accounts' : elem = "#accessToAccountsRow";
                        break;
                    case 'pages' : elem = "#accessToPagesRow";
                        break;
                    case 'limits' : elem = "#transactionLimitsRow";
                        break;
                    case 'questions' : elem = "#securityQRow";
                        break;
                    default : elem = "html";
                        break;
                }

                $("html, body").animate({
                    scrollTop: $(elem).offset().top-70
                }, 1000);
            },

            saveAccounts: function(){
                var accs = dConfig.customerAccounts;
                var userAccAccess = [], userTransAccess = [];
                for(var i = 0; i < accs.length; i++){
                    if($("input.accessCheckBox[data-id='"+accs[i].accountNo+"']").is(":checked")){
                        userAccAccess.push({
                            accountNo : accs[i].accountNo,
                            accountType : accs[i].accountType,
                            bankId : accs[i].bankId,
                            branchName : accs[i].branchName
                        });
                    }
                    if($("input.transferCheckBox[data-id='"+accs[i].accountNo+"']").is(":checked")){
                        userTransAccess.push({
                            accountNo : accs[i].accountNo,
                            accountType : accs[i].accountType,
                            bankId : accs[i].bankId,
                            branchName : accs[i].branchName
                        });
                    }
                }
                var model = Models.getEditAccessToAccModel({
                    "listedUserId" : dConfig.userInfo.supervisor_userId,
                    "accountAccess" : {
                        "accountsAccess" : userAccAccess,
                        "accountsTransferAccess" : userTransAccess
                    }
                });
                model.processRequest();
            },

            savePages: function(){
                var model = Models.getEditAccessToPagesModel({
                    "listedUserId" : dConfig.userInfo.supervisor_userId,
                    "userViewAccess" : {
                        "Accounts": {
                            "Overview": this.ui.accOverviewCheck.is(":checked"),
                            "DetailsHistory": this.ui.accDetailsHistoryCheck.is(":checked"),
                            "Statements": this.ui.statementCheck.is(":checked")
                        },
                        "Payments": {
                            "FundsTransfer": this.ui.fundsTransferCheck.is(":checked"),
                            //"PendingTransfer": this.ui.pendingTransferCheck.is(":checked"),
                            "BillPay": this.ui.billPayCheck.is(":checked")
                        },
                        "PaymentsWireTransfer": {
                            "RegisterBeneficiary": this.ui.payBenRegCheck.is(":checked"),
                            "ListBeneficiary": this.ui.payListBenCheck.is(":checked"),
                            "WireTransferRequest": this.ui.payWireTransferRequestCheck.is(":checked"),
                            "WireTransferAuthorization": this.ui.payWireTransferAuthCheck.is(":checked")
                        },
                        "BusinessServices": {
                            "PositivePay": this.ui.positivePayCheck.is(":checked"),
                            "BillPay": this.ui.businessBillPayCheck.is(":checked")
                        },
                        "BusinessServicesACH": {
                            "ACHBatchSummary": this.ui.achBatchSummaryCheck.is(":checked"),
                            "CreateNewBatch": this.ui.createNewBatchCheck.is(":checked"),
                            "ACHRecipients": this.ui.achRecipientsCheck.is(":checked"),
                            "ACHAddNewRecipients": this.ui.achAddNewRecipientsCheck.is(":checked"),
                            "ACHBatchAuthorization": this.ui.achBatchAuthCheck.is(":checked"),
                            "ACHFileImport": this.ui.achFileImportCheck.is(":checked"),
                            "ACHFileImportAuthorization": this.ui.achImportAuthCheck.is(":checked")
                        },
                        "BusinessServicesWireTransfer": {
                            "RegisterBeneficiary": this.ui.benRegCheck.is(":checked"),
                            "ListBeneficiary": this.ui.listBenCheck.is(":checked"),
                            "WireTransferRequest": this.ui.wireTransferRequestCheck.is(":checked"),
                            "WireTransferAuthorization": this.ui.wireTransferAuthCheck.is(":checked")
                        },
                        "OtherServices": {
                            "OrderChecks": this.ui.orderChecksCheck.is(":checked"),
                            "StopPayments": this.ui.stopPaymentCheck.is(":checked")
                        },
                        "ProfileManagement": {
                            "ChangePersonalInfo": this.ui.changePersonalInfo.is(":checked"),
                            "ChangeSecurityQuestion": this.ui.changeSecurityQCheck.is(":checked"),
                            "ChangePassword": this.ui.changePassCheck.is(":checked"),
                            "Reminders": this.ui.remindersCheck.is(":checked"),
                            "Alerts": this.ui.alertsCheck.is(":checked")
                        },

                        "AdministrativeTools": {
                            "BankMail": this.ui.bankMailCheck.is(":checked"),
                            "SessionsReport": this.ui.sessionReportCheck.is(":checked")
                        },
                        "AdministrativeToolsUserManagement": {
                            "Users": this.ui.usersCheck.is(":checked"),
                            "CreateNewUsers": this.ui.createNewUserCheck.is(":checked")
                        },

                        "Calculators": {
                            "Loan": this.ui.loanCheck.is(":checked"),
                            "Savings": this.ui.savingsCheck.is(":checked"),
                            "Retirement": false,
                            "Bond": this.ui.bondsCheck.is(":checked")
                        }
                    }
                });
                model.processRequest();
            },

            saveTransLimits: function(event){
                if(!$("#editTransferLimitsForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getEditAccessToTransLimitsModel({
                    "listedUserId" : dConfig.userInfo.supervisor_userId,
                    "userLimits" : {
                        "achLimits" : {
                            "achCreditLimitPerTranc" : this.ui.achCreditLimitPTrans.val(),
                            "achCreditLimitPerDay" : this.ui.achCreditLimitPDay.val(),
                            "achDebitLimitPerTranc" : this.ui.achDebitLimitPTrans.val(),
                            "achDebitLimitPerDay" : this.ui.achDebitLimitPDay.val(),
                            "restrictEdit" : this.ui.restrictEffDate.is(":checked")
                        },
                        "fundsLimits" : {
                            "fundsLimitPerTranc" : this.ui.fundsTransferLimitPTrans.val(),
                            "fundsLimitPerDay" : this.ui.fundsTransferLimitPDay.val()
                        },
                        "wireLimits" : {
                            "wireLimitPerTranc" : this.ui.wireTransferLimitPTrans.val(),
                            "wireLimitPerDay" : this.ui.wireTransferLimitPDay.val(),
                            "restrictEdit" : this.ui.restrictWireRecEdit.is(":checked")
                        }
                    }
                });
                model.processRequest();
            },

            saveSecurityQ: function(event){
                if(!$("#securityQuestionsForm").data('formValidation').isValid()){
                    event.preventDefault();
                    return false;
                }

                var model = Models.getEditAccessToSecQModel({
                    "listedUserId" : dConfig.userInfo.supervisor_userId,
                    "securityQuestion" : [
                        {
                            "questionId" : this.ui.qOne.val(),
                            "question" : $("#qOne option:selected").text(),
                            "answer" : this.ui.aOne.val()
                        },
                        {
                            "questionId" : this.ui.qTwo.val(),
                            "question" : $("#qTwo option:selected").text(),
                            "answer" : this.ui.aTwo.val()
                        },
                        {
                            "questionId" : this.ui.qThree.val(),
                            "question" : $("#qThree option:selected").text(),
                            "answer" : this.ui.aThree.val()
                        }
                    ]
                });
                model.processRequest();
            },


            checkAllAccs: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".accsCheckboxes").prop("checked", true);
                }else{
                    $(".accsCheckboxes").prop("checked", false);
                }
            },
            checkHeadAccs: function(event){
                if($(".accsCheckboxes:checked").length == $(".accsCheckboxes").length){
                    $("#accountsCheck").prop("checked", true);
                }else{
                    $("#accountsCheck").prop("checked", false);
                }
            },
            checkAllPays: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".paymentCheckboxes").prop("checked", true);
                }else{
                    $(".paymentCheckboxes").prop("checked", false);
                }
            },
            checkHeadPays: function(event){
                if($(".paymentCheckboxes:checked").length == $(".paymentCheckboxes").length){
                    $("#paymentsCheck").prop("checked", true);
                }else{
                    $("#paymentsCheck").prop("checked", false);
                }

            },
            checkAllPayWire: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".payWireCheckboxes").prop("checked", true);
                }else{
                    $(".payWireCheckboxes").prop("checked", false);
                }
            },
            checkHeadPayWire: function(event){
                if($(".payWireCheckboxes:checked").length == $(".payWireCheckboxes").length){
                    $("#payWireTransferCheck").prop("checked", true);
                }else{
                    $("#payWireTransferCheck").prop("checked", false);
                }

            },
            checkAllBusService: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".busServiceCheckboxes").prop("checked", true);
                }else{
                    $(".busServiceCheckboxes").prop("checked", false);
                }
            },
            checkHeadBusService: function(event){
                if($(".busServiceCheckboxes:checked").length == $(".busServiceCheckboxes").length){
                    $("#businessServicesCheck").prop("checked", true);
                }else{
                    $("#businessServicesCheck").prop("checked", false);
                }

            },
            checkAllAch: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".achCheckboxes").prop("checked", true);
                }else{
                    $(".achCheckboxes").prop("checked", false);
                }
            },
            checkHeadAch: function(event){
                if($(".achCheckboxes:checked").length == $(".achCheckboxes").length){
                    $("#achTransferCheck").prop("checked", true);
                }else{
                    $("#achTransferCheck").prop("checked", false);
                }

            },
            checkAllWire: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".wireCheckboxes").prop("checked", true);
                }else{
                    $(".wireCheckboxes").prop("checked", false);
                }
            },
            checkHeadWire: function(event){
                if($(".wireCheckboxes:checked").length == $(".wireCheckboxes").length){
                    $("#wireTransferCheck").prop("checked", true);
                }else{
                    $("#wireTransferCheck").prop("checked", false);
                }
            },
            checkAllOtherServices: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".otherServicesCheckboxes").prop("checked", true);
                }else{
                    $(".otherServicesCheckboxes").prop("checked", false);
                }
            },
            checkHeadOtherServices: function(event){
                if($(".otherServicesCheckboxes:checked").length == $(".otherServicesCheckboxes").length){
                    $("#otherServicesCheck").prop("checked", true);
                }else{
                    $("#otherServicesCheck").prop("checked", false);
                }
            },
            checkAllProfManage: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".profManageCheckboxes").prop("checked", true);
                }else{
                    $(".profManageCheckboxes").prop("checked", false);
                }
            },
            checkHeadProfManage: function(event){
                if($(".profManageCheckboxes:checked").length == $(".profManageCheckboxes").length){
                    $("#profManageCheck").prop("checked", true);
                }else{
                    $("#profManageCheck").prop("checked", false);
                }
            },
            checkAllAdminTools: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".adminToolsCheckboxes").prop("checked", true);
                }else{
                    $(".adminToolsCheckboxes").prop("checked", false);
                }
            },
            checkHeadAdminTools: function(event){
                if($(".adminToolsCheckboxes:checked").length == $(".adminToolsCheckboxes").length){
                    $("#adminToolsCheck").prop("checked", true);
                }else{
                    $("#adminToolsCheck").prop("checked", false);
                }
            },
            checkAllUserMang: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".userMangCheckboxes").prop("checked", true);
                }else{
                    $(".userMangCheckboxes").prop("checked", false);
                }
            },
            checkHeadUserMang: function(event){
                if($(".userMangCheckboxes:checked").length == $(".userMangCheckboxes").length){
                    $("#userManagementCheck").prop("checked", true);
                }else{
                    $("#userManagementCheck").prop("checked", false);
                }
            },
            checkAllCalc: function(event){
                if($(event.currentTarget).is(":checked")){
                    $(".calcCheckboxes").prop("checked", true);
                }else{
                    $(".calcCheckboxes").prop("checked", false);
                }
            },
            checkHeadCalc: function(event){
                if($(".calcCheckboxes:checked").length == $(".calcCheckboxes").length){
                    $("#calculatorsCheck").prop("checked", true);
                }else{
                    $("#calculatorsCheck").prop("checked", false);
                }
            }
        });

        var getViewObj = function(){
            return (new EditUserView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/moment.js":60,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/global_config":69,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74,"../../../js/utils/validator_options":75}],141:[function(require,module,exports){
(function(){
    "use strict";

    module.exports = function(){

//----------------- Library Files ---------------------------------------------------------
        var $ = require('../../../js/lib/jquery');
        var _ = require('../../../js/lib/underscore');
        var Backbone = require('../../../js/lib/backbone');
        var Marionette = require('../../../js/lib/backbone.marionette.js');
        var UnderI18 = require('../../../js/lib/underi18n.js').underi18n;
//---------------------------------------------------------------------------
        var AppActivity = require('../../../js/app/app_activity');
        var Models = require("../../../js/models/models");
        var Utils = require("../../../js/utils/utils");
        var NotyMsg = require("../../../js/utils/noty_msg");
        var dConfig = require("../../../js/utils/default_config");
//---------------------------------------------------------------------------
        var tpl = require('../../../js/utils/tpl_loader');
        var tplName = require('../../../js/utils/tpl_names').templateViews;
        var langContent = require('../../../js/interLang/internationalization');

//--------------- UsersView  ------------------------------------------------------------

        var UsersView = Backbone.Marionette.ItemView.extend({

            initialize: function(){
                var l_en = UnderI18.MessageFactory(langContent.UsersView);
                this.template = _.template(UnderI18.template(tpl.getViewTemplate(tplName.UsersView), l_en) );
            },

            ui:{
                "deleteUserId" : "#deleteUserId"
            },

            events:{
                "click .editUser" : "editUser",
                "click .changeSecurityQ" : "editUser",
                "click .resetUser" : "resetUser",
                "click .deleteUser" : "deleteUser",
                "click #confirmUserDelete" : "confirmDeleteUser"
            },

            onShow: function(){
                this.getUserList();
            },

            getUserList: function(){
                var model = Models.getUserListModel();
                model.processRequest();
            },
            renderUsers: function(response){

                function isEnrolled(data){
                    if(data == "Not Enrolled"){
                        return "hiddenElem";
                    }else{
                        return "";
                    }
                }

                var usersListData = [];
                var list = response;
                this.batchList = response;
                for(var i = 0; i < list.length; i++) {
                    var firstCol = "<span class='text-primary pointerCursor editUser' data-id='"+list[i].userId+"' data-name='"+list[i].userName+"'>"+list[i].userName+"</span>";
                    var secondCol = list[i].customerName;
                    var thirdCol = list[i].status;
                    var fourthCol = "<button data-id='"+list[i].userId+"' class='btn btn-default resetUser'><span class='icon-resetuser'></span></button>" +
                        "<button data-id='"+list[i].userId+"' data-name='"+list[i].userName+"' data-edittype='questions' class=' "+isEnrolled(list[i].status)+" btn btn-default changeSecurityQ hidden-xs hidden-sm'><span class='icon-securityQns'></span></button>" +
                        "<button data-id='"+list[i].userId+"' data-name='"+list[i].userName+"' class='btn btn-default deleteUser'><span class='icon-delete'></span></button>" +
                        "<div class='dropdown displayInline hidden-xs hidden-sm'><span id='editUserExtra' data-id='"+list[i].userId+"' class='paddingLeft10 dropdown-toggle pointerCursor' data-toggle='dropdown'><span class='icon-more'></span></span>" +
                        "<ul class='dropdown-menu dropdown-menu-right' role='menu' aria-labelledby='editUserExtra'>" +
                        "<li><a href='javascript:void(0)' data-id='"+list[i].userId+"' data-name='"+list[i].userName+"' data-edittype='accounts' class='editUser pointerCursor'>Edit Access to Accounts</a></li>" +
                        "<li><a href='javascript:void(0)' data-id='"+list[i].userId+"' data-name='"+list[i].userName+"' data-edittype='pages' class='editUser pointerCursor'>Edit Access to Pages</a></li>" +
                        "<li><a href='javascript:void(0)' data-id='"+list[i].userId+"' data-name='"+list[i].userName+"' data-edittype='limits' class='editUser pointerCursor'>Edit Transaction Limits</a></li>" +
                        "</ul></div>";
                    usersListData.push({
                        '0': "",
                        '1': firstCol,
                        '2': secondCol,
                        '3': thirdCol,
                        '4': fourthCol
                    });
                }

                $('#usersTable').dataTable({
                    "aaData": usersListData,
                    "bDestroy" : true,
                    "order": [[ 1, "asc" ]],
                    "aoColumns": [
                        {
                            "bSortable": false,
                            "sClass": "all",
                            "sWidth" : "2%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "all",
                            "sWidth" : "25%"
                        },
                        {
                            "sClass": "desktop tablet-l",
                            "sWidth" : "20%"
                        },
                        {
                            "sClass": "desktop tablet-l text-center",
                            "sWidth" : "28%"
                        }
                    ]
                });
            },

            editUser: function(event){
                dConfig.userInfo.supervisor_userName = $(event.currentTarget).attr("data-name");
                dConfig.userInfo.supervisor_userId = $(event.currentTarget).attr("data-id");
                dConfig.userInfo.supervisor_editType = $(event.currentTarget).attr("data-edittype");
                dConfig.userInfo.supervisor_editData = "";
                for(var i = 0; i < this.batchList.length; i++) {
                    if(this.batchList[i].userId == dConfig.userInfo.supervisor_userId){
                        dConfig.userInfo.supervisor_editData = this.batchList[i];
                        break;
                    }
                }
                AppActivity.trigger("editUser");
            },

            resetUser: function(event){
                var model = Models.getResetUserModel({
                    "listedUserId" : $(event.currentTarget).attr("data-id")
                });
                model.processRequest();
            },
            deleteUser: function(event){
                this.deleteUserId = $(event.currentTarget).attr("data-id");
                this.ui.deleteUserId.html($(event.currentTarget).attr("data-name"));
                $("#confirmDeleteUserModal").modal("show");
            },
            confirmDeleteUser: function(event){
                var model = Models.getDeleteUserModel({
                    "listedUserId" : this.deleteUserId
                });
                model.processRequest();
            }


        });

        var getViewObj = function(){
            return (new UsersView());
        };

        return getViewObj;

    }();

})();

},{"../../../js/app/app_activity":1,"../../../js/interLang/internationalization":15,"../../../js/lib/backbone":17,"../../../js/lib/backbone.marionette.js":18,"../../../js/lib/jquery":57,"../../../js/lib/underi18n.js":63,"../../../js/lib/underscore":64,"../../../js/models/models":66,"../../../js/utils/default_config":68,"../../../js/utils/noty_msg":71,"../../../js/utils/tpl_loader":72,"../../../js/utils/tpl_names":73,"../../../js/utils/utils":74}]},{},[14])